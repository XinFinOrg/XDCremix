{"version":3,"sources":["../../../../libs/remix-astwalker/src/astWalker.ts","../../../../libs/remix-astwalker/src/index.ts","../../../../libs/remix-astwalker/src/sourceMappings.ts","../../../../libs/remix-debug/src/Ethdebugger.ts","../../../../../libs/remix-debug/src/cmdline/index.ts","../../../../../libs/remix-debug/src/code/breakpointManager.ts","../../../../../libs/remix-debug/src/code/codeManager.ts","../../../../../libs/remix-debug/src/code/codeResolver.ts","../../../../../libs/remix-debug/src/code/codeUtils.ts","../../../../../libs/remix-debug/src/code/opcodes.ts","../../../../../libs/remix-debug/src/debugger/VmDebugger.ts","../../../../../libs/remix-debug/src/debugger/debugger.ts","../../../../../libs/remix-debug/src/debugger/solidityLocals.ts","../../../../../libs/remix-debug/src/debugger/solidityState.ts","../../../../../libs/remix-debug/src/debugger/stepManager.ts","../../../../libs/remix-debug/src/eventManager.ts","../../../../libs/remix-debug/src/index.ts","../../../../libs/remix-debug/src/init.ts","../../../../../libs/remix-debug/src/solidity-decoder/astHelper.ts","../../../../../libs/remix-debug/src/solidity-decoder/decodeInfo.ts","../../../../../libs/remix-debug/src/solidity-decoder/index.ts","../../../../../libs/remix-debug/src/solidity-decoder/internalCallTree.ts","../../../../../libs/remix-debug/src/solidity-decoder/localDecoder.ts","../../../../../libs/remix-debug/src/solidity-decoder/solidityProxy.ts","../../../../../libs/remix-debug/src/solidity-decoder/stateDecoder.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Address.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/ArrayType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Bool.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/DynamicByteArray.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Enum.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/FixedByteArray.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Int.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Mapping.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/RefType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/StringType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Struct.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Uint.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/ValueType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/util.ts","../../../../../libs/remix-debug/src/source/sourceLocationTracker.ts","../../../../../libs/remix-debug/src/source/sourceMappingDecoder.ts","../../../../../libs/remix-debug/src/storage/mappingPreimages.ts","../../../../../libs/remix-debug/src/storage/storageResolver.ts","../../../../../libs/remix-debug/src/storage/storageViewer.ts","../../../../../libs/remix-debug/src/trace/traceAnalyser.ts","../../../../../libs/remix-debug/src/trace/traceCache.ts","../../../../../libs/remix-debug/src/trace/traceHelper.ts","../../../../../libs/remix-debug/src/trace/traceManager.ts","../../../../../libs/remix-debug/src/trace/traceStepManager.ts","../../../../libs/remix-lib/src/eventManager.ts","../../../../../libs/remix-lib/src/execution/eventsDecoder.ts","../../../../../libs/remix-lib/src/execution/forkAt.ts","../../../../../libs/remix-lib/src/execution/logsManager.ts","../../../../../libs/remix-lib/src/execution/txExecution.ts","../../../../../libs/remix-lib/src/execution/txFormat.ts","../../../../../libs/remix-lib/src/execution/txHelper.ts","../../../../../libs/remix-lib/src/execution/txListener.ts","../../../../../libs/remix-lib/src/execution/txRunner.ts","../../../../../libs/remix-lib/src/execution/txRunnerVM.ts","../../../../../libs/remix-lib/src/execution/txRunnerWeb3.ts","../../../../../libs/remix-lib/src/execution/typeConversion.ts","../../../../../libs/remix-lib/src/helpers/compilerHelper.ts","../../../../../libs/remix-lib/src/helpers/hhconsoleSigs.ts","../../../../../libs/remix-lib/src/helpers/txResultHelper.ts","../../../../../libs/remix-lib/src/helpers/uiHelper.ts","../../../../libs/remix-lib/src/index.ts","../../../../libs/remix-lib/src/init.ts","../../../../libs/remix-lib/src/storage.ts","../../../../libs/remix-lib/src/util.ts","../../../../../libs/remix-lib/src/web3Provider/dummyProvider.ts","../../../../../libs/remix-lib/src/web3Provider/web3Providers.ts","../../../../../libs/remix-lib/src/web3Provider/web3VmProvider.ts","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/clipboard/src/index.ts","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/clipboard/src/lib/copy-to-clipboard/copy-to-clipboard.css?6211","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/clipboard/src/lib/copy-to-clipboard/copy-to-clipboard.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/index.ts","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/button-navigator/button-navigator.css?3573","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/button-navigator/button-navigator.tsx","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/debugger-ui.css?04f5","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/debugger-ui.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/slider/slider.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/step-manager/step-manager.tsx","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/tx-browser/tx-browser.css?af4a","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/tx-browser/tx-browser.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/assembly-items.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/calldata-panel.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/callstack-panel.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/code-list-view.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/dropdown-panel.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/full-storages-changes.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/function-panel.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/global-variables.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/memory-panel.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/solidity-locals.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/solidity-state.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/stack-panel.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/step-detail.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/storage-panel.tsx","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/assembly-items.css?7f13","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/dropdown-panel.css?5904","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/vm-debugger-head.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/vm-debugger.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/reducers/assembly-items.ts","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/reducers/calldata.ts","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/utils/solidityTypeFormatter.ts","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/index.ts","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/lib/modal-dialog-custom.css?3042","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/lib/modal-dialog-custom.tsx","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/lib/remix-ui-modal-dialog.css?a232","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/lib/remix-ui-modal-dialog.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/toaster/src/index.ts","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/toaster/src/lib/toaster.css?319d","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/toaster/src/lib/toaster.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/index.ts","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/lib/remix-ui-tree-view.css?159d","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/lib/remix-ui-tree-view.tsx","webpack:////Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/lib/tree-view-item/tree-view-item.css?3aa4","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/lib/tree-view-item/tree-view-item.tsx","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/clipboard/src/lib/copy-to-clipboard/copy-to-clipboard.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/button-navigator/button-navigator.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/debugger-ui.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/tx-browser/tx-browser.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/assembly-items.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/dropdown-panel.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/lib/modal-dialog-custom.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/modal-dialog/src/lib/remix-ui-modal-dialog.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/toaster/src/lib/toaster.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/lib/remix-ui-tree-view.css","/Users/anil/github/xinFinOrg/remix-ide/libs/remix-ui/tree-view/src/lib/tree-view-item/tree-view-item.css","(webpack)/buildin/global.js","/Users/anil/github/xinFinOrg/remix-ide/apps/remix-ide/src/lib/helper.js","./app/app.tsx","./app/debugger-api.ts","./app/debugger.ts","./main.tsx","buffer (ignored)","webpack:///util (ignored)?05a7","webpack:///util (ignored)?5fdf","webpack:///buffer (ignored)?10db","webpack:///buffer (ignored)?1c2b","webpack:///buffer (ignored)?300f","webpack:///buffer (ignored)?e70d","webpack:///buffer (ignored)?7c61","webpack:///buffer (ignored)?ca59","webpack:///buffer (ignored)?427e","webpack:///buffer (ignored)?7fe0","webpack:///buffer (ignored)?d0fc","./nextTick (ignored)","crypto (ignored)","util (ignored)","webpack:///util (ignored)?cd2b","webpack:///util (ignored)?6b8c","webpack:///util (ignored)?c5d9","webpack:///buffer (ignored)?eef0","webpack:///buffer (ignored)?46ba"],"names":["CopyToClipboard","props","content","tip","icon","direction","children","otherProps","message","setMessage","handleClick","e","JSON","stringify","console","error","preventDefault","reset","setTimeout","ButtonNavigation","stepOverBack","stepIntoBack","stepIntoForward","stepOverForward","jumpOut","jumpPreviousBreakpoint","jumpNextBreakpoint","jumpToException","revertedReason","stepState","jumpOutDisabled","state","setState","intoBackDisabled","overBackDisabled","intoForwardDisabled","overForwardDisabled","jumpNextBreakpointDisabled","jumpPreviousBreakpointDisabled","stepChanged","undefined","display","helper","require","_paq","window","DebuggerUI","debuggerModule","debuggerAPI","isActive","debugger","currentReceipt","contractAddress","to","currentBlock","currentTransaction","blockNumber","txNumber","debugging","opt","debugWithGeneratedSources","debugWithLocalNode","toastMessage","validationError","txNumberIsEmpty","isLocalNodeUsed","unLoad","onDebugRequested","hash","web3","debug","onRemoveHighlights","discardHighlight","setEditor","onBreakpointCleared","fileName","row","breakPointManager","remove","onBreakpointAdded","add","onEditorContentChanged","providerChanged","onEnvChanged","provider","prevState","listenToEvents","debuggerInstance","event","register","lineColumnPos","rawLocation","generatedSources","address","contracts","fetchContractAndCompile","path","getSourceName","file","source","id","name","getFile","log","contents","setFile","highlight","requestDebug","tx","startDebugging","updateTxNumberFlag","empty","unloadRequested","txIndex","unload","ready","vmDebugger","vmDebuggerHead","optWeb3","isValidHash","getDebugWeb3","networkId","eth","net","getId","push","getTransactionReceipt","getBlock","blockHash","getTransaction","Debugger","offsetToLineColumnConverter","compilationResult","ret","txHash","stepManager","jumpTo","step_manager","bind","traceLength","registerEvent","vmDebuggerLogic","triggerEvent","trigger","target","checked","Slider","sliderValue","currentValue","setValue","value","handleChange","parseInt","StepManager","revertWarning","setRevertWarning","updateStep","warning","step","TxBrowser","transactionNumber","inputValue","handleSubmit","txInputChanged","txInputOnInput","current","AssemblyItems","assemblyItems","dispatch","reducer","initialState","absoluteSelectedIndex","setAbsoluteSelectedIndex","selectedItem","setSelectedItem","nextSelectedItems","setNextSelectedItems","returnInstructionIndexes","setReturnInstructionIndexes","outOfGasInstructionIndexes","setOutOfGasInstructionIndexes","refs","asmItemsRef","code","index","nextIndexes","type","payload","clearItems","indexChanged","nextIndexesChanged","returnIndexes","outOfGasIndexes","opCodes","clearItem","currentItem","removeAttribute","firstChild","map","codeView","style","setProperty","setAttribute","scrollTop","offsetTop","indexes","item","i","ref","CalldataPanel","calldata","CallstackPanel","CodeListView","DropdownPanel","calldataObj","dropdownName","dropdownMessage","header","loading","extractFunc","formatSelfFunc","loadMoreEvent","loadMoreCompletedEvent","headStyle","bodyStyle","hexHighlight","extractDataDefault","parent","Array","key","self","isNode","isLeaf","Object","keys","formatSelfDefault","data","isHex","startsWith","regex","split","exec","replace","toggleDropdown","innerText","dropdownContent","title","copiableContent","updating","expandPath","updatedCalldata","update","setLoading","handleToggle","handleExpand","keyPath","includes","filter","isEmpty","isArray","length","constructor","renderData","child","hasNext","cursor","toString","uniquePanelName","join","innerkey","FullStoragesChanges","FunctionPanel","setCalldata","GlobalVariables","block","receipt","globals","chainId","miner","difficulty","gasLimit","number","timestamp","from","input","substring","baseFeePerGas","BN","fontFamily","MemoryPanel","SolidityLocals","formatSelf","color","isStruct","isMapping","indexOf","isProperty","whiteSpace","fontStyle","extractData","SolidityState","StackPanel","StepDetail","stepDetail","StoragePanel","VmDebuggerHead","functionPanel","setFunctionPanel","setStepDetail","gas","solidityState","setSolidityState","solidityLocals","setSolidityLocals","stack","functions","func","functionDefinition","inputs","addmem","remainingGas","VmDebugger","calldataPanel","setCalldataPanel","memoryPanel","setMemoryPanel","callStackPanel","setCallStackPanel","stackPanel","setStackPanel","storagePanel","setStoragePanel","returnValuesPanel","setReturnValuesPanel","fullStoragesChangesPanel","setFullStoragesChangesPanel","top","bottom","isRequesting","isSuccessful","hasError","reducedOpcode","slice","instructionIndex","action","reduced","Error","mergeLocals","locals1","locals2","lastIndexOf","unshift","ModalDialogCustom","ModalDialog","toggleBtn","modal","handleHide","focus","hide","handleBlur","currentTarget","contains","relatedTarget","stopPropagation","document","activeElement","testmode","addEventListener","removeEventListener","modalKeyEvent","keyCode","cancelFn","enterHandler","okFn","modalClass","showCancelIcon","okLabel","cancelLabel","Toaster","hiding","timeOutId","timeOut","showModal","shortTooltipText","closeTheToaster","showFullMessage","hideFullMessage","clearTimeout","handleMouseEnter","handleMouseLeave","alignSelf","TreeView","TreeViewItem","label","labelClass","expand","iconX","iconY","controlBehaviour","innerRef","isExpanded","setIsExpanded","visibility","async","ethJSUtil","module","exports","shortenAddress","etherBalance","len","addressToString","toChecksumAddress","shortenHexData","createNonClashingNameWithPrefix","fileProvider","prefix","cb","counter","ext","reg","exist","whilst","callback","exists","then","currentExist","createNonClashingName","createNonClashingNameAsync","fileManager","isDuplicate","createNonClashingDirNameAsync","checkSpecialChars","match","checkSlash","isHexadecimal","test","is0XPrefixed","substr","isNumeric","hexValue","removeTrailingSlashes","text","removeMultipleSlashes","find","getPathIcon","endsWith","joinPath","paths","extractNameFromKey","findDeep","object","fn","found","el","args","query","trim","isMatch","check","String","remix","DebuggerClientApi","App","DebuggerApiMixin","Base","initDebuggerApi","debugHash","web3Provider","sendAsync","call","result","catch","_web3","Web3","initialWeb3","remixDebug","init","extendWeb3","offsetToLineColumn","sources","asts","listener","onBreakpointClearedListener","onBreakpointAddedListener","onEditorContentChangedListener","onEnvChangedListener","onDebugRequestedListener","onRemoveHighlightsListener","traceHelper","isContractCreation","targetAddress","codeAtAddress","getCode","output","CompilerAbstract","languageversion","network","webDebugNode","web3DebugNode","getTrace","traceManager","onActivation","on","onDeactivation","off","showMessage","fileIndex","sourcesArray","PluginClient","ReactDOM","render","getElementById"],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AstWalker = exports.isYulAstNode = exports.isAstNode = void 0;\nconst events_1 = require(\"events\");\nconst isObject = function (obj) {\n    return obj != null && obj.constructor.name === 'Object';\n};\nfunction isAstNode(node) {\n    return (isObject(node) &&\n        'id' in node &&\n        'nodeType' in node &&\n        'src' in node);\n}\nexports.isAstNode = isAstNode;\nfunction isYulAstNode(node) {\n    return (isObject(node) &&\n        'nodeType' in node &&\n        'src' in node);\n}\nexports.isYulAstNode = isYulAstNode;\n/**\n * Crawl the given AST through the function walk(ast, callback)\n */\n/**\n * visit all the AST nodes\n *\n * @param {Object} ast  - AST node\n * @return EventEmitter\n * event('node', <Node Type | false>) will be fired for every node of type <Node Type>.\n * event('node', \"*\") will be fired for all other nodes.\n * in each case, if the event emits false it does not descend into children.\n * If no event for the current type, children are visited.\n */\n// eslint-disable-next-line no-redeclare\nclass AstWalker extends events_1.EventEmitter {\n    manageCallback(node, callback // eslint-disable-line @typescript-eslint/ban-types\n    ) {\n        // FIXME: we shouldn't be doing this callback determination type on each AST node,\n        // since the callback function is set once per walk.\n        // Better would be to store the right one as a variable and\n        // return that.\n        if (node) {\n            if ((node).name in callback) {\n                return callback[(node).name](node);\n            }\n            else {\n                return callback['*'](node);\n            }\n        }\n        if (node) {\n            if (node.nodeType in callback) {\n                /* istanbul ignore next */\n                return callback[node.nodeType](node);\n            }\n            else {\n                /* istanbul ignore next */\n                return callback['*'](node);\n            }\n        }\n    }\n    normalizeNodes(nodes) {\n        // Remove null, undefined and empty elements if any\n        nodes = nodes.filter(e => e);\n        // If any element in nodes is array, extract its members\n        const objNodes = [];\n        nodes.forEach(x => {\n            if (Array.isArray(x))\n                objNodes.push(...x);\n            else\n                objNodes.push(x);\n        });\n        // Filter duplicate nodes using id field\n        const normalizedNodes = [];\n        objNodes.forEach((element) => {\n            const firstIndex = normalizedNodes.findIndex(e => e.id === element.id);\n            if (firstIndex === -1)\n                normalizedNodes.push(element);\n        });\n        return normalizedNodes;\n    }\n    getASTNodeChildren(ast) {\n        var _a;\n        let nodes = ast.nodes || // for ContractDefinition\n            ast.body || // for FunctionDefinition, ModifierDefinition, WhileStatement, DoWhileStatement, ForStatement\n            ast.statements || // for Block, YulBlock\n            ast.members || // for StructDefinition, EnumDefinition\n            ast.overrides || // for OverrideSpecifier\n            ast.parameters || // for ParameterList, EventDefinition\n            ast.declarations || // for VariableDeclarationStatement\n            ast.expression || // for Return, ExpressionStatement, FunctionCall, FunctionCallOptions, MemberAccess\n            ast.components || // for TupleExpression\n            ast.subExpression || // for UnaryOperation\n            ast.eventCall || // for EmitStatement\n            [];\n        // If 'nodes' is not an array, convert it into one, for example: ast.body\n        if (nodes && !Array.isArray(nodes)) {\n            const tempArr = [];\n            tempArr.push(nodes);\n            nodes = tempArr;\n        }\n        // To break object referencing\n        nodes = [...nodes];\n        if (ast.nodes && ((_a = ast.baseContracts) === null || _a === void 0 ? void 0 : _a.length)) { // for ContractDefinition\n            nodes.push(...ast.baseContracts);\n        }\n        else if (ast.body && ast.overrides && ast.parameters && ast.returnParameters && ast.modifiers) { // for FunctionDefinition\n            nodes.push(ast.overrides);\n            nodes.push(ast.parameters);\n            nodes.push(ast.returnParameters);\n            nodes.push(ast.modifiers);\n        }\n        else if (ast.typeName) { // for VariableDeclaration, NewExpression, ElementaryTypeNameExpression\n            nodes.push(ast.typeName);\n        }\n        else if (ast.body && ast.overrides && ast.parameters) { // for ModifierDefinition\n            nodes.push(ast.overrides);\n            nodes.push(ast.parameters);\n        }\n        else if (ast.modifierName && ast.arguments) { // for ModifierInvocation\n            nodes.push(ast.modifierName);\n            nodes.push(ast.arguments);\n        }\n        else if (ast.parameterTypes && ast.returnParameterTypes) { // for ModifierInvocation\n            nodes.push(ast.parameterTypes);\n            nodes.push(ast.returnParameterTypes);\n        }\n        else if (ast.keyType && ast.valueType) { // for Mapping\n            nodes.push(ast.keyType);\n            nodes.push(ast.valueType);\n        }\n        else if (ast.baseType && ast.length) { // for ArrayTypeName\n            nodes.push(ast.baseType);\n            nodes.push(ast.length);\n        }\n        else if (ast.AST) { // for InlineAssembly\n            nodes.push(ast.AST);\n        }\n        else if (ast.condition && (ast.trueBody || ast.falseBody || ast.body)) { // for IfStatement, WhileStatement, DoWhileStatement\n            nodes.push(ast.condition);\n            nodes.push(ast.trueBody);\n            nodes.push(ast.falseBody);\n        }\n        else if (ast.parameters && ast.block) { // for TryCatchClause\n            nodes.push(ast.block);\n        }\n        else if (ast.externalCall && ast.clauses) { // for TryStatement\n            nodes.push(ast.externalCall);\n            nodes.push(ast.clauses);\n        }\n        else if (ast.body && ast.condition && ast.initializationExpression && ast.loopExpression) { // for ForStatement\n            nodes.push(ast.condition);\n            nodes.push(ast.initializationExpression);\n            nodes.push(ast.loopExpression);\n        }\n        else if (ast.declarations && ast.initialValue) { // for VariableDeclarationStatement\n            nodes.push(ast.initialValue);\n        }\n        else if (ast.condition && (ast.trueExpression || ast.falseExpression)) { // for Conditional\n            nodes.push(ast.condition);\n            nodes.push(ast.trueExpression);\n            nodes.push(ast.falseExpression);\n        }\n        else if (ast.leftHandSide && ast.rightHandSide) { // for Assignment\n            nodes.push(ast.leftHandSide);\n            nodes.push(ast.rightHandSide);\n        }\n        else if (ast.leftExpression && ast.rightExpression) { // for BinaryOperation\n            nodes.push(ast.leftExpression);\n            nodes.push(ast.rightExpression);\n        }\n        else if (ast.expression && (ast.arguments || ast.options)) { // for FunctionCall, FunctionCallOptions\n            nodes.push(ast.arguments ? ast.arguments : ast.options);\n        }\n        else if (ast.baseExpression && (ast.indexExpression || (ast.startExpression && ast.endExpression))) { // for IndexAccess, IndexRangeAccess\n            nodes.push(ast.baseExpression);\n            if (ast.indexExpression)\n                nodes.push(ast.indexExpression);\n            else {\n                nodes.push(ast.startExpression);\n                nodes.push(ast.endExpression);\n            }\n        }\n        return this.normalizeNodes(nodes);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/explicit-module-boundary-types\n    walk(ast, callback) {\n        if (ast) {\n            const children = this.getASTNodeChildren(ast);\n            if (callback) {\n                if (callback instanceof Function) {\n                    callback = Object({ '*': callback });\n                }\n                if (!('*' in callback)) {\n                    callback['*'] = function () {\n                        return true;\n                    };\n                }\n                if (this.manageCallback(ast, callback) && (children === null || children === void 0 ? void 0 : children.length)) {\n                    for (const k in children) {\n                        const child = children[k];\n                        this.walk(child, callback);\n                    }\n                }\n            }\n            else {\n                if (children === null || children === void 0 ? void 0 : children.length) {\n                    for (const k in children) {\n                        const child = children[k];\n                        this.emit('node', child);\n                        this.walk(child);\n                    }\n                }\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/explicit-module-boundary-types\n    walkFullInternal(ast, callback) {\n        if (isAstNode(ast) || isYulAstNode(ast)) {\n            // console.log(`XXX id ${ast.id}, nodeType: ${ast.nodeType}, src: ${ast.src}`);\n            callback(ast);\n            for (const k of Object.keys(ast)) {\n                // Possible optimization:\n                // if (k in ['id', 'src', 'nodeType']) continue;\n                const astItem = ast[k];\n                if (Array.isArray(astItem)) {\n                    for (const child of astItem) {\n                        if (child) {\n                            this.walkFullInternal(child, callback);\n                        }\n                    }\n                }\n                else {\n                    this.walkFullInternal(astItem, callback);\n                }\n            }\n        }\n    }\n    // Normalizes parameter callback and calls walkFullInternal\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    walkFull(ast, callback) {\n        if (isAstNode(ast) || isYulAstNode(ast))\n            return this.walkFullInternal(ast, callback);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/explicit-module-boundary-types\n    walkAstList(sourcesList, cb) {\n        if (cb) {\n            if (sourcesList.ast) {\n                this.walk(sourcesList.ast, cb);\n            }\n        }\n        else {\n            if (sourcesList.ast) {\n                this.walk(sourcesList.ast);\n            }\n        }\n    }\n}\nexports.AstWalker = AstWalker;\n//# sourceMappingURL=astWalker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\n(0, tslib_1.__exportStar)(require(\"./types\"), exports);\n(0, tslib_1.__exportStar)(require(\"./astWalker\"), exports);\n(0, tslib_1.__exportStar)(require(\"./sourceMappings\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SourceMappings = exports.sourceLocationFromSrc = exports.sourceLocationFromAstNode = exports.lineColPositionFromOffset = void 0;\nconst astWalker_1 = require(\"./astWalker\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * Turn an character offset into a \"LineColPosition\".\n *\n * @param offset  The character offset to convert.\n */\nfunction lineColPositionFromOffset(offset, lineBreaks) {\n    let line = remix_lib_1.util.findLowerBound(offset, lineBreaks);\n    if (lineBreaks[line] !== offset) {\n        line += 1;\n    }\n    const beginColumn = line === 0 ? 0 : (lineBreaks[line - 1] + 1);\n    return {\n        line: line + 1,\n        character: (offset - beginColumn) + 1\n    };\n}\nexports.lineColPositionFromOffset = lineColPositionFromOffset;\n/**\n * Turn a solc AST's \"src\" attribute string (s:l:f)\n * into a Location\n *\n * @param astNode  The object to convert.\n */\nfunction sourceLocationFromAstNode(astNode) {\n    if ((0, astWalker_1.isAstNode)(astNode) && (0, astWalker_1.isYulAstNode)(astNode) && astNode.src) {\n        return sourceLocationFromSrc(astNode.src);\n    }\n    return null;\n}\nexports.sourceLocationFromAstNode = sourceLocationFromAstNode;\n/**\n * Break out fields of solc AST's \"src\" attribute string (s:l:f)\n * into its \"start\", \"length\", and \"file index\" components\n * and return that as a Location\n *\n * @param src  A solc \"src\" field.\n * @returns {Location}\n */\nfunction sourceLocationFromSrc(src) {\n    const split = src.split(':');\n    return {\n        start: parseInt(split[0], 10),\n        length: parseInt(split[1], 10),\n        file: parseInt(split[2], 10)\n    };\n}\nexports.sourceLocationFromSrc = sourceLocationFromSrc;\n/**\n * Routines for retrieving solc AST object(s) using some criteria, usually\n * includng \"src' information.\n */\n// eslint-disable-next-line no-redeclare\nclass SourceMappings {\n    constructor(source) {\n        this.source = source;\n        // Create a list of line offsets which will be used to map between\n        // character offset and line/column positions.\n        const lineBreaks = [];\n        for (let pos = source.indexOf('\\n'); pos >= 0; pos = source.indexOf('\\n', pos + 1)) {\n            lineBreaks.push(pos);\n        }\n        this.lineBreaks = lineBreaks;\n    }\n    ;\n    /**\n     * Get a list of nodes that are at the given \"position\".\n     *\n     * @param astNodeType  Type of node to return or null.\n     * @param position     Character offset where AST node should be located.\n     */\n    nodesAtPosition(astNodeType, position, ast) {\n        const astWalker = new astWalker_1.AstWalker();\n        const found = [];\n        const callback = function (node) {\n            const nodeLocation = sourceLocationFromAstNode(node);\n            if (nodeLocation &&\n                nodeLocation.start === position.start &&\n                nodeLocation.length === position.length) {\n                if (!astNodeType || astNodeType === node.nodeType) {\n                    found.push(node);\n                }\n            }\n            return true;\n        };\n        astWalker.walkFull(ast, callback);\n        return found;\n    }\n    /**\n     * Retrieve the first \"astNodeType\" that includes the source map at arg instIndex, or \"null\" if none found.\n     *\n     * @param astNodeType   nodeType that a found ASTNode must be. Use \"null\" if any ASTNode can match.\n     * @param sourceLocation \"src\" location that the AST node must match.\n     */\n    findNodeAtSourceLocation(astNodeType, sourceLocation, ast) {\n        const astWalker = new astWalker_1.AstWalker();\n        let found = null;\n        /* FIXME: Looking at AST walker code,\n           I don't understand a need to return a boolean. */\n        const callback = function (node) {\n            const nodeLocation = sourceLocationFromAstNode(node);\n            if (nodeLocation &&\n                nodeLocation.start === sourceLocation.start &&\n                nodeLocation.length === sourceLocation.length) {\n                if (astNodeType === undefined || astNodeType === node.nodeType) {\n                    found = node;\n                }\n            }\n            return true;\n        };\n        astWalker.walkFull(ast, callback);\n        return found;\n    }\n    /**\n     * Retrieve the line/column range position for the given source-mapping string.\n     *\n     * @param src  Solc \"src\" object containing attributes {source} and {length}.\n     */\n    srcToLineColumnRange(src) {\n        const sourceLocation = sourceLocationFromSrc(src);\n        if (sourceLocation.start >= 0 && sourceLocation.length >= 0) {\n            return {\n                start: lineColPositionFromOffset(sourceLocation.start, this.lineBreaks),\n                end: lineColPositionFromOffset(sourceLocation.start + sourceLocation.length, this.lineBreaks)\n            };\n        }\n        else {\n            return {\n                start: null,\n                end: null\n            };\n        }\n    }\n}\nexports.SourceMappings = SourceMappings;\n//# sourceMappingURL=sourceMappings.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ethdebugger = void 0;\nconst tslib_1 = require(\"tslib\");\nconst storageViewer_1 = require(\"./storage/storageViewer\");\nconst storageResolver_1 = require(\"./storage/storageResolver\");\nconst traceManager_1 = require(\"./trace/traceManager\");\nconst codeManager_1 = require(\"./code/codeManager\");\nconst traceHelper_1 = require(\"./trace/traceHelper\");\nconst eventManager_1 = require(\"./eventManager\");\nconst solidity_decoder_1 = require(\"./solidity-decoder\");\n/**\n  * Ethdebugger is a wrapper around a few classes that helps debugging a transaction\n  *\n  * - Web3Providers - define which environment (web3) the transaction will be retrieved from\n  * - TraceManager - Load / Analyze the trace and retrieve details of specific test\n  * - CodeManager - Retrieve loaded byte code and help to resolve AST item from vmtrace index\n  * - SolidityProxy - Basically used to extract state variable from AST\n  * - Breakpoint Manager - Used to add / remove / jumpto breakpoint\n  * - InternalCallTree - Used to retrieved local variables\n  * - StorageResolver - Help resolving the storage accross different steps\n  *\n  * @param {Map} opts  -  { function compilationResult } //\n  */\nclass Ethdebugger {\n    constructor(opts) {\n        this.compilationResult = opts.compilationResult || function (contractAddress) { return null; };\n        this.web3 = opts.web3;\n        this.opts = opts;\n        this.event = new eventManager_1.EventManager();\n        this.traceManager = new traceManager_1.TraceManager({ web3: this.web3 });\n        this.codeManager = new codeManager_1.CodeManager(this.traceManager);\n        this.solidityProxy = new solidity_decoder_1.SolidityProxy({ getCurrentCalledAddressAt: this.traceManager.getCurrentCalledAddressAt.bind(this.traceManager), getCode: this.codeManager.getCode.bind(this.codeManager) });\n        this.storageResolver = null;\n        const includeLocalVariables = true;\n        this.callTree = new solidity_decoder_1.InternalCallTree(this.event, this.traceManager, this.solidityProxy, this.codeManager, Object.assign(Object.assign({}, opts), { includeLocalVariables }));\n    }\n    setManagers() {\n        this.traceManager = new traceManager_1.TraceManager({ web3: this.web3 });\n        this.codeManager = new codeManager_1.CodeManager(this.traceManager);\n        this.solidityProxy = new solidity_decoder_1.SolidityProxy({ getCurrentCalledAddressAt: this.traceManager.getCurrentCalledAddressAt.bind(this.traceManager), getCode: this.codeManager.getCode.bind(this.codeManager) });\n        this.storageResolver = null;\n        const includeLocalVariables = true;\n        this.callTree = new solidity_decoder_1.InternalCallTree(this.event, this.traceManager, this.solidityProxy, this.codeManager, Object.assign(Object.assign({}, this.opts), { includeLocalVariables }));\n        this.event.trigger('managersChanged');\n    }\n    resolveStep(index) {\n        this.codeManager.resolveStep(index, this.tx);\n    }\n    setCompilationResult(compilationResult) {\n        this.solidityProxy.reset((compilationResult && compilationResult.data) || {});\n    }\n    sourceLocationFromVMTraceIndex(address, stepIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.callTree.sourceLocationTracker.getSourceLocationFromVMTraceIndex(address, stepIndex, this.solidityProxy.contracts);\n        });\n    }\n    getValidSourceLocationFromVMTraceIndex(address, stepIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.callTree.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, stepIndex, this.solidityProxy.contracts);\n        });\n    }\n    sourceLocationFromInstructionIndex(address, instIndex, callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.callTree.sourceLocationTracker.getSourceLocationFromInstructionIndex(address, instIndex, this.solidityProxy.contracts);\n        });\n    }\n    /* breakpoint */\n    setBreakpointManager(breakpointManager) {\n        this.breakpointManager = breakpointManager;\n    }\n    /* decode locals */\n    extractLocalsAt(step) {\n        return this.callTree.findScope(step);\n    }\n    decodeLocalsAt(step, sourceLocation, callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                const stack = this.traceManager.getStackAt(step);\n                const memory = this.traceManager.getMemoryAt(step);\n                let address = this.traceManager.getCurrentCalledAddressAt(step);\n                address = 'xdc' + address.substring(2);\n                const calldata = this.traceManager.getCallDataAt(step);\n                try {\n                    const storageViewer = new storageViewer_1.StorageViewer({ stepIndex: step, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n                    const locals = yield solidity_decoder_1.localDecoder.solidityLocals(step, this.callTree, stack, memory, storageViewer, calldata, sourceLocation, null);\n                    if (locals['error']) {\n                        return callback(locals['error']);\n                    }\n                    return callback(null, locals);\n                }\n                catch (e) {\n                    callback(e.message);\n                }\n            }\n            catch (error) {\n                callback(error);\n            }\n        });\n    }\n    /* decode state */\n    extractStateAt(step) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.solidityProxy.extractStateVariablesAt(step);\n        });\n    }\n    decodeStateAt(step, stateVars, callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                let address = this.traceManager.getCurrentCalledAddressAt(step);\n                address = 'xdc' + address.substring(2);\n                const storageViewer = new storageViewer_1.StorageViewer({ stepIndex: step, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n                const result = yield solidity_decoder_1.stateDecoder.decodeState(stateVars, storageViewer);\n                return result;\n            }\n            catch (error) {\n                callback(error);\n            }\n        });\n    }\n    storageViewAt(step, address) {\n        return new storageViewer_1.StorageViewer({ stepIndex: step, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n    }\n    updateWeb3(web3) {\n        this.web3 = web3;\n        this.setManagers();\n    }\n    unLoad() {\n        this.traceManager.init();\n        this.codeManager.clear();\n        this.event.trigger('traceUnloaded');\n    }\n    debug(tx) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this.traceManager.isLoading) {\n                return;\n            }\n            tx.to = tx.to || (0, traceHelper_1.contractCreationToken)('0');\n            this.tx = tx;\n            yield this.traceManager.resolveTrace(tx);\n            this.setCompilationResult(yield this.compilationResult(tx.to));\n            this.event.trigger('newTraceLoaded', [this.traceManager.trace]);\n            if (this.breakpointManager && this.breakpointManager.hasBreakpoint()) {\n                this.breakpointManager.jumpNextBreakpoint(false);\n            }\n            this.storageResolver = new storageResolver_1.StorageResolver({ web3: this.traceManager.web3 });\n        });\n    }\n}\nexports.Ethdebugger = Ethdebugger;\n//# sourceMappingURL=Ethdebugger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CmdLine = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst debugger_js_1 = require(\"../debugger/debugger.js\");\nconst events_1 = require(\"events\");\nclass CmdLine {\n    constructor() {\n        this.events = new events_1.EventEmitter();\n        this.lineColumnPos = null;\n        this.rawLocation = null;\n    }\n    connect(providerType, url) {\n        if (providerType !== 'http')\n            throw new Error('unsupported provider type');\n        this.web3 = new web3_1.default(new web3_1.default.providers.HttpProvider(url));\n    }\n    loadCompilationData(inputJson, outputJson) {\n        const data = {};\n        data['data'] = outputJson;\n        data['source'] = { sources: inputJson.sources };\n        this.loadCompilationResult(data);\n    }\n    loadCompilationResult(compilationResult) {\n        this.compilation = {};\n        this.compilation.compilationResult = compilationResult;\n    }\n    initDebugger(cb) {\n        this.debugger = new debugger_js_1.Debugger({\n            web3: this.web3,\n            compilationResult: () => { return this.compilation.compilationResult; }\n        });\n    }\n    getSource() {\n        const lineColumnPos = this.lineColumnPos;\n        if (!lineColumnPos || !lineColumnPos.start)\n            return [];\n        const content = this.compilation.compilationResult.source.sources[this.filename].content.split('\\n');\n        const source = [];\n        let line;\n        line = content[lineColumnPos.start.line - 2];\n        if (line !== undefined) {\n            source.push('    ' + (lineColumnPos.start.line - 1) + ':  ' + line);\n        }\n        line = content[lineColumnPos.start.line - 1];\n        if (line !== undefined) {\n            source.push('    ' + lineColumnPos.start.line + ':  ' + line);\n        }\n        const currentLineNumber = lineColumnPos.start.line;\n        const currentLine = content[currentLineNumber];\n        source.push('=>  ' + (currentLineNumber + 1) + ':  ' + currentLine);\n        const startLine = lineColumnPos.start.line;\n        for (var i = 1; i < 4; i++) {\n            const line = content[startLine + i];\n            source.push('    ' + (startLine + i + 1) + ':  ' + line);\n        }\n        return source;\n    }\n    getCurrentLine() {\n        const lineColumnPos = this.lineColumnPos;\n        if (!lineColumnPos)\n            return '';\n        const currentLineNumber = lineColumnPos.start.line;\n        const content = this.compilation.compilationResult.source.sources[this.filename].content.split('\\n');\n        return content[currentLineNumber];\n    }\n    startDebug(txNumber, filename, cb) {\n        this.filename = filename;\n        this.txHash = txNumber;\n        this.debugger.debug(null, txNumber, null, () => {\n            this.debugger.event.register('newSourceLocation', (lineColumnPos, rawLocation) => {\n                if (!lineColumnPos)\n                    return;\n                this.lineColumnPos = lineColumnPos;\n                this.rawLocation = rawLocation;\n                this.events.emit('source', [lineColumnPos, rawLocation]);\n            });\n            this.debugger.vmDebuggerLogic.event.register('solidityState', (data) => {\n                this.solidityState = data;\n                this.events.emit('globals', data);\n            });\n            // TODO: this doesnt work too well, it should request the data instead...\n            this.debugger.vmDebuggerLogic.event.register('solidityLocals', (data) => {\n                if (JSON.stringify(data) === '{}')\n                    return;\n                this.solidityLocals = data;\n                this.events.emit('locals', data);\n            });\n            if (cb) {\n                // TODO: this should be an onReady event\n                setTimeout(cb, 1000);\n            }\n        });\n    }\n    getVars() {\n        return {\n            locals: this.solidityLocals,\n            contract: this.solidityState\n        };\n    }\n    triggerSourceUpdate() {\n        this.events.emit('source', [this.lineColumnPos, this.rawLocation]);\n    }\n    stepJumpNextBreakpoint() {\n        this.debugger.step_manager.jumpNextBreakpoint();\n    }\n    stepJumpPreviousBreakpoint() {\n        this.debugger.step_manager.jumpPreviousBreakpoint();\n    }\n    stepOverForward(solidityMode) {\n        this.debugger.step_manager.stepOverForward(solidityMode);\n    }\n    stepOverBack(solidityMode) {\n        this.debugger.step_manager.stepOverBack(solidityMode);\n    }\n    stepIntoForward(solidityMode) {\n        this.debugger.step_manager.stepIntoForward(solidityMode);\n    }\n    stepIntoBack(solidityMode) {\n        this.debugger.step_manager.stepIntoBack(solidityMode);\n    }\n    jumpTo(step) {\n        this.debugger.step_manager.jumpTo(step);\n    }\n    getTraceLength() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.traceLength;\n    }\n    getCodeFirstStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.calculateFirstStep();\n    }\n    getCodeTraceLength() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.calculateCodeLength();\n    }\n    nextStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.nextStep();\n    }\n    previousStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.previousStep();\n    }\n    currentStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.currentStepIndex;\n    }\n    canGoNext() {\n        return this.currentStep() < this.getCodeTraceLength();\n    }\n    canGoPrevious() {\n        return this.currentStep() > this.getCodeFirstStep();\n    }\n    unload() {\n        return this.debugger.unload();\n    }\n    displayLocals() {\n        console.dir('= displayLocals');\n        console.dir(this.solidityLocals);\n    }\n    displayGlobals() {\n        console.dir('= displayGlobals');\n        console.dir(this.solidityState);\n    }\n}\nexports.CmdLine = CmdLine;\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BreakpointManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\n/**\n  * allow to manage breakpoint\n  *\n  * Trigger events: breakpointHit, breakpointAdded, breakpointRemoved\n  */\nclass BreakpointManager {\n    /**\n      * constructor\n      *\n      * @param {Object} _debugger - type of EthDebugger\n      * @return {Function} _locationToRowConverter - function implemented by editor which return a column/line position for a char source location\n      */\n    constructor({ traceManager, callTree, solidityProxy, locationToRowConverter }) {\n        this.event = new eventManager_1.EventManager();\n        this.traceManager = traceManager;\n        this.callTree = callTree;\n        this.solidityProxy = solidityProxy;\n        this.breakpoints = {};\n        this.locationToRowConverter = locationToRowConverter;\n    }\n    setManagers({ traceManager, callTree, solidityProxy }) {\n        this.traceManager = traceManager;\n        this.callTree = callTree;\n        this.solidityProxy = solidityProxy;\n    }\n    /**\n      * start looking for the next breakpoint\n      * @param {Bool} defaultToLimit - if true jump to the end of the trace if no more breakpoint found\n      *\n      */\n    jumpNextBreakpoint(fromStep, defaultToLimit) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.locationToRowConverter) {\n                return console.log('row converter not provided');\n            }\n            this.jump(fromStep || 0, 1, defaultToLimit, this.traceManager.trace);\n        });\n    }\n    /**\n      * start looking for the previous breakpoint\n      * @param {Bool} defaultToLimit - if true jump to the start of the trace if no more breakpoint found\n      *\n      */\n    jumpPreviousBreakpoint(fromStep, defaultToLimit) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.locationToRowConverter) {\n                return console.log('row converter not provided');\n            }\n            this.jump(fromStep || 0, -1, defaultToLimit, this.traceManager.trace);\n        });\n    }\n    depthChange(step, trace) {\n        return trace[step].depth !== trace[step - 1].depth;\n    }\n    hitLine(currentStep, sourceLocation, previousSourceLocation, trace) {\n        // isJumpDestInstruction -> returning from a internal function call\n        // depthChange -> returning from an external call\n        // sourceLocation.start <= previousSourceLocation.start && ... -> previous src is contained in the current one\n        if (((0, traceHelper_1.isJumpDestInstruction)(trace[currentStep]) && previousSourceLocation.jump === 'o') ||\n            this.depthChange(currentStep, trace) ||\n            (sourceLocation.start <= previousSourceLocation.start &&\n                sourceLocation.start + sourceLocation.length >= previousSourceLocation.start + previousSourceLocation.length)) {\n            return false;\n        }\n        this.event.trigger('breakpointStep', [currentStep]);\n        this.event.trigger('breakpointHit', [sourceLocation, currentStep]);\n        return true;\n    }\n    /**\n      * start looking for the previous or next breakpoint\n      * @param {Int} direction - 1 or -1 direction of the search\n      * @param {Bool} defaultToLimit - if true jump to the limit (end if direction is 1, beginning if direction is -1) of the trace if no more breakpoint found\n      *\n      */\n    jump(fromStep, direction, defaultToLimit, trace) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let sourceLocation;\n            let previousSourceLocation;\n            let currentStep = fromStep + direction;\n            let lineHadBreakpoint = false;\n            let initialLine;\n            while (currentStep > 0 && currentStep < trace.length) {\n                try {\n                    previousSourceLocation = sourceLocation;\n                    sourceLocation = yield this.callTree.extractValidSourceLocation(currentStep);\n                }\n                catch (e) {\n                    console.log('cannot jump to breakpoint ' + e);\n                    currentStep += direction;\n                    continue;\n                }\n                const lineColumn = yield this.locationToRowConverter(sourceLocation);\n                if (!initialLine)\n                    initialLine = lineColumn;\n                if (initialLine.start.line !== lineColumn.start.line) {\n                    if (direction === -1 && lineHadBreakpoint) { // TODO : improve this when we will build the correct structure before hand\n                        lineHadBreakpoint = false;\n                        if (this.hitLine(currentStep + 1, previousSourceLocation, sourceLocation, trace)) {\n                            return;\n                        }\n                    }\n                    if (this.hasBreakpointAtLine(sourceLocation.file, lineColumn.start.line)) {\n                        lineHadBreakpoint = true;\n                        if (direction === 1 && this.hitLine(currentStep, sourceLocation, previousSourceLocation, trace)) {\n                            return;\n                        }\n                    }\n                }\n                currentStep += direction;\n            }\n            this.event.trigger('NoBreakpointHit', []);\n            if (!defaultToLimit) {\n                return;\n            }\n            if (direction === -1) {\n                this.event.trigger('breakpointStep', [0]);\n            }\n            else if (direction === 1) {\n                this.event.trigger('breakpointStep', [trace.length - 1]);\n            }\n        });\n    }\n    /**\n      * check the given pair fileIndex/line against registered breakpoints\n      *\n      * @param {Int} fileIndex - index of the file content (from the compilation result)\n      * @param {Int} line - line number where looking for breakpoint\n      * @return {Bool} return true if the given @arg fileIndex @arg line refers to a breakpoint\n      */\n    hasBreakpointAtLine(fileIndex, line) {\n        const filename = this.solidityProxy.fileNameFromIndex(fileIndex);\n        if (!(filename && this.breakpoints[filename])) {\n            return false;\n        }\n        const sources = this.breakpoints[filename];\n        for (const k in sources) {\n            const source = sources[k];\n            if (line === source.row) {\n                return true;\n            }\n        }\n    }\n    /**\n      * return true if current manager has breakpoint\n      *\n      * @return {Bool} true if breapoint registered\n      */\n    hasBreakpoint() {\n        for (const k in this.breakpoints) {\n            if (this.breakpoints[k].length) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n      * add a new breakpoint to the manager\n      *\n      * @param {Object} sourceLocation - position of the breakpoint { file: '<file index>', row: '<line number' }\n      */\n    add(sourceLocation) {\n        if (!this.breakpoints[sourceLocation.fileName]) {\n            this.breakpoints[sourceLocation.fileName] = [];\n        }\n        this.breakpoints[sourceLocation.fileName].push(sourceLocation);\n        this.event.trigger('breakpointAdded', [sourceLocation]);\n    }\n    /**\n      * remove a breakpoint from the manager\n      *\n      * @param {Object} sourceLocation - position of the breakpoint { file: '<file index>', row: '<line number' }\n      */\n    remove(sourceLocation) {\n        var sources = this.breakpoints[sourceLocation.fileName];\n        if (!sources) {\n            return;\n        }\n        for (const k in sources) {\n            const source = sources[k];\n            if (sourceLocation.row === source.row) {\n                sources.splice(k, 1);\n                this.event.trigger('breakpointRemoved', [sourceLocation]);\n                break;\n            }\n        }\n    }\n}\nexports.BreakpointManager = BreakpointManager;\n//# sourceMappingURL=breakpointManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst sourceMappingDecoder_1 = require(\"../source/sourceMappingDecoder\");\nconst codeResolver_1 = require(\"./codeResolver\");\n/*\n  resolve contract code referenced by vmtrace in order to be used by asm listview.\n  events:\n   - changed: triggered when an item is selected\n   - resolvingStep: when CodeManager resolves code/selected instruction of a new step\n*/\nclass CodeManager {\n    constructor(_traceManager) {\n        this.event = new eventManager_1.EventManager();\n        this.isLoading = false;\n        this.traceManager = _traceManager;\n        this.codeResolver = new codeResolver_1.CodeResolver({\n            getCode: (address) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                return new Promise((resolve, reject) => {\n                    this.traceManager.web3.eth.getCode(address, (error, code) => {\n                        if (error) {\n                            return reject(error);\n                        }\n                        return resolve(code);\n                    });\n                });\n            }),\n            fork: this.traceManager.getCurrentFork()\n        });\n    }\n    /**\n     * clear the cache\n     *\n     */\n    clear() {\n        this.codeResolver.clear();\n    }\n    /**\n     * resolve the code of the given @arg stepIndex and trigger appropriate event\n     *\n     * @param {String} stepIndex - vm trace step\n     * @param {Object} tx - transaction (given by web3)\n     */\n    resolveStep(stepIndex, tx) {\n        if (stepIndex < 0)\n            return;\n        this.event.trigger('resolvingStep');\n        if (stepIndex === 0) {\n            return this.retrieveCodeAndTrigger(this, tx.to, stepIndex, tx);\n        }\n        try {\n            let address = this.traceManager.getCurrentCalledAddressAt(stepIndex);\n            address = 'xdc' + address.substring(2);\n            this.retrieveCodeAndTrigger(this, address, stepIndex, tx);\n        }\n        catch (error) {\n            return console.log(error);\n        }\n    }\n    /**\n     * Retrieve the code located at the given @arg address\n     *\n     * @param {String} address - address of the contract to get the code from\n     * @param {Function} cb - callback function, return the bytecode\n     */\n    getCode(address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!(0, traceHelper_1.isContractCreation)(address)) {\n                const code = yield this.codeResolver.resolveCode(address);\n                return code;\n            }\n            var codes = this.codeResolver.getExecutingCodeFromCache(address);\n            if (codes) {\n                return codes;\n            }\n            const hexCode = this.traceManager.getContractCreationCode(address);\n            codes = this.codeResolver.cacheExecutingCode(address, hexCode);\n            return codes;\n        });\n    }\n    /**\n     * Retrieve the called function for the current vm step for the given @arg address\n     *\n     * @param {String} stepIndex - vm trace step\n     * @param {String} sourceMap - source map given byt the compilation result\n     * @param {Object} ast - ast given by the compilation result\n     * @return {Object} return the ast node of the function\n     */\n    getFunctionFromStep(stepIndex, sourceMap, ast) {\n        try {\n            let address = this.traceManager.getCurrentCalledAddressAt(stepIndex);\n            address = 'xdc' + address.substring(2);\n            const pc = this.traceManager.getCurrentPC(stepIndex);\n            return this.getFunctionFromPC(address, pc, sourceMap, ast);\n        }\n        catch (error) {\n            console.log(error);\n            return { error: 'Cannot retrieve current address or PC for ' + stepIndex };\n        }\n    }\n    /**\n     * Retrieve the instruction index of the given @arg step\n     *\n     * @param {String} address - address of the current context\n     * @param {String} step - vm trace step\n     * @param {Function} callback - instruction index\n     */\n    getInstructionIndex(address, step) {\n        try {\n            const pc = this.traceManager.getCurrentPC(step);\n            const itemIndex = this.codeResolver.getInstructionIndex(address, pc);\n            return itemIndex;\n        }\n        catch (error) {\n            console.log(error);\n            throw new Error('Cannot retrieve current PC for ' + step);\n        }\n    }\n    /**\n     * Retrieve the called function for the given @arg pc and @arg address\n     *\n     * @param {String} address - address of the current context (used to resolve instruction index)\n     * @param {String} pc - pc that point to the instruction index\n     * @param {String} sourceMap - source map given byt the compilation result\n     * @param {Object} ast - ast given by the compilation result\n     * @return {Object} return the ast node of the function\n     */\n    getFunctionFromPC(address, pc, sourceMap, ast) {\n        const instIndex = this.codeResolver.getInstructionIndex(address, pc);\n        return (0, sourceMappingDecoder_1.findNodeAtInstructionIndex)('FunctionDefinition', instIndex, sourceMap, ast);\n    }\n    retrieveCodeAndTrigger(codeMananger, address, stepIndex, tx) {\n        codeMananger.getCode(address).then((result) => {\n            this.retrieveIndexAndTrigger(codeMananger, address, stepIndex, result.instructions);\n        }).catch((error) => {\n            return console.log(error);\n        });\n    }\n    retrieveIndexAndTrigger(codeMananger, address, step, code) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let result;\n            const next = [];\n            const returnInstructionIndexes = [];\n            const outOfGasInstructionIndexes = [];\n            try {\n                result = codeMananger.getInstructionIndex(address, step);\n                for (let i = 1; i < 6; i++) {\n                    if (this.traceManager.inRange(step + i)) {\n                        next.push(codeMananger.getInstructionIndex(address, step + i));\n                    }\n                }\n                let values = this.traceManager.getAllStopIndexes();\n                if (values) {\n                    for (const value of values) {\n                        if (value.address === address) {\n                            returnInstructionIndexes.push({ instructionIndex: this.getInstructionIndex(address, value.index), address });\n                        }\n                    }\n                }\n                values = this.traceManager.getAllOutofGasIndexes();\n                if (values) {\n                    for (const value of values) {\n                        if (value.address === address) {\n                            outOfGasInstructionIndexes.push({ instructionIndex: this.getInstructionIndex(address, value.index), address });\n                        }\n                    }\n                }\n            }\n            catch (error) {\n                return console.log(error);\n            }\n            try {\n                codeMananger.event.trigger('changed', [code, address, result, next, returnInstructionIndexes, outOfGasInstructionIndexes]);\n            }\n            catch (e) {\n                console.log('dispatching event failed', e);\n            }\n        });\n    }\n}\nexports.CodeManager = CodeManager;\n//# sourceMappingURL=codeManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeResolver = void 0;\nconst tslib_1 = require(\"tslib\");\nconst codeUtils_1 = require(\"./codeUtils\");\nclass CodeResolver {\n    constructor({ getCode, fork }) {\n        this.getCode = getCode;\n        this.bytecodeByAddress = {}; // bytes code by contract addesses\n        this.instructionsByAddress = {}; // assembly items instructions list by contract addesses\n        this.instructionsIndexByBytesOffset = {}; // mapping between bytes offset and instructions index.\n        this.fork = fork;\n    }\n    clear() {\n        this.bytecodeByAddress = {};\n        this.instructionsByAddress = {};\n        this.instructionsIndexByBytesOffset = {};\n    }\n    resolveCode(address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const cache = this.getExecutingCodeFromCache(address);\n            if (cache) {\n                return cache;\n            }\n            const code = yield this.getCode(address);\n            return this.cacheExecutingCode(address, code);\n        });\n    }\n    cacheExecutingCode(address, hexCode) {\n        const codes = this.formatCode(hexCode);\n        this.bytecodeByAddress[address] = hexCode;\n        this.instructionsByAddress[address] = codes.code;\n        this.instructionsIndexByBytesOffset[address] = codes.instructionsIndexByBytesOffset;\n        return this.getExecutingCodeFromCache(address);\n    }\n    formatCode(hexCode) {\n        const [code, instructionsIndexByBytesOffset] = (0, codeUtils_1.nameOpCodes)(Buffer.from(hexCode.substring(2), 'hex'), this.fork);\n        return { code, instructionsIndexByBytesOffset };\n    }\n    getExecutingCodeFromCache(address) {\n        if (!this.instructionsByAddress[address]) {\n            return null;\n        }\n        return {\n            instructions: this.instructionsByAddress[address],\n            instructionsIndexByBytesOffset: this.instructionsIndexByBytesOffset[address],\n            bytecode: this.bytecodeByAddress[address]\n        };\n    }\n    getInstructionIndex(address, pc) {\n        return this.getExecutingCodeFromCache(address).instructionsIndexByBytesOffset[pc];\n    }\n}\nexports.CodeResolver = CodeResolver;\n//# sourceMappingURL=codeResolver.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.roundLog = exports.log = exports.pad = exports.parseCode = exports.nameOpCodes = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = (0, tslib_1.__importDefault)(require(\"@ethereumjs/common\"));\nconst opcodes_1 = require(\"@ethereumjs/vm/dist/evm/opcodes\");\nconst opcodes_2 = (0, tslib_1.__importDefault)(require(\"./opcodes\"));\nfunction nameOpCodes(raw, hardfork) {\n    const common = new common_1.default({ chain: 'mainnet', hardfork });\n    const opcodes = (0, opcodes_1.getOpcodesForHF)(common);\n    let pushData = '';\n    const codeMap = {};\n    const code = [];\n    for (let i = 0; i < raw.length; i++) {\n        const pc = i;\n        let curOpCode;\n        try {\n            curOpCode = opcodes.get(raw[pc]).fullName;\n        }\n        catch (e) {\n            curOpCode = 'INVALID';\n        }\n        codeMap[i] = code.length;\n        // no destinations into the middle of PUSH\n        if (curOpCode.slice(0, 4) === 'PUSH') {\n            const jumpNum = raw[pc] - 0x5f;\n            pushData = raw.slice(pc + 1, pc + jumpNum + 1);\n            i += jumpNum;\n        }\n        const data = pushData.toString('hex') !== '' ? ' ' + pushData.toString('hex') : '';\n        code.push(pad(pc, roundLog(raw.length, 10)) + ' ' + curOpCode + data);\n        pushData = '';\n    }\n    return [code, codeMap];\n}\nexports.nameOpCodes = nameOpCodes;\n/**\n * Parses code as a list of integers into a list of objects containing\n * information about the opcode.\n */\nfunction parseCode(raw) {\n    const common = new common_1.default({ chain: 'mainnet', hardfork: 'london' });\n    const opcodes = (0, opcodes_1.getOpcodesForHF)(common);\n    const code = [];\n    for (let i = 0; i < raw.length; i++) {\n        const opcode = { name: 'INVALID' };\n        try {\n            const code = opcodes.get(raw[i]);\n            const opcodeDetails = (0, opcodes_2.default)(raw[i], false);\n            opcode.in = opcodeDetails.in;\n            opcode.out = opcodeDetails.out;\n            opcode.name = code.fullName;\n        }\n        catch (e) {\n            opcode.name = 'INVALID';\n        }\n        if (opcode.name.slice(0, 4) === 'PUSH') {\n            const length = raw[i] - 0x5f;\n            opcode.pushData = raw.slice(i + 1, i + length + 1);\n            // in case pushdata extends beyond code\n            if (i + 1 + length > raw.length) {\n                for (let j = opcode['pushData'].length; j < length; j++) {\n                    opcode['pushData'].push(0);\n                }\n            }\n            i += length;\n        }\n        code.push(opcode);\n    }\n    return code;\n}\nexports.parseCode = parseCode;\nfunction pad(num, size) {\n    let s = num + '';\n    while (s.length < size)\n        s = '0' + s;\n    return s;\n}\nexports.pad = pad;\nfunction log(num, base) {\n    return Math.log(num) / Math.log(base);\n}\nexports.log = log;\nfunction roundLog(num, base) {\n    return Math.ceil(log(num, base));\n}\nexports.roundLog = roundLog;\n//# sourceMappingURL=codeUtils.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(op, full) {\n    const codes = {\n        // 0x0 range - arithmetic ops\n        // name, baseCost, off stack, on stack, dynamic, async\n        // @todo can be improved on basis of this: https://github.com/ethereumjs/ethereumjs-vm/blob/master/lib/evm/opcodes.ts\n        0x00: ['STOP', 0, 0, 0, false],\n        0x01: ['ADD', 3, 2, 1, false],\n        0x02: ['MUL', 5, 2, 1, false],\n        0x03: ['SUB', 3, 2, 1, false],\n        0x04: ['DIV', 5, 2, 1, false],\n        0x05: ['SDIV', 5, 2, 1, false],\n        0x06: ['MOD', 5, 2, 1, false],\n        0x07: ['SMOD', 5, 2, 1, false],\n        0x08: ['ADDMOD', 8, 3, 1, false],\n        0x09: ['MULMOD', 8, 3, 1, false],\n        0x0a: ['EXP', 10, 2, 1, false],\n        0x0b: ['SIGNEXTEND', 5, 2, 1, false],\n        // 0x10 range - bit ops\n        0x10: ['LT', 3, 2, 1, false],\n        0x11: ['GT', 3, 2, 1, false],\n        0x12: ['SLT', 3, 2, 1, false],\n        0x13: ['SGT', 3, 2, 1, false],\n        0x14: ['EQ', 3, 2, 1, false],\n        0x15: ['ISZERO', 3, 1, 1, false],\n        0x16: ['AND', 3, 2, 1, false],\n        0x17: ['OR', 3, 2, 1, false],\n        0x18: ['XOR', 3, 2, 1, false],\n        0x19: ['NOT', 3, 1, 1, false],\n        0x1a: ['BYTE', 3, 2, 1, false],\n        0x1b: ['SHL', 3, 2, 1, false],\n        0x1c: ['SHR', 3, 2, 1, false],\n        0x1d: ['SAR', 3, 2, 1, false],\n        // 0x20 range - crypto\n        0x20: ['SHA3', 30, 2, 1, false],\n        // 0x30 range - closure state\n        0x30: ['ADDRESS', 2, 0, 1, true],\n        0x31: ['BALANCE', 700, 1, 1, true, true],\n        0x32: ['ORIGIN', 2, 0, 1, true],\n        0x33: ['CALLER', 2, 0, 1, true],\n        0x34: ['CALLVALUE', 2, 0, 1, true],\n        0x35: ['CALLDATALOAD', 3, 1, 1, true],\n        0x36: ['CALLDATASIZE', 2, 0, 1, true],\n        0x37: ['CALLDATACOPY', 3, 3, 0, true],\n        0x38: ['CODESIZE', 2, 0, 1, false],\n        0x39: ['CODECOPY', 3, 3, 0, false],\n        0x3a: ['GASPRICE', 2, 0, 1, false],\n        0x3b: ['EXTCODESIZE', 700, 1, 1, true, true],\n        0x3c: ['EXTCODECOPY', 700, 4, 0, true, true],\n        0x3d: ['RETURNDATASIZE', 2, 0, 1, true],\n        0x3e: ['RETURNDATACOPY', 3, 3, 0, true],\n        0x3f: ['EXTCODEHASH', 400, 3, 0, true],\n        // '0x40' range - block operations\n        0x40: ['BLOCKHASH', 20, 1, 1, true, true],\n        0x41: ['COINBASE', 2, 0, 1, true],\n        0x42: ['TIMESTAMP', 2, 0, 1, true],\n        0x43: ['NUMBER', 2, 0, 1, true],\n        0x44: ['DIFFICULTY', 2, 0, 1, true],\n        0x45: ['GASLIMIT', 2, 0, 1, true],\n        0x46: ['CHAINID', 2, 0, 1, false],\n        0x47: ['SELFBALANCE', 5, 0, 1, false],\n        // 0x50 range - 'storage' and execution\n        0x50: ['POP', 2, 1, 0, false],\n        0x51: ['MLOAD', 3, 1, 1, false],\n        0x52: ['MSTORE', 3, 2, 0, false],\n        0x53: ['MSTORE8', 3, 2, 0, false],\n        0x54: ['SLOAD', 800, 1, 1, true, true],\n        0x55: ['SSTORE', 0, 2, 0, true, true],\n        0x56: ['JUMP', 8, 1, 0, false],\n        0x57: ['JUMPI', 10, 2, 0, false],\n        0x58: ['PC', 2, 0, 1, false],\n        0x59: ['MSIZE', 2, 0, 1, false],\n        0x5a: ['GAS', 2, 0, 1, false],\n        0x5b: ['JUMPDEST', 1, 0, 0, false],\n        // 0x60, range\n        0x60: ['PUSH1', 3, 0, 1, false],\n        0x61: ['PUSH2', 3, 0, 1, false],\n        0x62: ['PUSH3', 3, 0, 1, false],\n        0x63: ['PUSH4', 3, 0, 1, false],\n        0x64: ['PUSH5', 3, 0, 1, false],\n        0x65: ['PUSH6', 3, 0, 1, false],\n        0x66: ['PUSH7', 3, 0, 1, false],\n        0x67: ['PUSH8', 3, 0, 1, false],\n        0x68: ['PUSH9', 3, 0, 1, false],\n        0x69: ['PUSH10', 3, 0, 1, false],\n        0x6a: ['PUSH11', 3, 0, 1, false],\n        0x6b: ['PUSH12', 3, 0, 1, false],\n        0x6c: ['PUSH13', 3, 0, 1, false],\n        0x6d: ['PUSH14', 3, 0, 1, false],\n        0x6e: ['PUSH15', 3, 0, 1, false],\n        0x6f: ['PUSH16', 3, 0, 1, false],\n        0x70: ['PUSH17', 3, 0, 1, false],\n        0x71: ['PUSH18', 3, 0, 1, false],\n        0x72: ['PUSH19', 3, 0, 1, false],\n        0x73: ['PUSH20', 3, 0, 1, false],\n        0x74: ['PUSH21', 3, 0, 1, false],\n        0x75: ['PUSH22', 3, 0, 1, false],\n        0x76: ['PUSH23', 3, 0, 1, false],\n        0x77: ['PUSH24', 3, 0, 1, false],\n        0x78: ['PUSH25', 3, 0, 1, false],\n        0x79: ['PUSH26', 3, 0, 1, false],\n        0x7a: ['PUSH27', 3, 0, 1, false],\n        0x7b: ['PUSH28', 3, 0, 1, false],\n        0x7c: ['PUSH29', 3, 0, 1, false],\n        0x7d: ['PUSH30', 3, 0, 1, false],\n        0x7e: ['PUSH31', 3, 0, 1, false],\n        0x7f: ['PUSH32', 3, 0, 1, false],\n        0x80: ['DUP1', 3, 0, 1, false],\n        0x81: ['DUP2', 3, 0, 1, false],\n        0x82: ['DUP3', 3, 0, 1, false],\n        0x83: ['DUP4', 3, 0, 1, false],\n        0x84: ['DUP5', 3, 0, 1, false],\n        0x85: ['DUP6', 3, 0, 1, false],\n        0x86: ['DUP7', 3, 0, 1, false],\n        0x87: ['DUP8', 3, 0, 1, false],\n        0x88: ['DUP9', 3, 0, 1, false],\n        0x89: ['DUP10', 3, 0, 1, false],\n        0x8a: ['DUP11', 3, 0, 1, false],\n        0x8b: ['DUP12', 3, 0, 1, false],\n        0x8c: ['DUP13', 3, 0, 1, false],\n        0x8d: ['DUP14', 3, 0, 1, false],\n        0x8e: ['DUP15', 3, 0, 1, false],\n        0x8f: ['DUP16', 3, 0, 1, false],\n        0x90: ['SWAP1', 3, 0, 0, false],\n        0x91: ['SWAP2', 3, 0, 0, false],\n        0x92: ['SWAP3', 3, 0, 0, false],\n        0x93: ['SWAP4', 3, 0, 0, false],\n        0x94: ['SWAP5', 3, 0, 0, false],\n        0x95: ['SWAP6', 3, 0, 0, false],\n        0x96: ['SWAP7', 3, 0, 0, false],\n        0x97: ['SWAP8', 3, 0, 0, false],\n        0x98: ['SWAP9', 3, 0, 0, false],\n        0x99: ['SWAP10', 3, 0, 0, false],\n        0x9a: ['SWAP11', 3, 0, 0, false],\n        0x9b: ['SWAP12', 3, 0, 0, false],\n        0x9c: ['SWAP13', 3, 0, 0, false],\n        0x9d: ['SWAP14', 3, 0, 0, false],\n        0x9e: ['SWAP15', 3, 0, 0, false],\n        0x9f: ['SWAP16', 3, 0, 0, false],\n        0xa0: ['LOG0', 375, 2, 0, false],\n        0xa1: ['LOG1', 375, 3, 0, false],\n        0xa2: ['LOG2', 375, 4, 0, false],\n        0xa3: ['LOG3', 375, 5, 0, false],\n        0xa4: ['LOG4', 375, 6, 0, false],\n        // '0xf0' range - closures\n        0xf0: ['CREATE', 32000, 3, 1, true, true],\n        0xf1: ['CALL', 700, 7, 1, true, true],\n        0xf2: ['CALLCODE', 700, 7, 1, true, true],\n        0xf3: ['RETURN', 0, 2, 0, false],\n        0xf4: ['DELEGATECALL', 700, 6, 1, true, true],\n        0xf5: ['CREATE2', 32000, 4, 1, true, true],\n        0xfa: ['STATICCALL', 700, 6, 1, true, true],\n        0xfd: ['REVERT', 0, 2, 0, false],\n        // '0x70', range - other\n        0xfe: ['INVALID', 0, 0, 0, false],\n        0xff: ['SELFDESTRUCT', 5000, 1, 0, false, true]\n    };\n    const code = codes[op] ? codes[op] : ['INVALID', 0, 0, 0, false, false];\n    let opcode = code[0];\n    if (full) {\n        if (opcode === 'LOG') {\n            opcode += op - 0xa0;\n        }\n        if (opcode === 'PUSH') {\n            opcode += op - 0x5f;\n        }\n        if (opcode === 'DUP') {\n            opcode += op - 0x7f;\n        }\n        if (opcode === 'SWAP') {\n            opcode += op - 0x8f;\n        }\n    }\n    return { name: opcode, fee: code[1], in: code[2], out: code[3], dynamic: code[4], async: code[5] };\n}\nexports.default = default_1;\n//# sourceMappingURL=opcodes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VmDebuggerLogic = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst storageResolver_1 = require(\"../storage/storageResolver\");\nconst storageViewer_1 = require(\"../storage/storageViewer\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst solidityState_1 = require(\"./solidityState\");\nconst solidityLocals_1 = require(\"./solidityLocals\");\nconst { ui } = remix_lib_1.helpers;\nclass VmDebuggerLogic {\n    constructor(_debugger, tx, _stepManager, _traceManager, _codeManager, _solidityProxy, _callTree) {\n        this.event = new eventManager_1.EventManager();\n        this.debugger = _debugger;\n        this.stepManager = _stepManager;\n        this._traceManager = _traceManager;\n        this._codeManager = _codeManager;\n        this._solidityProxy = _solidityProxy;\n        this._callTree = _callTree;\n        this.storageResolver = null;\n        this.tx = tx;\n        this.debuggerSolidityState = new solidityState_1.DebuggerSolidityState(tx, _stepManager, _traceManager, _codeManager, _solidityProxy);\n        this.debuggerSolidityLocals = new solidityLocals_1.DebuggerSolidityLocals(tx, _stepManager, _traceManager, _callTree);\n    }\n    start() {\n        this.listenToEvents();\n        this.listenToCodeManagerEvents();\n        this.listenToTraceManagerEvents();\n        this.listenToFullStorageChanges();\n        this.listenToNewChanges();\n        this.listenToSolidityStateEvents();\n        this.listenToSolidityLocalsEvents();\n    }\n    listenToEvents() {\n        this.debugger.event.register('traceUnloaded', () => {\n            this.event.trigger('traceUnloaded');\n        });\n        this.debugger.event.register('newTraceLoaded', () => {\n            this.event.trigger('newTraceLoaded');\n        });\n    }\n    listenToCodeManagerEvents() {\n        this._codeManager.event.register('changed', (code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes) => {\n            this.event.trigger('codeManagerChanged', [code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes]);\n        });\n    }\n    listenToTraceManagerEvents() {\n        this.event.register('indexChanged', this, (index) => {\n            if (index < 0)\n                return;\n            if (this.stepManager.currentStepIndex !== index)\n                return;\n            this.event.trigger('indexUpdate', [index]);\n            this.event.trigger('functionsStackUpdate', [this._callTree.retrieveFunctionsStack(index)]);\n            try {\n                const calldata = this._traceManager.getCallDataAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerCallDataUpdate', [calldata]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerCallDataUpdate', [{}]);\n            }\n            try {\n                const memory = this._traceManager.getMemoryAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerMemoryUpdate', [ui.formatMemory(memory, 16)]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerMemoryUpdate', [{}]);\n            }\n            try {\n                const callstack = this._traceManager.getCallStackAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerCallStackUpdate', [callstack]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerCallStackUpdate', [{}]);\n            }\n            try {\n                const callstack = this._traceManager.getStackAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerStackUpdate', [callstack]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerStackUpdate', [{}]);\n            }\n            try {\n                let address = this._traceManager.getCurrentCalledAddressAt(index);\n                address = 'xdc' + address.substring(2);\n                if (!this.storageResolver)\n                    return;\n                var storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: address }, this.storageResolver, this._traceManager);\n                storageViewer.storageRange().then((storage) => {\n                    if (this.stepManager.currentStepIndex === index) {\n                        var header = storageViewer.isComplete(address) ? '[Completely Loaded]' : '[Partially Loaded]';\n                        this.event.trigger('traceManagerStorageUpdate', [storage, header]);\n                    }\n                }).catch((_error) => {\n                    this.event.trigger('traceManagerStorageUpdate', [{}]);\n                });\n            }\n            catch (error) {\n                this.event.trigger('traceManagerStorageUpdate', [{}]);\n            }\n            try {\n                const step = this._traceManager.getCurrentStep(index);\n                this.event.trigger('traceCurrentStepUpdate', [null, step]);\n            }\n            catch (error) {\n                this.event.trigger('traceCurrentStepUpdate', [error]);\n            }\n            try {\n                const addmem = this._traceManager.getMemExpand(index);\n                this.event.trigger('traceMemExpandUpdate', [null, addmem]);\n            }\n            catch (error) {\n                this.event.trigger('traceMemExpandUpdate', [error]);\n            }\n            try {\n                const gas = this._traceManager.getStepCost(index);\n                this.event.trigger('traceStepCostUpdate', [null, gas]);\n            }\n            catch (error) {\n                this.event.trigger('traceStepCostUpdate', [error]);\n            }\n            try {\n                let address = this._traceManager.getCurrentCalledAddressAt(index);\n                address = 'xdc' + address.substring(2);\n                this.event.trigger('traceCurrentCalledAddressAtUpdate', [null, address]);\n            }\n            catch (error) {\n                this.event.trigger('traceCurrentCalledAddressAtUpdate', [error]);\n            }\n            try {\n                const remaining = this._traceManager.getRemainingGas(index);\n                this.event.trigger('traceRemainingGasUpdate', [null, remaining]);\n            }\n            catch (error) {\n                this.event.trigger('traceRemainingGasUpdate', [error]);\n            }\n            try {\n                const returnValue = this._traceManager.getReturnValue(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceReturnValueUpdate', [[returnValue]]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceReturnValueUpdate', [[error]]);\n            }\n        });\n    }\n    listenToFullStorageChanges() {\n        this.address = [];\n        this.traceLength = 0;\n        this.debugger.event.register('newTraceLoaded', (length) => {\n            let addresses = this._traceManager.getAddresses();\n            // address = 'xdc'+address.substring(2)\n            this.event.trigger('traceAddressesUpdate', [addresses]);\n            this.addresses = addresses;\n            this._traceManager.getLength((error, length) => {\n                if (error)\n                    return;\n                this.event.trigger('traceLengthUpdate', [length]);\n                this.traceLength = length;\n            });\n        });\n        this.debugger.event.register('indexChanged', this, (index) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (index < 0)\n                return;\n            if (this.stepManager.currentStepIndex !== index)\n                return;\n            if (!this.storageResolver)\n                return;\n            // Clean up storage update\n            if (index === this.traceLength - 1) {\n                return this.event.trigger('traceStorageUpdate', [{}]);\n            }\n            var storageJSON = {};\n            for (var k in this.addresses) {\n                var address = this.addresses[k];\n                var storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: address }, this.storageResolver, this._traceManager);\n                try {\n                    storageJSON[address] = yield storageViewer.storageRange();\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }\n            this.event.trigger('traceStorageUpdate', [storageJSON]);\n        }));\n    }\n    listenToNewChanges() {\n        this.debugger.event.register('newTraceLoaded', this, () => {\n            this.storageResolver = new storageResolver_1.StorageResolver({ web3: this.debugger.web3 });\n            this.debuggerSolidityState.storageResolver = this.storageResolver;\n            this.debuggerSolidityLocals.storageResolver = this.storageResolver;\n            this.event.trigger('newTrace', []);\n        });\n        this.debugger.callTree.event.register('callTreeReady', () => {\n            if (this.debugger.callTree.reducedTrace.length) {\n                return this.event.trigger('newCallTree', []);\n            }\n        });\n    }\n    listenToSolidityStateEvents() {\n        this.event.register('indexChanged', this.debuggerSolidityState.init.bind(this.debuggerSolidityState));\n        this.debuggerSolidityState.event.register('solidityState', (state) => {\n            this.event.trigger('solidityState', [state]);\n        });\n        this.debuggerSolidityState.event.register('solidityStateMessage', (message) => {\n            this.event.trigger('solidityStateMessage', [message]);\n        });\n        this.debuggerSolidityState.event.register('solidityStateUpdating', () => {\n            this.event.trigger('solidityStateUpdating', []);\n        });\n        this.event.register('traceUnloaded', this.debuggerSolidityState.reset.bind(this.debuggerSolidityState));\n        this.event.register('newTraceLoaded', this.debuggerSolidityState.reset.bind(this.debuggerSolidityState));\n    }\n    listenToSolidityLocalsEvents() {\n        this.event.register('sourceLocationChanged', this.debuggerSolidityLocals.init.bind(this.debuggerSolidityLocals));\n        this.event.register('solidityLocalsLoadMore', this.debuggerSolidityLocals.decodeMore.bind(this.debuggerSolidityLocals));\n        this.debuggerSolidityLocals.event.register('solidityLocalsLoadMoreCompleted', (locals) => {\n            this.event.trigger('solidityLocalsLoadMoreCompleted', [locals]);\n        });\n        this.debuggerSolidityLocals.event.register('solidityLocals', (state) => {\n            this.event.trigger('solidityLocals', [state]);\n        });\n        this.debuggerSolidityLocals.event.register('solidityLocalsMessage', (message) => {\n            this.event.trigger('solidityLocalsMessage', [message]);\n        });\n        this.debuggerSolidityLocals.event.register('solidityLocalsUpdating', () => {\n            this.event.trigger('solidityLocalsUpdating', []);\n        });\n        this.debuggerSolidityLocals.event.register('traceReturnValueUpdate', (data, header) => {\n            this.event.trigger('traceReturnValueUpdate', [data, header]);\n        });\n    }\n}\nexports.VmDebuggerLogic = VmDebuggerLogic;\n//# sourceMappingURL=VmDebugger.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Debugger = void 0;\nconst tslib_1 = require(\"tslib\");\nconst Ethdebugger_1 = require(\"../Ethdebugger\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst breakpointManager_1 = require(\"../code/breakpointManager\");\nconst stepManager_1 = require(\"./stepManager\");\nconst VmDebugger_1 = require(\"./VmDebugger\");\nclass Debugger {\n    constructor(options) {\n        this.event = new eventManager_1.EventManager();\n        this.offsetToLineColumnConverter = options.offsetToLineColumnConverter;\n        /*\n          Returns a compilation result for a given address or the last one available if none are found\n        */\n        this.compilationResult = options.compilationResult || function (contractAddress) { return null; };\n        this.debugger = new Ethdebugger_1.Ethdebugger({\n            web3: options.web3,\n            debugWithGeneratedSources: options.debugWithGeneratedSources,\n            compilationResult: this.compilationResult\n        });\n        const { traceManager, callTree, solidityProxy } = this.debugger;\n        this.breakPointManager = new breakpointManager_1.BreakpointManager({\n            traceManager,\n            callTree,\n            solidityProxy,\n            locationToRowConverter: (sourceLocation) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                const compilationResult = yield this.compilationResult();\n                if (!compilationResult)\n                    return { start: null, end: null };\n                return yield this.offsetToLineColumnConverter.offsetToLineColumn(sourceLocation, sourceLocation.file, compilationResult.source.sources, compilationResult.data.sources);\n            })\n        });\n        this.breakPointManager.event.register('managersChanged', () => {\n            const { traceManager, callTree, solidityProxy } = this.debugger;\n            this.breakPointManager.setManagers({ traceManager, callTree, solidityProxy });\n        });\n        this.breakPointManager.event.register('breakpointStep', (step) => {\n            this.step_manager.jumpTo(step);\n        });\n        this.debugger.setBreakpointManager(this.breakPointManager);\n        this.debugger.event.register('newTraceLoaded', this, () => {\n            this.event.trigger('debuggerStatus', [true]);\n        });\n        this.debugger.event.register('traceUnloaded', this, () => {\n            this.event.trigger('debuggerStatus', [false]);\n        });\n    }\n    registerAndHighlightCodeItem(index) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // register selected code item, highlight the corresponding source location\n            // this.debugger.traceManager.getCurrentCalledAddressAt(index, async (error, address) => {\n            try {\n                let address = this.debugger.traceManager.getCurrentCalledAddressAt(index);\n                address = 'xdc' + address.substring(2);\n                const compilationResultForAddress = yield this.compilationResult(address);\n                if (!compilationResultForAddress)\n                    return;\n                this.debugger.callTree.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, index, compilationResultForAddress.data.contracts).then((rawLocation) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                    if (compilationResultForAddress && compilationResultForAddress.data) {\n                        const generatedSources = this.debugger.callTree.sourceLocationTracker.getGeneratedSourcesFromAddress(address);\n                        const astSources = Object.assign({}, compilationResultForAddress.data.sources);\n                        const sources = Object.assign({}, compilationResultForAddress.source.sources);\n                        if (generatedSources) {\n                            for (const genSource of generatedSources) {\n                                astSources[genSource.name] = { id: genSource.id, ast: genSource.ast };\n                                sources[genSource.name] = { content: genSource.contents };\n                            }\n                        }\n                        var lineColumnPos = yield this.offsetToLineColumnConverter.offsetToLineColumn(rawLocation, rawLocation.file, sources, astSources);\n                        this.event.trigger('newSourceLocation', [lineColumnPos, rawLocation, generatedSources, address]);\n                    }\n                    else {\n                        this.event.trigger('newSourceLocation', [null]);\n                    }\n                })).catch((_error) => {\n                    this.event.trigger('newSourceLocation', [null]);\n                });\n                // })\n            }\n            catch (error) {\n                return console.log(error);\n            }\n        });\n    }\n    updateWeb3(web3) {\n        this.debugger.web3 = web3;\n    }\n    debug(blockNumber, txNumber, tx, loadingCb) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const web3 = this.debugger.web3;\n            if (this.debugger.traceManager.isLoading) {\n                return;\n            }\n            if (tx) {\n                if (!tx.to) {\n                    tx.to = (0, traceHelper_1.contractCreationToken)('0');\n                }\n                return yield this.debugTx(tx, loadingCb);\n            }\n            if (txNumber.indexOf('0x') !== -1) {\n                tx = yield web3.eth.getTransaction(txNumber);\n                if (!tx)\n                    throw new Error('cannot find transaction ' + txNumber);\n            }\n            else {\n                tx = yield web3.eth.getTransactionFromBlock(blockNumber, txNumber);\n                if (!tx)\n                    throw new Error('cannot find transaction ' + blockNumber + ' ' + txNumber);\n            }\n            return yield this.debugTx(tx, loadingCb);\n        });\n    }\n    debugTx(tx, loadingCb) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.step_manager = new stepManager_1.DebuggerStepManager(this.debugger, this.debugger.traceManager);\n            this.debugger.codeManager.event.register('changed', this, (code, address, instIndex) => {\n                if (!this.debugger.solidityProxy.contracts)\n                    return;\n                this.debugger.callTree.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, this.step_manager.currentStepIndex, this.debugger.solidityProxy.contracts).then((sourceLocation) => {\n                    this.vmDebuggerLogic.event.trigger('sourceLocationChanged', [sourceLocation]);\n                });\n            });\n            this.vmDebuggerLogic = new VmDebugger_1.VmDebuggerLogic(this.debugger, tx, this.step_manager, this.debugger.traceManager, this.debugger.codeManager, this.debugger.solidityProxy, this.debugger.callTree);\n            this.vmDebuggerLogic.start();\n            this.step_manager.event.register('stepChanged', this, (stepIndex) => {\n                if (typeof stepIndex !== 'number' || stepIndex >= this.step_manager.traceLength) {\n                    return this.event.trigger('endDebug');\n                }\n                this.debugger.codeManager.resolveStep(stepIndex, tx);\n                this.step_manager.event.trigger('indexChanged', [stepIndex]);\n                this.vmDebuggerLogic.event.trigger('indexChanged', [stepIndex]);\n                this.vmDebuggerLogic.debugger.event.trigger('indexChanged', [stepIndex]);\n                this.registerAndHighlightCodeItem(stepIndex);\n            });\n            loadingCb();\n            yield this.debugger.debug(tx);\n        });\n    }\n    unload() {\n        this.debugger.unLoad();\n        this.event.trigger('debuggerUnloaded');\n    }\n}\nexports.Debugger = Debugger;\n//# sourceMappingURL=debugger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebuggerSolidityLocals = void 0;\nconst eventManager_1 = require(\"../eventManager\");\nconst localDecoder_1 = require(\"../solidity-decoder/localDecoder\");\nconst storageViewer_1 = require(\"../storage/storageViewer\");\nclass DebuggerSolidityLocals {\n    constructor(tx, _stepManager, _traceManager, _internalTreeCall) {\n        this.event = new eventManager_1.EventManager();\n        this.stepManager = _stepManager;\n        this.internalTreeCall = _internalTreeCall;\n        this.storageResolver = null;\n        this.traceManager = _traceManager;\n        this.tx = tx;\n    }\n    init(sourceLocation) {\n        this._sourceLocation = sourceLocation;\n        var decodeTimeout = null;\n        if (!this.storageResolver) {\n            return this.event.trigger('solidityLocalsMessage', ['storage not ready']);\n        }\n        if (decodeTimeout) {\n            window.clearTimeout(decodeTimeout);\n        }\n        this.event.trigger('solidityLocalsUpdating');\n        decodeTimeout = setTimeout(() => {\n            this.decode(sourceLocation);\n        }, 500);\n    }\n    decode(sourceLocation, cursor) {\n        const self = this;\n        this.event.trigger('solidityLocalsMessage', ['']);\n        this.traceManager.waterfall([\n            function getStackAt(stepIndex, callback) {\n                try {\n                    const result = self.traceManager.getStackAt(stepIndex);\n                    callback(null, result);\n                }\n                catch (error) {\n                    callback(error);\n                }\n            },\n            function getMemoryAt(stepIndex, callback) {\n                try {\n                    const result = self.traceManager.getMemoryAt(stepIndex);\n                    callback(null, result);\n                }\n                catch (error) {\n                    callback(error);\n                }\n            },\n            function getCurrentCalledAddressAt(stepIndex, next) {\n                try {\n                    let address = self.traceManager.getCurrentCalledAddressAt(stepIndex);\n                    address = 'xdc' + address.substring(2);\n                    next(null, address);\n                }\n                catch (error) {\n                    next(error);\n                }\n            },\n            function getCallDataAt(stepIndex, next) {\n                try {\n                    const calldata = self.traceManager.getCallDataAt(stepIndex);\n                    next(null, calldata);\n                }\n                catch (error) {\n                    next(error);\n                }\n            }\n        ], this.stepManager.currentStepIndex, (error, result) => {\n            if (error) {\n                return error;\n            }\n            var stack = result[0].value;\n            var memory = result[1].value;\n            var calldata = result[3].value;\n            try {\n                var storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: result[2].value }, this.storageResolver, this.traceManager);\n                (0, localDecoder_1.solidityLocals)(this.stepManager.currentStepIndex, this.internalTreeCall, stack, memory, storageViewer, calldata, sourceLocation, cursor).then((locals) => {\n                    if (!cursor) {\n                        if (!locals['error']) {\n                            this.event.trigger('solidityLocals', [locals]);\n                        }\n                        if (!Object.keys(locals).length) {\n                            this.event.trigger('solidityLocalsMessage', ['no locals']);\n                        }\n                    }\n                    else {\n                        if (!locals['error']) {\n                            this.event.trigger('solidityLocalsLoadMoreCompleted', [locals]);\n                        }\n                    }\n                });\n            }\n            catch (e) {\n                this.event.trigger('solidityLocalsMessage', [e.message]);\n            }\n        });\n    }\n    decodeMore(cursor) {\n        let decodeTimeout = null;\n        if (!this.storageResolver)\n            return this.event.trigger('solidityLocalsMessage', ['storage not ready']);\n        if (decodeTimeout)\n            window.clearTimeout(decodeTimeout);\n        decodeTimeout = setTimeout(() => {\n            this.decode(this._sourceLocation, cursor);\n        }, 500);\n    }\n}\nexports.DebuggerSolidityLocals = DebuggerSolidityLocals;\n//# sourceMappingURL=solidityLocals.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebuggerSolidityState = void 0;\nconst eventManager_1 = require(\"../eventManager\");\nconst stateDecoder_1 = require(\"../solidity-decoder/stateDecoder\");\nconst storageViewer_1 = require(\"../storage/storageViewer\");\nclass DebuggerSolidityState {\n    constructor(tx, _stepManager, _traceManager, _codeManager, _solidityProxy) {\n        this.event = new eventManager_1.EventManager();\n        this.storageResolver = null;\n        this.stepManager = _stepManager;\n        this.traceManager = _traceManager;\n        this.codeManager = _codeManager;\n        this.solidityProxy = _solidityProxy;\n        this.stateVariablesByAddresses = {};\n        this.tx = tx;\n    }\n    init(index) {\n        let decodeTimeout = null;\n        if (index < 0) {\n            return this.event.trigger('solidityStateMessage', ['invalid step index']);\n        }\n        if (this.stepManager.currentStepIndex !== index)\n            return;\n        if (!this.solidityProxy.loaded()) {\n            return this.event.trigger('solidityStateMessage', ['invalid step index']);\n        }\n        if (!this.storageResolver) {\n            return;\n        }\n        if (decodeTimeout) {\n            window.clearTimeout(decodeTimeout);\n        }\n        this.event.trigger('solidityStateUpdating');\n        decodeTimeout = setTimeout(() => {\n            // necessary due to some states that can crash the debugger\n            try {\n                this.decode(index);\n            }\n            catch (err) {\n                console.dir('====> error');\n                console.dir(err);\n            }\n        }, 500);\n    }\n    reset() {\n        this.stateVariablesByAddresses = {};\n    }\n    decode(index) {\n        try {\n            let address = this.traceManager.getCurrentCalledAddressAt(this.stepManager.currentStepIndex);\n            address = 'xdc' + address.substring(2);\n            if (this.stateVariablesByAddresses[address]) {\n                return this.extractStateVariables(this.stateVariablesByAddresses[address], address);\n            }\n            this.solidityProxy.extractStateVariablesAt(index).then((stateVars) => {\n                this.stateVariablesByAddresses[address] = stateVars;\n                this.extractStateVariables(stateVars, address);\n            }).catch((_error) => {\n                this.event.trigger('solidityState', [{}]);\n            });\n        }\n        catch (error) {\n            return this.event.trigger('solidityState', [{}]);\n        }\n    }\n    extractStateVariables(stateVars, address) {\n        const storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n        (0, stateDecoder_1.decodeState)(stateVars, storageViewer).then((result) => {\n            this.event.trigger('solidityStateMessage', ['']);\n            if (result['error']) {\n                return this.event.trigger('solidityStateMessage', [result['error']]);\n            }\n            this.event.trigger('solidityState', [result]);\n        });\n    }\n}\nexports.DebuggerSolidityState = DebuggerSolidityState;\n//# sourceMappingURL=solidityState.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebuggerStepManager = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst eventManager_1 = require(\"../eventManager\");\nclass DebuggerStepManager {\n    constructor(_debugger, traceManager) {\n        this.event = new eventManager_1.EventManager();\n        this.debugger = _debugger;\n        this.traceManager = traceManager;\n        this.currentStepIndex = 0;\n        this.traceLength = 0;\n        this.codeTraceLength = 0;\n        this.revertionPoint = null;\n        this.listenToEvents();\n    }\n    listenToEvents() {\n        this.debugger.event.register('newTraceLoaded', this, () => {\n            this.traceManager.getLength((error, newLength) => {\n                if (error) {\n                    return console.log(error);\n                }\n                if (this.traceLength !== newLength) {\n                    this.event.trigger('traceLengthChanged', [newLength]);\n                    this.traceLength = newLength;\n                    this.codeTraceLength = this.calculateCodeLength();\n                }\n                this.jumpTo(0);\n            });\n        });\n        this.debugger.callTree.event.register('callTreeReady', () => {\n            if (this.debugger.callTree.functionCallStack.length) {\n                this.jumpTo(this.debugger.callTree.functionCallStack[0]);\n            }\n        });\n        this.event.register('indexChanged', this, (index) => {\n            if (index < 0)\n                return;\n            if (this.currentStepIndex !== index)\n                return;\n            this.traceManager.buildCallPath(index).then((callsPath) => {\n                this.currentCall = callsPath[callsPath.length - 1];\n                if (this.currentCall.reverted) {\n                    const revertedReason = this.currentCall.outofgas ? 'outofgas' : '';\n                    this.revertionPoint = this.currentCall.return;\n                    return this.event.trigger('revertWarning', [revertedReason]);\n                }\n                for (var k = callsPath.length - 2; k >= 0; k--) {\n                    var parent = callsPath[k];\n                    if (!parent.reverted)\n                        continue;\n                    this.revertionPoint = parent.return;\n                    this.event.trigger('revertWarning', ['parenthasthrown']);\n                }\n                this.event.trigger('revertWarning', ['']);\n            }).catch((error) => {\n                console.log(error);\n                this.event.trigger('revertWarning', ['']);\n            });\n        });\n    }\n    triggerStepChanged(step) {\n        this.traceManager.getLength((error, length) => {\n            let stepState = 'valid';\n            if (error) {\n                stepState = 'invalid';\n            }\n            else if (step <= 0) {\n                stepState = 'initial';\n            }\n            else if (step >= length - 1) {\n                stepState = 'end';\n            }\n            const jumpOutDisabled = (step === this.traceManager.findStepOut(step));\n            this.event.trigger('stepChanged', [step, stepState, jumpOutDisabled]);\n        });\n    }\n    stepIntoBack(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        let step = this.currentStepIndex - 1;\n        this.currentStepIndex = step;\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, -1);\n        }\n        if (!this.traceManager.inRange(step)) {\n            return;\n        }\n        this.triggerStepChanged(step);\n    }\n    stepIntoForward(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        let step = this.currentStepIndex + 1;\n        this.currentStepIndex = step;\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, 1);\n        }\n        if (!this.traceManager.inRange(step)) {\n            return;\n        }\n        this.triggerStepChanged(step);\n    }\n    stepOverBack(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        let step = this.traceManager.findStepOverBack(this.currentStepIndex);\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, -1);\n        }\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    stepOverForward(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        if (this.currentStepIndex >= this.traceLength - 1)\n            return;\n        let step = this.currentStepIndex + 1;\n        const scope = this.debugger.callTree.findScope(step);\n        if (scope && scope.firstStep === step) {\n            step = scope.lastStep + 1;\n        }\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, 1);\n        }\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    jumpOut(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        var step = this.traceManager.findStepOut(this.currentStepIndex);\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, 0);\n        }\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    jumpTo(step) {\n        if (!this.traceManager.inRange(step))\n            return;\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    jumpToException() {\n        this.jumpTo(this.revertionPoint);\n    }\n    jumpNextBreakpoint() {\n        this.debugger.breakpointManager.jumpNextBreakpoint(this.currentStepIndex, true);\n    }\n    jumpPreviousBreakpoint() {\n        this.debugger.breakpointManager.jumpPreviousBreakpoint(this.currentStepIndex, true);\n    }\n    calculateFirstStep() {\n        const step = this.resolveToReducedTrace(0, 1);\n        return this.resolveToReducedTrace(step, 1);\n    }\n    calculateCodeStepList() {\n        let step = 0;\n        let steps = [];\n        while (step < this.traceLength) {\n            const _step = this.resolveToReducedTrace(step, 1);\n            if (!_step)\n                break;\n            steps.push(_step);\n            step += 1;\n        }\n        steps = steps.filter((item, pos, self) => { return steps.indexOf(item) === pos; });\n        return steps;\n    }\n    calculateCodeLength() {\n        this.calculateCodeStepList().reverse();\n        return this.calculateCodeStepList().reverse()[1] || this.traceLength;\n    }\n    nextStep() {\n        return this.resolveToReducedTrace(this.currentStepIndex, 1);\n    }\n    previousStep() {\n        return this.resolveToReducedTrace(this.currentStepIndex, -1);\n    }\n    resolveToReducedTrace(value, incr) {\n        if (!this.debugger.callTree.reducedTrace.length) {\n            return value;\n        }\n        var nextSource = remix_lib_1.util.findClosestIndex(value, this.debugger.callTree.reducedTrace);\n        nextSource = nextSource + incr;\n        if (nextSource <= 0) {\n            nextSource = 0;\n        }\n        else if (nextSource > this.debugger.callTree.reducedTrace.length) {\n            nextSource = this.debugger.callTree.reducedTrace.length - 1;\n        }\n        return this.debugger.callTree.reducedTrace[nextSource];\n    }\n}\nexports.DebuggerStepManager = DebuggerStepManager;\n//# sourceMappingURL=stepManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventManager = void 0;\nclass EventManager {\n    constructor() {\n        this.registered = {};\n        this.anonymous = {};\n    }\n    /*\n      * Unregister a listener.\n      * Note that if obj is a function. the unregistration will be applied to the dummy obj {}.\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    unregister(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        for (const reg in this.registered[eventName]) {\n            if (this.registered[eventName][reg].obj === obj && this.registered[eventName][reg].func === func) {\n                this.registered[eventName].splice(reg, 1);\n            }\n        }\n    }\n    /*\n      * Register a new listener.\n      * Note that if obj is a function, the function registration will be associated with the dummy object {}\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    register(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            this.registered[eventName] = [];\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        this.registered[eventName].push({\n            obj: obj,\n            func: func\n        });\n    }\n    /*\n      * trigger event.\n      * Every listener have their associated function executed\n      *\n      * @param {String} eventName  - the event name\n      * @param {Array}j - argument that will be passed to the executed function.\n    */\n    trigger(eventName, args) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        for (const listener in this.registered[eventName]) {\n            const l = this.registered[eventName][listener];\n            if (l.func)\n                l.func.apply(l.obj === this.anonymous ? {} : l.obj, args);\n        }\n    }\n}\nexports.EventManager = EventManager;\n//# sourceMappingURL=eventManager.js.map","'use strict';\nconst tslib_1 = require(\"tslib\");\nconst init = (0, tslib_1.__importStar)(require(\"./init\"));\nconst Ethdebugger_1 = require(\"./Ethdebugger\");\nconst debugger_1 = require(\"./debugger/debugger\");\nconst cmdline_1 = require(\"./cmdline\");\nconst storageViewer_1 = require(\"./storage/storageViewer\");\nconst storageResolver_1 = require(\"./storage/storageResolver\");\nconst SolidityDecoder = (0, tslib_1.__importStar)(require(\"./solidity-decoder\"));\nconst breakpointManager_1 = require(\"./code/breakpointManager\");\nconst sourceMappingDecoder = (0, tslib_1.__importStar)(require(\"./source/sourceMappingDecoder\"));\nconst traceHelper = (0, tslib_1.__importStar)(require(\"./trace/traceHelper\"));\nmodule.exports = {\n    init,\n    traceHelper,\n    sourceMappingDecoder,\n    EthDebugger: Ethdebugger_1.Ethdebugger,\n    TransactionDebugger: debugger_1.Debugger,\n    /**\n     * constructor\n     *\n     * @param {Object} _debugger - type of EthDebugger\n     * @return {Function} _locationToRowConverter - function implemented by editor which return a column/line position for a char source location\n     */\n    BreakpointManager: breakpointManager_1.BreakpointManager,\n    SolidityDecoder,\n    storage: {\n        StorageViewer: storageViewer_1.StorageViewer,\n        StorageResolver: storageResolver_1.StorageResolver\n    },\n    CmdLine: cmdline_1.CmdLine\n};\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extend = exports.web3DebugNode = exports.setProvider = exports.extendWeb3 = exports.loadWeb3 = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nfunction loadWeb3(url) {\n    if (!url)\n        url = 'http://localhost:8545';\n    const web3 = new web3_1.default();\n    web3.setProvider(new web3_1.default.providers.HttpProvider(url));\n    extend(web3);\n    return web3;\n}\nexports.loadWeb3 = loadWeb3;\nfunction extendWeb3(web3) {\n    extend(web3);\n}\nexports.extendWeb3 = extendWeb3;\nfunction setProvider(web3, url) {\n    web3.setProvider(new web3.providers.HttpProvider(url));\n}\nexports.setProvider = setProvider;\nfunction web3DebugNode(network) {\n    const web3DebugNodes = {\n        Main: 'https://rpc.archivenode.io/e50zmkroshle2e2e50zm0044i7ao04ym',\n        Rinkeby: 'https://remix-rinkeby.ethdevops.io',\n        Ropsten: 'https://remix-ropsten.ethdevops.io',\n        Goerli: 'https://remix-goerli.ethdevops.io'\n    };\n    if (web3DebugNodes[network]) {\n        return loadWeb3(web3DebugNodes[network]);\n    }\n    return null;\n}\nexports.web3DebugNode = web3DebugNode;\nfunction extend(web3) {\n    if (!web3.extend) {\n        return;\n    }\n    // DEBUG\n    const methods = [];\n    if (!(web3.debug && web3.debug.preimage)) {\n        methods.push(new web3.extend.Method({\n            name: 'preimage',\n            call: 'debug_preimage',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (!(web3.debug && web3.debug.traceTransaction)) {\n        methods.push(new web3.extend.Method({\n            name: 'traceTransaction',\n            call: 'debug_traceTransaction',\n            inputFormatter: [null, null],\n            params: 2\n        }));\n    }\n    if (!(web3.debug && web3.debug.storageRangeAt)) {\n        methods.push(new web3.extend.Method({\n            name: 'storageRangeAt',\n            call: 'debug_storageRangeAt',\n            inputFormatter: [null, null, null, null, null],\n            params: 5\n        }));\n    }\n    if (methods.length > 0) {\n        web3.extend({\n            property: 'debug',\n            methods: methods,\n            properties: []\n        });\n    }\n}\nexports.extend = extend;\n//# sourceMappingURL=init.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractStatesDefinitions = exports.extractStateDefinitions = exports.getLinearizedBaseContracts = exports.extractOrphanDefinitions = exports.extractContractDefinitions = void 0;\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\n/**\n  * return all contract definitions of the given @astList\n  *\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @return {Object} - returns a mapping from AST node ids to AST nodes for the contracts\n  */\nfunction extractContractDefinitions(sourcesList) {\n    const ret = {\n        contractsById: {},\n        contractsByName: {},\n        sourcesByContract: {}\n    };\n    const walker = new remix_astwalker_1.AstWalker();\n    for (const k in sourcesList) {\n        walker.walkFull(sourcesList[k].ast, (node) => {\n            if (node.nodeType === 'ContractDefinition') {\n                ret.contractsById[node.id] = node;\n                ret.sourcesByContract[node.id] = k;\n                ret.contractsByName[k + ':' + node.name] = node;\n            }\n        });\n    }\n    return ret;\n}\nexports.extractContractDefinitions = extractContractDefinitions;\n/**\n  * return nodes from an ast @arg sourcesList that are declared outside of a ContractDefinition @astList\n  *\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @return {Object} - returns a list of node\n  */\nfunction extractOrphanDefinitions(sourcesList) {\n    const ret = [];\n    for (const k in sourcesList) {\n        const ast = sourcesList[k].ast;\n        if (ast.nodes && ast.nodes.length) {\n            for (const node of ast.nodes) {\n                if (node.nodeType !== 'ContractDefinition') {\n                    ret.push(node);\n                }\n            }\n        }\n    }\n    return ret;\n}\nexports.extractOrphanDefinitions = extractOrphanDefinitions;\n/**\n  * returns the linearized base contracts of the contract @arg id\n  *\n  * @param {Int} id - contract id to resolve\n  * @param {Map} contracts  - all contracts defined in the current context\n  * @return {Array} - array of base contracts in derived to base order as AST nodes.\n  */\nfunction getLinearizedBaseContracts(id, contractsById) {\n    return contractsById[id].linearizedBaseContracts.map(function (id) { return contractsById[id]; });\n}\nexports.getLinearizedBaseContracts = getLinearizedBaseContracts;\n/**\n  * return state var and type definition of the given contract\n  *\n  * @param {String} contractName - contract for which state var should be resolved\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @param {Object} [contracts] - map of contract definitions (contains contractsById, contractsByName)\n  * @return {Object} - return an object containing: stateItems - list of all the children node of the @arg contractName\n  *                                                 stateVariables - list of all the variable declaration of the @arg contractName\n  */\nfunction extractStateDefinitions(contractName, sourcesList, contracts) {\n    if (!contracts) {\n        contracts = extractContractDefinitions(sourcesList);\n    }\n    const node = contracts.contractsByName[contractName];\n    if (!node) {\n        return null;\n    }\n    const stateItems = extractOrphanDefinitions(sourcesList);\n    const stateVar = [];\n    const baseContracts = getLinearizedBaseContracts(node.id, contracts.contractsById);\n    baseContracts.reverse();\n    for (const k in baseContracts) {\n        const ctr = baseContracts[k];\n        for (const i in ctr.nodes) {\n            const item = ctr.nodes[i];\n            stateItems.push(item);\n            if (item.nodeType === 'VariableDeclaration') {\n                stateVar.push(item);\n            }\n        }\n    }\n    return { stateDefinitions: stateItems, stateVariables: stateVar };\n}\nexports.extractStateDefinitions = extractStateDefinitions;\n/**\n  * return state var and type definition of all the contracts from the given @args sourcesList\n  *\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @param {Object} [contracts] - map of contract definitions (contains contractsById, contractsByName)\n  * @return {Object} - returns a mapping between contract name and contract state\n  */\nfunction extractStatesDefinitions(sourcesList, contracts) {\n    if (!contracts) {\n        contracts = extractContractDefinitions(sourcesList);\n    }\n    const ret = {};\n    for (const contract in contracts.contractsById) {\n        const name = contracts.contractsById[contract].name;\n        const source = contracts.sourcesByContract[contract];\n        const fullName = source + ':' + name;\n        const state = extractStateDefinitions(fullName, sourcesList, contracts);\n        ret[fullName] = state;\n        ret[name] = state; // solc < 0.4.9\n    }\n    return ret;\n}\nexports.extractStatesDefinitions = extractStatesDefinitions;\n//# sourceMappingURL=astHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Struct = exports.Enum = exports.Array = exports.String = exports.Int = exports.FixedByteArray = exports.DynamicByteArray = exports.Bool = exports.Address = exports.Uint = exports.computeOffsets = exports.parseType = void 0;\nconst Address_1 = require(\"./types/Address\");\nconst ArrayType_1 = require(\"./types/ArrayType\");\nconst Bool_1 = require(\"./types/Bool\");\nconst DynamicByteArray_1 = require(\"./types/DynamicByteArray\");\nconst FixedByteArray_1 = require(\"./types/FixedByteArray\");\nconst Enum_1 = require(\"./types/Enum\");\nconst StringType_1 = require(\"./types/StringType\");\nconst Struct_1 = require(\"./types/Struct\");\nconst Int_1 = require(\"./types/Int\");\nconst Uint_1 = require(\"./types/Uint\");\nconst Mapping_1 = require(\"./types/Mapping\");\nconst util_1 = require(\"./types/util\");\n/**\n  * mapping decode the given @arg type\n  *\n  * @param {String} type - type given by the AST\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction mapping(type, stateDefinitions, contractName) {\n    const match = type.match(/mapping\\((.*?)=>(.*)\\)$/);\n    const keyTypeName = match[1].trim();\n    const valueTypeName = match[2].trim();\n    const keyType = parseType(keyTypeName, stateDefinitions, contractName, 'storage');\n    const valueType = parseType(valueTypeName, stateDefinitions, contractName, 'storage');\n    var underlyingTypes = {\n        keyType: keyType,\n        valueType: valueType\n    };\n    return new Mapping_1.Mapping(underlyingTypes, 'location', (0, util_1.removeLocation)(type));\n}\n/**\n  * Uint decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g uint256, uint32)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction uint(type) {\n    type = type === 'uint' ? 'uint256' : type;\n    const storageBytes = parseInt(type.replace('uint', '')) / 8;\n    return new Uint_1.Uint(storageBytes);\n}\nexports.Uint = uint;\n/**\n  * Int decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g int256, int32)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction int(type) {\n    type = type === 'int' ? 'int256' : type;\n    const storageBytes = parseInt(type.replace('int', '')) / 8;\n    return new Int_1.Int(storageBytes);\n}\nexports.Int = int;\n/**\n  * Address decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g address)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction address(type) {\n    return new Address_1.Address();\n}\nexports.Address = address;\n/**\n  * Bool decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g bool)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction bool(type) {\n    return new Bool_1.Bool();\n}\nexports.Bool = bool;\n/**\n  * DynamicByteArray decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g bytes storage ref)\n  * @param {null} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {null} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction dynamicByteArray(type, stateDefinitions, contractName, location) {\n    if (!location) {\n        location = (0, util_1.extractLocation)(type);\n    }\n    if (location) {\n        return new DynamicByteArray_1.DynamicByteArray(location);\n    }\n    else {\n        return null;\n    }\n}\nexports.DynamicByteArray = dynamicByteArray;\n/**\n  * FixedByteArray decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g bytes16)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction fixedByteArray(type) {\n    const storageBytes = parseInt(type.replace('bytes', ''));\n    return new FixedByteArray_1.FixedByteArray(storageBytes);\n}\nexports.FixedByteArray = fixedByteArray;\n/**\n  * StringType decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g string storage ref)\n  * @param {null} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {null} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction stringType(type, stateDefinitions, contractName, location) {\n    if (!location) {\n        location = (0, util_1.extractLocation)(type);\n    }\n    if (location) {\n        return new StringType_1.StringType(location);\n    }\n    else {\n        return null;\n    }\n}\nexports.String = stringType;\n/**\n  * ArrayType decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g int256[] storage ref, int256[] storage ref[] storage ref)\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName, arraySize, subArray}\n  */\nfunction array(type, stateDefinitions, contractName, location) {\n    const match = type.match(/(.*)\\[(.*?)\\]( storage ref| storage pointer| memory| calldata)?$/);\n    if (!match) {\n        console.log('unable to parse type ' + type);\n        return null;\n    }\n    if (!location) {\n        location = match[3].trim();\n    }\n    const arraySize = match[2] === '' ? 'dynamic' : parseInt(match[2]);\n    const underlyingType = parseType(match[1], stateDefinitions, contractName, location);\n    if (underlyingType === null) {\n        console.log('unable to parse type ' + type);\n        return null;\n    }\n    return new ArrayType_1.ArrayType(underlyingType, arraySize, location);\n}\nexports.Array = array;\n/**\n  * Enum decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g enum enumDef)\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName, enum}\n  */\nfunction enumType(type, stateDefinitions, contractName) {\n    const match = type.match(/enum (.*)/);\n    const enumDef = getEnum(match[1], stateDefinitions, contractName);\n    if (enumDef === null) {\n        console.log('unable to retrieve decode info of ' + type);\n        return null;\n    }\n    return new Enum_1.Enum(enumDef);\n}\nexports.Enum = enumType;\n/**\n  * Struct decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g struct structDef storage ref)\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName, members}\n  */\nfunction struct(type, stateDefinitions, contractName, location) {\n    const match = type.match(/struct (\\S*?)( storage ref| storage pointer| memory| calldata)?$/);\n    if (match) {\n        if (!location) {\n            location = match[2].trim();\n        }\n        const memberDetails = getStructMembers(match[1], stateDefinitions, contractName, location); // type is used to extract the ast struct definition\n        if (!memberDetails)\n            return null;\n        return new Struct_1.Struct(memberDetails, location, match[1]);\n    }\n    else {\n        return null;\n    }\n}\nexports.Struct = struct;\n/**\n  * retrieve enum declaration of the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g enum enumDef)\n  * @param {Object} stateDefinitions  - all state declarations given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @return {Array} - containing all value declaration of the current enum type\n  */\nfunction getEnum(type, stateDefinitions, contractName) {\n    const split = type.split('.');\n    if (!split.length) {\n        type = contractName + '.' + type;\n    }\n    else {\n        contractName = split[0];\n    }\n    const state = stateDefinitions[contractName];\n    if (state) {\n        for (const dec of state.stateDefinitions) {\n            if (dec && dec.name && type === contractName + '.' + dec.name) {\n                return dec;\n            }\n        }\n    }\n    return null;\n}\n/**\n  * retrieve memebers declared in the given @arg tye\n  *\n  * @param {String} typeName - name of the struct type (e.g struct <name>)\n  * @param {Object} stateDefinitions  - all state definition given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Array} containing all members of the current struct type\n  */\nfunction getStructMembers(type, stateDefinitions, contractName, location) {\n    if (type.indexOf('.') === -1) {\n        type = contractName + '.' + type;\n    }\n    if (!contractName) {\n        contractName = type.split('.')[0];\n    }\n    const state = stateDefinitions[contractName];\n    if (state) {\n        for (const dec of state.stateDefinitions) {\n            if (dec.nodeType === 'StructDefinition' && type === contractName + '.' + dec.name) {\n                const offsets = computeOffsets(dec.members, stateDefinitions, contractName, location);\n                if (!offsets) {\n                    return null;\n                }\n                return {\n                    members: offsets.typesOffsets,\n                    storageSlots: offsets.endLocation.slot\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n  * parse the full type\n  *\n  * @param {String} fullType - type given by the AST (ex: uint[2] storage ref[2])\n  * @return {String} returns the token type (used to instanciate the right decoder) (uint[2] storage ref[2] will return 'array', uint256 will return uintX)\n  */\nfunction typeClass(fullType) {\n    fullType = (0, util_1.removeLocation)(fullType);\n    if (fullType.lastIndexOf(']') === fullType.length - 1) {\n        return 'array';\n    }\n    if (fullType.indexOf('mapping') === 0) {\n        return 'mapping';\n    }\n    if (fullType.indexOf(' ') !== -1) {\n        fullType = fullType.split(' ')[0];\n    }\n    const char = fullType.indexOf('bytes') === 0 ? 'X' : '';\n    return fullType.replace(/[0-9]+/g, char);\n}\n/**\n  * parse the type and return an object representing the type\n  *\n  * @param {Object} type - type name given by the ast node\n  * @param {Object} stateDefinitions - all state stateDefinitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} - return the corresponding decoder or null on error\n  */\nfunction parseType(type, stateDefinitions, contractName, location) {\n    const decodeInfos = {\n        contract: address,\n        address: address,\n        array: array,\n        bool: bool,\n        bytes: dynamicByteArray,\n        bytesX: fixedByteArray,\n        enum: enumType,\n        string: stringType,\n        struct: struct,\n        int: int,\n        uint: uint,\n        mapping: mapping\n    };\n    const currentType = typeClass(type);\n    if (currentType === null) {\n        console.log('unable to retrieve decode info of ' + type);\n        return null;\n    }\n    if (decodeInfos[currentType]) {\n        return decodeInfos[currentType](type, stateDefinitions, contractName, location);\n    }\n    else {\n        return null;\n    }\n}\nexports.parseType = parseType;\n/**\n  * compute offset (slot offset and byte offset of the @arg list of types)\n  *\n  * @param {Array} types - list of types\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Array} - return an array of types item: {name, type, location}. location defines the byte offset and slot offset\n  */\nfunction computeOffsets(types, stateDefinitions, contractName, location) {\n    const ret = [];\n    const storagelocation = {\n        offset: 0,\n        slot: 0\n    };\n    for (var i in types) {\n        var variable = types[i];\n        var type = parseType(variable.typeDescriptions.typeString, stateDefinitions, contractName, location);\n        if (!type) {\n            console.log('unable to retrieve decode info of ' + variable.typeDescriptions.typeString);\n            return null;\n        }\n        const immutable = variable.mutability === 'immutable';\n        const hasStorageSlots = !immutable && !variable.constant;\n        if (hasStorageSlots && storagelocation.offset + type.storageBytes > 32) {\n            storagelocation.slot++;\n            storagelocation.offset = 0;\n        }\n        ret.push({\n            name: variable.name,\n            type: type,\n            constant: variable.constant,\n            immutable,\n            storagelocation: {\n                offset: !hasStorageSlots ? 0 : storagelocation.offset,\n                slot: !hasStorageSlots ? 0 : storagelocation.slot\n            }\n        });\n        if (hasStorageSlots) {\n            if (type.storageSlots === 1 && storagelocation.offset + type.storageBytes <= 32) {\n                storagelocation.offset += type.storageBytes;\n            }\n            else {\n                storagelocation.slot += type.storageSlots;\n                storagelocation.offset = 0;\n            }\n        }\n    }\n    if (storagelocation.offset > 0) {\n        storagelocation.slot++;\n    }\n    return {\n        typesOffsets: ret,\n        endLocation: storagelocation\n    };\n}\nexports.computeOffsets = computeOffsets;\n//# sourceMappingURL=decodeInfo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalCallTree = exports.localDecoder = exports.stateDecoder = exports.SolidityProxy = void 0;\nconst tslib_1 = require(\"tslib\");\nconst solidityProxy_1 = require(\"./solidityProxy\");\nObject.defineProperty(exports, \"SolidityProxy\", { enumerable: true, get: function () { return solidityProxy_1.SolidityProxy; } });\nconst stateDecoder = (0, tslib_1.__importStar)(require(\"./stateDecoder\"));\nexports.stateDecoder = stateDecoder;\nconst localDecoder = (0, tslib_1.__importStar)(require(\"./localDecoder\"));\nexports.localDecoder = localDecoder;\nconst internalCallTree_1 = require(\"./internalCallTree\");\nObject.defineProperty(exports, \"InternalCallTree\", { enumerable: true, get: function () { return internalCallTree_1.InternalCallTree; } });\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalCallTree = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst sourceLocationTracker_1 = require(\"../source/sourceLocationTracker\");\nconst eventManager_1 = require(\"../eventManager\");\nconst decodeInfo_1 = require(\"./decodeInfo\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst util_1 = require(\"./types/util\");\n/**\n * Tree representing internal jump into function.\n * Triggers `callTreeReady` event when tree is ready\n * Triggers `callTreeBuildFailed` event when tree fails to build\n */\nclass InternalCallTree {\n    /**\n      * constructor\n      *\n      * @param {Object} debuggerEvent  - event declared by the debugger (EthDebugger)\n      * @param {Object} traceManager  - trace manager\n      * @param {Object} solidityProxy  - solidity proxy\n      * @param {Object} codeManager  - code manager\n      * @param {Object} opts  - { includeLocalVariables, debugWithGeneratedSources }\n      */\n    constructor(debuggerEvent, traceManager, solidityProxy, codeManager, opts) {\n        this.includeLocalVariables = opts.includeLocalVariables;\n        this.debugWithGeneratedSources = opts.debugWithGeneratedSources;\n        this.event = new eventManager_1.EventManager();\n        this.solidityProxy = solidityProxy;\n        this.traceManager = traceManager;\n        this.sourceLocationTracker = new sourceLocationTracker_1.SourceLocationTracker(codeManager, { debugWithGeneratedSources: opts.debugWithGeneratedSources });\n        debuggerEvent.register('newTraceLoaded', (trace) => {\n            this.reset();\n            if (!this.solidityProxy.loaded()) {\n                this.event.trigger('callTreeBuildFailed', ['compilation result not loaded. Cannot build internal call tree']);\n            }\n            else {\n                // each recursive call to buildTree represent a new context (either call, delegatecall, internal function)\n                const calledAddress = traceManager.getCurrentCalledAddressAt(0);\n                const isCreation = (0, traceHelper_1.isContractCreation)(calledAddress);\n                buildTree(this, 0, '', true, isCreation).then((result) => {\n                    if (result.error) {\n                        this.event.trigger('callTreeBuildFailed', [result.error]);\n                    }\n                    else {\n                        createReducedTrace(this, traceManager.trace.length - 1);\n                        this.event.trigger('callTreeReady', [this.scopes, this.scopeStarts]);\n                    }\n                }, (reason) => {\n                    console.log('analyzing trace falls ' + reason);\n                    this.event.trigger('callTreeNotReady', [reason]);\n                });\n            }\n        });\n    }\n    /**\n      * reset tree\n      *\n      */\n    reset() {\n        /*\n          scopes: map of scopes defined by range in the vmtrace {firstStep, lastStep, locals}.\n          Keys represent the level of deepness (scopeId)\n          scopeId : <currentscope_id>.<sub_scope_id>.<sub_sub_scope_id>\n        */\n        this.scopes = {};\n        /*\n          scopeStart: represent start of a new scope. Keys are index in the vmtrace, values are scopeId\n        */\n        this.sourceLocationTracker.clearCache();\n        this.functionCallStack = [];\n        this.functionDefinitionsByScope = {};\n        this.scopeStarts = {};\n        this.variableDeclarationByFile = {};\n        this.functionDefinitionByFile = {};\n        this.astWalker = new remix_astwalker_1.AstWalker();\n        this.reducedTrace = [];\n    }\n    /**\n      * find the scope given @arg vmTraceIndex\n      *\n      * @param {Int} vmtraceIndex  - index on the vm trace\n      */\n    findScope(vmtraceIndex) {\n        let scopeId = this.findScopeId(vmtraceIndex);\n        if (scopeId !== '' && !scopeId)\n            return null;\n        let scope = this.scopes[scopeId];\n        while (scope.lastStep && scope.lastStep < vmtraceIndex && scope.firstStep > 0) {\n            scopeId = this.parentScope(scopeId);\n            scope = this.scopes[scopeId];\n        }\n        return scope;\n    }\n    parentScope(scopeId) {\n        if (scopeId.indexOf('.') === -1)\n            return '';\n        return scopeId.replace(/(\\.\\d+)$/, '');\n    }\n    findScopeId(vmtraceIndex) {\n        const scopes = Object.keys(this.scopeStarts);\n        if (!scopes.length)\n            return null;\n        const scopeStart = remix_lib_1.util.findLowerBoundValue(vmtraceIndex, scopes);\n        return this.scopeStarts[scopeStart];\n    }\n    retrieveFunctionsStack(vmtraceIndex) {\n        const scope = this.findScope(vmtraceIndex);\n        if (!scope)\n            return [];\n        let scopeId = this.scopeStarts[scope.firstStep];\n        const functions = [];\n        if (!scopeId)\n            return functions;\n        let i = 0;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            i += 1;\n            if (i > 1000)\n                throw new Error('retrieFunctionStack: recursion too deep');\n            const functionDefinition = this.functionDefinitionsByScope[scopeId];\n            if (functionDefinition !== undefined) {\n                functions.push(functionDefinition);\n            }\n            const parent = this.parentScope(scopeId);\n            if (!parent)\n                break;\n            else\n                scopeId = parent;\n        }\n        return functions;\n    }\n    extractSourceLocation(step) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                let address = this.traceManager.getCurrentCalledAddressAt(step);\n                address = 'xdc' + address.substring(2);\n                const location = yield this.sourceLocationTracker.getSourceLocationFromVMTraceIndex(address, step, this.solidityProxy.contracts);\n                return location;\n            }\n            catch (error) {\n                throw new Error('InternalCallTree - Cannot retrieve sourcelocation for step ' + step + ' ' + error);\n            }\n        });\n    }\n    extractValidSourceLocation(step) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                let address = this.traceManager.getCurrentCalledAddressAt(step);\n                address = 'xdc' + address.substring(2);\n                const location = yield this.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, step, this.solidityProxy.contracts);\n                return location;\n            }\n            catch (error) {\n                throw new Error('InternalCallTree - Cannot retrieve valid sourcelocation for step ' + step + ' ' + error);\n            }\n        });\n    }\n}\nexports.InternalCallTree = InternalCallTree;\nfunction buildTree(tree, step, scopeId, isExternalCall, isCreation) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        let subScope = 1;\n        tree.scopeStarts[step] = scopeId;\n        tree.scopes[scopeId] = { firstStep: step, locals: {}, isCreation };\n        function callDepthChange(step, trace) {\n            if (step + 1 < trace.length) {\n                return trace[step].depth !== trace[step + 1].depth;\n            }\n            return false;\n        }\n        function includedSource(source, included) {\n            return (included.start !== -1 &&\n                included.length !== -1 &&\n                included.file !== -1 &&\n                included.start >= source.start &&\n                included.start + included.length <= source.start + source.length &&\n                included.file === source.file);\n        }\n        let currentSourceLocation = { start: -1, length: -1, file: -1 };\n        let previousSourceLocation = currentSourceLocation;\n        while (step < tree.traceManager.trace.length) {\n            let sourceLocation;\n            let newLocation = false;\n            try {\n                sourceLocation = yield tree.extractSourceLocation(step);\n                if (!includedSource(sourceLocation, currentSourceLocation)) {\n                    tree.reducedTrace.push(step);\n                    currentSourceLocation = sourceLocation;\n                    newLocation = true;\n                }\n            }\n            catch (e) {\n                return { outStep: step, error: 'InternalCallTree - Error resolving source location. ' + step + ' ' + e };\n            }\n            if (!sourceLocation) {\n                return { outStep: step, error: 'InternalCallTree - No source Location. ' + step };\n            }\n            const isCallInstrn = (0, traceHelper_1.isCallInstruction)(tree.traceManager.trace[step]);\n            const isCreateInstrn = (0, traceHelper_1.isCreateInstruction)(tree.traceManager.trace[step]);\n            // we are checking if we are jumping in a new CALL or in an internal function\n            if (isCallInstrn || sourceLocation.jump === 'i') {\n                try {\n                    const externalCallResult = yield buildTree(tree, step + 1, scopeId === '' ? subScope.toString() : scopeId + '.' + subScope, isCallInstrn, isCreateInstrn);\n                    if (externalCallResult.error) {\n                        return { outStep: step, error: 'InternalCallTree - ' + externalCallResult.error };\n                    }\n                    else {\n                        step = externalCallResult.outStep;\n                        subScope++;\n                    }\n                }\n                catch (e) {\n                    return { outStep: step, error: 'InternalCallTree - ' + e.message };\n                }\n            }\n            else if ((isExternalCall && callDepthChange(step, tree.traceManager.trace)) || (!isExternalCall && sourceLocation.jump === 'o')) {\n                // if not, we might be returning from a CALL or internal function. This is what is checked here.\n                tree.scopes[scopeId].lastStep = step;\n                return { outStep: step + 1 };\n            }\n            else {\n                // if not, we are in the current scope.\n                // We check in `includeVariableDeclaration` if there is a new local variable in scope for this specific `step`\n                if (tree.includeLocalVariables) {\n                    yield includeVariableDeclaration(tree, step, sourceLocation, scopeId, newLocation, previousSourceLocation);\n                }\n                previousSourceLocation = sourceLocation;\n                step++;\n            }\n        }\n        return { outStep: step };\n    });\n}\n// the reduced trace contain an entry only if that correspond to a new source location\nfunction createReducedTrace(tree, index) {\n    tree.reducedTrace.push(index);\n}\nfunction getGeneratedSources(tree, scopeId, contractObj) {\n    if (tree.debugWithGeneratedSources && contractObj && tree.scopes[scopeId]) {\n        return tree.scopes[scopeId].isCreation ? contractObj.contract.evm.bytecode.generatedSources : contractObj.contract.evm.deployedBytecode.generatedSources;\n    }\n    return null;\n}\nfunction includeVariableDeclaration(tree, step, sourceLocation, scopeId, newLocation, previousSourceLocation) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const contractObj = yield tree.solidityProxy.contractObjectAt(step);\n        let states = null;\n        const generatedSources = getGeneratedSources(tree, scopeId, contractObj);\n        const variableDeclarations = resolveVariableDeclaration(tree, sourceLocation, generatedSources);\n        // using the vm trace step, the current source location and the ast,\n        // we check if the current vm trace step target a new ast node of type VariableDeclaration\n        // that way we know that there is a new local variable from here.\n        if (variableDeclarations && variableDeclarations.length) {\n            for (const variableDeclaration of variableDeclarations) {\n                if (variableDeclaration && !tree.scopes[scopeId].locals[variableDeclaration.name]) {\n                    try {\n                        const stack = tree.traceManager.getStackAt(step);\n                        // the stack length at this point is where the value of the new local variable will be stored.\n                        // so, either this is the direct value, or the offset in memory. That depends on the type.\n                        if (variableDeclaration.name !== '') {\n                            states = tree.solidityProxy.extractStatesDefinitions();\n                            var location = (0, util_1.extractLocationFromAstVariable)(variableDeclaration);\n                            location = location === 'default' ? 'storage' : location;\n                            // we push the new local variable in our tree\n                            tree.scopes[scopeId].locals[variableDeclaration.name] = {\n                                name: variableDeclaration.name,\n                                type: (0, decodeInfo_1.parseType)(variableDeclaration.typeDescriptions.typeString, states, contractObj.name, location),\n                                stackDepth: stack.length,\n                                sourceLocation: sourceLocation\n                            };\n                        }\n                    }\n                    catch (error) {\n                        console.log(error);\n                    }\n                }\n            }\n        }\n        // we check here if we are at the beginning inside a new function.\n        // if that is the case, we have to add to locals tree the inputs and output params\n        const functionDefinition = resolveFunctionDefinition(tree, previousSourceLocation, generatedSources);\n        if (!functionDefinition)\n            return;\n        const previousIsJumpDest2 = (0, traceHelper_1.isJumpDestInstruction)(tree.traceManager.trace[step - 2]);\n        const previousIsJumpDest1 = (0, traceHelper_1.isJumpDestInstruction)(tree.traceManager.trace[step - 1]);\n        const isConstructor = functionDefinition.kind === 'constructor';\n        if (newLocation && (previousIsJumpDest1 || previousIsJumpDest2 || isConstructor)) {\n            tree.functionCallStack.push(step);\n            const functionDefinitionAndInputs = { functionDefinition, inputs: [] };\n            // means: the previous location was a function definition && JUMPDEST\n            // => we are at the beginning of the function and input/output are setup\n            try {\n                const stack = tree.traceManager.getStackAt(step);\n                states = tree.solidityProxy.extractStatesDefinitions();\n                if (functionDefinition.parameters) {\n                    const inputs = functionDefinition.parameters;\n                    const outputs = functionDefinition.returnParameters;\n                    // for (const element of functionDefinition.parameters) {\n                    //   if (element.nodeType === 'ParameterList') {\n                    //     if (!inputs) inputs = element\n                    //     else {\n                    //       outputs = element\n                    //       break\n                    //     }\n                    //   }\n                    // }\n                    // input params\n                    if (inputs && inputs.parameters) {\n                        functionDefinitionAndInputs.inputs = addParams(inputs, tree, scopeId, states, contractObj, previousSourceLocation, stack.length, inputs.parameters.length, -1);\n                    }\n                    // output params\n                    if (outputs)\n                        addParams(outputs, tree, scopeId, states, contractObj, previousSourceLocation, stack.length, 0, 1);\n                }\n            }\n            catch (error) {\n                console.log(error);\n            }\n            tree.functionDefinitionsByScope[scopeId] = functionDefinitionAndInputs;\n        }\n    });\n}\n// this extract all the variable declaration for a given ast and file\n// and keep this in a cache\nfunction resolveVariableDeclaration(tree, sourceLocation, generatedSources) {\n    if (!tree.variableDeclarationByFile[sourceLocation.file]) {\n        const ast = tree.solidityProxy.ast(sourceLocation, generatedSources);\n        if (ast) {\n            tree.variableDeclarationByFile[sourceLocation.file] = extractVariableDeclarations(ast, tree.astWalker);\n        }\n        else {\n            return null;\n        }\n    }\n    return tree.variableDeclarationByFile[sourceLocation.file][sourceLocation.start + ':' + sourceLocation.length + ':' + sourceLocation.file];\n}\n// this extract all the function definition for a given ast and file\n// and keep this in a cache\nfunction resolveFunctionDefinition(tree, sourceLocation, generatedSources) {\n    if (!tree.functionDefinitionByFile[sourceLocation.file]) {\n        const ast = tree.solidityProxy.ast(sourceLocation, generatedSources);\n        if (ast) {\n            tree.functionDefinitionByFile[sourceLocation.file] = extractFunctionDefinitions(ast, tree.astWalker);\n        }\n        else {\n            return null;\n        }\n    }\n    return tree.functionDefinitionByFile[sourceLocation.file][sourceLocation.start + ':' + sourceLocation.length + ':' + sourceLocation.file];\n}\nfunction extractVariableDeclarations(ast, astWalker) {\n    const ret = {};\n    astWalker.walkFull(ast, (node) => {\n        if (node.nodeType === 'VariableDeclaration' || node.nodeType === 'YulVariableDeclaration') {\n            ret[node.src] = [node];\n        }\n        const hasChild = node.initialValue && (node.nodeType === 'VariableDeclarationStatement' || node.nodeType === 'YulVariableDeclarationStatement');\n        if (hasChild)\n            ret[node.initialValue.src] = node.declarations;\n    });\n    return ret;\n}\nfunction extractFunctionDefinitions(ast, astWalker) {\n    const ret = {};\n    astWalker.walkFull(ast, (node) => {\n        if (node.nodeType === 'FunctionDefinition' || node.nodeType === 'YulFunctionDefinition') {\n            ret[node.src] = node;\n        }\n    });\n    return ret;\n}\nfunction addParams(parameterList, tree, scopeId, states, contractObj, sourceLocation, stackLength, stackPosition, dir) {\n    const contractName = contractObj.name;\n    const params = [];\n    for (const inputParam in parameterList.parameters) {\n        const param = parameterList.parameters[inputParam];\n        const stackDepth = stackLength + (dir * stackPosition);\n        if (stackDepth >= 0) {\n            let location = (0, util_1.extractLocationFromAstVariable)(param);\n            location = location === 'default' ? 'memory' : location;\n            const attributesName = param.name === '' ? `$${inputParam}` : param.name;\n            tree.scopes[scopeId].locals[attributesName] = {\n                name: attributesName,\n                type: (0, decodeInfo_1.parseType)(param.typeDescriptions.typeString, states, contractName, location),\n                stackDepth: stackDepth,\n                sourceLocation: sourceLocation,\n                abi: contractObj.contract.abi\n            };\n            params.push(attributesName);\n        }\n        stackPosition += dir;\n    }\n    return params;\n}\n//# sourceMappingURL=internalCallTree.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.solidityLocals = void 0;\nconst tslib_1 = require(\"tslib\");\nfunction solidityLocals(vmtraceIndex, internalTreeCall, stack, memory, storageResolver, calldata, currentSourceLocation, cursor) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const scope = internalTreeCall.findScope(vmtraceIndex);\n        if (!scope) {\n            const error = { message: 'Can\\'t display locals. reason: compilation result might not have been provided' };\n            throw error;\n        }\n        const locals = {};\n        memory = formatMemory(memory);\n        let anonymousIncr = 1;\n        for (const local in scope.locals) {\n            var variable = scope.locals[local];\n            if (variable.stackDepth < stack.length && variable.sourceLocation.start <= currentSourceLocation.start) {\n                let name = variable.name;\n                if (name.indexOf('$') !== -1) {\n                    name = '<' + anonymousIncr + '>';\n                    anonymousIncr++;\n                }\n                try {\n                    locals[name] = yield variable.type.decodeFromStack(variable.stackDepth, stack, memory, storageResolver, calldata, cursor, variable);\n                }\n                catch (e) {\n                    console.log(e);\n                    locals[name] = { error: '<decoding failed - ' + e.message + '>' };\n                }\n            }\n        }\n        return locals;\n    });\n}\nexports.solidityLocals = solidityLocals;\nfunction formatMemory(memory) {\n    if (memory instanceof Array) {\n        memory = memory.join('').replace(/0x/g, '');\n    }\n    return memory;\n}\n//# sourceMappingURL=localDecoder.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolidityProxy = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst stateDecoder_1 = require(\"./stateDecoder\");\nconst astHelper_1 = require(\"./astHelper\");\nclass SolidityProxy {\n    constructor({ getCurrentCalledAddressAt, getCode }) {\n        this.cache = new Cache();\n        this.reset({});\n        this.getCurrentCalledAddressAt = getCurrentCalledAddressAt;\n        this.getCode = getCode;\n    }\n    /**\n      * reset the cache and apply a new @arg compilationResult\n      *\n      * @param {Object} compilationResult  - result os a compilatiion (diectly returned by the compiler)\n      */\n    reset(compilationResult) {\n        this.sources = compilationResult.sources;\n        this.contracts = compilationResult.contracts;\n        this.cache.reset();\n    }\n    /**\n      * check if the object has been properly loaded\n      *\n      * @return {Bool} - returns true if a compilation result has been applied\n      */\n    loaded() {\n        return this.contracts !== undefined;\n    }\n    /**\n      * retrieve the compiled contract name at the @arg vmTraceIndex (cached)\n      *\n      * @param {Int} vmTraceIndex  - index in the vm trave where to resolve the executed contract name\n      * @param {Function} cb  - callback returns (error, contractName)\n      */\n    contractObjectAt(vmTraceIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let address = this.getCurrentCalledAddressAt(vmTraceIndex);\n            address = 'xdc' + address.substring(2);\n            if (this.cache.contractObjectByAddress[address]) {\n                return this.cache.contractObjectByAddress[address];\n            }\n            const code = yield this.getCode(address);\n            const contract = contractObjectFromCode(this.contracts, code.bytecode, address);\n            this.cache.contractObjectByAddress[address] = contract;\n            return contract;\n        });\n    }\n    /**\n      * extract the state variables of the given compiled @arg contractName (cached)\n      *\n      * @param {String} contractName  - name of the contract to retrieve state variables from\n      * @return {Object} - returns state variables of @args contractName\n      */\n    extractStatesDefinitions() {\n        if (!this.cache.contractDeclarations) {\n            this.cache.contractDeclarations = (0, astHelper_1.extractContractDefinitions)(this.sources);\n        }\n        if (!this.cache.statesDefinitions) {\n            this.cache.statesDefinitions = (0, astHelper_1.extractStatesDefinitions)(this.sources, this.cache.contractDeclarations);\n        }\n        return this.cache.statesDefinitions;\n    }\n    /**\n      * extract the state variables of the given compiled @arg contractName (cached)\n      *\n      * @param {String} contractName  - name of the contract to retrieve state variables from\n      * @return {Object} - returns state variables of @args contractName\n      */\n    extractStateVariables(contractName) {\n        if (!this.cache.stateVariablesByContractName[contractName]) {\n            this.cache.stateVariablesByContractName[contractName] = (0, stateDecoder_1.extractStateVariables)(contractName, this.sources);\n        }\n        return this.cache.stateVariablesByContractName[contractName];\n    }\n    /**\n      * extract the state variables of the given compiled @arg vmtraceIndex (cached)\n      *\n      * @param {Int} vmTraceIndex  - index in the vm trave where to resolve the state variables\n      * @return {Object} - returns state variables of @args vmTraceIndex\n      */\n    extractStateVariablesAt(vmtraceIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const contract = yield this.contractObjectAt(vmtraceIndex);\n            return this.extractStateVariables(contract.name);\n        });\n    }\n    /**\n      * get the AST of the file declare in the @arg sourceLocation\n      *\n      * @param {Object} sourceLocation  - source location containing the 'file' to retrieve the AST from\n      * @return {Object} - AST of the current file\n      */\n    ast(sourceLocation, generatedSources) {\n        const file = this.fileNameFromIndex(sourceLocation.file);\n        if (!file && generatedSources && generatedSources.length) {\n            for (const source of generatedSources) {\n                if (source.id === sourceLocation.file)\n                    return source.ast;\n            }\n        }\n        else if (this.sources[file]) {\n            return this.sources[file].ast;\n        }\n        return null;\n    }\n    /**\n     * get the filename refering to the index from the compilation result\n     *\n     * @param {Int} index  - index of the filename\n     * @return {String} - filename\n     */\n    fileNameFromIndex(index) {\n        return Object.keys(this.contracts)[index];\n    }\n}\nexports.SolidityProxy = SolidityProxy;\nfunction contractObjectFromCode(contracts, code, address) {\n    const isCreation = (0, traceHelper_1.isContractCreation)(address);\n    for (const file in contracts) {\n        for (const contract in contracts[file]) {\n            const bytecode = isCreation ? contracts[file][contract].evm.bytecode.object : contracts[file][contract].evm.deployedBytecode.object;\n            if (remix_lib_1.util.compareByteCode(code, '0x' + bytecode)) {\n                return { name: contract, contract: contracts[file][contract] };\n            }\n        }\n    }\n    return null;\n}\nclass Cache {\n    constructor() {\n        this.reset();\n    }\n    reset() {\n        this.contractObjectByAddress = {};\n        this.stateVariablesByContractName = {};\n        this.contractDeclarations = null;\n        this.statesDefinitions = null;\n    }\n}\n//# sourceMappingURL=solidityProxy.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.solidityState = exports.extractStateVariables = exports.decodeState = void 0;\nconst tslib_1 = require(\"tslib\");\nconst astHelper_1 = require(\"./astHelper\");\nconst decodeInfo_1 = require(\"./decodeInfo\");\n/**\n  * decode the contract state storage\n  *\n  * @param {Array} storage location  - location of all state variables\n  * @param {Object} storageResolver  - resolve storage queries\n  * @return {Map} - decoded state variable\n  */\nfunction decodeState(stateVars, storageResolver) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const ret = {};\n        for (var k in stateVars) {\n            var stateVar = stateVars[k];\n            try {\n                const decoded = yield stateVar.type.decodeFromStorage(stateVar.storagelocation, storageResolver);\n                decoded.constant = stateVar.constant;\n                decoded.immutable = stateVar.immutable;\n                if (decoded.constant) {\n                    decoded.value = '<constant>';\n                }\n                if (decoded.immutable) {\n                    decoded.value = '<immutable>';\n                }\n                ret[stateVar.name] = decoded;\n            }\n            catch (e) {\n                console.log(e);\n                ret[stateVar.name] = { error: '<decoding failed - ' + e.message + '>' };\n            }\n        }\n        return ret;\n    });\n}\nexports.decodeState = decodeState;\n/**\n  * return all storage location variables of the given @arg contractName\n  *\n  * @param {String} contractName  - name of the contract\n  * @param {Object} sourcesList  - sources list\n  * @return {Object} - return the location of all contract variables in the storage\n  */\nfunction extractStateVariables(contractName, sourcesList) {\n    const states = (0, astHelper_1.extractStatesDefinitions)(sourcesList, null);\n    if (!states[contractName]) {\n        return [];\n    }\n    const types = states[contractName].stateVariables;\n    const offsets = (0, decodeInfo_1.computeOffsets)(types, states, contractName, 'storage');\n    if (!offsets) {\n        return []; // TODO should maybe return an error\n    }\n    return offsets.typesOffsets;\n}\nexports.extractStateVariables = extractStateVariables;\n/**\n  * return the state of the given @a contractName as a json object\n  *\n  * @param {Object} storageResolver  - resolve storage queries\n  * @param {astList} astList  - AST nodes of all the sources\n  * @param {String} contractName  - contract for which state var should be resolved\n  * @return {Map} - return the state of the contract\n  */\nfunction solidityState(storageResolver, astList, contractName) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const stateVars = extractStateVariables(contractName, astList);\n        try {\n            return yield decodeState(stateVars, storageResolver);\n        }\n        catch (e) {\n            return { error: '<decoding failed - ' + e.message + '>' };\n        }\n    });\n}\nexports.solidityState = solidityState;\n//# sourceMappingURL=stateDecoder.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Address = void 0;\nconst util_1 = require(\"./util\");\nconst ValueType_1 = require(\"./ValueType\");\nclass Address extends ValueType_1.ValueType {\n    constructor() {\n        super(1, 20, 'address');\n    }\n    decodeValue(value) {\n        if (!value) {\n            return '0x0000000000000000000000000000000000000000';\n        }\n        return '0x' + (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0).toUpperCase();\n    }\n}\nexports.Address = Address;\n//# sourceMappingURL=Address.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst RefType_1 = require(\"./RefType\");\nconst sha3256 = remix_lib_1.util.sha3_256;\nclass ArrayType extends RefType_1.RefType {\n    constructor(underlyingType, arraySize, location) {\n        let storageSlots = null;\n        if (arraySize === 'dynamic') {\n            storageSlots = 1;\n        }\n        else {\n            if (underlyingType.storageBytes < 32) {\n                const itemPerSlot = Math.floor(32 / underlyingType.storageBytes);\n                storageSlots = Math.ceil(arraySize / itemPerSlot);\n            }\n            else {\n                storageSlots = arraySize * underlyingType.storageSlots;\n            }\n        }\n        const size = arraySize !== 'dynamic' ? arraySize : '';\n        super(storageSlots, 32, underlyingType.typeName + '[' + size + ']', location);\n        this.underlyingType = underlyingType;\n        this.arraySize = arraySize;\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const ret = [];\n            let size = null;\n            let slotValue;\n            try {\n                slotValue = yield (0, util_1.extractHexValue)(location, storageResolver, this.storageBytes);\n            }\n            catch (e) {\n                console.log(e);\n                return {\n                    error: '<decoding failed - ' + e.message + '>',\n                    type: this.typeName\n                };\n            }\n            const currentLocation = {\n                offset: 0,\n                slot: location.slot\n            };\n            if (this.arraySize === 'dynamic') {\n                size = (0, util_1.toBN)('0x' + slotValue);\n                currentLocation.slot = sha3256(location.slot);\n            }\n            else {\n                size = new ethereumjs_util_1.BN(this.arraySize);\n            }\n            var k = (0, util_1.toBN)(0);\n            for (; k.lt(size) && k.ltn(300); k.iaddn(1)) {\n                try {\n                    ret.push(yield this.underlyingType.decodeFromStorage(currentLocation, storageResolver));\n                }\n                catch (e) {\n                    return {\n                        error: '<decoding failed - ' + e.message + '>',\n                        type: this.typeName\n                    };\n                }\n                if (this.underlyingType.storageSlots === 1 && location.offset + this.underlyingType.storageBytes <= 32) {\n                    currentLocation.offset += this.underlyingType.storageBytes;\n                    if (currentLocation.offset + this.underlyingType.storageBytes > 32) {\n                        currentLocation.offset = 0;\n                        currentLocation.slot = '0x' + (0, util_1.add)(currentLocation.slot, 1).toString(16);\n                    }\n                }\n                else {\n                    currentLocation.slot = '0x' + (0, util_1.add)(currentLocation.slot, this.underlyingType.storageSlots).toString(16);\n                    currentLocation.offset = 0;\n                }\n            }\n            return { value: ret, length: '0x' + size.toString(16), type: this.typeName };\n        });\n    }\n    decodeFromMemoryInternal(offset, memory, skip) {\n        const ret = [];\n        let length = this.arraySize;\n        if (this.arraySize === 'dynamic') {\n            length = memory.substr(2 * offset, 64);\n            length = parseInt(length, 16);\n            offset = offset + 32;\n        }\n        if (isNaN(length)) {\n            return {\n                error: '<decoding failed - length is NaN>',\n                type: 'Error'\n            };\n        }\n        if (!skip)\n            skip = 0;\n        if (skip)\n            offset = offset + (32 * skip);\n        let limit = length - skip;\n        if (limit > 10)\n            limit = 10;\n        for (var k = 0; k < limit; k++) {\n            var contentOffset = offset;\n            ret.push(this.underlyingType.decodeFromMemory(contentOffset, memory));\n            offset += 32;\n        }\n        return {\n            value: ret,\n            length: '0x' + length.toString(16),\n            type: this.typeName,\n            cursor: skip + limit,\n            hasNext: length > (skip + limit)\n        };\n    }\n}\nexports.ArrayType = ArrayType;\n//# sourceMappingURL=ArrayType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bool = void 0;\nconst ValueType_1 = require(\"./ValueType\");\nconst util_1 = require(\"./util\");\nclass Bool extends ValueType_1.ValueType {\n    constructor() {\n        super(1, 1, 'bool');\n    }\n    decodeValue(value) {\n        if (!value) {\n            return false;\n        }\n        value = (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0);\n        return value !== '00';\n    }\n}\nexports.Bool = Bool;\n//# sourceMappingURL=Bool.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DynamicByteArray = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst RefType_1 = require(\"./RefType\");\nconst sha3256 = remix_lib_1.util.sha3_256;\nclass DynamicByteArray extends RefType_1.RefType {\n    constructor(location) {\n        super(1, 32, 'bytes', location);\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let value = '0x0';\n            try {\n                value = yield (0, util_1.extractHexValue)(location, storageResolver, this.storageBytes);\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n            }\n            const length = new ethereumjs_util_1.BN(value, 16);\n            if (length.testn(0)) {\n                let dataPos = new ethereumjs_util_1.BN(sha3256(location.slot).replace('0x', ''), 16);\n                let ret = '';\n                let currentSlot = '0x';\n                try {\n                    currentSlot = yield (0, util_1.readFromStorage)(dataPos, storageResolver);\n                }\n                catch (e) {\n                    console.log(e);\n                    return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n                }\n                while (length.gt(new ethereumjs_util_1.BN(ret.length)) && ret.length < 32000) {\n                    currentSlot = currentSlot.replace('0x', '');\n                    ret += currentSlot;\n                    dataPos = dataPos.add(new ethereumjs_util_1.BN(1));\n                    try {\n                        currentSlot = yield (0, util_1.readFromStorage)(dataPos, storageResolver);\n                    }\n                    catch (e) {\n                        console.log(e);\n                        return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n                    }\n                }\n                return { value: '0x' + ret.replace(/(00)+$/, ''), length: '0x' + length.toString(16), type: this.typeName };\n            }\n            else {\n                var size = parseInt(value.substr(value.length - 2, 2), 16) / 2;\n                return { value: '0x' + value.substr(0, size * 2), length: '0x' + size.toString(16), type: this.typeName };\n            }\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        offset = 2 * offset;\n        let length = memory.substr(offset, 64);\n        length = 2 * parseInt(length, 16);\n        return { length: '0x' + length.toString(16), value: '0x' + memory.substr(offset + 64, length), type: this.typeName };\n    }\n}\nexports.DynamicByteArray = DynamicByteArray;\n//# sourceMappingURL=DynamicByteArray.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Enum = void 0;\nconst ValueType_1 = require(\"./ValueType\");\nclass Enum extends ValueType_1.ValueType {\n    constructor(enumDef) {\n        let storageBytes = 0;\n        let length = enumDef.members.length;\n        while (length > 1) {\n            length = length / 256;\n            storageBytes++;\n        }\n        super(1, storageBytes, 'enum');\n        this.enumDef = enumDef;\n    }\n    decodeValue(value) {\n        if (!value) {\n            return this.enumDef.members[0].name;\n        }\n        value = parseInt(value, 16);\n        if (this.enumDef.members.length > value) {\n            return this.enumDef.members[value].name;\n        }\n        return 'INVALID_ENUM<' + value + '>';\n    }\n}\nexports.Enum = Enum;\n//# sourceMappingURL=Enum.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FixedByteArray = void 0;\nconst ValueType_1 = require(\"./ValueType\");\nclass FixedByteArray extends ValueType_1.ValueType {\n    constructor(storageBytes) {\n        super(1, storageBytes, 'bytes' + storageBytes);\n    }\n    decodeValue(value) {\n        return '0x' + value.substr(0, 2 * this.storageBytes).toUpperCase();\n    }\n}\nexports.FixedByteArray = FixedByteArray;\n//# sourceMappingURL=FixedByteArray.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Int = void 0;\nconst util_1 = require(\"./util\");\nconst ValueType_1 = require(\"./ValueType\");\nclass Int extends ValueType_1.ValueType {\n    constructor(storageBytes) {\n        super(1, storageBytes, 'int' + storageBytes * 8);\n    }\n    decodeValue(value) {\n        value = (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0);\n        return (0, util_1.decodeIntFromHex)(value, this.storageBytes, true);\n    }\n}\nexports.Int = Int;\n//# sourceMappingURL=Int.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mapping = void 0;\nconst tslib_1 = require(\"tslib\");\nconst RefType_1 = require(\"./RefType\");\nconst util_1 = require(\"./util\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nclass Mapping extends RefType_1.RefType {\n    constructor(underlyingTypes, location, fullType) {\n        super(1, 32, fullType, 'storage');\n        this.keyType = underlyingTypes.keyType;\n        this.valueType = underlyingTypes.valueType;\n        this.initialDecodedState = null;\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const corrections = this.valueType.members ? this.valueType.members.map((value) => { return value.storagelocation; }) : [];\n            if (!this.initialDecodedState) { // cache the decoded initial storage\n                let mappingsInitialPreimages;\n                try {\n                    mappingsInitialPreimages = yield storageResolver.initialMappingsLocation(corrections);\n                    this.initialDecodedState = yield this.decodeMappingsLocation(mappingsInitialPreimages, location, storageResolver);\n                }\n                catch (e) {\n                    return {\n                        value: e.message,\n                        type: this.typeName\n                    };\n                }\n            }\n            const mappingPreimages = yield storageResolver.mappingsLocation(corrections);\n            let ret = yield this.decodeMappingsLocation(mappingPreimages, location, storageResolver); // fetch mapping storage changes\n            ret = Object.assign({}, this.initialDecodedState, ret); // merge changes\n            return { value: ret, type: this.typeName };\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        // mappings can only exist in storage and not in memory\n        // so this should never be called\n        return { value: '', length: '0x0', type: this.typeName };\n    }\n    decodeMappingsLocation(preimages, location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const mapSlot = (0, util_1.normalizeHex)((0, ethereumjs_util_1.bufferToHex)(location.slot));\n            if (!preimages[mapSlot]) {\n                return {};\n            }\n            const ret = {};\n            for (const i in preimages[mapSlot]) {\n                const mapLocation = getMappingLocation(i, location.slot);\n                const globalLocation = {\n                    offset: location.offset,\n                    slot: mapLocation\n                };\n                ret[i] = yield this.valueType.decodeFromStorage(globalLocation, storageResolver);\n            }\n            return ret;\n        });\n    }\n}\nexports.Mapping = Mapping;\nfunction getMappingLocation(key, position) {\n    // mapping storage location decribed at http://solidity.readthedocs.io/en/develop/miscellaneous.html#layout-of-state-variables-in-storage\n    // > the value corresponding to a mapping key k is located at keccak256(k . p) where . is concatenation.\n    // key should be a hex string, and position an int\n    const mappingK = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(key));\n    let mappingP = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(position));\n    mappingP = (0, ethereumjs_util_1.setLengthLeft)(mappingP, 32);\n    const mappingKeyBuf = concatTypedArrays(mappingK, mappingP);\n    const mappingStorageLocation = (0, ethereumjs_util_1.keccak)(mappingKeyBuf);\n    const mappingStorageLocationinBn = new ethereumjs_util_1.BN(mappingStorageLocation, 16);\n    return mappingStorageLocationinBn;\n}\nfunction concatTypedArrays(a, b) {\n    const c = new (a.constructor)(a.length + b.length);\n    c.set(a, 0);\n    c.set(b, a.length);\n    return c;\n}\n//# sourceMappingURL=Mapping.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RefType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethers_1 = require(\"ethers\");\nconst util_1 = require(\"./util\");\nclass RefType {\n    constructor(storageSlots, storageBytes, typeName, location) {\n        this.location = location;\n        this.storageSlots = storageSlots;\n        this.storageBytes = storageBytes;\n        this.typeName = typeName;\n        this.basicType = 'RefType';\n    }\n    decodeFromStorage(input1, input2) {\n        throw new Error('This method is abstract');\n    }\n    decodeFromMemoryInternal(input1, input2, input3) {\n        throw new Error('This method is abstract');\n    }\n    /**\n      * decode the type from the stack\n      *\n      * @param {Int} stackDepth - position of the type in the stack\n      * @param {Array} stack - stack\n      * @param {String} - memory\n      * @param {Object} - storageResolver\n      * @return {Object} decoded value\n      */\n    decodeFromStack(stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (stack.length - 1 < stackDepth) {\n                return { error: '<decoding failed - stack underflow ' + stackDepth + '>', type: this.typeName };\n            }\n            let offset = stack[stack.length - 1 - stackDepth];\n            if (this.isInStorage()) {\n                offset = (0, util_1.toBN)(offset);\n                try {\n                    return yield this.decodeFromStorage({ offset: 0, slot: offset }, storageResolver);\n                }\n                catch (e) {\n                    console.log(e);\n                    return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n                }\n            }\n            else if (this.isInMemory()) {\n                offset = parseInt(offset, 16);\n                return this.decodeFromMemoryInternal(offset, memory, cursor);\n            }\n            else if (this.isInCallData()) {\n                return this._decodeFromCallData(variableDetails, calldata);\n            }\n            else {\n                return { error: '<decoding failed - no decoder for ' + this.location + '>', type: this.typeName };\n            }\n        });\n    }\n    _decodeFromCallData(variableDetails, calldata) {\n        calldata = calldata.length > 0 ? calldata[0] : '0x';\n        const ethersAbi = new ethers_1.ethers.utils.Interface(variableDetails.abi);\n        const fnSign = calldata.substr(0, 10);\n        const decodedData = ethersAbi.decodeFunctionData(ethersAbi.getFunction(fnSign), calldata);\n        const decodedValue = decodedData[variableDetails.name];\n        const isArray = Array.isArray(decodedValue);\n        if (isArray) {\n            return this._decodeCallDataArray(decodedValue, this);\n        }\n        return {\n            length: isArray ? '0x' + decodedValue.length.toString(16) : undefined,\n            value: decodedValue,\n            type: this.typeName\n        };\n    }\n    _decodeCallDataArray(value, type) {\n        const isArray = Array.isArray(value);\n        if (isArray) {\n            value = value.map((el) => {\n                return this._decodeCallDataArray(el, this.underlyingType);\n            });\n            return {\n                length: value.length.toString(16),\n                value: value,\n                type: type.typeName\n            };\n        }\n        else {\n            return {\n                value: value.toString(),\n                type: (type.underlyingType && type.underlyingType.typeName) || type.typeName\n            };\n        }\n    }\n    /**\n      * decode the type from the memory\n      *\n      * @param {Int} offset - position of the ref of the type in memory\n      * @param {String} memory - memory\n      * @return {Object} decoded value\n      */\n    decodeFromMemory(offset, memory) {\n        offset = memory.substr(2 * offset, 64);\n        offset = parseInt(offset, 16);\n        return this.decodeFromMemoryInternal(offset, memory);\n    }\n    /**\n      * current type defined in storage\n      *\n      * @return {Bool} - return true if the type is defined in the storage\n      */\n    isInStorage() {\n        return this.location.indexOf('storage') === 0;\n    }\n    /**\n      * current type defined in memory\n      *\n      * @return {Bool} - return true if the type is defined in the memory\n      */\n    isInMemory() {\n        return this.location.indexOf('memory') === 0;\n    }\n    /**\n      * current type defined in storage\n      *\n      * @return {Bool} - return true if the type is defined in the storage\n      */\n    isInCallData() {\n        return this.location.indexOf('calldata') === 0;\n    }\n}\nexports.RefType = RefType;\n//# sourceMappingURL=RefType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StringType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst DynamicByteArray_1 = require(\"./DynamicByteArray\");\nclass StringType extends DynamicByteArray_1.DynamicByteArray {\n    constructor(location) {\n        super(location);\n        this.typeName = 'string';\n    }\n    decodeFromStorage(location, storageResolver) {\n        const _super = Object.create(null, {\n            decodeFromStorage: { get: () => super.decodeFromStorage }\n        });\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let decoded = '0x';\n            try {\n                decoded = yield _super.decodeFromStorage.call(this, location, storageResolver);\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>' };\n            }\n            return format(decoded);\n        });\n    }\n    decodeFromStack(stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails) {\n        const _super = Object.create(null, {\n            decodeFromStack: { get: () => super.decodeFromStack }\n        });\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                return yield _super.decodeFromStack.call(this, stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails);\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>' };\n            }\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        const decoded = super.decodeFromMemoryInternal(offset, memory);\n        return format(decoded);\n    }\n}\nexports.StringType = StringType;\nfunction format(decoded) {\n    if (decoded.error) {\n        return decoded;\n    }\n    let value = decoded.value;\n    value = value.replace('0x', '').replace(/(..)/g, '%$1');\n    const ret = { length: decoded.length, raw: decoded.value, type: 'string' };\n    try {\n        ret['value'] = decodeURIComponent(value);\n    }\n    catch (e) {\n        ret['error'] = 'Invalid UTF8 encoding';\n        ret.raw = decoded.value;\n    }\n    return ret;\n}\n//# sourceMappingURL=StringType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Struct = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nconst RefType_1 = require(\"./RefType\");\nconst Mapping_1 = require(\"./Mapping\");\nclass Struct extends RefType_1.RefType {\n    constructor(memberDetails, location, fullType) {\n        super(memberDetails.storageSlots, 32, 'struct ' + fullType, location);\n        this.members = memberDetails.members;\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const ret = {};\n            for (var item of this.members) {\n                const globalLocation = {\n                    offset: location.offset + item.storagelocation.offset,\n                    slot: (0, util_1.add)(location.slot, item.storagelocation.slot)\n                };\n                try {\n                    ret[item.name] = yield item.type.decodeFromStorage(globalLocation, storageResolver);\n                }\n                catch (e) {\n                    console.log(e);\n                    ret[item.name] = { error: '<decoding failed - ' + e.message + '>' };\n                }\n            }\n            return { value: ret, type: this.typeName };\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        const ret = {};\n        this.members.map((item, i) => {\n            var contentOffset = offset;\n            var member = item.type.decodeFromMemory(contentOffset, memory);\n            ret[item.name] = member;\n            if (!(item.type instanceof Mapping_1.Mapping))\n                offset += 32;\n        });\n        return { value: ret, type: this.typeName };\n    }\n}\nexports.Struct = Struct;\n//# sourceMappingURL=Struct.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uint = void 0;\nconst util_1 = require(\"./util\");\nconst ValueType_1 = require(\"./ValueType\");\nclass Uint extends ValueType_1.ValueType {\n    constructor(storageBytes) {\n        super(1, storageBytes, 'uint' + storageBytes * 8);\n    }\n    decodeValue(value) {\n        value = (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0);\n        return (0, util_1.decodeIntFromHex)(value, this.storageBytes, false);\n    }\n}\nexports.Uint = Uint;\n//# sourceMappingURL=Uint.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nclass ValueType {\n    constructor(storageSlots, storageBytes, typeName) {\n        this.storageSlots = storageSlots;\n        this.storageBytes = storageBytes;\n        this.typeName = typeName;\n        this.basicType = 'ValueType';\n    }\n    decodeValue(input) {\n        throw new Error('This method is abstract');\n    }\n    /**\n      * decode the type with the @arg location from the storage\n      *\n      * @param {Object} location - containing offset and slot\n      * @param {Object} storageResolver  - resolve storage queries\n      * @return {Object} - decoded value\n      */\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                var value = yield (0, util_1.extractHexValue)(location, storageResolver, this.storageBytes);\n                return { value: this.decodeValue(value), type: this.typeName };\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n            }\n        });\n    }\n    /**\n      * decode the type from the stack\n      *\n      * @param {Int} stackDepth - position of the type in the stack\n      * @param {Array} stack - stack\n      * @param {String} - memory\n      * @return {Object} - decoded value\n      */\n    decodeFromStack(stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let value;\n            if (stackDepth >= stack.length) {\n                value = this.decodeValue('');\n            }\n            else {\n                value = this.decodeValue(stack[stack.length - 1 - stackDepth].replace('0x', ''));\n            }\n            return { value, type: this.typeName };\n        });\n    }\n    /**\n      * decode the type with the @arg offset location from the memory\n      *\n      * @param {Int} stackDepth - position of the type in the stack\n      * @return {String} - memory\n      * @return {Object} - decoded value\n      */\n    decodeFromMemory(offset, memory) {\n        const value = memory.substr(2 * offset, 64);\n        return { value: this.decodeValue(value), type: this.typeName };\n    }\n}\nexports.ValueType = ValueType;\n//# sourceMappingURL=ValueType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeHex = exports.extractLocationFromAstVariable = exports.extractLocation = exports.removeLocation = exports.sub = exports.add = exports.toBN = exports.extractHexValue = exports.extractHexByteSlice = exports.readFromStorage = exports.decodeIntFromHex = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nfunction decodeIntFromHex(value, byteLength, signed) {\n    let bigNumber = new ethereumjs_util_1.BN(value, 16);\n    if (signed) {\n        bigNumber = bigNumber.fromTwos(8 * byteLength);\n    }\n    return bigNumber.toString(10);\n}\nexports.decodeIntFromHex = decodeIntFromHex;\nfunction readFromStorage(slot, storageResolver) {\n    const hexSlot = '0x' + normalizeHex((0, ethereumjs_util_1.bufferToHex)(slot));\n    return new Promise((resolve, reject) => {\n        storageResolver.storageSlot(hexSlot, (error, slot) => {\n            if (error) {\n                return reject(error);\n            }\n            if (!slot) {\n                slot = { key: slot, value: '' };\n            }\n            return resolve(normalizeHex(slot.value));\n        });\n    });\n}\nexports.readFromStorage = readFromStorage;\n/**\n * @returns a hex encoded byte slice of length @arg byteLength from inside @arg slotValue.\n *\n * @param {String} slotValue  - hex encoded value to extract the byte slice from\n * @param {Int} byteLength  - Length of the byte slice to extract\n * @param {Int} offsetFromLSB  - byte distance from the right end slot value to the right end of the byte slice\n */\nfunction extractHexByteSlice(slotValue, byteLength, offsetFromLSB) {\n    const offset = slotValue.length - 2 * offsetFromLSB - 2 * byteLength;\n    return slotValue.substr(offset, 2 * byteLength);\n}\nexports.extractHexByteSlice = extractHexByteSlice;\n/**\n * @returns a hex encoded storage content at the given @arg location. it does not have Ox prefix but always has the full length.\n *\n * @param {Object} location  - object containing the slot and offset of the data to extract.\n * @param {Object} storageResolver  - storage resolver\n * @param {Int} byteLength  - Length of the byte slice to extract\n */\nfunction extractHexValue(location, storageResolver, byteLength) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        let slotvalue;\n        try {\n            slotvalue = yield readFromStorage(location.slot, storageResolver);\n        }\n        catch (e) {\n            return '';\n        }\n        return extractHexByteSlice(slotvalue, byteLength, location.offset);\n    });\n}\nexports.extractHexValue = extractHexValue;\nfunction toBN(value) {\n    if (value instanceof ethereumjs_util_1.BN) {\n        return value;\n    }\n    else if (value.match && value.match(/^(0x)?([a-f0-9]*)$/)) {\n        value = (0, ethereumjs_util_1.unpadHexString)(value);\n        value = new ethereumjs_util_1.BN(value === '' ? '0' : value, 16);\n    }\n    else if (!isNaN(value)) {\n        value = new ethereumjs_util_1.BN(value);\n    }\n    return value;\n}\nexports.toBN = toBN;\nfunction add(value1, value2) {\n    return toBN(value1).add(toBN(value2));\n}\nexports.add = add;\nfunction sub(value1, value2) {\n    return toBN(value1).sub(toBN(value2));\n}\nexports.sub = sub;\nfunction removeLocation(type) {\n    return type.replace(/( storage ref| storage pointer| memory| calldata)/g, '');\n}\nexports.removeLocation = removeLocation;\nfunction extractLocation(type) {\n    const match = type.match(/( storage ref| storage pointer| memory| calldata)?$/);\n    if (match[1] !== '') {\n        return match[1].trim();\n    }\n    return null;\n}\nexports.extractLocation = extractLocation;\nfunction extractLocationFromAstVariable(node) {\n    if (node.storageLocation !== 'default') {\n        return node.storageLocation;\n    }\n    else if (node.stateVariable) {\n        return 'storage';\n    }\n    return 'default'; // local variables => storage, function parameters & return values => memory, state => storage\n}\nexports.extractLocationFromAstVariable = extractLocationFromAstVariable;\nfunction normalizeHex(hex) {\n    hex = hex.replace('0x', '');\n    if (hex.length < 64) {\n        return (new Array(64 - hex.length + 1).join('0')) + hex;\n    }\n    return hex;\n}\nexports.normalizeHex = normalizeHex;\n//# sourceMappingURL=util.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SourceLocationTracker = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst sourceMappingDecoder_1 = require(\"./sourceMappingDecoder\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * Process the source code location for the current executing bytecode\n */\nclass SourceLocationTracker {\n    constructor(_codeManager, { debugWithGeneratedSources }) {\n        this.opts = {\n            debugWithGeneratedSources: debugWithGeneratedSources || false\n        };\n        this.codeManager = _codeManager;\n        this.event = new eventManager_1.EventManager();\n        this.sourceMapByAddress = {};\n    }\n    /**\n     * Return the source location associated with the given @arg index (instruction index)\n     *\n     * @param {String} address - contract address from which the source location is retrieved\n     * @param {Int} index - index in the instruction list from where the source location is retrieved\n     * @param {Object} contractDetails - AST of compiled contracts\n     */\n    getSourceLocationFromInstructionIndex(address, index, contracts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const sourceMap = yield this.extractSourceMap(this, this.codeManager, address, contracts);\n            return (0, sourceMappingDecoder_1.atIndex)(index, sourceMap['map']);\n        });\n    }\n    /**\n     * Return the source location associated with the given @arg vmTraceIndex\n     *\n     * @param {String} address - contract address from which the source location is retrieved\n     * @param {Int} vmtraceStepIndex - index of the current code in the vmtrace\n     * @param {Object} contractDetails - AST of compiled contracts\n     */\n    getSourceLocationFromVMTraceIndex(address, vmtraceStepIndex, contracts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const sourceMap = yield this.extractSourceMap(this, this.codeManager, address, contracts);\n            const index = this.codeManager.getInstructionIndex(address, vmtraceStepIndex);\n            return (0, sourceMappingDecoder_1.atIndex)(index, sourceMap['map']);\n        });\n    }\n    /**\n     * Returns the generated sources from a specific @arg address\n     *\n     * @param {String} address - contract address from which has generated sources\n     * @param {Object} generatedSources - Object containing the sourceid, ast and the source code.\n     */\n    getGeneratedSourcesFromAddress(address) {\n        if (!this.opts.debugWithGeneratedSources)\n            return null;\n        if (this.sourceMapByAddress[address])\n            return this.sourceMapByAddress[address].generatedSources;\n        return null;\n    }\n    /**\n     * Returns the total amount of sources from a specific @arg address and @arg contracts\n     *\n     * @param {String} address - contract address from which has generated sources\n     * @param {Object} contracts - AST of compiled contracts\n     */\n    getTotalAmountOfSources(address, contracts) {\n        let sourcesLength = Object.keys(contracts).length;\n        const generatedSources = this.getGeneratedSourcesFromAddress(address);\n        if (generatedSources)\n            sourcesLength = sourcesLength + Object.keys(generatedSources).length;\n        return sourcesLength;\n    }\n    /**\n     * Return a valid source location associated with the given @arg vmTraceIndex\n     *\n     * @param {String} address - contract address from which the source location is retrieved\n     * @param {Int} vmtraceStepIndex - index of the current code in the vmtrace\n     * @param {Object} contractDetails - AST of compiled contracts\n     */\n    getValidSourceLocationFromVMTraceIndex(address, vmtraceStepIndex, contracts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const amountOfSources = this.getTotalAmountOfSources(address, contracts);\n            let map = { file: -1 };\n            /*\n              (map.file === -1) this indicates that it isn't associated with a known source code\n              (map.file > amountOfSources - 1) this indicates the current file index exceed the total number of files.\n                                                      this happens when generated sources should not be considered.\n            */\n            while (vmtraceStepIndex >= 0 && (map.file === -1 || map.file > amountOfSources - 1)) {\n                map = yield this.getSourceLocationFromVMTraceIndex(address, vmtraceStepIndex, contracts);\n                vmtraceStepIndex = vmtraceStepIndex - 1;\n            }\n            return map;\n        });\n    }\n    clearCache() {\n        this.sourceMapByAddress = {};\n    }\n    getSourceMap(address, code, contracts) {\n        const isCreation = (0, traceHelper_1.isContractCreation)(address);\n        let bytes;\n        for (const file in contracts) {\n            for (const contract in contracts[file]) {\n                const bytecode = contracts[file][contract].evm.bytecode;\n                const deployedBytecode = contracts[file][contract].evm.deployedBytecode;\n                if (!deployedBytecode)\n                    continue;\n                bytes = isCreation ? bytecode.object : deployedBytecode.object;\n                if (remix_lib_1.util.compareByteCode(code, '0x' + bytes)) {\n                    const generatedSources = isCreation ? bytecode.generatedSources : deployedBytecode.generatedSources;\n                    const map = isCreation ? bytecode.sourceMap : deployedBytecode.sourceMap;\n                    return { generatedSources, map };\n                }\n            }\n        }\n        return null;\n    }\n    extractSourceMap(self, codeManager, address, contracts) {\n        return new Promise((resolve, reject) => {\n            if (self.sourceMapByAddress[address])\n                return resolve(self.sourceMapByAddress[address]);\n            codeManager.getCode(address).then((result) => {\n                const sourceMap = this.getSourceMap(address, result.bytecode, contracts);\n                if (sourceMap) {\n                    if (!(0, traceHelper_1.isContractCreation)(address))\n                        self.sourceMapByAddress[address] = sourceMap;\n                    return resolve(sourceMap);\n                }\n                reject(new Error('no sourcemap associated with the code ' + address));\n            }).catch(reject);\n        });\n    }\n}\nexports.SourceLocationTracker = SourceLocationTracker;\n//# sourceMappingURL=sourceLocationTracker.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.atIndex = exports.nodesAtPosition = exports.findNodeAtInstructionIndex = exports.convertOffsetToLineColumn = exports.getLinebreakPositions = exports.decompressAll = exports.decode = void 0;\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * Decompress the source mapping given by solc-bin.js\n * s:l:f:j\n */\n/**\n * Decode the given @arg value\n *\n * @param {string} value      - source location to decode ( should be start:length:file )\n * @return {Object} returns the decompressed source mapping {start, length, file}\n */\nfunction decode(value) {\n    if (value) {\n        value = value.split(':');\n        return {\n            start: parseInt(value[0]),\n            length: parseInt(value[1]),\n            file: parseInt(value[2])\n        };\n    }\n}\nexports.decode = decode;\n/**\n * Decode the source mapping for the given compressed mapping\n *\n * @param {String} mapping     - compressed source mapping given by solc-bin\n * @return {Array} returns the decompressed source mapping. Array of {start, length, file, jump}\n */\nfunction decompressAll(mapping) {\n    const map = mapping.split(';');\n    const ret = [];\n    for (const k in map) {\n        const compressed = map[k].split(':');\n        const sourceMap = {\n            start: compressed[0] ? parseInt(compressed[0]) : ret[ret.length - 1].start,\n            length: compressed[1] ? parseInt(compressed[1]) : ret[ret.length - 1].length,\n            file: compressed[2] ? parseInt(compressed[2]) : ret[ret.length - 1].file,\n            jump: compressed[3] ? compressed[3] : ret[ret.length - 1].jump\n        };\n        ret.push(sourceMap);\n    }\n    return ret;\n}\nexports.decompressAll = decompressAll;\n/**\n  * Retrieve line/column position of each source char\n  *\n  * @param {String} source - contract source code\n  * @return {Array} returns an array containing offset of line breaks\n  */\nfunction getLinebreakPositions(source) {\n    const ret = [];\n    for (let pos = source.indexOf('\\n'); pos >= 0; pos = source.indexOf('\\n', pos + 1)) {\n        ret.push(pos);\n    }\n    return ret;\n}\nexports.getLinebreakPositions = getLinebreakPositions;\n/**\n * Retrieve the line/column position for the given source mapping\n *\n * @param {Object} sourceLocation - object containing attributes {source} and {length}\n * @param {Array} lineBreakPositions - array returned by the function 'getLinebreakPositions'\n * @return {Object} returns an object {start: {line, column}, end: {line, column}} (line/column count start at 0)\n */\nfunction convertOffsetToLineColumn(sourceLocation, lineBreakPositions) {\n    if (sourceLocation.start >= 0 && sourceLocation.length >= 0) {\n        return {\n            start: convertFromCharPosition(sourceLocation.start, lineBreakPositions),\n            end: convertFromCharPosition(sourceLocation.start + sourceLocation.length, lineBreakPositions)\n        };\n    }\n    return { start: null, end: null };\n}\nexports.convertOffsetToLineColumn = convertOffsetToLineColumn;\nfunction convertFromCharPosition(pos, lineBreakPositions) {\n    let line = remix_lib_1.util.findLowerBound(pos, lineBreakPositions);\n    if (lineBreakPositions[line] !== pos) {\n        line = line + 1;\n    }\n    const beginColumn = line === 0 ? 0 : (lineBreakPositions[line - 1] + 1);\n    const column = pos - beginColumn;\n    return { line, column };\n}\nfunction sourceLocationFromAstNode(astNode) {\n    if (astNode.src) {\n        const split = astNode.src.split(':');\n        return {\n            start: parseInt(split[0]),\n            length: parseInt(split[1]),\n            file: parseInt(split[2])\n        };\n    }\n    return null;\n}\n/**\n * Retrieve the first @arg astNodeType that include the source map at arg instIndex\n *\n * @param {String} astNodeType - node type that include the source map instIndex\n * @param {String} instIndex - instruction index used to retrieve the source map\n * @param {String} sourceMap - source map given by the compilation result\n * @param {Object} ast - ast given by the compilation result\n */\nfunction findNodeAtInstructionIndex(astNodeType, instIndex, sourceMap, ast) {\n    const sourceLocation = atIndex(instIndex, sourceMap);\n    return findNodeAtSourceLocation(astNodeType, sourceLocation, ast);\n}\nexports.findNodeAtInstructionIndex = findNodeAtInstructionIndex;\nfunction findNodeAtSourceLocation(astNodeType, sourceLocation, ast) {\n    const astWalker = new remix_astwalker_1.AstWalker();\n    let found = null;\n    const callback = function (node) {\n        const nodeLocation = sourceLocationFromAstNode(node);\n        if (!nodeLocation) {\n            return;\n        }\n        if (nodeLocation.start <= sourceLocation.start && nodeLocation.start + nodeLocation.length >= sourceLocation.start + sourceLocation.length) {\n            if (astNodeType === node.nodeType) {\n                found = node;\n            }\n        }\n    };\n    astWalker.walkFull(ast.ast, callback);\n    return found;\n}\n/**\n * get a list of nodes that are at the given @arg position\n *\n * @param {String} astNodeType      - type of node to return\n * @param {Int} position     - cursor position\n * @return {Object} ast object given by the compiler\n */\nfunction nodesAtPosition(astNodeType, position, ast) {\n    const astWalker = new remix_astwalker_1.AstWalker();\n    const found = [];\n    const callback = function (node) {\n        var nodeLocation = sourceLocationFromAstNode(node);\n        if (!nodeLocation) {\n            return;\n        }\n        if (nodeLocation.start <= position && nodeLocation.start + nodeLocation.length >= position) {\n            if (!astNodeType || astNodeType === node.nodeType) {\n                found.push(node);\n            }\n        }\n    };\n    astWalker.walkFull(ast.ast, callback);\n    return found;\n}\nexports.nodesAtPosition = nodesAtPosition;\n/**\n * starts with the given @arg index and move backward until it can find all the values for start, length, file, jump\n * if `file === -1` then the value of the sourcemap should be taken from the previous step,\n * because some steps are internal subroutine for the compiler and doesn't link to any high level code.\n *\n * Solidity source maps format is\n *  - start:length:file:jump\n *  - jump can be 'i', 'o' or '-' (jump 'in' or 'out' of a function)\n *  - if no value is specified ( e.g \"5:2\" - no mention of 'file' and 'jump' ), actual values are the one of the step before\n *  - if the file (3rd value) has -1, the source maps should be discarded\n *\n *  @param Int index - index in the bytecode to decode source mapping from\n *  @param Array mapping - source maps returned by the compiler. e.g 121:3741:0:-:0;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;121:3741:0;;;;;;;\n *  @return Object { start, length, file, jump }\n */\nfunction atIndex(index, mapping) {\n    const ret = {};\n    const map = mapping.split(';');\n    if (index >= map.length) {\n        index = map.length - 1;\n    }\n    for (let k = index; k >= 0; k--) {\n        let current = map[k];\n        if (!current.length) {\n            continue;\n        }\n        current = current.split(':');\n        if (ret['start'] === undefined && current[0] && current[0] !== '-1' && current[0].length) {\n            ret['start'] = parseInt(current[0]);\n        }\n        if (ret['length'] === undefined && current[1] && current[1] !== '-1' && current[1].length) {\n            ret['length'] = parseInt(current[1]);\n        }\n        if (ret['file'] === undefined && current[2] && current[2].length) {\n            ret['file'] = parseInt(current[2]);\n        }\n        if (ret['jump'] === undefined && current[3] && current[3].length) {\n            ret['jump'] = current[3];\n        }\n        if (ret['start'] !== undefined && ret['length'] !== undefined && ret['file'] !== undefined && ret['jump'] !== undefined) {\n            break;\n        }\n    }\n    return ret;\n}\nexports.atIndex = atIndex;\n//# sourceMappingURL=sourceMappingDecoder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeMappingsKeys = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"../solidity-decoder/types/util\");\n/**\n  * extract the mappings location from the storage\n  * like { \"<mapping_slot>\" : { \"<mapping-key1>\": preimageOf1 }, { \"<mapping-key2>\": preimageOf2 }, ... }\n  *\n  * @param {Object} storage  - storage given by storage Viewer (basically a mapping hashedkey : {key, value})\n  * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n  * @param {Function} callback  - calback\n  * @return {Map} - solidity mapping location (e.g { \"<mapping_slot>\" : { \"<mapping-key1>\": preimageOf1 }, { \"<mapping-key2>\": preimageOf2 }, ... })\n  */\nfunction decodeMappingsKeys(web3, storage, corrections) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const ret = {};\n        if (!corrections.length)\n            corrections.push({ offset: 0, slot: 0 });\n        for (const hashedLoc in storage) {\n            var preimage;\n            try {\n                const key = storage[hashedLoc].key;\n                for (const k in corrections) {\n                    const corrected = (0, util_1.sub)(key, corrections[k].slot).toString(16);\n                    preimage = yield getPreimage(web3, '0x' + corrected);\n                    if (preimage)\n                        break;\n                }\n            }\n            catch (e) { } // eslint-disable-line no-empty\n            if (preimage) {\n                // got preimage!\n                // get mapping position (i.e. storage slot), its the last 32 bytes\n                const slotByteOffset = preimage.length - 64;\n                const mappingSlot = preimage.substr(slotByteOffset);\n                const mappingKey = preimage.substr(0, slotByteOffset);\n                if (!ret[mappingSlot]) {\n                    ret[mappingSlot] = {};\n                }\n                ret[mappingSlot][mappingKey] = preimage;\n            }\n        }\n        return ret;\n    });\n}\nexports.decodeMappingsKeys = decodeMappingsKeys;\n/**\n  * Uses web3 to return preimage of a key\n  *\n  * @param {String} key  - key to retrieve the preimage of\n  * @return {String} - preimage of the given key\n  */\nfunction getPreimage(web3, key) {\n    return new Promise((resolve, reject) => {\n        web3.debug.preimage(key.indexOf('0x') === 0 ? key : '0x' + key, (error, preimage) => {\n            if (error) {\n                return resolve(null);\n            }\n            resolve(preimage);\n        });\n    });\n}\n//# sourceMappingURL=mappingPreimages.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageResolver = void 0;\nconst tslib_1 = require(\"tslib\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst mappingPreimages_1 = require(\"./mappingPreimages\");\n/**\n  * Basically one instance is created for one debugging session.\n  * (TODO: one instance need to be shared over all the components)\n  */\nclass StorageResolver {\n    constructor(options) {\n        this.storageByAddress = {};\n        this.preimagesMappingByAddress = {};\n        this.maxSize = 100;\n        this.web3 = options.web3;\n        this.zeroSlot = '0x0000000000000000000000000000000000000000000000000000000000000000';\n    }\n    /**\n     * returns the storage for the given context (address and vm trace index)\n     * returns the range 0x0 => this.maxSize\n     *\n     * @param {Object} - tx - transaction\n     * @param {Int} - stepIndex - Index of the stop in the vm trace\n     * @param {String} - address - lookup address\n     * @param {Function} - callback - contains a map: [hashedKey] = {key, hashedKey, value}\n     */\n    storageRange(tx, stepIndex, address) {\n        return this.storageRangeInternal(this, this.zeroSlot, tx, stepIndex, address);\n    }\n    /**\n     * compute the mappgings type locations for the current address (cached for a debugging session)\n     * note: that only retrieve the first 100 items.\n     *\n     * @param {Object} tx\n     * @param {Int} stepIndex\n     * @param {Object} address  - storage\n     * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n     * @return {Function} - callback\n     */\n    initialPreimagesMappings(tx, stepIndex, address, corrections) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this.preimagesMappingByAddress[address]) {\n                return this.preimagesMappingByAddress[address];\n            }\n            const storage = yield this.storageRange(tx, stepIndex, address);\n            const mappings = (0, mappingPreimages_1.decodeMappingsKeys)(this.web3, storage, corrections);\n            this.preimagesMappingByAddress[address] = mappings;\n            return mappings;\n        });\n    }\n    /**\n     * return a slot value for the given context (address and vm trace index)\n     *\n     * @param {String} - slot - slot key\n     * @param {Object} - tx - transaction\n     * @param {Int} - stepIndex - Index of the stop in the vm trace\n     * @param {String} - address - lookup address\n     * @param {Function} - callback - {key, hashedKey, value} -\n     */\n    storageSlot(slot, tx, stepIndex, address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const storage = yield this.storageRangeInternal(this, slot, tx, stepIndex, address);\n            return (storage[slot] !== undefined ? storage[slot] : null);\n        });\n    }\n    /**\n     * return True if the storage at @arg address is complete\n     *\n     * @param {String} address  - contract address\n     * @return {Bool} - return True if the storage at @arg address is complete\n     */\n    isComplete(address) {\n        return this.storageByAddress[address] && this.storageByAddress[address].complete;\n    }\n    /**\n     * retrieve the storage and ensure at least @arg slot is cached.\n     * - If @arg slot is already cached, the storage will be returned from the cache\n     *   even if the next 1000 items are not in the cache.\n     * - If @arg slot is not cached, the corresponding value will be resolved and the next 1000 slots.\n     */\n    storageRangeInternal(self, slotKey, tx, stepIndex, address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            var cached = this.fromCache(self, address);\n            if (cached && cached.storage[slotKey]) { // we have the current slot in the cache and maybe the next 1000...\n                return cached.storage;\n            }\n            const result = yield this.storageRangeWeb3Call(tx, address, slotKey, self.maxSize);\n            const [storage, nextKey] = result;\n            if (!storage[slotKey] && slotKey !== self.zeroSlot) { // we don't cache the zero slot (could lead to inconsistency)\n                storage[slotKey] = { key: slotKey, value: self.zeroSlot };\n            }\n            self.toCache(self, address, storage);\n            if (slotKey === self.zeroSlot && !nextKey) { // only working if keys are sorted !!\n                self.storageByAddress[address].complete = true;\n            }\n            return storage;\n        });\n    }\n    /**\n     * retrieve the storage from the cache. if @arg slot is defined, return only the desired slot, if not return the entire known storage\n     *\n     * @param {String} address  - contract address\n     * @return {String} - either the entire known storage or a single value\n     */\n    fromCache(self, address) {\n        if (!self.storageByAddress[address]) {\n            return null;\n        }\n        return self.storageByAddress[address];\n    }\n    /**\n     * store the result of `storageRangeAtInternal`\n     *\n     * @param {String} address  - contract address\n     * @param {Object} storage  - result of `storageRangeAtInternal`, contains {key, hashedKey, value}\n     */\n    toCache(self, address, storage) {\n        if (!self.storageByAddress[address]) {\n            self.storageByAddress[address] = {};\n        }\n        self.storageByAddress[address].storage = Object.assign(self.storageByAddress[address].storage || {}, storage);\n    }\n    storageRangeWeb3Call(tx, address, start, maxSize) {\n        return new Promise((resolve, reject) => {\n            if ((0, traceHelper_1.isContractCreation)(address)) {\n                resolve([{}, null]);\n            }\n            else {\n                this.web3.debug.storageRangeAt(tx.blockHash, tx.hash, address, start, maxSize, (error, result) => {\n                    if (error) {\n                        reject(error);\n                    }\n                    else if (result.storage) {\n                        resolve([result.storage, result.nextKey]);\n                    }\n                    else {\n                        reject(new Error('the storage has not been provided'));\n                    }\n                });\n            }\n        });\n    }\n}\nexports.StorageResolver = StorageResolver;\n//# sourceMappingURL=storageResolver.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageViewer = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst mappingPreimages_1 = require(\"./mappingPreimages\");\n/**\n   * easier access to the storage resolver\n   * Basically one instance is created foreach execution step and foreach component that need it.\n   * (TODO: one instance need to be shared over all the components)\n   */\nclass StorageViewer {\n    constructor(_context, _storageResolver, _traceManager) {\n        this.context = _context;\n        this.storageResolver = _storageResolver;\n        this.web3 = this.storageResolver.web3;\n        this.initialMappingsLocationPromise = null;\n        this.currentMappingsLocationPromise = null;\n        this.storageChanges = _traceManager.accumulateStorageChanges(this.context.stepIndex, this.context.address, {});\n    }\n    /**\n      * return the storage for the current context (address and vm trace index)\n      * by default now returns the range 0 => 1000\n      *\n      * @param {Function} - callback - contains a map: [hashedKey] = {key, hashedKey, value}\n      */\n    storageRange() {\n        return new Promise((resolve, reject) => {\n            this.storageResolver.storageRange(this.context.tx, this.context.stepIndex, this.context.address).then((storage) => {\n                resolve(Object.assign({}, storage, this.storageChanges));\n            }).catch(reject);\n        });\n    }\n    /**\n      * return a slot value for the current context (address and vm trace index)\n      * @param {String} - slot - slot key (not hashed key!)\n      * @param {Function} - callback - {key, hashedKey, value} -\n      */\n    storageSlot(slot, callback) {\n        const hashed = remix_lib_1.util.sha3_256(slot);\n        if (this.storageChanges[hashed]) {\n            return callback(null, this.storageChanges[hashed]);\n        }\n        this.storageResolver.storageSlot(hashed, this.context.tx, this.context.stepIndex, this.context.address).then((storage) => {\n            callback(null, storage);\n        }).catch(callback);\n    }\n    /**\n      * return True if the storage at @arg address is complete\n      *\n      * @param {String} address  - contract address\n      * @return {Bool} - return True if the storage at @arg address is complete\n      */\n    isComplete(address) {\n        return this.storageResolver.isComplete(address);\n    }\n    /**\n      * return all the possible mappings locations for the current context (cached) do not return state changes during the current transaction\n      *\n      * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n      */\n    initialMappingsLocation(corrections) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.initialMappingsLocationPromise) {\n                this.initialMappingsLocationPromise = this.storageResolver.initialPreimagesMappings(this.context.tx, this.context.stepIndex, this.context.address, corrections);\n            }\n            return this.initialMappingsLocationPromise;\n        });\n    }\n    /**\n      * return all the possible mappings locations for the current context (cached) and current mapping slot. returns state changes during the current transaction\n      *\n      * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n      */\n    mappingsLocation(corrections) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.currentMappingsLocationPromise) {\n                this.currentMappingsLocationPromise = new Promise((resolve, reject) => {\n                    const mappingsLocationChanges = this.extractMappingsLocationChanges(this.storageChanges, corrections);\n                    return resolve(mappingsLocationChanges);\n                });\n            }\n            return this.currentMappingsLocationPromise;\n        });\n    }\n    /**\n      * retrieve mapping location changes from the storage changes.\n      * @param {Map} storageChanges\n      * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n      */\n    extractMappingsLocationChanges(storageChanges, corrections) {\n        if (this.mappingsLocationChanges) {\n            return this.mappingsLocationChanges;\n        }\n        const mappings = (0, mappingPreimages_1.decodeMappingsKeys)(this.web3, storageChanges, corrections);\n        this.mappingsLocationChanges = mappings;\n        return this.mappingsLocationChanges;\n    }\n}\nexports.StorageViewer = StorageViewer;\n//# sourceMappingURL=storageViewer.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceAnalyser = void 0;\nconst tslib_1 = require(\"tslib\");\nconst traceHelper = (0, tslib_1.__importStar)(require(\"./traceHelper\"));\nclass TraceAnalyser {\n    constructor(_cache) {\n        this.traceCache = _cache;\n        this.trace = null;\n    }\n    analyse(trace, tx) {\n        this.trace = trace;\n        this.traceCache.pushStoreChanges(0, tx.to);\n        let context = {\n            storageContext: [tx.to],\n            currentCallIndex: 0,\n            lastCallIndex: 0\n        };\n        const callStack = [tx.to];\n        this.traceCache.pushCall(trace[0], 0, callStack[0], callStack.slice(0));\n        if (traceHelper.isContractCreation(tx.to)) {\n            this.traceCache.pushContractCreation(tx.to, tx.input);\n        }\n        this.buildCalldata(0, this.trace[0], tx, true);\n        for (let k = 0; k < this.trace.length; k++) {\n            const step = this.trace[k];\n            this.buildMemory(k, step);\n            context = this.buildDepth(k, step, tx, callStack, context);\n            context = this.buildStorage(k, step, context);\n            this.buildReturnValues(k, step);\n        }\n        return true;\n    }\n    buildReturnValues(index, step) {\n        if (traceHelper.isReturnInstruction(step)) {\n            let offset = 2 * parseInt(step.stack[step.stack.length - 1], 16);\n            const size = 2 * parseInt(step.stack[step.stack.length - 2], 16);\n            const memory = this.trace[this.traceCache.memoryChanges[this.traceCache.memoryChanges.length - 1]].memory;\n            const noOfReturnParams = size / 64;\n            const memoryInString = memory.join('');\n            const returnParamsObj = [];\n            for (let i = 0; i < noOfReturnParams; i++) {\n                returnParamsObj.push('0x' + memoryInString.substring(offset, offset + 64));\n                offset += 64;\n            }\n            this.traceCache.pushReturnValue(index, returnParamsObj);\n        }\n        if (traceHelper.isReturnInstruction(step) || traceHelper.isStopInstruction(step) || traceHelper.isRevertInstruction(step)) {\n            this.traceCache.pushStopIndex(index, this.traceCache.currentCall.call.address);\n        }\n        try {\n            if (parseInt(step.gas) - parseInt(step.gasCost) <= 0 || step.error === 'OutOfGas') {\n                this.traceCache.pushOutOfGasIndex(index, this.traceCache.currentCall.call.address);\n            }\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    buildCalldata(index, step, tx, newContext) {\n        let calldata = '';\n        if (index === 0) {\n            calldata = tx.input;\n            this.traceCache.pushCallDataChanges(index, calldata);\n        }\n        else if (!newContext) {\n            const lastCall = this.traceCache.callsData[this.traceCache.callDataChanges[this.traceCache.callDataChanges.length - 2]];\n            this.traceCache.pushCallDataChanges(index + 1, lastCall);\n        }\n        else {\n            const memory = this.trace[this.traceCache.memoryChanges[this.traceCache.memoryChanges.length - 1]].memory;\n            const callStep = this.trace[index];\n            const stack = callStep.stack;\n            let offset = 0;\n            let size = 0;\n            if (callStep.op === 'DELEGATECALL') {\n                offset = 2 * parseInt(stack[stack.length - 3], 16);\n                size = 2 * parseInt(stack[stack.length - 4], 16);\n            }\n            else {\n                offset = 2 * parseInt(stack[stack.length - 4], 16);\n                size = 2 * parseInt(stack[stack.length - 5], 16);\n            }\n            calldata = '0x' + memory.join('').substr(offset, size);\n            this.traceCache.pushCallDataChanges(index + 1, calldata);\n        }\n    }\n    buildMemory(index, step) {\n        if (step.memory) {\n            this.traceCache.pushMemoryChanges(index);\n        }\n    }\n    buildStorage(index, step, context) {\n        if (traceHelper.newContextStorage(step) && !traceHelper.isCallToPrecompiledContract(index, this.trace)) {\n            const calledAddress = traceHelper.resolveCalledAddress(index, this.trace);\n            if (calledAddress) {\n                context.storageContext.push(calledAddress);\n            }\n            else {\n                console.log('unable to build storage changes. ' + index + ' does not match with a CALL. storage changes will be corrupted');\n            }\n            this.traceCache.pushStoreChanges(index + 1, context.storageContext[context.storageContext.length - 1]);\n        }\n        else if (traceHelper.isSSTOREInstruction(step)) {\n            this.traceCache.pushStoreChanges(index + 1, context.storageContext[context.storageContext.length - 1], step.stack[step.stack.length - 1], step.stack[step.stack.length - 2]);\n        }\n        else if (traceHelper.isReturnInstruction(step) || traceHelper.isStopInstruction(step)) {\n            context.storageContext.pop();\n            this.traceCache.pushStoreChanges(index + 1, context.storageContext[context.storageContext.length - 1]);\n        }\n        else if (traceHelper.isRevertInstruction(step)) {\n            context.storageContext.pop();\n            this.traceCache.resetStoreChanges();\n        }\n        return context;\n    }\n    buildDepth(index, step, tx, callStack, context) {\n        if (traceHelper.isCallInstruction(step) && !traceHelper.isCallToPrecompiledContract(index, this.trace)) {\n            let newAddress;\n            if (traceHelper.isCreateInstruction(step)) {\n                newAddress = traceHelper.contractCreationToken(index);\n                callStack.push(newAddress);\n                const lastMemoryChange = this.traceCache.memoryChanges[this.traceCache.memoryChanges.length - 1];\n                this.traceCache.pushContractCreationFromMemory(index, newAddress, this.trace, lastMemoryChange);\n            }\n            else {\n                newAddress = traceHelper.resolveCalledAddress(index, this.trace);\n                if (newAddress) {\n                    callStack.push(newAddress);\n                }\n                else {\n                    console.log('unable to build depth changes. ' + index + ' does not match with a CALL. depth changes will be corrupted');\n                }\n            }\n            this.traceCache.pushCall(step, index + 1, newAddress, callStack.slice(0));\n            this.buildCalldata(index, step, tx, true);\n            this.traceCache.pushSteps(index, context.currentCallIndex);\n            context.lastCallIndex = context.currentCallIndex;\n            context.currentCallIndex = 0;\n        }\n        else if (traceHelper.isReturnInstruction(step) || traceHelper.isStopInstruction(step) || step.error || step.invalidDepthChange) {\n            if (index < this.trace.length) {\n                callStack.pop();\n                this.traceCache.pushCall(step, index + 1, null, callStack.slice(0), step.error || step.invalidDepthChange);\n                this.buildCalldata(index, step, tx, false);\n                this.traceCache.pushSteps(index, context.currentCallIndex);\n                context.currentCallIndex = context.lastCallIndex + 1;\n            }\n        }\n        else {\n            this.traceCache.pushSteps(index, context.currentCallIndex);\n            context.currentCallIndex++;\n        }\n        return context;\n    }\n}\nexports.TraceAnalyser = TraceAnalyser;\n//# sourceMappingURL=traceAnalyser.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceCache = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n// eslint-disable-next-line camelcase\nconst { sha3_256 } = remix_lib_1.util;\nclass TraceCache {\n    constructor() {\n        this.init();\n    }\n    init() {\n        // ...Changes contains index in the vmtrace of the corresponding changes\n        this.returnValues = {};\n        this.stopIndexes = [];\n        this.outofgasIndexes = [];\n        this.currentCall = null;\n        this.callsTree = null;\n        this.callsData = {};\n        this.contractCreation = {};\n        this.steps = {};\n        this.addresses = [];\n        this.callDataChanges = [];\n        this.memoryChanges = [];\n        this.storageChanges = [];\n        this.sstore = {}; // all sstore occurence in the trace\n    }\n    pushSteps(index, currentCallIndex) {\n        this.steps[index] = currentCallIndex;\n    }\n    pushCallDataChanges(value, calldata) {\n        this.callDataChanges.push(value);\n        this.callsData[value] = calldata;\n    }\n    pushMemoryChanges(value) {\n        this.memoryChanges.push(value);\n    }\n    // outOfGas has been removed because gas left logging is apparently made differently\n    // in the vm/geth/eth. TODO add the error property (with about the error in all clients)\n    pushCall(step, index, address, callStack, reverted) {\n        const validReturnStep = step.op === 'RETURN' || step.op === 'STOP';\n        if ((validReturnStep || reverted) && (this.currentCall)) {\n            this.currentCall.call.return = index - 1;\n            if (!validReturnStep) {\n                this.currentCall.call.reverted = reverted;\n            }\n            var parent = this.currentCall.parent;\n            if (parent)\n                this.currentCall = { call: parent.call, parent: parent.parent };\n            return;\n        }\n        const call = {\n            op: step.op,\n            address: address,\n            callStack: callStack,\n            calls: {},\n            start: index\n        };\n        this.addresses.push(address);\n        if (this.currentCall) {\n            this.currentCall.call.calls[index] = call;\n        }\n        else {\n            this.callsTree = { call: call };\n        }\n        this.currentCall = { call: call, parent: this.currentCall };\n    }\n    pushOutOfGasIndex(index, address) {\n        this.outofgasIndexes.push({ index, address });\n    }\n    pushStopIndex(index, address) {\n        this.stopIndexes.push({ index, address });\n    }\n    pushReturnValue(step, value) {\n        this.returnValues[step] = value;\n    }\n    pushContractCreationFromMemory(index, token, trace, lastMemoryChange) {\n        const memory = trace[lastMemoryChange].memory;\n        const stack = trace[index].stack;\n        const offset = 2 * parseInt(stack[stack.length - 2], 16);\n        const size = 2 * parseInt(stack[stack.length - 3], 16);\n        this.contractCreation[token] = '0x' + memory.join('').substr(offset, size);\n    }\n    pushContractCreation(token, code) {\n        this.contractCreation[token] = code;\n    }\n    resetStoreChanges(index, address, key, value) {\n        this.sstore = {};\n        this.storageChanges = [];\n    }\n    pushStoreChanges(index, address, key, value) {\n        this.sstore[index] = {\n            address: address,\n            key: key,\n            value: value,\n            hashedKey: key && sha3_256(key)\n        };\n        this.storageChanges.push(index);\n    }\n    accumulateStorageChanges(index, address, storage) {\n        const ret = Object.assign({}, storage);\n        for (var k in this.storageChanges) {\n            const changesIndex = this.storageChanges[k];\n            if (changesIndex > index) {\n                return ret;\n            }\n            var sstore = this.sstore[changesIndex];\n            if (sstore.address === address && sstore.key) {\n                ret[sstore.hashedKey] = {\n                    key: sstore.key,\n                    value: sstore.value\n                };\n            }\n        }\n        return ret;\n    }\n}\nexports.TraceCache = TraceCache;\n//# sourceMappingURL=traceCache.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isContractCreation = exports.contractCreationToken = exports.isCallToPrecompiledContract = exports.newContextStorage = exports.isSHA3Instruction = exports.isSSTOREInstruction = exports.isRevertInstruction = exports.isStopInstruction = exports.isJumpDestInstruction = exports.isReturnInstruction = exports.isCreateInstruction = exports.isCallInstruction = exports.resolveCalledAddress = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst { ui } = remix_lib_1.helpers;\n// vmTraceIndex has to point to a CALL, CODECALL, ...\nfunction resolveCalledAddress(vmTraceIndex, trace) {\n    const step = trace[vmTraceIndex];\n    if (isCreateInstruction(step)) {\n        return contractCreationToken(vmTraceIndex);\n    }\n    else if (isCallInstruction(step)) {\n        const stack = step.stack; // callcode, delegatecall, ...\n        return ui.normalizeHexAddress(stack[stack.length - 2]);\n    }\n    return undefined;\n}\nexports.resolveCalledAddress = resolveCalledAddress;\nfunction isCallInstruction(step) {\n    return ['CALL', 'STATICCALL', 'CALLCODE', 'CREATE', 'DELEGATECALL', 'CREATE2'].includes(step.op);\n}\nexports.isCallInstruction = isCallInstruction;\nfunction isCreateInstruction(step) {\n    return step.op === 'CREATE' || step.op === 'CREATE2';\n}\nexports.isCreateInstruction = isCreateInstruction;\nfunction isReturnInstruction(step) {\n    return step.op === 'RETURN';\n}\nexports.isReturnInstruction = isReturnInstruction;\nfunction isJumpDestInstruction(step) {\n    return step.op === 'JUMPDEST';\n}\nexports.isJumpDestInstruction = isJumpDestInstruction;\nfunction isStopInstruction(step) {\n    return step.op === 'STOP';\n}\nexports.isStopInstruction = isStopInstruction;\nfunction isRevertInstruction(step) {\n    return step.op === 'REVERT';\n}\nexports.isRevertInstruction = isRevertInstruction;\nfunction isSSTOREInstruction(step) {\n    return step.op === 'SSTORE';\n}\nexports.isSSTOREInstruction = isSSTOREInstruction;\nfunction isSHA3Instruction(step) {\n    return step.op === 'SHA3';\n}\nexports.isSHA3Instruction = isSHA3Instruction;\nfunction newContextStorage(step) {\n    return step.op === 'CREATE' || step.op === 'CALL' || step.op === 'CREATE2';\n}\nexports.newContextStorage = newContextStorage;\nfunction isCallToPrecompiledContract(index, trace) {\n    // if stack empty => this is not a precompiled contract\n    const step = trace[index];\n    if (isCallInstruction(step)) {\n        return index + 1 < trace.length && trace[index + 1].stack.length !== 0;\n    }\n    return false;\n}\nexports.isCallToPrecompiledContract = isCallToPrecompiledContract;\nfunction contractCreationToken(index) {\n    return '(Contract Creation - Step ' + index + ')';\n}\nexports.contractCreationToken = contractCreationToken;\nfunction isContractCreation(address) {\n    return address.indexOf('(Contract Creation - Step') !== -1;\n}\nexports.isContractCreation = isContractCreation;\n//# sourceMappingURL=traceHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst traceAnalyser_1 = require(\"./traceAnalyser\");\nconst traceCache_1 = require(\"./traceCache\");\nconst traceStepManager_1 = require(\"./traceStepManager\");\nconst traceHelper_1 = require(\"./traceHelper\");\nclass TraceManager {\n    constructor(options) {\n        this.web3 = options.web3;\n        this.isLoading = false;\n        this.trace = null;\n        this.traceCache = new traceCache_1.TraceCache();\n        this.traceAnalyser = new traceAnalyser_1.TraceAnalyser(this.traceCache);\n        this.traceStepManager = new traceStepManager_1.TraceStepManager(this.traceAnalyser);\n    }\n    // init section\n    resolveTrace(tx) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.tx = tx;\n            this.init();\n            if (!this.web3)\n                throw new Error('web3 not loaded');\n            this.isLoading = true;\n            const result = yield this.getTrace(tx.hash);\n            try {\n                if (result['structLogs'].length > 0) {\n                    this.trace = result['structLogs'];\n                    try {\n                        const networkId = yield this.web3.eth.net.getId();\n                        this.fork = remix_lib_1.execution.forkAt(networkId, tx.blockNumber);\n                    }\n                    catch (e) {\n                        this.fork = 'london';\n                        console.log(`unable to detect fork, defaulting to ${this.fork}..`);\n                        console.error(e);\n                    }\n                    this.traceAnalyser.analyse(result['structLogs'], tx);\n                    this.isLoading = false;\n                    return true;\n                }\n                var mes = tx.hash + ' is not a contract invocation or contract creation.';\n                console.log(mes);\n                this.isLoading = false;\n                throw new Error(mes);\n            }\n            catch (error) {\n                console.log(error);\n                this.isLoading = false;\n                throw new Error(error);\n            }\n        });\n    }\n    getTrace(txHash) {\n        return new Promise((resolve, reject) => {\n            const options = {\n                disableStorage: true,\n                disableMemory: false,\n                disableStack: false,\n                fullStorage: false\n            };\n            this.web3.debug.traceTransaction(txHash, options, function (error, result) {\n                if (error)\n                    return reject(error);\n                resolve(result);\n            });\n        });\n    }\n    init() {\n        this.trace = null;\n        this.traceCache.init();\n    }\n    getCurrentFork() {\n        return this.fork;\n    }\n    // API section\n    inRange(step) {\n        return this.isLoaded() && step >= 0 && step < this.trace.length;\n    }\n    isLoaded() {\n        return !this.isLoading && this.trace !== null;\n    }\n    getLength(callback) {\n        if (!this.trace) {\n            callback(new Error('no trace available'), null);\n        }\n        else {\n            callback(null, this.trace.length);\n        }\n    }\n    accumulateStorageChanges(index, address, storageOrigin) {\n        return this.traceCache.accumulateStorageChanges(index, address, storageOrigin);\n    }\n    getAddresses() {\n        return this.traceCache.addresses;\n    }\n    getCallDataAt(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        const callDataChange = remix_lib_1.util.findLowerBoundValue(stepIndex, this.traceCache.callDataChanges);\n        if (callDataChange === null) {\n            throw new Error('no calldata found');\n        }\n        return [this.traceCache.callsData[callDataChange]];\n    }\n    buildCallPath(stepIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                this.checkRequestedStep(stepIndex);\n            }\n            catch (check) {\n                throw new Error(check);\n            }\n            const callsPath = remix_lib_1.util.buildCallPath(stepIndex, this.traceCache.callsTree.call);\n            if (callsPath === null)\n                throw new Error('no call path built');\n            return callsPath;\n        });\n    }\n    getCallStackAt(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        const call = remix_lib_1.util.findCall(stepIndex, this.traceCache.callsTree.call);\n        if (call === null) {\n            throw new Error('no callstack found');\n        }\n        return call.callStack;\n    }\n    getStackAt(stepIndex) {\n        this.checkRequestedStep(stepIndex);\n        if (this.trace[stepIndex] && this.trace[stepIndex].stack) { // there's always a stack\n            const stack = this.trace[stepIndex].stack.slice(0);\n            stack.reverse();\n            return stack.map(el => el.startsWith('0x') ? el : '0x' + el);\n        }\n        else {\n            throw new Error('no stack found');\n        }\n    }\n    getLastCallChangeSince(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        const callChange = remix_lib_1.util.findCall(stepIndex, this.traceCache.callsTree.call);\n        if (callChange === null) {\n            return 0;\n        }\n        return callChange;\n    }\n    getCurrentCalledAddressAt(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n            const resp = this.getLastCallChangeSince(stepIndex);\n            if (!resp) {\n                throw new Error('unable to get current called address. ' + stepIndex + ' does not match with a CALL');\n            }\n            return resp.address;\n        }\n        catch (error) {\n            throw new Error(error);\n        }\n    }\n    getContractCreationCode(token) {\n        if (!this.traceCache.contractCreation[token]) {\n            throw new Error('no contract creation named ' + token);\n        }\n        return this.traceCache.contractCreation[token];\n    }\n    getMemoryAt(stepIndex) {\n        this.checkRequestedStep(stepIndex);\n        const lastChanges = remix_lib_1.util.findLowerBoundValue(stepIndex, this.traceCache.memoryChanges);\n        if (lastChanges === null) {\n            throw new Error('no memory found');\n        }\n        return this.trace[lastChanges].memory;\n    }\n    getCurrentPC(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        return this.trace[stepIndex].pc;\n    }\n    getAllStopIndexes() {\n        return this.traceCache.stopIndexes;\n    }\n    getAllOutofGasIndexes() {\n        return this.traceCache.outofgasIndexes;\n    }\n    getReturnValue(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        if (!this.traceCache.returnValues[stepIndex]) {\n            throw new Error('current step is not a return step');\n        }\n        return this.traceCache.returnValues[stepIndex];\n    }\n    getCurrentStep(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        return this.traceCache.steps[stepIndex];\n    }\n    getMemExpand(stepIndex) {\n        return (this.getStepProperty(stepIndex, 'memexpand') || '');\n    }\n    getStepCost(stepIndex) {\n        return this.getStepProperty(stepIndex, 'gasCost');\n    }\n    getRemainingGas(stepIndex) {\n        return this.getStepProperty(stepIndex, 'gas');\n    }\n    getStepProperty(stepIndex, property) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        return this.trace[stepIndex][property];\n    }\n    isCreationStep(stepIndex) {\n        return (0, traceHelper_1.isCreateInstruction)(this.trace[stepIndex]);\n    }\n    // step section\n    findStepOverBack(currentStep) {\n        return this.traceStepManager.findStepOverBack(currentStep);\n    }\n    findStepOverForward(currentStep) {\n        return this.traceStepManager.findStepOverForward(currentStep);\n    }\n    findNextCall(currentStep) {\n        return this.traceStepManager.findNextCall(currentStep);\n    }\n    findStepOut(currentStep) {\n        return this.traceStepManager.findStepOut(currentStep);\n    }\n    checkRequestedStep(stepIndex) {\n        if (!this.trace) {\n            throw new Error('trace not loaded');\n        }\n        else if (stepIndex >= this.trace.length) {\n            throw new Error('trace smaller than requested');\n        }\n    }\n    waterfall(calls, stepindex, cb) {\n        const ret = [];\n        let retError = null;\n        for (var call in calls) {\n            calls[call].apply(this, [stepindex, function (error, result) {\n                    retError = error;\n                    ret.push({ error: error, value: result });\n                }]);\n        }\n        cb(retError, ret);\n    }\n}\nexports.TraceManager = TraceManager;\n//# sourceMappingURL=traceManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceStepManager = void 0;\nconst traceHelper_1 = require(\"./traceHelper\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nclass TraceStepManager {\n    constructor(_traceAnalyser) {\n        this.traceAnalyser = _traceAnalyser;\n    }\n    isCallInstruction(index) {\n        const state = this.traceAnalyser.trace[index];\n        return (0, traceHelper_1.isCallInstruction)(state) && !(0, traceHelper_1.isCallToPrecompiledContract)(index, this.traceAnalyser.trace);\n    }\n    isReturnInstruction(index) {\n        const state = this.traceAnalyser.trace[index];\n        return (0, traceHelper_1.isReturnInstruction)(state);\n    }\n    findStepOverBack(currentStep) {\n        if (this.isReturnInstruction(currentStep)) {\n            const call = remix_lib_1.util.findCall(currentStep, this.traceAnalyser.traceCache.callsTree.call);\n            return call.start > 0 ? call.start - 1 : 0;\n        }\n        return currentStep > 0 ? currentStep - 1 : 0;\n    }\n    findStepOverForward(currentStep) {\n        if (this.isCallInstruction(currentStep)) {\n            const call = remix_lib_1.util.findCall(currentStep + 1, this.traceAnalyser.traceCache.callsTree.call);\n            return call.return + 1 < this.traceAnalyser.trace.length ? call.return + 1 : this.traceAnalyser.trace.length - 1;\n        }\n        return this.traceAnalyser.trace.length >= currentStep + 1 ? currentStep + 1 : currentStep;\n    }\n    findNextCall(currentStep) {\n        const call = remix_lib_1.util.findCall(currentStep, this.traceAnalyser.traceCache.callsTree.call);\n        const subCalls = Object.keys(call.calls);\n        if (subCalls.length) {\n            var callStart = remix_lib_1.util.findLowerBound(currentStep, subCalls) + 1;\n            if (subCalls.length > callStart) {\n                return parseInt(subCalls[callStart]) - 1;\n            }\n            return currentStep;\n        }\n        return currentStep;\n    }\n    findStepOut(currentStep) {\n        const call = remix_lib_1.util.findCall(currentStep, this.traceAnalyser.traceCache.callsTree.call);\n        return call.return;\n    }\n}\nexports.TraceStepManager = TraceStepManager;\n//# sourceMappingURL=traceStepManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventManager = void 0;\nclass EventManager {\n    constructor() {\n        this.registered = {};\n        this.anonymous = {};\n    }\n    /*\n      * Unregister a listener.\n      * Note that if obj is a function. the unregistration will be applied to the dummy obj {}.\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    unregister(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        for (const reg in this.registered[eventName]) {\n            if ((this.registered[eventName][reg].obj === obj) && (this.registered[eventName][reg].func.toString() === func.toString())) {\n                this.registered[eventName].splice(reg, 1);\n            }\n        }\n    }\n    /*\n      * Register a new listener.\n      * Note that if obj is a function, the function registration will be associated with the dummy object {}\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    register(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            this.registered[eventName] = [];\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        this.registered[eventName].push({ obj, func });\n    }\n    /*\n      * trigger event.\n      * Every listener have their associated function executed\n      *\n      * @param {String} eventName  - the event name\n      * @param {Array}j - argument that will be passed to the executed function.\n    */\n    trigger(eventName, args) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        for (const listener in this.registered[eventName]) {\n            const l = this.registered[eventName][listener];\n            if (l.func)\n                l.func.apply(l.obj === this.anonymous ? {} : l.obj, args);\n        }\n    }\n}\nexports.EventManager = EventManager;\n//# sourceMappingURL=eventManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventsDecoder = void 0;\nconst ethers_1 = require(\"ethers\");\nconst txHelper_1 = require(\"./txHelper\");\n/**\n  * Register to txListener and extract events\n  *\n  */\nclass EventsDecoder {\n    constructor({ resolveReceipt }) {\n        this.resolveReceipt = resolveReceipt;\n    }\n    /**\n    * use Transaction Receipt to decode logs. assume that the transaction as already been resolved by txListener.\n    * logs are decoded only if the contract if known by remix.\n    *\n    * @param {Object} tx - transaction object\n    * @param {Function} cb - callback\n    */\n    parseLogs(tx, contractName, compiledContracts, cb) {\n        if (tx.isCall)\n            return cb(null, { decoded: [], raw: [] });\n        this.resolveReceipt(tx, (error, receipt) => {\n            if (error)\n                return cb(error);\n            this._decodeLogs(tx, receipt, contractName, compiledContracts, cb);\n        });\n    }\n    _decodeLogs(tx, receipt, contract, contracts, cb) {\n        if (!contract || !receipt) {\n            return cb('cannot decode logs - contract or receipt not resolved ');\n        }\n        if (!receipt.logs) {\n            return cb(null, { decoded: [], raw: [] });\n        }\n        this._decodeEvents(tx, receipt.logs, contract, contracts, cb);\n    }\n    _eventABI(contract) {\n        const eventABI = {};\n        const abi = new ethers_1.ethers.utils.Interface(contract.abi);\n        for (const e in abi.events) {\n            const event = abi.getEvent(e);\n            eventABI[abi.getEventTopic(e).replace('0x', '')] = { event: event.name, inputs: event.inputs, object: event, abi: abi };\n        }\n        return eventABI;\n    }\n    _eventsABI(compiledContracts) {\n        const eventsABI = {};\n        (0, txHelper_1.visitContracts)(compiledContracts, (contract) => {\n            eventsABI[contract.name] = this._eventABI(contract.object);\n        });\n        return eventsABI;\n    }\n    _event(hash, eventsABI) {\n        for (const k in eventsABI) {\n            if (eventsABI[k][hash]) {\n                const event = eventsABI[k][hash];\n                for (const input of event.inputs) {\n                    if (input.type === 'function') {\n                        input.type = 'bytes24';\n                        input.baseType = 'bytes24';\n                    }\n                }\n                return event;\n            }\n        }\n        return null;\n    }\n    _stringifyBigNumber(value) {\n        return value._isBigNumber ? value.toString() : value;\n    }\n    _stringifyEvent(value) {\n        if (value === null || value === undefined)\n            return ' - ';\n        if (value._ethersType)\n            value.type = value._ethersType;\n        if (Array.isArray(value)) {\n            // for struct && array\n            return value.map((item) => { return this._stringifyEvent(item); });\n        }\n        else {\n            return this._stringifyBigNumber(value);\n        }\n    }\n    _decodeEvents(tx, logs, contractName, compiledContracts, cb) {\n        const eventsABI = this._eventsABI(compiledContracts);\n        const events = [];\n        for (const i in logs) {\n            // [address, topics, mem]\n            const log = logs[i];\n            const topicId = log.topics[0];\n            const eventAbi = this._event(topicId.replace('0x', ''), eventsABI);\n            if (eventAbi) {\n                const decodedlog = eventAbi.abi.parseLog(log);\n                const decoded = {};\n                for (const v in decodedlog.args) {\n                    decoded[v] = this._stringifyEvent(decodedlog.args[v]);\n                }\n                events.push({ from: log.address, topic: topicId, event: eventAbi.event, args: decoded });\n            }\n            else {\n                events.push({ from: log.address, data: log.data, topics: log.topics });\n            }\n        }\n        cb(null, { decoded: events, raw: logs });\n    }\n}\nexports.EventsDecoder = EventsDecoder;\n//# sourceMappingURL=eventsDecoder.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forkAt = void 0;\n/**\n  * returns the fork name for the @argument networkId and @argument blockNumber\n  *\n  * @param {Object} networkId - network Id (1 for VM, 3 for Ropsten, 4 for Rinkeby, 5 for Goerli)\n  * @param {Object} blockNumber - block number\n  * @return {String} - fork name (Berlin, Istanbul, ...)\n  */\nfunction forkAt(networkId, blockNumber) {\n    if (forks[networkId]) {\n        let currentForkName = forks[networkId][0].name;\n        for (const fork of forks[networkId]) {\n            if (blockNumber >= fork.number) {\n                currentForkName = fork.name;\n            }\n        }\n        return currentForkName;\n    }\n    return 'london';\n}\nexports.forkAt = forkAt;\n// see https://github.com/ethereum/go-ethereum/blob/master/params/config.go\nconst forks = {\n    1: [\n        {\n            number: 4370000,\n            name: 'byzantium'\n        },\n        {\n            number: 7280000,\n            name: 'constantinople'\n        },\n        {\n            number: 7280000,\n            name: 'petersburg'\n        },\n        {\n            number: 9069000,\n            name: 'istanbul'\n        },\n        {\n            number: 9200000,\n            name: 'muirglacier'\n        },\n        {\n            number: 12244000,\n            name: 'berlin'\n        },\n        {\n            number: 12965000,\n            name: 'london'\n        }\n    ],\n    3: [\n        {\n            number: 1700000,\n            name: 'byzantium'\n        },\n        {\n            number: 4230000,\n            name: 'constantinople'\n        },\n        {\n            number: 4939394,\n            name: 'petersburg'\n        },\n        {\n            number: 6485846,\n            name: 'istanbul'\n        },\n        {\n            number: 7117117,\n            name: 'muirglacier'\n        },\n        {\n            number: 9812189,\n            name: 'berlin'\n        },\n        {\n            number: 10499401,\n            name: 'london'\n        }\n    ],\n    4: [\n        {\n            number: 1035301,\n            name: 'byzantium'\n        },\n        {\n            number: 3660663,\n            name: 'constantinople'\n        },\n        {\n            number: 4321234,\n            name: 'petersburg'\n        },\n        {\n            number: 5435345,\n            name: 'istanbul'\n        },\n        {\n            number: 8290928,\n            name: 'berlin'\n        },\n        {\n            number: 8897988,\n            name: 'london'\n        }\n    ],\n    5: [\n        {\n            number: 1561651,\n            name: 'istanbul'\n        },\n        {\n            number: 4460644,\n            name: 'berlin'\n        },\n        {\n            number: 5062605,\n            name: 'london'\n        }\n    ]\n};\n//# sourceMappingURL=forkAt.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogsManager = void 0;\nconst async_1 = require(\"async\");\nconst crypto_1 = require(\"crypto\");\nclass LogsManager {\n    constructor() {\n        this.notificationCallbacks = [];\n        this.subscriptions = {};\n        this.filters = {};\n        this.filterTracking = {};\n        this.oldLogs = [];\n    }\n    checkBlock(blockNumber, block, web3) {\n        (0, async_1.eachOf)(block.transactions, (tx, i, next) => {\n            const txHash = '0x' + tx.hash().toString('hex');\n            web3.eth.getTransactionReceipt(txHash, (_error, receipt) => {\n                for (const log of receipt.logs) {\n                    this.oldLogs.push({ type: 'block', blockNumber, block, tx, log, txNumber: i });\n                    const subscriptions = this.getSubscriptionsFor({ type: 'block', blockNumber, block, tx, log });\n                    for (const subscriptionId of subscriptions) {\n                        const result = {\n                            logIndex: '0x1',\n                            blockNumber: blockNumber,\n                            blockHash: ('0x' + block.hash().toString('hex')),\n                            transactionHash: ('0x' + tx.hash().toString('hex')),\n                            transactionIndex: '0x' + i.toString(16),\n                            // TODO: if it's a contract deploy, it should be that address instead\n                            address: log.address,\n                            data: log.data,\n                            topics: log.topics\n                        };\n                        if (result.address === '0x') {\n                            delete result.address;\n                        }\n                        const response = { jsonrpc: '2.0', method: 'eth_subscription', params: { result: result, subscription: subscriptionId } };\n                        this.transmit(response);\n                    }\n                }\n            });\n        }, (_err) => {\n        });\n    }\n    eventMatchesFilter(changeEvent, queryType, queryFilter) {\n        if (queryFilter.topics.filter((logTopic) => changeEvent.log.topics.indexOf(logTopic) >= 0).length === 0)\n            return false;\n        if (queryType === 'logs') {\n            const fromBlock = queryFilter.fromBlock || '0x0';\n            const toBlock = queryFilter.toBlock || this.oldLogs.length ? this.oldLogs[this.oldLogs.length - 1].blockNumber : '0x0';\n            if ((queryFilter.address === (changeEvent.tx.to || '').toString()) || queryFilter.address === (changeEvent.tx.getSenderAddress().toString())) {\n                if ((parseInt(toBlock) >= parseInt(changeEvent.blockNumber)) && (parseInt(fromBlock) <= parseInt(changeEvent.blockNumber))) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    getSubscriptionsFor(changeEvent) {\n        const matchedSubscriptions = [];\n        for (const subscriptionId of Object.keys(this.subscriptions)) {\n            const subscriptionParams = this.subscriptions[subscriptionId];\n            const [queryType, queryFilter] = subscriptionParams;\n            if (this.eventMatchesFilter(changeEvent, queryType, queryFilter || { topics: [] })) {\n                matchedSubscriptions.push(subscriptionId);\n            }\n        }\n        return matchedSubscriptions;\n    }\n    getLogsForSubscription(subscriptionId) {\n        const subscriptionParams = this.subscriptions[subscriptionId];\n        const [_queryType, queryFilter] = subscriptionParams; // eslint-disable-line\n        return this.getLogsFor(queryFilter);\n    }\n    transmit(result) {\n        this.notificationCallbacks.forEach((callback) => {\n            if (result.params.result.raw) {\n                result.params.result.data = result.params.result.raw.data;\n                result.params.result.topics = result.params.result.raw.topics;\n            }\n            callback(result);\n        });\n    }\n    addListener(_type, cb) {\n        this.notificationCallbacks.push(cb);\n    }\n    subscribe(params) {\n        const subscriptionId = '0x' + (0, crypto_1.randomBytes)(16).toString('hex');\n        this.subscriptions[subscriptionId] = params;\n        return subscriptionId;\n    }\n    unsubscribe(subscriptionId) {\n        delete this.subscriptions[subscriptionId];\n    }\n    newFilter(filterType, params) {\n        const filterId = '0x' + (0, crypto_1.randomBytes)(16).toString('hex');\n        if (filterType === 'block' || filterType === 'pendingTransactions') {\n            this.filters[filterId] = { filterType };\n        }\n        if (filterType === 'filter') {\n            this.filters[filterId] = { filterType, params };\n        }\n        this.filterTracking[filterId] = {};\n        return filterId;\n    }\n    uninstallFilter(filterId) {\n        delete this.filters[filterId];\n    }\n    getLogsForFilter(filterId, logsOnly) {\n        const { filterType, params } = this.filters[filterId];\n        const tracking = this.filterTracking[filterId];\n        if (logsOnly || filterType === 'filter') {\n            return this.getLogsFor(params || { topics: [] });\n        }\n        if (filterType === 'block') {\n            const blocks = this.oldLogs.filter(x => x.type === 'block').filter(x => tracking.block === undefined || x.blockNumber >= tracking.block);\n            tracking.block = blocks[blocks.length - 1];\n            return blocks.map(block => ('0x' + block.hash().toString('hex')));\n        }\n        if (filterType === 'pendingTransactions') {\n            return [];\n        }\n    }\n    getLogsByTxHash(hash) {\n        return this.oldLogs.filter((log) => '0x' + log.tx.hash().toString('hex') === hash)\n            .map((log) => {\n            return {\n                logIndex: '0x1',\n                blockNumber: log.blockNumber,\n                blockHash: ('0x' + log.block.hash().toString('hex')),\n                transactionHash: ('0x' + log.tx.hash().toString('hex')),\n                transactionIndex: '0x' + log.txNumber.toString(16),\n                // TODO: if it's a contract deploy, it should be that address instead\n                address: log.log.address,\n                data: log.log.data,\n                topics: log.log.topics\n            };\n        });\n    }\n    getLogsFor(params) {\n        const results = [];\n        for (const log of this.oldLogs) {\n            if (this.eventMatchesFilter(log, 'logs', params)) {\n                results.push({\n                    logIndex: '0x1',\n                    blockNumber: log.blockNumber,\n                    blockHash: ('0x' + log.block.hash().toString('hex')),\n                    transactionHash: ('0x' + log.tx.hash().toString('hex')),\n                    transactionIndex: '0x' + log.txNumber.toString(16),\n                    // TODO: if it's a contract deploy, it should be that address instead\n                    address: log.log.address,\n                    data: log.log.data,\n                    topics: log.log.topics\n                });\n            }\n        }\n        return results;\n    }\n}\nexports.LogsManager = LogsManager;\n//# sourceMappingURL=logsManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkVMError = exports.callFunction = exports.createContract = void 0;\nconst ethers_1 = require(\"ethers\");\nconst txHelper_1 = require(\"./txHelper\");\n/**\n  * deploy the given contract\n  *\n  * @param {String} from    - sender address\n  * @param {String} data    - data to send with the transaction ( return of txFormat.buildData(...) ).\n  * @param {String} value    - decimal representation of value.\n  * @param {String} gasLimit    - decimal representation of gas limit.\n  * @param {Object} txRunner    - TxRunner.js instance\n  * @param {Object} callbacks    - { confirmationCb, gasEstimationForceSend, promptCb }\n  *     [validate transaction] confirmationCb (network, tx, gasEstimation, continueTxExecution, cancelCb)\n  *     [transaction failed, force send] gasEstimationForceSend (error, continueTxExecution, cancelCb)\n  *     [personal mode enabled, need password to continue] promptCb (okCb, cancelCb)\n  * @param {Function} finalCallback    - last callback.\n  */\nfunction createContract(from, data, value, gasLimit, txRunner, callbacks, finalCallback) {\n    if (!callbacks.confirmationCb || !callbacks.gasEstimationForceSend || !callbacks.promptCb) {\n        return finalCallback('all the callbacks must have been defined');\n    }\n    const tx = { from: from, to: null, data: data, useCall: false, value: value, gasLimit: gasLimit };\n    txRunner.rawRun(tx, callbacks.confirmationCb, callbacks.gasEstimationForceSend, callbacks.promptCb, (error, txResult) => {\n        // see universaldapp.js line 660 => 700 to check possible values of txResult (error case)\n        finalCallback(error, txResult);\n    });\n}\nexports.createContract = createContract;\n/**\n  * call the current given contract ! that will create a transaction !\n  *\n  * @param {String} from    - sender address\n  * @param {String} to    - recipient address\n  * @param {String} data    - data to send with the transaction ( return of txFormat.buildData(...) ).\n  * @param {String} value    - decimal representation of value.\n  * @param {String} gasLimit    - decimal representation of gas limit.\n  * @param {Object} txRunner    - TxRunner.js instance\n  * @param {Object} callbacks    - { confirmationCb, gasEstimationForceSend, promptCb }\n  *     [validate transaction] confirmationCb (network, tx, gasEstimation, continueTxExecution, cancelCb)\n  *     [transaction failed, force send] gasEstimationForceSend (error, continueTxExecution, cancelCb)\n  *     [personal mode enabled, need password to continue] promptCb (okCb, cancelCb)\n  * @param {Function} finalCallback    - last callback.\n  */\nfunction callFunction(from, to, data, value, gasLimit, funAbi, txRunner, callbacks, finalCallback) {\n    const useCall = funAbi.stateMutability === 'view' || funAbi.stateMutability === 'pure' || funAbi.constant;\n    const tx = { from, to, data, useCall, value, gasLimit };\n    txRunner.rawRun(tx, callbacks.confirmationCb, callbacks.gasEstimationForceSend, callbacks.promptCb, (error, txResult) => {\n        // see universaldapp.js line 660 => 700 to check possible values of txResult (error case)\n        finalCallback(error, txResult);\n    });\n}\nexports.callFunction = callFunction;\n/**\n  * check if the vm has errored\n  *\n  * @param {Object} execResult    - execution result given by the VM\n  * @return {Object} -  { error: true/false, message: DOMNode }\n  */\nfunction checkVMError(execResult, compiledContracts) {\n    const errorCode = {\n        OUT_OF_GAS: 'out of gas',\n        STACK_UNDERFLOW: 'stack underflow',\n        STACK_OVERFLOW: 'stack overflow',\n        INVALID_JUMP: 'invalid JUMP',\n        INVALID_OPCODE: 'invalid opcode',\n        REVERT: 'revert',\n        STATIC_STATE_CHANGE: 'static state change',\n        INTERNAL_ERROR: 'internal error',\n        CREATE_COLLISION: 'create collision',\n        STOP: 'stop',\n        REFUND_EXHAUSTED: 'refund exhausted'\n    };\n    const ret = {\n        error: false,\n        message: ''\n    };\n    if (!execResult.exceptionError) {\n        return ret;\n    }\n    const exceptionError = execResult.exceptionError.error || '';\n    const error = `VM error: ${exceptionError}.\\n`;\n    let msg;\n    if (exceptionError === errorCode.INVALID_OPCODE) {\n        msg = '\\t\\n\\tThe execution might have thrown.\\n';\n        ret.error = true;\n    }\n    else if (exceptionError === errorCode.OUT_OF_GAS) {\n        msg = '\\tThe transaction ran out of gas. Please increase the Gas Limit.\\n';\n        ret.error = true;\n    }\n    else if (exceptionError === errorCode.REVERT) {\n        const returnData = execResult.returnValue;\n        const returnDataHex = returnData.slice(0, 4).toString('hex');\n        let customError;\n        if (compiledContracts) {\n            let decodedCustomErrorInputsClean;\n            for (const file of Object.keys(compiledContracts)) {\n                for (const contractName of Object.keys(compiledContracts[file])) {\n                    const contract = compiledContracts[file][contractName];\n                    for (const item of contract.abi) {\n                        if (item.type === 'error') {\n                            // ethers doesn't crash anymore if \"error\" type is specified, but it doesn't extract the errors. see:\n                            // https://github.com/ethers-io/ethers.js/commit/bd05aed070ac9e1421a3e2bff2ceea150bedf9b7\n                            // we need here to fake the type, so the \"getSighash\" function works properly\n                            const fn = (0, txHelper_1.getFunctionFragment)(Object.assign(Object.assign({}, item), { type: 'function', stateMutability: 'nonpayable' }));\n                            if (!fn)\n                                continue;\n                            const sign = fn.getSighash(item.name);\n                            if (!sign)\n                                continue;\n                            if (returnDataHex === sign.replace('0x', '')) {\n                                customError = item.name;\n                                const functionDesc = fn.getFunction(item.name);\n                                // decoding error parameters\n                                const decodedCustomErrorInputs = fn.decodeFunctionData(functionDesc, returnData);\n                                decodedCustomErrorInputsClean = {};\n                                let devdoc = {};\n                                // \"contract\" reprensents the compilation result containing the NATSPEC documentation\n                                if (contract && fn.functions && Object.keys(fn.functions).length) {\n                                    const functionSignature = Object.keys(fn.functions)[0];\n                                    // we check in the 'devdoc' if there's a developer documentation for this error\n                                    try {\n                                        devdoc = (contract.devdoc.errors && contract.devdoc.errors[functionSignature][0]) || {};\n                                    }\n                                    catch (e) {\n                                        console.error(e.message);\n                                    }\n                                    // we check in the 'userdoc' if there's an user documentation for this error\n                                    try {\n                                        const userdoc = (contract.userdoc.errors && contract.userdoc.errors[functionSignature][0]) || {};\n                                        if (userdoc && userdoc.notice)\n                                            customError += ' : ' + userdoc.notice; // we append the user doc if any\n                                    }\n                                    catch (e) {\n                                        console.error(e.message);\n                                    }\n                                }\n                                let inputIndex = 0;\n                                for (const input of functionDesc.inputs) {\n                                    const inputKey = input.name || inputIndex;\n                                    const v = decodedCustomErrorInputs[inputKey];\n                                    decodedCustomErrorInputsClean[inputKey] = {\n                                        value: v.toString ? v.toString() : v\n                                    };\n                                    if (devdoc && devdoc.params) {\n                                        decodedCustomErrorInputsClean[input.name].documentation = devdoc.params[inputKey]; // we add the developer documentation for this input parameter if any\n                                    }\n                                    inputIndex++;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (decodedCustomErrorInputsClean) {\n                msg = '\\tThe transaction has been reverted to the initial state.\\nError provided by the contract:';\n                msg += `\\n${customError}`;\n                msg += '\\nParameters:';\n                msg += `\\n${JSON.stringify(decodedCustomErrorInputsClean, null, ' ')}`;\n            }\n        }\n        if (!customError) {\n            // It is the hash of Error(string)\n            if (returnData && (returnDataHex === '08c379a0')) {\n                const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n                const reason = abiCoder.decode(['string'], returnData.slice(4))[0];\n                msg = `\\tThe transaction has been reverted to the initial state.\\nReason provided by the contract: \"${reason}\".`;\n            }\n            else {\n                msg = '\\tThe transaction has been reverted to the initial state.\\nNote: The called function should be payable if you send value and the value you send should be less than your current balance.';\n            }\n        }\n        ret.error = true;\n    }\n    else if (exceptionError === errorCode.STATIC_STATE_CHANGE) {\n        msg = '\\tState changes is not allowed in Static Call context\\n';\n        ret.error = true;\n    }\n    ret.message = `${error}\\n${exceptionError}\\n${msg}\\nDebug the transaction to get more information.`;\n    return ret;\n}\nexports.checkVMError = checkVMError;\n//# sourceMappingURL=txExecution.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArrayOrStringStart = exports.parseFunctionParams = exports.decodeResponse = exports.linkLibrary = exports.setLibraryAddress = exports.linkLibraryStandard = exports.linkLibraryStandardFromlinkReferences = exports.deployLibrary = exports.linkBytecode = exports.linkBytecodeLegacy = exports.linkBytecodeStandard = exports.atAddress = exports.buildData = exports.encodeConstructorCallAndDeployLibraries = exports.encodeConstructorCallAndLinkLibraries = exports.encodeFunctionCall = exports.encodeParams = exports.encodeData = void 0;\nconst ethers_1 = require(\"ethers\");\nconst txHelper_1 = require(\"./txHelper\");\nconst async_1 = require(\"async\");\nconst linker_1 = require(\"solc/linker\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\n/**\n  * build the transaction data\n  *\n  * @param {Object} function abi\n  * @param {Object} values to encode\n  * @param {String} contractbyteCode\n  */\nfunction encodeData(funABI, values, contractbyteCode) {\n    let encoded;\n    let encodedHex;\n    try {\n        encoded = (0, txHelper_1.encodeParams)(funABI, values);\n        encodedHex = encoded.toString('hex');\n    }\n    catch (e) {\n        return { error: 'cannot encode arguments' };\n    }\n    if (contractbyteCode) {\n        return { data: '0x' + contractbyteCode + encodedHex.replace('0x', '') };\n    }\n    else {\n        return { data: (0, txHelper_1.encodeFunctionId)(funABI) + encodedHex.replace('0x', '') };\n    }\n}\nexports.encodeData = encodeData;\n/**\n* encode function / constructor parameters\n*\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n*/\nfunction encodeParams(params, funAbi, callback) {\n    let data = '';\n    let dataHex = '';\n    let funArgs;\n    if (params.indexOf('raw:0x') === 0) {\n        // in that case we consider that the input is already encoded and *does not* contain the method signature\n        dataHex = params.replace('raw:0x', '');\n        data = Buffer.from(dataHex, 'hex');\n    }\n    else {\n        try {\n            params = params.replace(/(^|,\\s+|,)(\\d+)(\\s+,|,|$)/g, '$1\"$2\"$3'); // replace non quoted number by quoted number\n            params = params.replace(/(^|,\\s+|,)(0[xX][0-9a-fA-F]+)(\\s+,|,|$)/g, '$1\"$2\"$3'); // replace non quoted hex string by quoted hex string\n            funArgs = JSON.parse('[' + params + ']');\n        }\n        catch (e) {\n            return callback('Error encoding arguments: ' + e);\n        }\n        if (funArgs.length > 0) {\n            try {\n                data = (0, txHelper_1.encodeParams)(funAbi, funArgs);\n                dataHex = data.toString();\n            }\n            catch (e) {\n                return callback('Error encoding arguments: ' + e);\n            }\n        }\n        if (data.slice(0, 9) === 'undefined') {\n            dataHex = data.slice(9);\n        }\n        if (data.slice(0, 2) === '0x') {\n            dataHex = data.slice(2);\n        }\n    }\n    callback(null, { data: data, dataHex: dataHex, funArgs: funArgs });\n}\nexports.encodeParams = encodeParams;\n/**\n* encode function call (function id + encoded parameters)\n*\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n*/\nfunction encodeFunctionCall(params, funAbi, callback) {\n    encodeParams(params, funAbi, (error, encodedParam) => {\n        if (error)\n            return callback(error);\n        callback(null, { dataHex: (0, txHelper_1.encodeFunctionId)(funAbi) + encodedParam.dataHex, funAbi, funArgs: encodedParam.funArgs });\n    });\n}\nexports.encodeFunctionCall = encodeFunctionCall;\n/**\n* encode constructor creation and link with provided libraries if needed\n*\n* @param {Object} contract    - input paramater of the function to call\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Object} linkLibraries    - contains {linkReferences} object which list all the addresses to be linked\n* @param {Object} linkReferences    - given by the compiler, contains the proper linkReferences\n* @param {Function} callback    - callback\n*/\nfunction encodeConstructorCallAndLinkLibraries(contract, params, funAbi, linkLibraries, linkReferences, callback) {\n    encodeParams(params, funAbi, (error, encodedParam) => {\n        if (error)\n            return callback(error);\n        let bytecodeToDeploy = contract.evm.bytecode.object;\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            if (linkLibraries && linkReferences) {\n                for (const libFile in linkLibraries) {\n                    for (const lib in linkLibraries[libFile]) {\n                        let address = linkLibraries[libFile][lib];\n                        address = 'xdc' + address.substring(2);\n                        if (!(0, ethereumjs_util_1.isValidAddress)(address))\n                            return callback(address + ' is not a valid address. Please check the provided address is valid.');\n                        bytecodeToDeploy = linkLibraryStandardFromlinkReferences(lib, address.replace('0x', ''), bytecodeToDeploy, linkReferences);\n                    }\n                }\n            }\n        }\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            return callback('Failed to link some libraries');\n        }\n        return callback(null, { dataHex: bytecodeToDeploy + encodedParam.dataHex, funAbi, funArgs: encodedParam.funArgs, contractBytecode: contract.evm.bytecode.object });\n    });\n}\nexports.encodeConstructorCallAndLinkLibraries = encodeConstructorCallAndLinkLibraries;\n/**\n* encode constructor creation and deploy librairies if needed\n*\n* @param {String} contractName    - current contract name\n* @param {Object} contract    - input paramater of the function to call\n* @param {Object} contracts    - map of all compiled contracts.\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n* @param {Function} callbackStep  - callbackStep\n* @param {Function} callbackDeployLibrary  - callbackDeployLibrary\n* @param {Function} callback    - callback\n*/\nfunction encodeConstructorCallAndDeployLibraries(contractName, contract, contracts, params, funAbi, callback, callbackStep, callbackDeployLibrary) {\n    encodeParams(params, funAbi, (error, encodedParam) => {\n        if (error)\n            return callback(error);\n        let dataHex = '';\n        const contractBytecode = contract.evm.bytecode.object;\n        let bytecodeToDeploy = contract.evm.bytecode.object;\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            linkBytecode(contract, contracts, (err, bytecode) => {\n                if (err) {\n                    callback('Error deploying required libraries: ' + err);\n                }\n                else {\n                    bytecodeToDeploy = bytecode + dataHex;\n                    return callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs: encodedParam.funArgs, contractBytecode, contractName: contractName });\n                }\n            }, callbackStep, callbackDeployLibrary);\n            return;\n        }\n        else {\n            dataHex = bytecodeToDeploy + encodedParam.dataHex;\n        }\n        callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs: encodedParam.funArgs, contractBytecode, contractName: contractName });\n    });\n}\nexports.encodeConstructorCallAndDeployLibraries = encodeConstructorCallAndDeployLibraries;\n/**\n* (DEPRECATED) build the transaction data\n*\n* @param {String} contractName\n* @param {Object} contract    - abi definition of the current contract.\n* @param {Object} contracts    - map of all compiled contracts.\n* @param {Bool} isConstructor    - isConstructor.\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Object} params    - input paramater of the function to call\n* @param {Function} callback    - callback\n* @param {Function} callbackStep  - callbackStep\n* @param {Function} callbackDeployLibrary  - callbackDeployLibrary\n*/\nfunction buildData(contractName, contract, contracts, isConstructor, funAbi, params, callback, callbackStep, callbackDeployLibrary) {\n    let funArgs = [];\n    let data = '';\n    let dataHex = '';\n    if (params.indexOf('raw:0x') === 0) {\n        // in that case we consider that the input is already encoded and *does not* contain the method signature\n        dataHex = params.replace('raw:0x', '');\n        data = Buffer.from(dataHex, 'hex');\n    }\n    else {\n        try {\n            if (params.length > 0) {\n                funArgs = parseFunctionParams(params);\n            }\n        }\n        catch (e) {\n            return callback('Error encoding arguments: ' + e);\n        }\n        try {\n            data = (0, txHelper_1.encodeParams)(funAbi, funArgs);\n            dataHex = data.toString();\n        }\n        catch (e) {\n            return callback('Error encoding arguments: ' + e);\n        }\n        if (data.slice(0, 9) === 'undefined') {\n            dataHex = data.slice(9);\n        }\n        if (data.slice(0, 2) === '0x') {\n            dataHex = data.slice(2);\n        }\n    }\n    let contractBytecode;\n    if (isConstructor) {\n        contractBytecode = contract.evm.bytecode.object;\n        let bytecodeToDeploy = contract.evm.bytecode.object;\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            linkBytecode(contract, contracts, (err, bytecode) => {\n                if (err) {\n                    callback('Error deploying required libraries: ' + err);\n                }\n                else {\n                    bytecodeToDeploy = bytecode + dataHex;\n                    return callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs, contractBytecode, contractName: contractName });\n                }\n            }, callbackStep, callbackDeployLibrary);\n            return;\n        }\n        else {\n            dataHex = bytecodeToDeploy + dataHex;\n        }\n    }\n    else {\n        dataHex = (0, txHelper_1.encodeFunctionId)(funAbi) + dataHex;\n    }\n    callback(null, { dataHex, funAbi, funArgs, contractBytecode, contractName: contractName });\n}\nexports.buildData = buildData;\nfunction atAddress() { }\nexports.atAddress = atAddress;\nfunction linkBytecodeStandard(contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n    let contractBytecode = contract.evm.bytecode.object;\n    (0, async_1.eachOfSeries)(contract.evm.bytecode.linkReferences, (libs, file, cbFile) => {\n        (0, async_1.eachOfSeries)(contract.evm.bytecode.linkReferences[file], (libRef, libName, cbLibDeployed) => {\n            const library = contracts[file][libName];\n            if (library) {\n                deployLibrary(file + ':' + libName, libName, library, contracts, (error, address) => {\n                    if (error) {\n                        return cbLibDeployed(error);\n                    }\n                    let hexAddress = address.toString('hex');\n                    if (hexAddress.slice(0, 2) === '0x') {\n                        hexAddress = hexAddress.slice(2);\n                    }\n                    contractBytecode = linkLibraryStandard(libName, hexAddress, contractBytecode, contract);\n                    cbLibDeployed();\n                }, callbackStep, callbackDeployLibrary);\n            }\n            else {\n                cbLibDeployed('Cannot find compilation data of library ' + libName);\n            }\n        }, (error) => {\n            cbFile(error);\n        });\n    }, (error) => {\n        if (error) {\n            callbackStep(error);\n        }\n        callback(error, contractBytecode);\n    });\n}\nexports.linkBytecodeStandard = linkBytecodeStandard;\nfunction linkBytecodeLegacy(contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n    const libraryRefMatch = contract.evm.bytecode.object.match(/__([^_]{1,36})__/);\n    if (!libraryRefMatch) {\n        return callback('Invalid bytecode format.');\n    }\n    const libraryName = libraryRefMatch[1];\n    // file_name:library_name\n    const libRef = libraryName.match(/(.*):(.*)/);\n    if (!libRef) {\n        return callback('Cannot extract library reference ' + libraryName);\n    }\n    if (!contracts[libRef[1]] || !contracts[libRef[1]][libRef[2]]) {\n        return callback('Cannot find library reference ' + libraryName);\n    }\n    const libraryShortName = libRef[2];\n    const library = contracts[libRef[1]][libraryShortName];\n    if (!library) {\n        return callback('Library ' + libraryName + ' not found.');\n    }\n    deployLibrary(libraryName, libraryShortName, library, contracts, (err, address) => {\n        if (err) {\n            return callback(err);\n        }\n        let hexAddress = address.toString('hex');\n        if (hexAddress.slice(0, 2) === '0x') {\n            hexAddress = hexAddress.slice(2);\n        }\n        contract.evm.bytecode.object = linkLibrary(libraryName, hexAddress, contract.evm.bytecode.object);\n        linkBytecode(contract, contracts, callback, callbackStep, callbackDeployLibrary);\n    }, callbackStep, callbackDeployLibrary);\n}\nexports.linkBytecodeLegacy = linkBytecodeLegacy;\nfunction linkBytecode(contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n    if (contract.evm.bytecode.object.indexOf('_') < 0) {\n        return callback(null, contract.evm.bytecode.object);\n    }\n    if (contract.evm.bytecode.linkReferences && Object.keys(contract.evm.bytecode.linkReferences).length) {\n        linkBytecodeStandard(contract, contracts, callback, callbackStep, callbackDeployLibrary);\n    }\n    else {\n        linkBytecodeLegacy(contract, contracts, callback, callbackStep, callbackDeployLibrary);\n    }\n}\nexports.linkBytecode = linkBytecode;\nfunction deployLibrary(libraryName, libraryShortName, library, contracts, callback, callbackStep, callbackDeployLibrary) {\n    let address = library.address;\n    address = 'xdc' + address.substring(2);\n    if (address) {\n        return callback(null, address);\n    }\n    const bytecode = library.evm.bytecode.object;\n    if (bytecode.indexOf('_') >= 0) {\n        linkBytecode(library, contracts, (err, bytecode) => {\n            if (err)\n                callback(err);\n            else {\n                library.evm.bytecode.object = bytecode;\n                deployLibrary(libraryName, libraryShortName, library, contracts, callback, callbackStep, callbackDeployLibrary);\n            }\n        }, callbackStep, callbackDeployLibrary);\n    }\n    else {\n        callbackStep(`creation of library ${libraryName} pending...`);\n        const data = { dataHex: bytecode, funAbi: { type: 'constructor' }, funArgs: [], contractBytecode: bytecode, contractName: libraryShortName, contractABI: library.abi };\n        callbackDeployLibrary({ data: data, useCall: false }, (err, txResult) => {\n            if (err) {\n                return callback(err);\n            }\n            let address = txResult.receipt.contractAddress;\n            address = 'xdc' + address.substring(2);\n            library.address = address;\n            callback(err, address);\n        });\n    }\n}\nexports.deployLibrary = deployLibrary;\nfunction linkLibraryStandardFromlinkReferences(libraryName, address, bytecode, linkReferences) {\n    for (const file in linkReferences) {\n        for (const libName in linkReferences[file]) {\n            if (libraryName === libName) {\n                bytecode = setLibraryAddress(address, bytecode, linkReferences[file][libName]);\n            }\n        }\n    }\n    return bytecode;\n}\nexports.linkLibraryStandardFromlinkReferences = linkLibraryStandardFromlinkReferences;\nfunction linkLibraryStandard(libraryName, address, bytecode, contract) {\n    return linkLibraryStandardFromlinkReferences(libraryName, address, bytecode, contract.evm.bytecode.linkReferences);\n}\nexports.linkLibraryStandard = linkLibraryStandard;\nfunction setLibraryAddress(address, bytecodeToLink, positions) {\n    if (positions) {\n        for (const pos of positions) {\n            const regpos = bytecodeToLink.match(new RegExp(`(.{${2 * pos.start}})(.{${2 * pos.length}})(.*)`));\n            if (regpos) {\n                bytecodeToLink = regpos[1] + address + regpos[3];\n            }\n        }\n    }\n    return bytecodeToLink;\n}\nexports.setLibraryAddress = setLibraryAddress;\nfunction linkLibrary(libraryName, address, bytecodeToLink) {\n    return (0, linker_1.linkBytecode)(bytecodeToLink, { [libraryName]: (0, ethereumjs_util_1.addHexPrefix)(address) });\n}\nexports.linkLibrary = linkLibrary;\nfunction decodeResponse(response, fnabi) {\n    // Only decode if there supposed to be fields\n    if (fnabi.outputs && fnabi.outputs.length > 0) {\n        try {\n            let i;\n            const outputTypes = [];\n            for (i = 0; i < fnabi.outputs.length; i++) {\n                const type = fnabi.outputs[i].type;\n                outputTypes.push(type.indexOf('tuple') === 0 ? (0, txHelper_1.makeFullTypeDefinition)(fnabi.outputs[i]) : type);\n            }\n            if (!response || !response.length)\n                response = new Uint8Array(32 * fnabi.outputs.length); // ensuring the data is at least filled by 0 cause `AbiCoder` throws if there's not engouh data\n            // decode data\n            const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n            const decodedObj = abiCoder.decode(outputTypes, response);\n            const json = {};\n            for (i = 0; i < outputTypes.length; i++) {\n                const name = fnabi.outputs[i].name;\n                json[i] = outputTypes[i] + ': ' + (name ? name + ' ' + decodedObj[i] : decodedObj[i]);\n            }\n            return json;\n        }\n        catch (e) {\n            return { error: 'Failed to decode output: ' + e };\n        }\n    }\n    return {};\n}\nexports.decodeResponse = decodeResponse;\nfunction parseFunctionParams(params) {\n    let args = [];\n    // Check if parameter string starts with array or string\n    let startIndex = isArrayOrStringStart(params, 0) ? -1 : 0;\n    for (let i = 0; i < params.length; i++) {\n        // If a quote is received\n        if (params.charAt(i) === '\"') {\n            startIndex = -1;\n            let endQuoteIndex = false;\n            // look for closing quote. On success, push the complete string in arguments list\n            for (let j = i + 1; !endQuoteIndex; j++) {\n                if (params.charAt(j) === '\"') {\n                    args.push(params.substring(i + 1, j));\n                    endQuoteIndex = true;\n                    i = j;\n                }\n                // Throw error if end of params string is arrived but couldn't get end quote\n                if (!endQuoteIndex && j === params.length - 1) {\n                    throw new Error('invalid params');\n                }\n            }\n        }\n        else if (params.charAt(i) === '[') { // If an array/struct opening bracket is received\n            startIndex = -1;\n            let bracketCount = 1;\n            let j;\n            for (j = i + 1; bracketCount !== 0; j++) {\n                // Increase count if another array opening bracket is received (To handle nested array)\n                if (params.charAt(j) === '[') {\n                    bracketCount++;\n                }\n                else if (params.charAt(j) === ']') { // // Decrease count if an array closing bracket is received (To handle nested array)\n                    bracketCount--;\n                }\n                // Throw error if end of params string is arrived but couldn't get end of tuple\n                if (bracketCount !== 0 && j === params.length - 1) {\n                    throw new Error('invalid tuple params');\n                }\n            }\n            // If bracketCount = 0, it means complete array/nested array parsed, push it to the arguments list\n            args.push(JSON.parse(params.substring(i, j)));\n            i = j - 1;\n        }\n        else if (params.charAt(i) === ',') {\n            // if startIndex >= 0, it means a parameter was being parsed, it can be first or other parameter\n            if (startIndex >= 0) {\n                args.push(params.substring(startIndex, i));\n            }\n            // Register start index of a parameter to parse\n            startIndex = isArrayOrStringStart(params, i + 1) ? -1 : i + 1;\n        }\n        else if (startIndex >= 0 && i === params.length - 1) {\n            // If start index is registered and string is completed (To handle last parameter)\n            args.push(params.substring(startIndex, params.length));\n        }\n    }\n    args = args.map(e => {\n        if (!Array.isArray(e)) {\n            return e.trim();\n        }\n        else {\n            return e;\n        }\n    });\n    return args;\n}\nexports.parseFunctionParams = parseFunctionParams;\nfunction isArrayOrStringStart(str, index) {\n    return str.charAt(index) === '\"' || str.charAt(index) === '[';\n}\nexports.isArrayOrStringStart = isArrayOrStringStart;\n//# sourceMappingURL=txFormat.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inputParametersDeclarationToString = exports.visitContracts = exports.getContract = exports.getReceiveInterface = exports.getFallbackInterface = exports.getFunction = exports.extractSize = exports.serializeInputs = exports.getConstructorInterface = exports.sortAbiFunction = exports.getFunctionFragment = exports.encodeFunctionId = exports.encodeParams = exports.makeFullTypeDefinition = void 0;\nconst ethers_1 = require(\"ethers\");\nfunction makeFullTypeDefinition(typeDef) {\n    if (typeDef && typeDef.type.indexOf('tuple') === 0 && typeDef.components) {\n        const innerTypes = typeDef.components.map((innerType) => { return makeFullTypeDefinition(innerType); });\n        return `tuple(${innerTypes.join(',')})${extractSize(typeDef.type)}`;\n    }\n    return typeDef.type;\n}\nexports.makeFullTypeDefinition = makeFullTypeDefinition;\nfunction encodeParams(funABI, args) {\n    const types = [];\n    if (funABI.inputs && funABI.inputs.length) {\n        for (let i = 0; i < funABI.inputs.length; i++) {\n            const type = funABI.inputs[i].type;\n            // \"false\" will be converting to `false` and \"true\" will be working\n            // fine as abiCoder assume anything in quotes as `true`\n            if (type === 'bool' && args[i] === 'false') {\n                args[i] = false;\n            }\n            types.push(type.indexOf('tuple') === 0 ? makeFullTypeDefinition(funABI.inputs[i]) : type);\n            if (args.length < types.length) {\n                args.push('');\n            }\n        }\n    }\n    // NOTE: the caller will concatenate the bytecode and this\n    //       it could be done here too for consistency\n    const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n    return abiCoder.encode(types, args);\n}\nexports.encodeParams = encodeParams;\nfunction encodeFunctionId(funABI) {\n    if (funABI.type === 'fallback' || funABI.type === 'receive')\n        return '0x';\n    const abi = new ethers_1.ethers.utils.Interface([funABI]);\n    return abi.getSighash(funABI.name);\n}\nexports.encodeFunctionId = encodeFunctionId;\nfunction getFunctionFragment(funABI) {\n    if (funABI.type === 'fallback' || funABI.type === 'receive')\n        return null;\n    return new ethers_1.ethers.utils.Interface([funABI]);\n}\nexports.getFunctionFragment = getFunctionFragment;\nfunction sortAbiFunction(contractabi) {\n    // Check if function is constant (introduced with Solidity 0.6.0)\n    const isConstant = ({ stateMutability }) => stateMutability === 'view' || stateMutability === 'pure';\n    // Sorts the list of ABI entries. Constant functions will appear first,\n    // followed by non-constant functions. Within those t wo groupings, functions\n    // will be sorted by their names.\n    return contractabi.sort(function (a, b) {\n        if (isConstant(a) && !isConstant(b)) {\n            return 1;\n        }\n        else if (isConstant(b) && !isConstant(a)) {\n            return -1;\n        }\n        // If we reach here, either a and b are both constant or both not; sort by name then\n        // special case for fallback, receive and constructor function\n        if (a.type === 'function' && typeof a.name !== 'undefined') {\n            return a.name.localeCompare(b.name);\n        }\n        else if (a.type === 'constructor' || a.type === 'fallback' || a.type === 'receive') {\n            return 1;\n        }\n    });\n}\nexports.sortAbiFunction = sortAbiFunction;\nfunction getConstructorInterface(abi) {\n    const funABI = { name: '', inputs: [], type: 'constructor', payable: false, outputs: [] };\n    if (typeof abi === 'string') {\n        try {\n            abi = JSON.parse(abi);\n        }\n        catch (e) {\n            console.log('exception retrieving ctor abi ' + abi);\n            return funABI;\n        }\n    }\n    for (let i = 0; i < abi.length; i++) {\n        if (abi[i].type === 'constructor') {\n            funABI.inputs = abi[i].inputs || [];\n            funABI.payable = abi[i].payable;\n            funABI['stateMutability'] = abi[i].stateMutability;\n            break;\n        }\n    }\n    return funABI;\n}\nexports.getConstructorInterface = getConstructorInterface;\nfunction serializeInputs(fnAbi) {\n    let serialized = '(';\n    if (fnAbi.inputs && fnAbi.inputs.length) {\n        serialized += fnAbi.inputs.map((input) => { return input.type; }).join(',');\n    }\n    serialized += ')';\n    return serialized;\n}\nexports.serializeInputs = serializeInputs;\nfunction extractSize(type) {\n    const size = type.match(/([a-zA-Z0-9])(\\[.*\\])/);\n    return size ? size[2] : '';\n}\nexports.extractSize = extractSize;\nfunction getFunction(abi, fnName) {\n    for (let i = 0; i < abi.length; i++) {\n        const fn = abi[i];\n        if (fn.type === 'function' && fnName === fn.name + '(' + fn.inputs.map((value) => {\n            if (value.components) {\n                const fullType = makeFullTypeDefinition(value);\n                return fullType.replace(/tuple/g, ''); // return of makeFullTypeDefinition might contain `tuple`, need to remove it cause `methodIdentifier` (fnName) does not include `tuple` keyword\n            }\n            else {\n                return value.type;\n            }\n        }).join(',') + ')') {\n            return fn;\n        }\n    }\n    return null;\n}\nexports.getFunction = getFunction;\nfunction getFallbackInterface(abi) {\n    for (let i = 0; i < abi.length; i++) {\n        if (abi[i].type === 'fallback') {\n            return abi[i];\n        }\n    }\n}\nexports.getFallbackInterface = getFallbackInterface;\nfunction getReceiveInterface(abi) {\n    for (let i = 0; i < abi.length; i++) {\n        if (abi[i].type === 'receive') {\n            return abi[i];\n        }\n    }\n}\nexports.getReceiveInterface = getReceiveInterface;\n/**\n  * return the contract obj of the given @arg name. Uses last compilation result.\n  * return null if not found\n  * @param {String} name    - contract name\n  * @returns contract obj and associated file: { contract, file } or null\n  */\nfunction getContract(contractName, contracts) {\n    for (const file in contracts) {\n        if (contracts[file][contractName]) {\n            return { object: contracts[file][contractName], file: file };\n        }\n    }\n    return null;\n}\nexports.getContract = getContract;\n/**\n  * call the given @arg cb (function) for all the contracts. Uses last compilation result\n  * stop visiting when cb return true\n  * @param {Function} cb    - callback\n  */\nfunction visitContracts(contracts, cb) {\n    for (const file in contracts) {\n        for (const name in contracts[file]) {\n            if (cb({ name: name, object: contracts[file][name], file: file }))\n                return;\n        }\n    }\n}\nexports.visitContracts = visitContracts;\nfunction inputParametersDeclarationToString(abiinputs) {\n    const inputs = (abiinputs || []).map((inp) => inp.type + ' ' + inp.name);\n    return inputs.join(', ');\n}\nexports.inputParametersDeclarationToString = inputParametersDeclarationToString;\n//# sourceMappingURL=txHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxListener = void 0;\nconst tslib_1 = require(\"tslib\");\nconst async_1 = require(\"async\");\nconst ethers_1 = require(\"ethers\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst eventManager_1 = require(\"../eventManager\");\nconst util_1 = require(\"../util\");\nconst txFormat_1 = require(\"./txFormat\");\nconst txHelper_1 = require(\"./txHelper\");\nfunction addExecutionCosts(txResult, tx, execResult) {\n    if (txResult) {\n        if (execResult) {\n            tx.returnValue = execResult.returnValue;\n            if (execResult.gasUsed)\n                tx.executionCost = execResult.gasUsed.toString(10);\n        }\n        if (txResult.receipt && txResult.receipt.gasUsed)\n            tx.transactionCost = txResult.receipt.gasUsed.toString(10);\n    }\n}\n/**\n  * poll web3 each 2s if web3\n  * listen on transaction executed event if VM\n  * attention: blocks returned by the event `newBlock` have slightly different json properties whether web3 or the VM is used\n  * trigger 'newBlock'\n  *\n  */\nclass TxListener {\n    constructor(opt, executionContext) {\n        this.event = new eventManager_1.EventManager();\n        // has a default for now for backwards compatability\n        this.executionContext = executionContext;\n        this._api = opt.api;\n        this._resolvedTransactions = {};\n        this._resolvedContracts = {};\n        this._isListening = false;\n        this._listenOnNetwork = false;\n        this._loopId = null;\n        this.init();\n        this.executionContext.event.register('contextChanged', (context) => {\n            if (this._isListening) {\n                this.stopListening();\n                this.startListening();\n            }\n        });\n        opt.event.udapp.register('callExecuted', (error, from, to, data, lookupOnly, txResult) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (error)\n                return;\n            // we go for that case if\n            // in VM mode\n            // in web3 mode && listen remix txs only\n            if (!this._isListening)\n                return; // we don't listen\n            if (this._loopId && this.executionContext.getProvider() !== 'vm')\n                return; // we seems to already listen on a \"web3\" network\n            let returnValue;\n            let execResult;\n            if (this.executionContext.isVM()) {\n                execResult = yield this.executionContext.web3().eth.getExecutionResultFromSimulator(txResult.transactionHash);\n                returnValue = execResult.returnValue;\n            }\n            else {\n                returnValue = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(txResult.result));\n            }\n            const call = {\n                from: from,\n                to: to,\n                input: data,\n                hash: txResult.transactionHash ? txResult.transactionHash : 'call' + (from || '') + to + data,\n                isCall: true,\n                returnValue,\n                envMode: this.executionContext.getProvider()\n            };\n            addExecutionCosts(txResult, call, execResult);\n            this._resolveTx(call, call, (error, resolvedData) => {\n                if (!error) {\n                    this.event.trigger('newCall', [call]);\n                }\n            });\n        }));\n        opt.event.udapp.register('transactionExecuted', (error, from, to, data, lookupOnly, txResult) => {\n            if (error)\n                return;\n            if (lookupOnly)\n                return;\n            // we go for that case if\n            // in VM mode\n            // in web3 mode && listen remix txs only\n            if (!this._isListening)\n                return; // we don't listen\n            if (this._loopId && this.executionContext.getProvider() !== 'vm')\n                return; // we seems to already listen on a \"web3\" network\n            this.executionContext.web3().eth.getTransaction(txResult.transactionHash, (error, tx) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                if (error)\n                    return console.log(error);\n                let execResult;\n                if (this.executionContext.isVM()) {\n                    execResult = yield this.executionContext.web3().eth.getExecutionResultFromSimulator(txResult.transactionHash);\n                }\n                addExecutionCosts(txResult, tx, execResult);\n                tx.envMode = this.executionContext.getProvider();\n                tx.status = txResult.receipt.status; // 0x0 or 0x1\n                this._resolve([tx], () => {\n                });\n            }));\n        });\n    }\n    /**\n      * define if txlistener should listen on the network or if only tx created from remix are managed\n      *\n      * @param {Bool} type - true if listen on the network\n      */\n    setListenOnNetwork(listenOnNetwork) {\n        this._listenOnNetwork = listenOnNetwork;\n        if (this._loopId) {\n            clearInterval(this._loopId);\n        }\n        if (this._listenOnNetwork) {\n            this._startListenOnNetwork();\n        }\n    }\n    /**\n      * reset recorded transactions\n      */\n    init() {\n        this.blocks = [];\n        this.lastBlock = null;\n    }\n    /**\n      * start listening for incoming transactions\n      *\n      * @param {String} type - type/name of the provider to add\n      * @param {Object} obj  - provider\n      */\n    startListening() {\n        this.init();\n        this._isListening = true;\n        if (this._listenOnNetwork && this.executionContext.getProvider() !== 'vm') {\n            this._startListenOnNetwork();\n        }\n    }\n    /**\n      * stop listening for incoming transactions. do not reset the recorded pool.\n      *\n      * @param {String} type - type/name of the provider to add\n      * @param {Object} obj  - provider\n      */\n    stopListening() {\n        if (this._loopId) {\n            clearInterval(this._loopId);\n        }\n        this._loopId = null;\n        this._isListening = false;\n    }\n    _startListenOnNetwork() {\n        this._loopId = setInterval(() => {\n            const currentLoopId = this._loopId;\n            this.executionContext.web3().eth.getBlockNumber((error, blockNumber) => {\n                if (this._loopId === null)\n                    return;\n                if (error)\n                    return console.log(error);\n                if (currentLoopId === this._loopId && (!this.lastBlock || blockNumber > this.lastBlock)) {\n                    if (!this.lastBlock)\n                        this.lastBlock = blockNumber - 1;\n                    let current = this.lastBlock + 1;\n                    this.lastBlock = blockNumber;\n                    while (blockNumber >= current) {\n                        try {\n                            this._manageBlock(current);\n                        }\n                        catch (e) {\n                            console.log(e);\n                        }\n                        current++;\n                    }\n                }\n            });\n        }, 2000);\n    }\n    _manageBlock(blockNumber) {\n        this.executionContext.web3().eth.getBlock(blockNumber, true, (error, result) => {\n            if (!error) {\n                this._newBlock(Object.assign({ type: 'web3' }, result));\n            }\n        });\n    }\n    /**\n      * try to resolve the contract name from the given @arg address\n      *\n      * @param {String} address - contract address to resolve\n      * @return {String} - contract name\n      */\n    resolvedContract(address) {\n        if (this._resolvedContracts[address])\n            return this._resolvedContracts[address].name;\n        return null;\n    }\n    /**\n      * try to resolve the transaction from the given @arg txHash\n      *\n      * @param {String} txHash - contract address to resolve\n      * @return {String} - contract name\n      */\n    resolvedTransaction(txHash) {\n        return this._resolvedTransactions[txHash];\n    }\n    _newBlock(block) {\n        this.blocks.push(block);\n        this._resolve(block.transactions, () => {\n            this.event.trigger('newBlock', [block]);\n        });\n    }\n    _resolve(transactions, callback) {\n        (0, async_1.each)(transactions, (tx, cb) => {\n            this._api.resolveReceipt(tx, (error, receipt) => {\n                if (error)\n                    return cb(error);\n                this._resolveTx(tx, receipt, (error, resolvedData) => {\n                    if (error)\n                        cb(error);\n                    if (resolvedData) {\n                        this.event.trigger('txResolved', [tx, receipt, resolvedData]);\n                    }\n                    this.event.trigger('newTransaction', [tx, receipt]);\n                    cb();\n                });\n            });\n        }, () => {\n            callback();\n        });\n    }\n    _resolveTx(tx, receipt, cb) {\n        const contracts = this._api.contracts();\n        if (!contracts)\n            return cb();\n        let fun;\n        let contract;\n        if (!tx.to || tx.to === '0x0') { // testrpc returns 0x0 in that case\n            // contract creation / resolve using the creation bytes code\n            // if web3: we have to call getTransactionReceipt to get the created address\n            // if VM: created address already included\n            const code = tx.input;\n            contract = this._tryResolveContract(code, contracts, true);\n            if (contract) {\n                let address = receipt.contractAddress;\n                address = 'xdc' + address.substring(2);\n                this._resolvedContracts[address] = contract;\n                fun = this._resolveFunction(contract, tx, true);\n                if (this._resolvedTransactions[tx.hash]) {\n                    this._resolvedTransactions[tx.hash].contractAddress = address;\n                }\n                return cb(null, { to: null, contractName: contract.name, function: fun, creationAddress: address });\n            }\n            return cb();\n        }\n        else {\n            // first check known contract, resolve against the `runtimeBytecode` if not known\n            contract = this._resolvedContracts[tx.to];\n            if (!contract) {\n                this.executionContext.web3().eth.getCode(tx.to, (error, code) => {\n                    if (error)\n                        return cb(error);\n                    if (code) {\n                        const contract = this._tryResolveContract(code, contracts, false);\n                        if (contract) {\n                            this._resolvedContracts[tx.to] = contract;\n                            const fun = this._resolveFunction(contract, tx, false);\n                            return cb(null, { to: tx.to, contractName: contract.name, function: fun });\n                        }\n                    }\n                    return cb();\n                });\n                return;\n            }\n            if (contract) {\n                fun = this._resolveFunction(contract, tx, false);\n                return cb(null, { to: tx.to, contractName: contract.name, function: fun });\n            }\n            return cb();\n        }\n    }\n    _resolveFunction(contract, tx, isCtor) {\n        if (!contract) {\n            console.log('txListener: cannot resolve contract - contract is null');\n            return;\n        }\n        const abi = contract.object.abi;\n        const inputData = tx.input.replace('0x', '');\n        if (!isCtor) {\n            const methodIdentifiers = contract.object.evm.methodIdentifiers;\n            for (const fn in methodIdentifiers) {\n                if (methodIdentifiers[fn] === inputData.substring(0, 8)) {\n                    const fnabi = (0, txHelper_1.getFunction)(abi, fn);\n                    this._resolvedTransactions[tx.hash] = {\n                        contractName: contract.name,\n                        to: tx.to,\n                        fn: fn,\n                        params: this._decodeInputParams(inputData.substring(8), fnabi)\n                    };\n                    if (tx.returnValue) {\n                        this._resolvedTransactions[tx.hash].decodedReturnValue = (0, txFormat_1.decodeResponse)(tx.returnValue, fnabi);\n                    }\n                    return this._resolvedTransactions[tx.hash];\n                }\n            }\n            // receive function\n            if (!inputData && (0, txHelper_1.getReceiveInterface)(abi)) {\n                this._resolvedTransactions[tx.hash] = {\n                    contractName: contract.name,\n                    to: tx.to,\n                    fn: '(receive)',\n                    params: null\n                };\n            }\n            else {\n                // fallback function\n                this._resolvedTransactions[tx.hash] = {\n                    contractName: contract.name,\n                    to: tx.to,\n                    fn: '(fallback)',\n                    params: null\n                };\n            }\n        }\n        else {\n            const bytecode = contract.object.evm.bytecode.object;\n            let params = null;\n            if (bytecode && bytecode.length) {\n                params = this._decodeInputParams(inputData.substring(bytecode.length), (0, txHelper_1.getConstructorInterface)(abi));\n            }\n            this._resolvedTransactions[tx.hash] = {\n                contractName: contract.name,\n                to: null,\n                fn: '(constructor)',\n                params: params\n            };\n        }\n        return this._resolvedTransactions[tx.hash];\n    }\n    _tryResolveContract(codeToResolve, compiledContracts, isCreation) {\n        let found = null;\n        (0, txHelper_1.visitContracts)(compiledContracts, (contract) => {\n            const bytes = isCreation ? contract.object.evm.bytecode.object : contract.object.evm.deployedBytecode.object;\n            if ((0, util_1.compareByteCode)(codeToResolve, '0x' + bytes)) {\n                found = contract;\n                return true;\n            }\n        });\n        return found;\n    }\n    _decodeInputParams(data, abi) {\n        data = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(data));\n        if (!data.length)\n            data = new Uint8Array(32 * abi.inputs.length); // ensuring the data is at least filled by 0 cause `AbiCoder` throws if there's not engouh data\n        const inputTypes = [];\n        for (let i = 0; i < abi.inputs.length; i++) {\n            const type = abi.inputs[i].type;\n            inputTypes.push(type.indexOf('tuple') === 0 ? (0, txHelper_1.makeFullTypeDefinition)(abi.inputs[i]) : type);\n        }\n        const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n        const decoded = abiCoder.decode(inputTypes, data);\n        const ret = {};\n        for (var k in abi.inputs) {\n            ret[abi.inputs[k].type + ' ' + abi.inputs[k].name] = decoded[k];\n        }\n        return ret;\n    }\n}\nexports.TxListener = TxListener;\n//# sourceMappingURL=txListener.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxRunner = void 0;\nconst eventManager_1 = require(\"../eventManager\");\nclass TxRunner {\n    constructor(internalRunner, opt) {\n        this.opt = opt || {};\n        this.internalRunner = internalRunner;\n        this.event = new eventManager_1.EventManager();\n        this.runAsync = this.opt.runAsync || true; // We have to run like this cause the VM Event Manager does not support running multiple txs at the same time.\n        this.pendingTxs = {};\n        this.queusTxs = [];\n    }\n    rawRun(args, confirmationCb, gasEstimationForceSend, promptCb, cb) {\n        run(this, args, args.timestamp || Date.now(), confirmationCb, gasEstimationForceSend, promptCb, cb);\n    }\n    execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n        let data = args.data;\n        if (data.slice(0, 2) !== '0x') {\n            data = '0x' + data;\n        }\n        this.internalRunner.execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback);\n    }\n}\nexports.TxRunner = TxRunner;\nfunction run(self, tx, stamp, confirmationCb, gasEstimationForceSend = null, promptCb = null, callback = null) {\n    if (!self.runAsync && Object.keys(self.pendingTxs).length) {\n        return self.queusTxs.push({ tx, stamp, callback });\n    }\n    self.pendingTxs[stamp] = tx;\n    self.execute(tx, confirmationCb, gasEstimationForceSend, promptCb, function (error, result) {\n        delete self.pendingTxs[stamp];\n        if (callback && typeof callback === 'function')\n            callback(error, result);\n        if (self.queusTxs.length) {\n            const next = self.queusTxs.pop();\n            run(self, next.tx, next.stamp, next.callback);\n        }\n    });\n}\n//# sourceMappingURL=txRunner.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxRunnerVM = void 0;\nconst tx_1 = require(\"@ethereumjs/tx\");\nconst block_1 = require(\"@ethereumjs/block\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst eventManager_1 = require(\"../eventManager\");\nconst logsManager_1 = require(\"./logsManager\");\nclass TxRunnerVM {\n    constructor(vmaccounts, api, getVMObject) {\n        this.event = new eventManager_1.EventManager();\n        this.logsManager = new logsManager_1.LogsManager();\n        // has a default for now for backwards compatability\n        this.getVMObject = getVMObject;\n        this.commonContext = this.getVMObject().common;\n        this.blockNumber = 0;\n        this.runAsync = true;\n        this.blockNumber = 0; // The VM is running in Homestead mode, which started at this block.\n        this.runAsync = false; // We have to run like this cause the VM Event Manager does not support running multiple txs at the same time.\n        this.pendingTxs = {};\n        this.vmaccounts = vmaccounts;\n        this.queusTxs = [];\n        this.blocks = [];\n        /*\n          txHash is generated using the nonce,\n          in order to have unique transaction hash, we need to keep using different nonce (in case of a call)\n          so we increment this value after each call.\n          For this to function we also need to skip nonce validation, in the vm: `{ skipNonce: true }`\n        */\n        this.nextNonceForCall = 0;\n    }\n    execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n        let data = args.data;\n        if (data.slice(0, 2) !== '0x') {\n            data = '0x' + data;\n        }\n        try {\n            this.runInVm(args.from, args.to, data, args.value, args.gasLimit, args.useCall, args.timestamp, callback);\n        }\n        catch (e) {\n            callback(e, null);\n        }\n    }\n    runInVm(from, to, data, value, gasLimit, useCall, timestamp, callback) {\n        const self = this;\n        const account = self.vmaccounts[from];\n        if (!account) {\n            return callback('Invalid account selected');\n        }\n        if (Number.isInteger(gasLimit)) {\n            gasLimit = '0x' + gasLimit.toString(16);\n        }\n        this.getVMObject().stateManager.getAccount(ethereumjs_util_1.Address.fromString(from)).then((res) => {\n            // See https://github.com/ethereumjs/ethereumjs-tx/blob/master/docs/classes/transaction.md#constructor\n            // for initialization fields and their types\n            if (!value)\n                value = 0;\n            if (typeof value === 'string') {\n                if (value.startsWith('0x'))\n                    value = new ethereumjs_util_1.BN(value.replace('0x', ''), 'hex');\n                else {\n                    try {\n                        value = new ethereumjs_util_1.BN(value, 10);\n                    }\n                    catch (e) {\n                        return callback('Unable to parse the value ' + e.message);\n                    }\n                }\n            }\n            const EIP1559 = this.commonContext.hardfork() !== 'berlin'; // berlin is the only pre eip1559 fork that we handle.\n            let tx;\n            if (!EIP1559) {\n                tx = tx_1.Transaction.fromTxData({\n                    nonce: useCall ? this.nextNonceForCall : new ethereumjs_util_1.BN(res.nonce),\n                    gasPrice: '0x1',\n                    gasLimit: gasLimit,\n                    to: to,\n                    value: value,\n                    data: Buffer.from(data.slice(2), 'hex')\n                }, { common: this.commonContext }).sign(account.privateKey);\n            }\n            else {\n                tx = tx_1.FeeMarketEIP1559Transaction.fromTxData({\n                    nonce: useCall ? this.nextNonceForCall : new ethereumjs_util_1.BN(res.nonce),\n                    maxPriorityFeePerGas: '0x01',\n                    maxFeePerGas: '0x1',\n                    gasLimit: gasLimit,\n                    to: to,\n                    value: value,\n                    data: Buffer.from(data.slice(2), 'hex')\n                }).sign(account.privateKey);\n            }\n            if (useCall)\n                this.nextNonceForCall++;\n            const coinbases = ['0x0e9281e9c6a0808672eaba6bd1220e144c9bb07a', '0x8945a1288dc78a6d8952a92c77aee6730b414778', '0x94d76e24f818426ae84aa404140e8d5f60e10e7e'];\n            const difficulties = [new ethereumjs_util_1.BN('69762765929000', 10), new ethereumjs_util_1.BN('70762765929000', 10), new ethereumjs_util_1.BN('71762765929000', 10)];\n            var block = block_1.Block.fromBlockData({\n                header: {\n                    timestamp: timestamp || (new Date().getTime() / 1000 | 0),\n                    number: self.blockNumber,\n                    coinbase: coinbases[self.blockNumber % coinbases.length],\n                    difficulty: difficulties[self.blockNumber % difficulties.length],\n                    gasLimit: new ethereumjs_util_1.BN(gasLimit.replace('0x', ''), 16).imuln(2),\n                    baseFeePerGas: EIP1559 ? '0x1' : undefined\n                },\n                transactions: [tx]\n            }, { common: this.commonContext });\n            if (!useCall) {\n                ++self.blockNumber;\n                this.runBlockInVm(tx, block, callback);\n            }\n            else {\n                this.getVMObject().stateManager.checkpoint().then(() => {\n                    this.runBlockInVm(tx, block, (err, result) => {\n                        this.getVMObject().stateManager.revert().then(() => {\n                            callback(err, result);\n                        });\n                    });\n                });\n            }\n        }).catch((e) => {\n            callback(e);\n        });\n    }\n    runBlockInVm(tx, block, callback) {\n        this.getVMObject().vm.runBlock({ block: block, generate: true, skipBlockValidation: true, skipBalance: false, skipNonce: true }).then((results) => {\n            const result = results.results[0];\n            if (result) {\n                const status = result.execResult.exceptionError ? 0 : 1;\n                result.status = `0x${status}`;\n            }\n            callback(null, {\n                result: result,\n                transactionHash: (0, ethereumjs_util_1.bufferToHex)(Buffer.from(tx.hash())),\n                block,\n                tx\n            });\n        }).catch(function (err) {\n            callback(err);\n        });\n    }\n}\nexports.TxRunnerVM = TxRunnerVM;\n//# sourceMappingURL=txRunnerVM.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxRunnerWeb3 = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nclass TxRunnerWeb3 {\n    constructor(api, getWeb3, currentblockGasLimit) {\n        this.event = new eventManager_1.EventManager();\n        this.getWeb3 = getWeb3;\n        this.currentblockGasLimit = currentblockGasLimit;\n        this._api = api;\n    }\n    _executeTx(tx, network, txFee, api, promptCb, callback) {\n        if (network && network.lastBlock && network.lastBlock.baseFeePerGas) {\n            // the sending stack (web3.js / metamask need to have the type defined)\n            // this is to avoid the following issue: https://github.com/MetaMask/metamask-extension/issues/11824\n            tx.type = '0x2';\n        }\n        if (txFee) {\n            if (txFee.baseFeePerGas) {\n                tx.maxPriorityFeePerGas = this.getWeb3().utils.toHex(this.getWeb3().utils.toWei(txFee.maxPriorityFee, 'gwei'));\n                tx.maxFeePerGas = this.getWeb3().utils.toHex(this.getWeb3().utils.toWei(txFee.maxFee, 'gwei'));\n                tx.type = '0x2';\n            }\n            else {\n                tx.gasPrice = this.getWeb3().utils.toHex(this.getWeb3().utils.toWei(txFee.gasPrice, 'gwei'));\n                tx.type = '0x1';\n            }\n        }\n        if (api.personalMode()) {\n            promptCb((value) => {\n                this._sendTransaction(this.getWeb3().personal.sendTransaction, tx, value, callback);\n            }, () => {\n                return callback('Canceled by user.');\n            });\n        }\n        else {\n            this._sendTransaction(this.getWeb3().eth.sendTransaction, tx, null, callback);\n        }\n    }\n    _sendTransaction(sendTx, tx, pass, callback) {\n        const cb = (err, resp) => {\n            if (err) {\n                return callback(err, resp);\n            }\n            this.event.trigger('transactionBroadcasted', [resp]);\n            var listenOnResponse = () => {\n                // eslint-disable-next-line no-async-promise-executor\n                return new Promise((resolve, reject) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                    const receipt = yield tryTillReceiptAvailable(resp, this.getWeb3());\n                    tx = yield tryTillTxAvailable(resp, this.getWeb3());\n                    resolve({\n                        receipt,\n                        tx,\n                        transactionHash: receipt ? receipt['transactionHash'] : null\n                    });\n                }));\n            };\n            listenOnResponse().then((txData) => { callback(null, txData); }).catch((error) => { callback(error); });\n        };\n        const args = pass !== null ? [tx, pass, cb] : [tx, cb];\n        try {\n            sendTx.apply({}, args);\n        }\n        catch (e) {\n            return callback(`Send transaction failed: ${e.message} . if you use an injected provider, please check it is properly unlocked. `);\n        }\n    }\n    execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n        let data = args.data;\n        if (data.slice(0, 2) !== '0x') {\n            data = '0x' + data;\n        }\n        return this.runInNode(args.from, args.to, data, args.value, args.gasLimit, args.useCall, args.timestamp, confirmationCb, gasEstimationForceSend, promptCb, callback);\n    }\n    runInNode(from, to, data, value, gasLimit, useCall, timestamp, confirmCb, gasEstimationForceSend, promptCb, callback) {\n        const tx = { from: from, to: to, data: data, value: value };\n        if (useCall) {\n            tx['gas'] = gasLimit;\n            if (this._api && this._api.isVM())\n                tx['timestamp'] = timestamp;\n            return this.getWeb3().eth.call(tx, function (error, result) {\n                if (error)\n                    return callback(error);\n                callback(null, {\n                    result: result\n                });\n            });\n        }\n        this.getWeb3().eth.estimateGas(tx, (err, gasEstimation) => {\n            if (err && err.message.indexOf('Invalid JSON RPC response') !== -1) {\n                // // @todo(#378) this should be removed when https://github.com/WalletConnect/walletconnect-monorepo/issues/334 is fixed\n                callback(new Error('Gas estimation failed because of an unknown internal error. This may indicated that the transaction will fail.'));\n            }\n            gasEstimationForceSend(err, () => {\n                // callback is called whenever no error\n                tx['gas'] = !gasEstimation ? gasLimit : gasEstimation;\n                this._api.detectNetwork((err, network) => {\n                    if (err) {\n                        console.log(err);\n                        return;\n                    }\n                    if (this._api.config.getUnpersistedProperty('doNotShowTransactionConfirmationAgain')) {\n                        return this._executeTx(tx, network, null, this._api, promptCb, callback);\n                    }\n                    confirmCb(network, tx, tx['gas'], (txFee) => {\n                        return this._executeTx(tx, network, txFee, this._api, promptCb, callback);\n                    }, (error) => {\n                        callback(error);\n                    });\n                });\n            }, () => {\n                const blockGasLimit = this.currentblockGasLimit();\n                // NOTE: estimateGas very likely will return a large limit if execution of the code failed\n                //       we want to be able to run the code in order to debug and find the cause for the failure\n                if (err)\n                    return callback(err);\n                let warnEstimation = ' An important gas estimation might also be the sign of a problem in the contract code. Please check loops and be sure you did not sent value to a non payable function (that\\'s also the reason of strong gas estimation). ';\n                warnEstimation += ' ' + err;\n                if (gasEstimation > gasLimit) {\n                    return callback('Gas required exceeds limit: ' + gasLimit + '. ' + warnEstimation);\n                }\n                if (gasEstimation > blockGasLimit) {\n                    return callback('Gas required exceeds block gas limit: ' + gasLimit + '. ' + warnEstimation);\n                }\n            });\n        });\n    }\n}\nexports.TxRunnerWeb3 = TxRunnerWeb3;\nfunction tryTillReceiptAvailable(txhash, web3) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        try {\n            const receipt = yield web3.eth.getTransactionReceipt(txhash);\n            if (receipt)\n                return receipt;\n        }\n        catch (e) { }\n        yield pause();\n        return yield tryTillReceiptAvailable(txhash, web3);\n    });\n}\nfunction tryTillTxAvailable(txhash, web3) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        try {\n            const tx = yield web3.eth.getTransaction(txhash);\n            if (tx)\n                return tx;\n        }\n        catch (e) { }\n        return yield tryTillTxAvailable(txhash, web3);\n    });\n}\nfunction pause() {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () { return new Promise((resolve, reject) => { setTimeout(resolve, 500); }); });\n}\n//# sourceMappingURL=txRunnerWeb3.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.toInt = void 0;\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nfunction toInt(h) {\n    if (h.indexOf && h.indexOf('0x') === 0) {\n        return (new ethereumjs_util_1.BN(h.replace('0x', ''), 16)).toString(10);\n    }\n    else if ((h.constructor && h.constructor.name === 'BigNumber') || ethereumjs_util_1.BN.isBN(h)) {\n        return h.toString(10);\n    }\n    return h;\n}\nexports.toInt = toInt;\nexports.stringify = convertToString;\nfunction convertToString(v) {\n    try {\n        if (v instanceof Array) {\n            const ret = [];\n            for (var k in v) {\n                ret.push(convertToString(v[k]));\n            }\n            return ret;\n        }\n        else if (ethereumjs_util_1.BN.isBN(v) || (v.constructor && v.constructor.name === 'BigNumber')) {\n            return v.toString(10);\n        }\n        else if (v._isBuffer) {\n            return (0, ethereumjs_util_1.bufferToHex)(v);\n        }\n        else if (typeof v === 'object') {\n            const retObject = {};\n            for (const i in v) {\n                retObject[i] = convertToString(v[i]);\n            }\n            return retObject;\n        }\n        else {\n            return v;\n        }\n    }\n    catch (e) {\n        console.log(e);\n        return v;\n    }\n}\n//# sourceMappingURL=typeConversion.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compilerInput = void 0;\nfunction compilerInput(contracts) {\n    return JSON.stringify({\n        language: 'Solidity',\n        sources: {\n            'test.sol': {\n                content: contracts\n            }\n        },\n        settings: {\n            optimizer: {\n                enabled: false,\n                runs: 200\n            },\n            outputSelection: {\n                '*': {\n                    '': ['ast'],\n                    '*': ['abi', 'metadata', 'evm.legacyAssembly', 'evm.bytecode', 'evm.deployedBytecode', 'evm.methodIdentifiers', 'evm.gasEstimates']\n                }\n            }\n        }\n    });\n}\nexports.compilerInput = compilerInput;\n//# sourceMappingURL=compilerHelper.js.map","\"use strict\";\n// Fetched from https://github.com/nomiclabs/hardhat/blob/ee4969a0a8f746f4775d4018326056d161066869/packages/hardhat-core/src/internal/hardhat-network/stack-traces/logger.ts#L47\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsoleLogs = void 0;\nexports.ConsoleLogs = {\n    1368866505: '()',\n    1309416733: '(int)',\n    4122065833: '(uint)',\n    1093685164: '(string)',\n    843419373: '(bool)',\n    741264322: '(address)',\n    199720790: '(bytes)',\n    1847107880: '(bytes1)',\n    3921027734: '(bytes2)',\n    763578662: '(bytes3)',\n    3764340945: '(bytes4)',\n    2793701517: '(bytes5)',\n    2927928721: '(bytes6)',\n    1322614312: '(bytes7)',\n    1334060334: '(bytes8)',\n    2428341456: '(bytes9)',\n    20780939: '(bytes10)',\n    67127854: '(bytes11)',\n    2258660029: '(bytes12)',\n    2488442420: '(bytes13)',\n    2456219775: '(bytes14)',\n    3667227872: '(bytes15)',\n    1717330180: '(bytes16)',\n    866084666: '(bytes17)',\n    3302112666: '(bytes18)',\n    1584093747: '(bytes19)',\n    1367925737: '(bytes20)',\n    3923391840: '(bytes21)',\n    3589990556: '(bytes22)',\n    2879508237: '(bytes23)',\n    4055063348: '(bytes24)',\n    193248344: '(bytes25)',\n    4172368369: '(bytes26)',\n    976705501: '(bytes27)',\n    3358255854: '(bytes28)',\n    1265222613: '(bytes29)',\n    3994207469: '(bytes30)',\n    3263516050: '(bytes31)',\n    666357637: '(bytes32)',\n    1812949376: '(uint,uint)',\n    262402885: '(uint,string)',\n    510514412: '(uint,bool)',\n    1491830284: '(uint,address)',\n    2534451664: '(string,uint)',\n    1264337527: '(string,string)',\n    3283441205: '(string,bool)',\n    832238387: '(string,address)',\n    910912146: '(bool,uint)',\n    2414527781: '(bool,string)',\n    705760899: '(bool,bool)',\n    2235320393: '(bool,address)',\n    574869411: '(address,uint)',\n    1973388987: '(address,string)',\n    1974863315: '(address,bool)',\n    3673216170: '(address,address)',\n    3884059252: '(uint,uint,uint)',\n    2104037094: '(uint,uint,string)',\n    1733758967: '(uint,uint,bool)',\n    3191032091: '(uint,uint,address)',\n    1533929535: '(uint,string,uint)',\n    1062716053: '(uint,string,string)',\n    1185403086: '(uint,string,bool)',\n    529592906: '(uint,string,address)',\n    1515034914: '(uint,bool,uint)',\n    2332955902: '(uint,bool,string)',\n    3587091680: '(uint,bool,bool)',\n    1112473535: '(uint,bool,address)',\n    2286109610: '(uint,address,uint)',\n    3464692859: '(uint,address,string)',\n    2060456590: '(uint,address,bool)',\n    2104993307: '(uint,address,address)',\n    2526862595: '(string,uint,uint)',\n    2750793529: '(string,uint,string)',\n    4043501061: '(string,uint,bool)',\n    3817119609: '(string,uint,address)',\n    4083337817: '(string,string,uint)',\n    753761519: '(string,string,string)',\n    2967534005: '(string,string,bool)',\n    2515337621: '(string,string,address)',\n    689682896: '(string,bool,uint)',\n    3801674877: '(string,bool,string)',\n    2232122070: '(string,bool,bool)',\n    2469116728: '(string,bool,address)',\n    130552343: '(string,address,uint)',\n    3773410639: '(string,address,string)',\n    3374145236: '(string,address,bool)',\n    4243355104: '(string,address,address)',\n    995886048: '(bool,uint,uint)',\n    3359211184: '(bool,uint,string)',\n    464374251: '(bool,uint,bool)',\n    3302110471: '(bool,uint,address)',\n    3224906412: '(bool,string,uint)',\n    2960557183: '(bool,string,string)',\n    3686056519: '(bool,string,bool)',\n    2509355347: '(bool,string,address)',\n    2954061243: '(bool,bool,uint)',\n    626391622: '(bool,bool,string)',\n    1349555864: '(bool,bool,bool)',\n    276362893: '(bool,bool,address)',\n    3950005167: '(bool,address,uint)',\n    3734671984: '(bool,address,string)',\n    415876934: '(bool,address,bool)',\n    3530962535: '(bool,address,address)',\n    2273710942: '(address,uint,uint)',\n    3136907337: '(address,uint,string)',\n    3846889796: '(address,uint,bool)',\n    2548867988: '(address,uint,address)',\n    484110986: '(address,string,uint)',\n    4218888805: '(address,string,string)',\n    3473018801: '(address,string,bool)',\n    4035396840: '(address,string,address)',\n    742821141: '(address,bool,uint)',\n    555898316: '(address,bool,string)',\n    3951234194: '(address,bool,bool)',\n    4044790253: '(address,bool,address)',\n    1815506290: '(address,address,uint)',\n    7426238: '(address,address,string)',\n    4070990470: '(address,address,bool)',\n    25986242: '(address,address,address)',\n    1554033982: '(uint,uint,uint,uint)',\n    2024634892: '(uint,uint,uint,string)',\n    1683143115: '(uint,uint,uint,bool)',\n    3766828905: '(uint,uint,uint,address)',\n    949229117: '(uint,uint,string,uint)',\n    2080582194: '(uint,uint,string,string)',\n    2989403910: '(uint,uint,string,bool)',\n    1127384482: '(uint,uint,string,address)',\n    1818524812: '(uint,uint,bool,uint)',\n    4024028142: '(uint,uint,bool,string)',\n    2495495089: '(uint,uint,bool,bool)',\n    3776410703: '(uint,uint,bool,address)',\n    1628154048: '(uint,uint,address,uint)',\n    3600994782: '(uint,uint,address,string)',\n    2833785006: '(uint,uint,address,bool)',\n    3398671136: '(uint,uint,address,address)',\n    3221501959: '(uint,string,uint,uint)',\n    2730232985: '(uint,string,uint,string)',\n    2270850606: '(uint,string,uint,bool)',\n    2877020669: '(uint,string,uint,address)',\n    1995203422: '(uint,string,string,uint)',\n    1474103825: '(uint,string,string,string)',\n    310782872: '(uint,string,string,bool)',\n    3432549024: '(uint,string,string,address)',\n    2763295359: '(uint,string,bool,uint)',\n    2370346144: '(uint,string,bool,string)',\n    1371286465: '(uint,string,bool,bool)',\n    2037328032: '(uint,string,bool,address)',\n    2565338099: '(uint,string,address,uint)',\n    4170733439: '(uint,string,address,string)',\n    4181720887: '(uint,string,address,bool)',\n    2141537675: '(uint,string,address,address)',\n    1451396516: '(uint,bool,uint,uint)',\n    3906845782: '(uint,bool,uint,string)',\n    3534472445: '(uint,bool,uint,bool)',\n    1329595790: '(uint,bool,uint,address)',\n    2438978344: '(uint,bool,string,uint)',\n    2754870525: '(uint,bool,string,string)',\n    879671495: '(uint,bool,string,bool)',\n    1231956916: '(uint,bool,string,address)',\n    3173363033: '(uint,bool,bool,uint)',\n    831186331: '(uint,bool,bool,string)',\n    1315722005: '(uint,bool,bool,bool)',\n    1392910941: '(uint,bool,bool,address)',\n    1102442299: '(uint,bool,address,uint)',\n    2721084958: '(uint,bool,address,string)',\n    2449150530: '(uint,bool,address,bool)',\n    2263728396: '(uint,bool,address,address)',\n    3399106228: '(uint,address,uint,uint)',\n    1054063912: '(uint,address,uint,string)',\n    435581801: '(uint,address,uint,bool)',\n    4256361684: '(uint,address,uint,address)',\n    2697204968: '(uint,address,string,uint)',\n    2373420580: '(uint,address,string,string)',\n    581204390: '(uint,address,string,bool)',\n    3420819197: '(uint,address,string,address)',\n    2064181483: '(uint,address,bool,uint)',\n    1676730946: '(uint,address,bool,string)',\n    2116501773: '(uint,address,bool,bool)',\n    3056677012: '(uint,address,bool,address)',\n    2587672470: '(uint,address,address,uint)',\n    2034490470: '(uint,address,address,string)',\n    22350596: '(uint,address,address,bool)',\n    1430734329: '(uint,address,address,address)',\n    149837414: '(string,uint,uint,uint)',\n    2773406909: '(string,uint,uint,string)',\n    4147936829: '(string,uint,uint,bool)',\n    3201771711: '(string,uint,uint,address)',\n    2697245221: '(string,uint,string,uint)',\n    1821956834: '(string,uint,string,string)',\n    3919545039: '(string,uint,string,bool)',\n    3144824297: '(string,uint,string,address)',\n    1427009269: '(string,uint,bool,uint)',\n    1993105508: '(string,uint,bool,string)',\n    3816813520: '(string,uint,bool,bool)',\n    3847527825: '(string,uint,bool,address)',\n    1481210622: '(string,uint,address,uint)',\n    844415720: '(string,uint,address,string)',\n    285649143: '(string,uint,address,bool)',\n    3939013249: '(string,uint,address,address)',\n    3587119056: '(string,string,uint,uint)',\n    2366909661: '(string,string,uint,string)',\n    3864418506: '(string,string,uint,bool)',\n    1565476480: '(string,string,uint,address)',\n    2681211381: '(string,string,string,uint)',\n    3731419658: '(string,string,string,string)',\n    739726573: '(string,string,string,bool)',\n    1834430276: '(string,string,string,address)',\n    2256636538: '(string,string,bool,uint)',\n    1585754346: '(string,string,bool,string)',\n    1081628777: '(string,string,bool,bool)',\n    3279013851: '(string,string,bool,address)',\n    1250010474: '(string,string,address,uint)',\n    3944480640: '(string,string,address,string)',\n    1556958775: '(string,string,address,bool)',\n    1134328815: '(string,string,address,address)',\n    1572859960: '(string,bool,uint,uint)',\n    1119461927: '(string,bool,uint,string)',\n    1019590099: '(string,bool,uint,bool)',\n    1909687565: '(string,bool,uint,address)',\n    885731469: '(string,bool,string,uint)',\n    2821114603: '(string,bool,string,string)',\n    1066037277: '(string,bool,string,bool)',\n    3764542249: '(string,bool,string,address)',\n    2155164136: '(string,bool,bool,uint)',\n    2636305885: '(string,bool,bool,string)',\n    2304440517: '(string,bool,bool,bool)',\n    1905304873: '(string,bool,bool,address)',\n    685723286: '(string,bool,address,uint)',\n    764294052: '(string,bool,address,string)',\n    2508990662: '(string,bool,address,bool)',\n    870964509: '(string,bool,address,address)',\n    3668153533: '(string,address,uint,uint)',\n    1280700980: '(string,address,uint,string)',\n    1522647356: '(string,address,uint,bool)',\n    2741431424: '(string,address,uint,address)',\n    2405583849: '(string,address,string,uint)',\n    609847026: '(string,address,string,string)',\n    1595265676: '(string,address,string,bool)',\n    2864486961: '(string,address,string,address)',\n    3318856587: '(string,address,bool,uint)',\n    72663161: '(string,address,bool,string)',\n    2038975531: '(string,address,bool,bool)',\n    573965245: '(string,address,bool,address)',\n    1857524797: '(string,address,address,uint)',\n    2148146279: '(string,address,address,string)',\n    3047013728: '(string,address,address,bool)',\n    3985582326: '(string,address,address,address)',\n    853517604: '(bool,uint,uint,uint)',\n    3657852616: '(bool,uint,uint,string)',\n    2753397214: '(bool,uint,uint,bool)',\n    4049711649: '(bool,uint,uint,address)',\n    1098907931: '(bool,uint,string,uint)',\n    3542771016: '(bool,uint,string,string)',\n    2446522387: '(bool,uint,string,bool)',\n    2781285673: '(bool,uint,string,address)',\n    3554563475: '(bool,uint,bool,uint)',\n    3067439572: '(bool,uint,bool,string)',\n    2650928961: '(bool,uint,bool,bool)',\n    1114097656: '(bool,uint,bool,address)',\n    3399820138: '(bool,uint,address,uint)',\n    403247937: '(bool,uint,address,string)',\n    1705899016: '(bool,uint,address,bool)',\n    2318373034: '(bool,uint,address,address)',\n    2387273838: '(bool,string,uint,uint)',\n    2007084013: '(bool,string,uint,string)',\n    549177775: '(bool,string,uint,bool)',\n    1529002296: '(bool,string,uint,address)',\n    1574643090: '(bool,string,string,uint)',\n    392356650: '(bool,string,string,string)',\n    508266469: '(bool,string,string,bool)',\n    2547225816: '(bool,string,string,address)',\n    2372902053: '(bool,string,bool,uint)',\n    1211958294: '(bool,string,bool,string)',\n    3697185627: '(bool,string,bool,bool)',\n    1401816747: '(bool,string,bool,address)',\n    453743963: '(bool,string,address,uint)',\n    316065672: '(bool,string,address,string)',\n    1842623690: '(bool,string,address,bool)',\n    724244700: '(bool,string,address,address)',\n    1181212302: '(bool,bool,uint,uint)',\n    1348569399: '(bool,bool,uint,string)',\n    2874982852: '(bool,bool,uint,bool)',\n    201299213: '(bool,bool,uint,address)',\n    395003525: '(bool,bool,string,uint)',\n    1830717265: '(bool,bool,string,string)',\n    3092715066: '(bool,bool,string,bool)',\n    4188875657: '(bool,bool,string,address)',\n    3259532109: '(bool,bool,bool,uint)',\n    719587540: '(bool,bool,bool,string)',\n    992632032: '(bool,bool,bool,bool)',\n    2352126746: '(bool,bool,bool,address)',\n    1620281063: '(bool,bool,address,uint)',\n    2695133539: '(bool,bool,address,string)',\n    3231908568: '(bool,bool,address,bool)',\n    4102557348: '(bool,bool,address,address)',\n    2617143996: '(bool,address,uint,uint)',\n    2691192883: '(bool,address,uint,string)',\n    4002252402: '(bool,address,uint,bool)',\n    1760647349: '(bool,address,uint,address)',\n    194640930: '(bool,address,string,uint)',\n    2805734838: '(bool,address,string,string)',\n    3804222987: '(bool,address,string,bool)',\n    1870422078: '(bool,address,string,address)',\n    1287000017: '(bool,address,bool,uint)',\n    1248250676: '(bool,address,bool,string)',\n    1788626827: '(bool,address,bool,bool)',\n    474063670: '(bool,address,bool,address)',\n    1384430956: '(bool,address,address,uint)',\n    3625099623: '(bool,address,address,string)',\n    1180699616: '(bool,address,address,bool)',\n    487903233: '(bool,address,address,address)',\n    1024368100: '(address,uint,uint,uint)',\n    2301889963: '(address,uint,uint,string)',\n    3964381346: '(address,uint,uint,bool)',\n    519451700: '(address,uint,uint,address)',\n    4111650715: '(address,uint,string,uint)',\n    2119616147: '(address,uint,string,string)',\n    2751614737: '(address,uint,string,bool)',\n    3698927108: '(address,uint,string,address)',\n    1770996626: '(address,uint,bool,uint)',\n    2391690869: '(address,uint,bool,string)',\n    4272018778: '(address,uint,bool,bool)',\n    602229106: '(address,uint,bool,address)',\n    2782496616: '(address,uint,address,uint)',\n    1567749022: '(address,uint,address,string)',\n    4051804649: '(address,uint,address,bool)',\n    3961816175: '(address,uint,address,address)',\n    2764647008: '(address,string,uint,uint)',\n    1561552329: '(address,string,uint,string)',\n    2116357467: '(address,string,uint,bool)',\n    3755464715: '(address,string,uint,address)',\n    2706362425: '(address,string,string,uint)',\n    1560462603: '(address,string,string,string)',\n    900007711: '(address,string,string,bool)',\n    2689478535: '(address,string,string,address)',\n    3877655068: '(address,string,bool,uint)',\n    3154862590: '(address,string,bool,string)',\n    1595759775: '(address,string,bool,bool)',\n    542667202: '(address,string,bool,address)',\n    2350461865: '(address,string,address,uint)',\n    4158874181: '(address,string,address,string)',\n    233909110: '(address,string,address,bool)',\n    221706784: '(address,string,address,address)',\n    3255869470: '(address,bool,uint,uint)',\n    2606272204: '(address,bool,uint,string)',\n    2244855215: '(address,bool,uint,bool)',\n    227337758: '(address,bool,uint,address)',\n    2652011374: '(address,bool,string,uint)',\n    1197235251: '(address,bool,string,string)',\n    1353532957: '(address,bool,string,bool)',\n    436029782: '(address,bool,string,address)',\n    3484780374: '(address,bool,bool,uint)',\n    3754205928: '(address,bool,bool,string)',\n    3401856121: '(address,bool,bool,bool)',\n    3476636805: '(address,bool,bool,address)',\n    3698398930: '(address,bool,address,uint)',\n    769095910: '(address,bool,address,string)',\n    2801077007: '(address,bool,address,bool)',\n    1711502813: '(address,bool,address,address)',\n    1425929188: '(address,address,uint,uint)',\n    2647731885: '(address,address,uint,string)',\n    3270936812: '(address,address,uint,bool)',\n    3603321462: '(address,address,uint,address)',\n    69767936: '(address,address,string,uint)',\n    566079269: '(address,address,string,string)',\n    1863997774: '(address,address,string,bool)',\n    2406706454: '(address,address,string,address)',\n    2513854225: '(address,address,bool,uint)',\n    2858762440: '(address,address,bool,string)',\n    752096074: '(address,address,bool,bool)',\n    2669396846: '(address,address,bool,address)',\n    3982404743: '(address,address,address,uint)',\n    4161329696: '(address,address,address,string)',\n    238520724: '(address,address,address,bool)',\n    1717301556: '(address,address,address,address)'\n};\n//# sourceMappingURL=hhconsoleSigs.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resultToRemixTx = void 0;\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst ethjs_util_1 = require(\"ethjs-util\");\nfunction convertToPrefixedHex(input) {\n    if (input === undefined || input === null || (0, ethjs_util_1.isHexString)(input)) {\n        return input;\n    }\n    else if (Buffer.isBuffer(input)) {\n        return (0, ethereumjs_util_1.bufferToHex)(input);\n    }\n    return '0x' + input.toString(16);\n}\n/*\n txResult.result can be 3 different things:\n - VM call or tx: ethereumjs-vm result object\n - Node transaction: object returned from eth.getTransactionReceipt()\n - Node call: return value from function call (not an object)\n\n Also, VM results use BN and Buffers, Node results use hex strings/ints,\n So we need to normalize the values to prefixed hex strings\n*/\nfunction resultToRemixTx(txResult, execResult) {\n    const { receipt, transactionHash, result } = txResult;\n    const { status, gasUsed, contractAddress } = receipt;\n    let returnValue, errorMessage;\n    if ((0, ethjs_util_1.isHexString)(result)) {\n        returnValue = result;\n    }\n    else if (execResult !== undefined) {\n        returnValue = execResult.returnValue;\n        errorMessage = execResult.exceptionError;\n    }\n    return {\n        transactionHash,\n        status,\n        gasUsed: convertToPrefixedHex(gasUsed),\n        error: errorMessage,\n        return: convertToPrefixedHex(returnValue),\n        createdAddress: convertToPrefixedHex(contractAddress)\n    };\n}\nexports.resultToRemixTx = resultToRemixTx;\n//# sourceMappingURL=txResultHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runInBrowser = exports.normalizeHexAddress = exports.normalizeHex = exports.formatCss = exports.tryConvertAsciiFormat = exports.formatMemory = void 0;\nfunction formatMemory(mem, width) {\n    const ret = {};\n    if (!mem) {\n        return ret;\n    }\n    if (!mem.substr) {\n        mem = mem.join(''); // geth returns an array, eth return raw string\n    }\n    for (let k = 0; k < mem.length; k += (width * 2)) {\n        const memory = mem.substr(k, width * 2);\n        const content = tryConvertAsciiFormat(memory);\n        ret['0x' + (k / 2).toString(16)] = content.raw + '\\t' + content.ascii;\n    }\n    return ret;\n}\nexports.formatMemory = formatMemory;\nfunction tryConvertAsciiFormat(memorySlot) {\n    const ret = { ascii: '', raw: '' };\n    for (let k = 0; k < memorySlot.length; k += 2) {\n        const raw = memorySlot.substr(k, 2);\n        let ascii = String.fromCharCode(parseInt(raw, 16));\n        ascii = ascii.replace(/[^\\w\\s]/, '?');\n        if (ascii === '') {\n            ascii = '?';\n        }\n        ret.ascii += ascii;\n        ret.raw += raw;\n    }\n    return ret;\n}\nexports.tryConvertAsciiFormat = tryConvertAsciiFormat;\n/**\n * format @args css1, css2, css3 to css inline style\n *\n * @param {Object} css1 - css inline declaration\n * @param {Object} css2 - css inline declaration\n * @param {Object} css3 - css inline declaration\n * @param {Object} ...\n * @return {String} css inline style\n *                  if the key start with * the value is direcly appended to the inline style (which should be already inline style formatted)\n *                  used if multiple occurences of the same key is needed\n */\nfunction formatCss(css1, css2) {\n    let ret = '';\n    for (const arg in arguments) {\n        for (const k in arguments[arg]) {\n            if (arguments[arg][k] && ret.indexOf(k) === -1) {\n                if (k.indexOf('*') === 0) {\n                    ret += arguments[arg][k];\n                }\n                else {\n                    ret += k + ':' + arguments[arg][k] + ';';\n                }\n            }\n        }\n    }\n    return ret;\n}\nexports.formatCss = formatCss;\nfunction normalizeHex(hex) {\n    if (hex.indexOf('0x') === 0) {\n        hex = hex.replace('0x', '');\n    }\n    hex = hex.replace(/^0+/, '');\n    return '0x' + hex;\n}\nexports.normalizeHex = normalizeHex;\nfunction normalizeHexAddress(hex) {\n    if (hex.indexOf('0x') === 0)\n        hex = hex.replace('0x', '');\n    if (hex.length >= 40) {\n        const reg = /(.{40})$/.exec(hex);\n        if (reg) {\n            return '0x' + reg[0];\n        }\n    }\n    else {\n        return '0x' + (new Array(40 - hex.length + 1).join('0')) + hex;\n    }\n}\nexports.normalizeHexAddress = normalizeHexAddress;\nfunction runInBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.runInBrowser = runInBrowser;\n//# sourceMappingURL=uiHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.execution = exports.util = exports.Storage = exports.vm = exports.helpers = exports.EventManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"./eventManager\");\nObject.defineProperty(exports, \"EventManager\", { enumerable: true, get: function () { return eventManager_1.EventManager; } });\nconst uiHelper = (0, tslib_1.__importStar)(require(\"./helpers/uiHelper\"));\nconst compilerHelper = (0, tslib_1.__importStar)(require(\"./helpers/compilerHelper\"));\nconst util = (0, tslib_1.__importStar)(require(\"./util\"));\nexports.util = util;\nconst web3Providers_1 = require(\"./web3Provider/web3Providers\");\nconst dummyProvider_1 = require(\"./web3Provider/dummyProvider\");\nconst web3VmProvider_1 = require(\"./web3Provider/web3VmProvider\");\nconst storage_1 = require(\"./storage\");\nObject.defineProperty(exports, \"Storage\", { enumerable: true, get: function () { return storage_1.Storage; } });\nconst eventsDecoder_1 = require(\"./execution/eventsDecoder\");\nconst txExecution = (0, tslib_1.__importStar)(require(\"./execution/txExecution\"));\nconst txHelper = (0, tslib_1.__importStar)(require(\"./execution/txHelper\"));\nconst txFormat = (0, tslib_1.__importStar)(require(\"./execution/txFormat\"));\nconst txListener_1 = require(\"./execution/txListener\");\nconst txRunner_1 = require(\"./execution/txRunner\");\nconst logsManager_1 = require(\"./execution/logsManager\");\nconst forkAt_1 = require(\"./execution/forkAt\");\nconst typeConversion = (0, tslib_1.__importStar)(require(\"./execution/typeConversion\"));\nconst txRunnerVM_1 = require(\"./execution/txRunnerVM\");\nconst txRunnerWeb3_1 = require(\"./execution/txRunnerWeb3\");\nconst txResultHelper = (0, tslib_1.__importStar)(require(\"./helpers/txResultHelper\"));\nconst helpers = {\n    ui: uiHelper,\n    compiler: compilerHelper,\n    txResultHelper\n};\nexports.helpers = helpers;\nconst vm = {\n    Web3Providers: web3Providers_1.Web3Providers,\n    DummyProvider: dummyProvider_1.DummyProvider,\n    Web3VMProvider: web3VmProvider_1.Web3VmProvider\n};\nexports.vm = vm;\nconst execution = {\n    EventsDecoder: eventsDecoder_1.EventsDecoder,\n    txExecution: txExecution,\n    txHelper: txHelper,\n    txFormat: txFormat,\n    txListener: txListener_1.TxListener,\n    TxRunner: txRunner_1.TxRunner,\n    TxRunnerWeb3: txRunnerWeb3_1.TxRunnerWeb3,\n    TxRunnerVM: txRunnerVM_1.TxRunnerVM,\n    typeConversion: typeConversion,\n    LogsManager: logsManager_1.LogsManager,\n    forkAt: forkAt_1.forkAt\n};\nexports.execution = execution;\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extend = exports.extendWeb3 = exports.loadWeb3 = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nfunction loadWeb3(url = 'http://localhost:8545') {\n    const web3 = new web3_1.default();\n    web3.setProvider(new web3_1.default.providers.HttpProvider(url));\n    extend(web3);\n    return web3;\n}\nexports.loadWeb3 = loadWeb3;\nfunction extendWeb3(web3) {\n    extend(web3);\n}\nexports.extendWeb3 = extendWeb3;\nfunction extend(web3) {\n    if (!web3.extend) {\n        return;\n    }\n    // DEBUG\n    const methods = [];\n    if (!(web3.debug && web3.debug.preimage)) {\n        methods.push(new web3.extend.Method({\n            name: 'preimage',\n            call: 'debug_preimage',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (!(web3.debug && web3.debug.traceTransaction)) {\n        methods.push(new web3.extend.Method({\n            name: 'traceTransaction',\n            call: 'debug_traceTransaction',\n            inputFormatter: [null, null],\n            params: 2\n        }));\n    }\n    if (!(web3.debug && web3.debug.storageRangeAt)) {\n        methods.push(new web3.extend.Method({\n            name: 'storageRangeAt',\n            call: 'debug_storageRangeAt',\n            inputFormatter: [null, null, null, null, null],\n            params: 5\n        }));\n    }\n    if (methods.length > 0) {\n        web3.extend({\n            property: 'debug',\n            methods: methods,\n            properties: []\n        });\n    }\n}\nexports.extend = extend;\n//# sourceMappingURL=init.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nclass Storage {\n    constructor(prefix) {\n        this.prefix = prefix;\n        // on startup, upgrade the old storage layout\n        if (typeof window !== 'undefined') {\n            this.safeKeys().forEach(function (name) {\n                if (name.indexOf('sol-cache-file-', 0) === 0) {\n                    var content = window.localStorage.getItem(name);\n                    window.localStorage.setItem(name.replace(/^sol-cache-file-/, 'sol:'), content);\n                    window.localStorage.removeItem(name);\n                }\n            });\n        }\n        // remove obsolete key\n        if (typeof window !== 'undefined') {\n            window.localStorage.removeItem('editor-size-cache');\n        }\n    }\n    exists(name) {\n        if (typeof window !== 'undefined') {\n            return this.get(name) !== null;\n        }\n    }\n    get(name) {\n        if (typeof window !== 'undefined') {\n            return window.localStorage.getItem(this.prefix + name);\n        }\n    }\n    set(name, content) {\n        try {\n            if (typeof window !== 'undefined') {\n                window.localStorage.setItem(this.prefix + name, content);\n            }\n        }\n        catch (exception) {\n            return false;\n        }\n        return true;\n    }\n    remove(name) {\n        if (typeof window !== 'undefined') {\n            window.localStorage.removeItem(this.prefix + name);\n        }\n        return true;\n    }\n    rename(originalName, newName) {\n        const content = this.get(originalName);\n        if (!this.set(newName, content)) {\n            return false;\n        }\n        this.remove(originalName);\n        return true;\n    }\n    safeKeys() {\n        // NOTE: this is a workaround for some browsers\n        if (typeof window !== 'undefined') {\n            return Object.keys(window.localStorage).filter(function (item) { return item !== null && item !== undefined; });\n        }\n        return [];\n    }\n    keys() {\n        return this.safeKeys()\n            // filter any names not including the prefix\n            .filter(item => item.indexOf(this.prefix, 0) === 0)\n            // remove prefix from filename and add the 'browser' path\n            .map(item => item.substr(this.prefix.length));\n    }\n}\nexports.Storage = Storage;\n//# sourceMappingURL=storage.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeRegExp = exports.concatWithSeperator = exports.groupBy = exports.compareByteCode = exports.extractSwarmHash = exports.extractcborMetadata = exports.cborEncodedValueExtraction = exports.swarmHashExtractionPOC32 = exports.swarmHashExtractionPOC31 = exports.swarmHashExtraction = exports.sha3_256 = exports.buildCallPath = exports.findCall = exports.findClosestIndex = exports.findLowerBoundValue = exports.findLowerBound = exports.formatMemory = exports.hexListFromBNs = exports.hexToIntArray = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst string_similarity_1 = (0, tslib_1.__importDefault)(require(\"string-similarity\"));\n/*\n contains misc util: @TODO should be splitted\n  - hex conversion\n  - binary search\n  - CALL related look up\n  - sha3 calculation\n  - swarm hash extraction\n  - bytecode comparison\n*/\n/*\n    ints: IntArray\n  */\n/**\n   * Converts a hex string to an array of integers.\n   */\nfunction hexToIntArray(hexString) {\n    if (hexString.slice(0, 2) === '0x') {\n        hexString = hexString.slice(2);\n    }\n    const integers = [];\n    for (let i = 0; i < hexString.length; i += 2) {\n        integers.push(parseInt(hexString.slice(i, i + 2), 16));\n    }\n    return integers;\n}\nexports.hexToIntArray = hexToIntArray;\n/*\n    ints: list of BNs\n  */\nfunction hexListFromBNs(bnList) {\n    const ret = [];\n    for (const k in bnList) {\n        const v = bnList[k];\n        if (ethereumjs_util_1.BN.isBN(v)) {\n            ret.push('0x' + v.toString('hex', 64));\n        }\n        else {\n            ret.push('0x' + (new ethereumjs_util_1.BN(v)).toString('hex', 64)); // TEMP FIX TO REMOVE ONCE https://github.com/ethereumjs/ethereumjs-vm/pull/293 is released\n        }\n    }\n    return ret;\n}\nexports.hexListFromBNs = hexListFromBNs;\n/*\n  ints: ints: IntArray\n*/\nfunction formatMemory(mem) {\n    const hexMem = (0, ethereumjs_util_1.bufferToHex)(mem).substr(2);\n    const ret = [];\n    for (let k = 0; k < hexMem.length; k += 32) {\n        const row = hexMem.substr(k, 32);\n        ret.push(row);\n    }\n    return ret;\n}\nexports.formatMemory = formatMemory;\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return largest i such that array[i] <= target; return -1 if array[0] > target || array is empty\n*/\nfunction findLowerBound(target, array) {\n    let start = 0;\n    let length = array.length;\n    while (length > 0) {\n        const half = length >> 1;\n        const middle = start + half;\n        if (array[middle] <= target) {\n            length = length - 1 - half;\n            start = middle + 1;\n        }\n        else {\n            length = half;\n        }\n    }\n    return start - 1;\n}\nexports.findLowerBound = findLowerBound;\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return largest array[i] such that array[i] <= target; return null if array[0] > target || array is empty\n*/\nfunction findLowerBoundValue(target, array) {\n    const index = findLowerBound(target, array);\n    return index >= 0 ? array[index] : null;\n}\nexports.findLowerBoundValue = findLowerBoundValue;\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return Return i such that |array[i] - target| is smallest among all i and -1 for an empty array.\n  Returns the smallest i for multiple candidates.\n*/\nfunction findClosestIndex(target, array) {\n    if (array.length === 0) {\n        return -1;\n    }\n    const index = findLowerBound(target, array);\n    if (index < 0) {\n        return 0;\n    }\n    else if (index >= array.length - 1) {\n        return array.length - 1;\n    }\n    else {\n        const middle = (array[index] + array[index + 1]) / 2;\n        return target <= middle ? index : index + 1;\n    }\n}\nexports.findClosestIndex = findClosestIndex;\n/**\n  * Find the call from @args rootCall which contains @args index (recursive)\n  *\n  * @param {Int} index - index of the vmtrace\n  * @param {Object} rootCall  - call tree, built by the trace analyser\n  * @return {Object} - return the call which include the @args index\n  */\nfunction findCall(index, rootCall) {\n    const ret = buildCallPath(index, rootCall);\n    return ret[ret.length - 1];\n}\nexports.findCall = findCall;\n/**\n  * Find calls path from @args rootCall which leads to @args index (recursive)\n  *\n  * @param {Int} index - index of the vmtrace\n  * @param {Object} rootCall  - call tree, built by the trace analyser\n  * @return {Array} - return the calls path to @args index\n  */\nfunction buildCallPath(index, rootCall) {\n    const ret = [];\n    findCallInternal(index, rootCall, ret);\n    return ret;\n}\nexports.buildCallPath = buildCallPath;\n/**\n  * sha3 the given @arg value (left pad to 32 bytes)\n  *\n  * @param {String} value - value to sha3\n  * @return {Object} - return sha3ied value\n  */\n// eslint-disable-next-line camelcase\nfunction sha3_256(value) {\n    value = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(value));\n    const retInBuffer = (0, ethereumjs_util_1.keccak)((0, ethereumjs_util_1.setLengthLeft)(value, 32));\n    return (0, ethereumjs_util_1.bufferToHex)(retInBuffer);\n}\nexports.sha3_256 = sha3_256;\n/**\n  * return a regex which extract the swarmhash from the bytecode.\n  *\n  * @return {RegEx}\n  */\nfunction swarmHashExtraction() {\n    return /a165627a7a72305820([0-9a-f]{64})0029$/;\n}\nexports.swarmHashExtraction = swarmHashExtraction;\n/**\n  * return a regex which extract the swarmhash from the bytecode, from POC 0.3\n  *\n  * @return {RegEx}\n  */\nfunction swarmHashExtractionPOC31() {\n    return /a265627a7a72315820([0-9a-f]{64})64736f6c6343([0-9a-f]{6})0032$/;\n}\nexports.swarmHashExtractionPOC31 = swarmHashExtractionPOC31;\n/**\n  * return a regex which extract the swarmhash from the bytecode, from POC 0.3\n  *\n  * @return {RegEx}\n  */\nfunction swarmHashExtractionPOC32() {\n    return /a265627a7a72305820([0-9a-f]{64})64736f6c6343([0-9a-f]{6})0032$/;\n}\nexports.swarmHashExtractionPOC32 = swarmHashExtractionPOC32;\n/**\n  * return a regex which extract the cbor encoded metadata : {\"ipfs\": <IPFS hash>, \"solc\": <compiler version>} from the bytecode.\n  * ref https://solidity.readthedocs.io/en/v0.6.6/metadata.html?highlight=ipfs#encoding-of-the-metadata-hash-in-the-bytecode\n  * @return {RegEx}\n  */\nfunction cborEncodedValueExtraction() {\n    return /64697066735822([0-9a-f]{68})64736f6c6343([0-9a-f]{6})0033$/;\n}\nexports.cborEncodedValueExtraction = cborEncodedValueExtraction;\nfunction extractcborMetadata(value) {\n    return value.replace(cborEncodedValueExtraction(), '');\n}\nexports.extractcborMetadata = extractcborMetadata;\nfunction extractSwarmHash(value) {\n    value = value.replace(swarmHashExtraction(), '');\n    value = value.replace(swarmHashExtractionPOC31(), '');\n    value = value.replace(swarmHashExtractionPOC32(), '');\n    return value;\n}\nexports.extractSwarmHash = extractSwarmHash;\n/**\n  * Compare bytecode. return true if the code is equal (handle swarm hash and library references)\n  * @param {String} code1 - the bytecode that is actually deployed (contains resolved library reference and a potentially different swarmhash)\n  * @param {String} code2 - the bytecode generated by the compiler (contains unresolved library reference and a potentially different swarmhash)\n                            this will return false if the generated bytecode is empty (asbtract contract cannot be deployed)\n  *\n  * @return {bool}\n  */\nfunction compareByteCode(code1, code2) {\n    if (code1 === code2)\n        return true;\n    if (code2 === '0x')\n        return false; // abstract contract. see comment\n    if (code2.substr(2, 46) === '7300000000000000000000000000000000000000003014') {\n        // testing the following signature: PUSH20 00..00 ADDRESS EQ\n        // in the context of a library, that slot contains the address of the library (pushed by the compiler to avoid calling library other than with a DELEGATECALL)\n        // if code2 is not a library, well we still suppose that the comparison remain relevant even if we remove some information from `code1`\n        code1 = replaceLibReference(code1, 4);\n    }\n    let pos = -1;\n    while ((pos = code2.search(/__(.*)__/)) !== -1) {\n        code2 = replaceLibReference(code2, pos);\n        code1 = replaceLibReference(code1, pos);\n    }\n    code1 = extractSwarmHash(code1);\n    code1 = extractcborMetadata(code1);\n    code2 = extractSwarmHash(code2);\n    code2 = extractcborMetadata(code2);\n    if (code1 && code2) {\n        const compare = string_similarity_1.default.compareTwoStrings(code1, code2);\n        return compare > 0.93;\n    }\n    return false;\n}\nexports.compareByteCode = compareByteCode;\n/* util extracted out from remix-ide. @TODO split this file, cause it mix real util fn with solidity related stuff ... */\nfunction groupBy(arr, key) {\n    return arr.reduce((sum, item) => {\n        const groupByVal = item[key];\n        const groupedItems = sum[groupByVal] || [];\n        groupedItems.push(item);\n        sum[groupByVal] = groupedItems;\n        return sum;\n    }, {});\n}\nexports.groupBy = groupBy;\nfunction concatWithSeperator(list, seperator) {\n    return list.reduce((sum, item) => sum + item + seperator, '').slice(0, -seperator.length);\n}\nexports.concatWithSeperator = concatWithSeperator;\nfunction escapeRegExp(str) {\n    return str.replace(/[-[\\]/{}()+?.\\\\^$|]/g, '\\\\$&');\n}\nexports.escapeRegExp = escapeRegExp;\nfunction replaceLibReference(code, pos) {\n    return code.substring(0, pos) + '0000000000000000000000000000000000000000' + code.substring(pos + 40);\n}\nfunction findCallInternal(index, rootCall, callsPath) {\n    const calls = Object.keys(rootCall.calls);\n    const ret = rootCall;\n    callsPath.push(rootCall);\n    for (const k in calls) {\n        const subCall = rootCall.calls[calls[k]];\n        if (index >= subCall.start && index <= subCall.return) {\n            findCallInternal(index, subCall, callsPath);\n            break;\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DummyProvider = void 0;\nclass DummyProvider {\n    constructor() {\n        this.eth = {};\n        this.debug = {};\n        this.eth.getCode = (address, cb) => { return this.getCode(address, cb); };\n        this.eth.getTransaction = (hash, cb) => { return this.getTransaction(hash, cb); };\n        this.eth.getTransactionFromBlock = (blockNumber, txIndex, cb) => { return this.getTransactionFromBlock(blockNumber, txIndex, cb); };\n        this.eth.getBlockNumber = (cb) => { return this.getBlockNumber(cb); };\n        this.debug.traceTransaction = (hash, options, cb) => { return this.traceTransaction(hash, options, cb); };\n        this.debug.storageRangeAt = (blockNumber, txIndex, address, start, end, maxLength, cb) => { return this.storageRangeAt(blockNumber, txIndex, address, start, end, maxLength, cb); };\n        this.providers = { HttpProvider: function (url) { } };\n        this.currentProvider = { host: '' };\n    }\n    getCode(address, cb) {\n        cb(null, '');\n    }\n    setProvider(provider) { }\n    traceTransaction(txHash, options, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n    storageRangeAt(blockNumber, txIndex, address, start, end, maxLength, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n    getBlockNumber(cb) { cb(null, ''); }\n    getTransaction(txHash, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n    getTransactionFromBlock(blockNumber, txIndex, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n}\nexports.DummyProvider = DummyProvider;\n//# sourceMappingURL=dummyProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Providers = void 0;\nconst web3VmProvider_1 = require(\"./web3VmProvider\");\nconst init_1 = require(\"../init\");\nclass Web3Providers {\n    constructor() {\n        this.modes = {};\n    }\n    addProvider(type, obj) {\n        if (type === 'INTERNAL') {\n            const web3 = (0, init_1.loadWeb3)();\n            this.addWeb3(type, web3);\n        }\n        else if (type === 'vm') {\n            this.addVM(type, obj);\n        }\n        else {\n            (0, init_1.extendWeb3)(obj);\n            this.addWeb3(type, obj);\n        }\n    }\n    get(type, cb) {\n        if (this.modes[type]) {\n            return cb(null, this.modes[type]);\n        }\n        cb('error: this provider has not been setup (' + type + ')', null);\n    }\n    addWeb3(type, web3) {\n        this.modes[type] = web3;\n    }\n    addVM(type, vm) {\n        const vmProvider = new web3VmProvider_1.Web3VmProvider();\n        vmProvider.setVM(vm);\n        this.modes[type] = vmProvider;\n    }\n}\nexports.Web3Providers = Web3Providers;\n//# sourceMappingURL=web3Providers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3VmProvider = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"../util\");\nconst uiHelper_1 = require(\"../helpers/uiHelper\");\nconst hhconsoleSigs_1 = require(\"../helpers/hhconsoleSigs\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst ethers_1 = require(\"ethers\");\nclass Web3VmProvider {\n    constructor() {\n        this.web3 = new web3_1.default();\n        this.vm = null;\n        this.vmTraces = {};\n        this.txs = {};\n        this.txsReceipt = {};\n        this.hhLogs = {};\n        this.processingHash = null;\n        this.processingAddress = null;\n        this.processingIndex = null;\n        this.previousDepth = 0;\n        this.incr = 0;\n        this.eth = {};\n        this.debug = {};\n        this.eth.getCode = (address, cb) => this.getCode(address, cb);\n        this.eth.getTransaction = (txHash, cb) => this.getTransaction(txHash, cb);\n        this.eth.getTransactionReceipt = (txHash, cb) => this.getTransactionReceipt(txHash, cb);\n        this.eth.getTransactionFromBlock = (blockNumber, txIndex, cb) => this.getTransactionFromBlock(blockNumber, txIndex, cb);\n        this.eth.getBlockNumber = (cb) => this.getBlockNumber(cb);\n        this.debug.traceTransaction = (txHash, options, cb) => this.traceTransaction(txHash, options, cb);\n        this.debug.storageRangeAt = (blockNumber, txIndex, address, start, maxLength, cb) => this.storageRangeAt(blockNumber, txIndex, address, start, maxLength, cb);\n        this.debug.preimage = (hashedKey, cb) => this.preimage(hashedKey, cb);\n        this.providers = { HttpProvider: function (url) { } };\n        this.currentProvider = { host: 'vm provider' };\n        this.storageCache = {};\n        this.lastProcessedStorageTxHash = {};\n        this.sha3Preimages = {};\n        // util\n        this.sha3 = (...args) => this.web3.utils.sha3(...args);\n        this.toHex = (...args) => this.web3.utils.toHex(...args);\n        this.toAscii = (...args) => this.web3.utils.hexToAscii(...args);\n        this.fromAscii = (...args) => this.web3.utils.asciiToHex(...args);\n        this.fromDecimal = (...args) => this.web3.utils.numberToHex(...args);\n        this.fromWei = (...args) => this.web3.utils.fromWei(...args);\n        this.toWei = (...args) => this.web3.utils.toWei(...args);\n        this.toBigNumber = (...args) => this.web3.utils.toBN(...args);\n        this.isAddress = (...args) => this.web3.utils.isAddress(...args);\n        this.utils = web3_1.default.utils || [];\n        this.txsMapBlock = {};\n        this.blocks = {};\n        this.latestBlockNumber = 0;\n    }\n    setVM(vm) {\n        if (this.vm === vm)\n            return;\n        this.vm = vm;\n        this.vm.on('step', (data, next) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this.pushTrace(data);\n            next();\n        }));\n        this.vm.on('afterTx', (data, next) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this.txProcessed(data);\n            next();\n        }));\n        this.vm.on('beforeTx', (data, next) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this.txWillProcess(data);\n            next();\n        }));\n    }\n    releaseCurrentHash() {\n        const ret = this.processingHash;\n        this.processingHash = undefined;\n        return ret;\n    }\n    txWillProcess(data) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.incr++;\n            this.processingHash = (0, ethereumjs_util_1.bufferToHex)(data.hash());\n            this.vmTraces[this.processingHash] = {\n                gas: '0x0',\n                return: '0x0',\n                structLogs: []\n            };\n            const tx = {};\n            tx['hash'] = this.processingHash;\n            tx['from'] = (0, ethereumjs_util_1.toChecksumAddress)(data.getSenderAddress().toString());\n            if (data.to) {\n                tx['to'] = (0, ethereumjs_util_1.toChecksumAddress)(data.to.toString());\n            }\n            this.processingAddress = tx['to'];\n            tx['input'] = (0, ethereumjs_util_1.bufferToHex)(data.data);\n            tx['gas'] = data.gasLimit.toString(10);\n            if (data.value) {\n                tx['value'] = data.value.toString(10);\n            }\n            this.txs[this.processingHash] = tx;\n            this.txsReceipt[this.processingHash] = tx;\n            this.storageCache[this.processingHash] = {};\n            if (data.to) {\n                try {\n                    const storage = yield this.vm.stateManager.dumpStorage(data.to);\n                    this.storageCache[this.processingHash][tx['to']] = storage;\n                    this.lastProcessedStorageTxHash[tx['to']] = this.processingHash;\n                }\n                catch (e) {\n                    console.log(e);\n                }\n            }\n            this.processingIndex = 0;\n        });\n    }\n    txProcessed(data) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const lastOp = this.vmTraces[this.processingHash].structLogs[this.processingIndex - 1];\n            if (lastOp) {\n                lastOp.error = lastOp.op !== 'RETURN' && lastOp.op !== 'STOP' && lastOp.op !== 'DESTRUCT';\n            }\n            const gasUsed = '0x' + data.gasUsed.toString(16);\n            this.vmTraces[this.processingHash].gas = gasUsed;\n            this.txsReceipt[this.processingHash].gasUsed = gasUsed;\n            const logs = [];\n            for (const l in data.execResult.logs) {\n                const log = data.execResult.logs[l];\n                const topics = [];\n                if (log[1].length > 0) {\n                    for (var k in log[1]) {\n                        topics.push('0x' + log[1][k].toString('hex'));\n                    }\n                }\n                else {\n                    topics.push('0x');\n                }\n                logs.push({\n                    address: '0x' + log[0].toString('hex'),\n                    data: '0x' + log[2].toString('hex'),\n                    topics: topics,\n                    rawVMResponse: log\n                });\n            }\n            this.txsReceipt[this.processingHash].logs = logs;\n            this.txsReceipt[this.processingHash].transactionHash = this.processingHash;\n            const status = data.execResult.exceptionError ? 0 : 1;\n            this.txsReceipt[this.processingHash].status = `0x${status}`;\n            if (data.createdAddress) {\n                let address = data.createdAddress.toString();\n                address = 'xdc' + address.substring(2);\n                this.vmTraces[this.processingHash].return = (0, ethereumjs_util_1.toChecksumAddress)(address);\n                this.txsReceipt[this.processingHash].contractAddress = (0, ethereumjs_util_1.toChecksumAddress)(address);\n            }\n            else if (data.execResult.returnValue) {\n                this.vmTraces[this.processingHash].return = (0, ethereumjs_util_1.bufferToHex)(data.execResult.returnValue);\n            }\n            else {\n                this.vmTraces[this.processingHash].return = '0x';\n            }\n            this.processingIndex = null;\n            this.processingAddress = null;\n            this.previousDepth = 0;\n        });\n    }\n    pushTrace(data) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const depth = data.depth + 1; // geth starts the depth from 1\n            if (!this.processingHash) {\n                console.log('no tx processing');\n                return;\n            }\n            let previousopcode;\n            if (this.vmTraces[this.processingHash] && this.vmTraces[this.processingHash].structLogs[this.processingIndex - 1]) {\n                previousopcode = this.vmTraces[this.processingHash].structLogs[this.processingIndex - 1];\n            }\n            if (this.previousDepth > depth && previousopcode) {\n                // returning from context, set error it is not STOP, RETURN\n                previousopcode.invalidDepthChange = previousopcode.op !== 'RETURN' && previousopcode.op !== 'STOP';\n            }\n            const step = {\n                stack: (0, util_1.hexListFromBNs)(data.stack),\n                memory: (0, util_1.formatMemory)(data.memory),\n                storage: data.storage,\n                op: data.opcode.name,\n                pc: data.pc,\n                gasCost: data.opcode.fee.toString(),\n                gas: data.gasLeft.toString(),\n                depth: depth,\n                error: data.error === false ? undefined : data.error\n            };\n            this.vmTraces[this.processingHash].structLogs.push(step);\n            // Track hardhat console.log call\n            if (step.op === 'STATICCALL' && step.stack[step.stack.length - 2] === '0x000000000000000000000000000000000000000000636f6e736f6c652e6c6f67') {\n                const stackLength = step.stack.length;\n                const payloadStart = parseInt(step.stack[stackLength - 3], 16);\n                const memory = step.memory.join('');\n                let payload = memory.substring(payloadStart * 2, memory.length);\n                const fnselectorStr = payload.substring(0, 8);\n                const fnselectorStrInHex = '0x' + fnselectorStr;\n                const fnselector = parseInt(fnselectorStrInHex);\n                const fnArgs = hhconsoleSigs_1.ConsoleLogs[fnselector];\n                const iface = new ethers_1.ethers.utils.Interface([`function log${fnArgs} view`]);\n                const functionDesc = iface.getFunction(`log${fnArgs}`);\n                const sigHash = iface.getSighash(`log${fnArgs}`);\n                if (fnArgs.includes('uint') && sigHash !== fnselectorStrInHex) {\n                    payload = payload.replace(fnselectorStr, sigHash);\n                }\n                else {\n                    payload = '0x' + payload;\n                }\n                const consoleArgs = iface.decodeFunctionData(functionDesc, payload);\n                this.hhLogs[this.processingHash] = this.hhLogs[this.processingHash] ? this.hhLogs[this.processingHash] : [];\n                this.hhLogs[this.processingHash].push(consoleArgs);\n            }\n            if (step.op === 'CREATE' || step.op === 'CALL') {\n                if (step.op === 'CREATE') {\n                    this.processingAddress = '(Contract Creation - Step ' + this.processingIndex + ')';\n                    this.storageCache[this.processingHash][this.processingAddress] = {};\n                    this.lastProcessedStorageTxHash[this.processingAddress] = this.processingHash;\n                }\n                else {\n                    this.processingAddress = (0, uiHelper_1.normalizeHexAddress)(step.stack[step.stack.length - 2]);\n                    this.processingAddress = (0, ethereumjs_util_1.toChecksumAddress)(this.processingAddress);\n                    if (!this.storageCache[this.processingHash][this.processingAddress]) {\n                        const account = ethereumjs_util_1.Address.fromString(this.processingAddress);\n                        try {\n                            const storage = yield this.vm.stateManager.dumpStorage(account);\n                            this.storageCache[this.processingHash][this.processingAddress] = storage;\n                            this.lastProcessedStorageTxHash[this.processingAddress] = this.processingHash;\n                        }\n                        catch (e) {\n                            console.log(e);\n                        }\n                    }\n                }\n            }\n            if (previousopcode && previousopcode.op === 'SHA3') {\n                const preimage = this.getSha3Input(previousopcode.stack, previousopcode.memory);\n                const imageHash = step.stack[step.stack.length - 1].replace('0x', '');\n                this.sha3Preimages[imageHash] = {\n                    preimage: preimage\n                };\n            }\n            this.processingIndex++;\n            this.previousDepth = depth;\n        });\n    }\n    getCode(address, cb) {\n        address = (0, ethereumjs_util_1.toChecksumAddress)(address);\n        this.vm.stateManager.getContractCode(ethereumjs_util_1.Address.fromString(address)).then((result) => {\n            cb(null, (0, ethereumjs_util_1.bufferToHex)(result));\n        }).catch((error) => {\n            cb(error);\n        });\n    }\n    setProvider(provider) { }\n    traceTransaction(txHash, options, cb) {\n        if (this.vmTraces[txHash]) {\n            if (cb) {\n                cb(null, this.vmTraces[txHash]);\n            }\n            return this.vmTraces[txHash];\n        }\n        if (cb) {\n            cb('unable to retrieve traces ' + txHash, null);\n        }\n    }\n    storageRangeAt(blockNumber, txIndex, address, start, maxLength, cb) {\n        // we don't use the range params here\n        address = (0, ethereumjs_util_1.toChecksumAddress)(address);\n        if (txIndex === 'latest') {\n            txIndex = this.lastProcessedStorageTxHash[address];\n        }\n        if (this.storageCache[txIndex] && this.storageCache[txIndex][address]) {\n            const storage = this.storageCache[txIndex][address];\n            return cb(null, {\n                storage: JSON.parse(JSON.stringify(storage)),\n                nextKey: null\n            });\n        }\n        cb('unable to retrieve storage ' + txIndex + ' ' + address);\n    }\n    getBlockNumber(cb) { cb(null, 'vm provider'); }\n    getTransaction(txHash, cb) {\n        if (this.txs[txHash]) {\n            if (cb) {\n                cb(null, this.txs[txHash]);\n            }\n            return this.txs[txHash];\n        }\n        if (cb) {\n            cb('unable to retrieve tx ' + txHash, null);\n        }\n    }\n    getTransactionReceipt(txHash, cb) {\n        // same as getTransaction but return the created address also\n        if (this.txsReceipt[txHash]) {\n            if (cb) {\n                cb(null, this.txsReceipt[txHash]);\n            }\n            return this.txsReceipt[txHash];\n        }\n        if (cb) {\n            cb('unable to retrieve txReceipt ' + txHash, null);\n        }\n    }\n    getTransactionFromBlock(blockNumber, txIndex, cb) {\n        const mes = 'not supposed to be needed by remix in vmmode';\n        console.log(mes);\n        if (cb) {\n            cb(mes, null);\n        }\n    }\n    preimage(hashedKey, cb) {\n        hashedKey = hashedKey.replace('0x', '');\n        cb(null, this.sha3Preimages[hashedKey] !== undefined ? this.sha3Preimages[hashedKey].preimage : null);\n    }\n    getSha3Input(stack, memory) {\n        let memoryStart = stack[stack.length - 1];\n        let memoryLength = stack[stack.length - 2];\n        const memStartDec = (new ethereumjs_util_1.BN(memoryStart.replace('0x', ''), 16)).toString(10);\n        memoryStart = parseInt(memStartDec) * 2;\n        const memLengthDec = (new ethereumjs_util_1.BN(memoryLength.replace('0x', ''), 16).toString(10));\n        memoryLength = parseInt(memLengthDec) * 2;\n        let i = Math.floor(memoryStart / 32);\n        const maxIndex = Math.floor(memoryLength / 32) + i;\n        if (!memory[i]) {\n            return this.emptyFill(memoryLength);\n        }\n        let sha3Input = memory[i].slice(memoryStart - 32 * i);\n        i++;\n        while (i < maxIndex) {\n            sha3Input += memory[i] ? memory[i] : this.emptyFill(32);\n            i++;\n        }\n        if (sha3Input.length < memoryLength) {\n            const leftSize = memoryLength - sha3Input.length;\n            sha3Input += memory[i] ? memory[i].slice(0, leftSize) : this.emptyFill(leftSize);\n        }\n        return sha3Input;\n    }\n    emptyFill(size) {\n        return (new Array(size)).join('0');\n    }\n}\nexports.Web3VmProvider = Web3VmProvider;\n//# sourceMappingURL=web3VmProvider.js.map","export * from './lib/copy-to-clipboard/copy-to-clipboard'\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./copy-to-clipboard.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState } from 'react'\nimport copy from 'copy-to-clipboard'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport { Placement } from 'react-bootstrap/esm/Overlay'\n\nimport './copy-to-clipboard.css'\n\ninterface ICopyToClipboard {\n  content: any,\n  tip?: string,\n  icon?: string,\n  direction?: Placement,\n  className?: string,\n  title?: string,\n  children?: JSX.Element\n}\nexport const CopyToClipboard = (props: ICopyToClipboard) => {\n  let { content, tip = 'Copy', icon = 'fa-copy', direction = 'right', children, ...otherProps } = props\n  const [message, setMessage] = useState(tip)\n  const handleClick = (e) => {\n    if (content && content !== '') { // module `copy` keeps last copied thing in the memory, so don't show tooltip if nothing is copied, because nothing was added to memory\n      try {\n        if (typeof content !== 'string') {\n          content = JSON.stringify(content, null, '\\t')\n        }\n        copy(content)\n        setMessage('Copied')\n      } catch (e) {\n        console.error(e)\n      }\n    } else {\n      setMessage('Cannot copy empty content!')\n    }\n    e.preventDefault()\n    return false\n  }\n\n  const reset = () => {\n    setTimeout(() => setMessage('Copy'), 500)\n  }\n\n  return (\n    // eslint-disable-next-line jsx-a11y/anchor-is-valid\n    <a href='#' onClick={handleClick} onMouseLeave={reset}>\n      <OverlayTrigger placement={direction} overlay={\n        <Tooltip id=\"overlay-tooltip\">\n          { message }\n        </Tooltip>\n      }>\n        {\n          children || (<i className={`far ${icon} ml-1 p-2`} aria-hidden=\"true\"\n            {...otherProps}\n          ></i>)\n        }\n      </OverlayTrigger>\n    </a>\n  )\n}\n\nexport default CopyToClipboard\n","export * from './lib/debugger-ui'\nexport * from './lib/idebugger-api'\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./button-navigator.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport './button-navigator.css'\n\nexport const ButtonNavigation = ({ stepOverBack, stepIntoBack, stepIntoForward, stepOverForward, jumpOut, jumpPreviousBreakpoint, jumpNextBreakpoint, jumpToException, revertedReason, stepState, jumpOutDisabled }) => {\n  const [state, setState] = useState({\n    intoBackDisabled: true,\n    overBackDisabled: true,\n    intoForwardDisabled: true,\n    overForwardDisabled: true,\n    jumpOutDisabled: true,\n    jumpNextBreakpointDisabled: true,\n    jumpPreviousBreakpointDisabled: true\n  })\n\n  useEffect(() => {\n    stepChanged(stepState, jumpOutDisabled)\n  }, [stepState, jumpOutDisabled])\n\n  const reset = () => {\n    setState(() => {\n      return {\n        intoBackDisabled: true,\n        overBackDisabled: true,\n        intoForwardDisabled: true,\n        overForwardDisabled: true,\n        jumpOutDisabled: true,\n        jumpNextBreakpointDisabled: true,\n        jumpPreviousBreakpointDisabled: true\n      }\n    })\n  }\n\n  const stepChanged = (stepState, jumpOutDisabled) => {\n    if (stepState === 'invalid') {\n      // TODO: probably not necessary, already implicit done in the next steps\n      reset()\n      return\n    }\n\n    setState(() => {\n      return {\n        intoBackDisabled: stepState === 'initial',\n        overBackDisabled: stepState === 'initial',\n        jumpPreviousBreakpointDisabled: stepState === 'initial',\n        intoForwardDisabled: stepState === 'end',\n        overForwardDisabled: stepState === 'end',\n        jumpNextBreakpointDisabled: stepState === 'end',\n        jumpOutDisabled: (jumpOutDisabled !== null) && (jumpOutDisabled !== undefined) ? jumpOutDisabled : true\n      }\n    })\n  }\n\n  return (\n    <div className=\"buttons\">\n      <div className=\"stepButtons btn-group py-1\">\n        <button id='overback' className='btn btn-primary btn-sm navigator stepButton fas fa-reply' title='Step over back' onClick={() => { stepOverBack && stepOverBack() }} disabled={state.overBackDisabled} ></button>\n        <button id='intoback' data-id=\"buttonNavigatorIntoBack\" className='btn btn-primary btn-sm navigator stepButton fas fa-level-up-alt' title='Step back' onClick={() => { stepIntoBack && stepIntoBack() }} disabled={state.intoBackDisabled}></button>\n        <button id='intoforward' data-id=\"buttonNavigatorIntoForward\" className='btn btn-primary btn-sm navigator stepButton fas fa-level-down-alt' title='Step into' onClick={() => { stepIntoForward && stepIntoForward() }} disabled={state.intoForwardDisabled}></button>\n        <button id='overforward' className='btn btn-primary btn-sm navigator stepButton fas fa-share' title='Step over forward' onClick={() => { stepOverForward && stepOverForward() }} disabled={state.overForwardDisabled}></button>\n      </div>\n\n      <div className=\"jumpButtons btn-group py-1\">\n        <button className='btn btn-primary btn-sm navigator jumpButton fas fa-step-backward' id='jumppreviousbreakpoint' data-id=\"buttonNavigatorJumpPreviousBreakpoint\" title='Jump to the previous breakpoint' onClick={() => { jumpPreviousBreakpoint && jumpPreviousBreakpoint() }} disabled={state.jumpPreviousBreakpointDisabled}></button>\n        <button className='btn btn-primary btn-sm navigator jumpButton fas fa-eject' id='jumpout' title='Jump out' onClick={() => { jumpOut && jumpOut() }} disabled={state.jumpOutDisabled}></button>\n        <button className='btn btn-primary btn-sm navigator jumpButton fas fa-step-forward' id='jumpnextbreakpoint' data-id=\"buttonNavigatorJumpNextBreakpoint\" title='Jump to the next breakpoint' onClick={() => { jumpNextBreakpoint && jumpNextBreakpoint() }} disabled={state.jumpNextBreakpointDisabled}></button>\n      </div>\n      <div id='reverted' style={{ display: revertedReason === '' ? 'none' : 'block' }}>\n        <button id='jumptoexception' title='Jump to exception' className='btn btn-danger btn-sm navigator button fas fa-exclamation-triangle' onClick={() => { jumpToException && jumpToException() }} disabled={state.jumpOutDisabled}>\n        </button>\n        <span>State changes made during this call will be reverted.</span>\n        <span id='outofgas' style={{ display: revertedReason === 'outofgas' ? 'inline' : 'none' }}>This call will run out of gas.</span>\n        <span id='parenthasthrown' style={{ display: revertedReason === 'parenthasthrown' ? 'inline' : 'none' }}>The parent call will throw an exception</span>\n      </div>\n    </div>\n  )\n}\n\nexport default ButtonNavigation\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./debugger-ui.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport TxBrowser from './tx-browser/tx-browser' // eslint-disable-line\nimport StepManager from './step-manager/step-manager' // eslint-disable-line\nimport VmDebugger from './vm-debugger/vm-debugger' // eslint-disable-line\nimport VmDebuggerHead from './vm-debugger/vm-debugger-head' // eslint-disable-line\nimport { TransactionDebugger as Debugger } from '@remix-project/remix-debug' // eslint-disable-line\nimport { DebuggerUIProps } from './idebugger-api' // eslint-disable-line\nimport { Toaster } from '@remix-ui/toaster' // eslint-disable-line\n/* eslint-disable-next-line */\nimport './debugger-ui.css'\nconst helper = require('../../../../../apps/remix-ide/src/lib/helper')\nconst _paq = (window as any)._paq = (window as any)._paq || []\n\nexport const DebuggerUI = (props: DebuggerUIProps) => {\n  const debuggerModule = props.debuggerAPI\n  const [state, setState] = useState({\n    isActive: false,\n    debugger: null,\n    currentReceipt: {\n      contractAddress: null,\n      to: null\n    },\n    currentBlock: null,\n    currentTransaction: null,\n    blockNumber: null,\n    txNumber: '',\n    debugging: false,\n    opt: {\n      debugWithGeneratedSources: false,\n      debugWithLocalNode: false\n    },\n    toastMessage: '',\n    validationError: '',\n    txNumberIsEmpty: true,\n    isLocalNodeUsed: false\n  })\n\n  useEffect(() => {\n    return unLoad()\n  }, [])\n\n  debuggerModule.onDebugRequested((hash, web3?) => {\n    if (hash) debug(hash, web3)\n  })\n\n  debuggerModule.onRemoveHighlights(async () => {\n    await debuggerModule.discardHighlight()\n  })\n\n  useEffect(() => {\n    const setEditor = () => {\n      debuggerModule.onBreakpointCleared((fileName, row) => {\n        if (state.debugger) state.debugger.breakPointManager.remove({ fileName: fileName, row: row })\n      })\n\n      debuggerModule.onBreakpointAdded((fileName, row) => {\n        if (state.debugger) state.debugger.breakPointManager.add({ fileName: fileName, row: row })\n      })\n\n      debuggerModule.onEditorContentChanged(() => {\n        if (state.debugger) unLoad()\n      })\n    }\n\n    setEditor()\n\n    const providerChanged = () => {\n      debuggerModule.onEnvChanged((provider) => {\n        setState(prevState => {\n          const isLocalNodeUsed = provider !== 'vm' && provider !== 'injected'\n          return { ...prevState, isLocalNodeUsed: isLocalNodeUsed }\n        })\n      })\n    }\n\n    providerChanged()\n  }, [state.debugger])\n\n  const listenToEvents = (debuggerInstance, currentReceipt) => {\n    if (!debuggerInstance) return\n\n    debuggerInstance.event.register('debuggerStatus', async (isActive) => {\n      await debuggerModule.discardHighlight()\n      setState(prevState => {\n        return { ...prevState, isActive }\n      })\n    })\n\n    debuggerInstance.event.register('newSourceLocation', async (lineColumnPos, rawLocation, generatedSources, address) => {\n      if (!lineColumnPos) return\n      const contracts = await debuggerModule.fetchContractAndCompile(\n        address || currentReceipt.contractAddress || currentReceipt.to,\n        currentReceipt)\n      if (contracts) {\n        let path = contracts.getSourceName(rawLocation.file)\n        if (!path) {\n          // check in generated sources\n          for (const source of generatedSources) {\n            if (source.id === rawLocation.file) {\n              path = `browser/.debugger/generated-sources/${source.name}`\n              let content\n              try {\n                content = await debuggerModule.getFile(path)\n              } catch (e) {\n                const message = 'Unable to fetch generated sources, the file probably doesn\\'t exist yet.'\n                console.log(message, ' ', e)\n              }\n              if (content !== source.contents) {\n                await debuggerModule.setFile(path, source.contents)\n              }\n              break\n            }\n          }\n        }\n        if (path) {\n          await debuggerModule.discardHighlight()\n          await debuggerModule.highlight(lineColumnPos, path)\n        }\n      }\n    })\n\n    debuggerInstance.event.register('debuggerUnloaded', () => unLoad())\n  }\n\n  const requestDebug = (blockNumber, txNumber, tx) => {\n    startDebugging(blockNumber, txNumber, tx)\n  }\n\n  const updateTxNumberFlag = (empty: boolean) => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumberIsEmpty: empty,\n        validationError: ''\n      }\n    })\n  }\n\n  const unloadRequested = (blockNumber, txIndex, tx) => {\n    unLoad()\n  }\n\n  const unLoad = () => {\n    if (state.debugger) state.debugger.unload()\n    setState(prevState => {\n      return {\n        ...prevState,\n        isActive: false,\n        debugger: null,\n        currentReceipt: {\n          contractAddress: null,\n          to: null\n        },\n        currentBlock: null,\n        currentTransaction: null,\n        blockNumber: null,\n        ready: {\n          vmDebugger: false,\n          vmDebuggerHead: false\n        },\n        debugging: false\n      }\n    })\n  }\n  const startDebugging = async (blockNumber, txNumber, tx, optWeb3?) => {\n    if (state.debugger) unLoad()\n    if (!txNumber) return\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumber: txNumber\n      }\n    })\n    if (!helper.isValidHash(txNumber)) {\n      setState(prevState => {\n        return {\n          ...prevState,\n          validationError: 'Invalid transaction hash.'\n        }\n      })\n      return\n    }\n\n    const web3 = optWeb3 || (state.opt.debugWithLocalNode ? await debuggerModule.web3() : await debuggerModule.getDebugWeb3())\n    try {\n      const networkId = await web3.eth.net.getId()\n      _paq.push(['trackEvent', 'debugger', 'startDebugging', networkId])\n      if (networkId === 42) {\n        setState(prevState => {\n          return {\n            ...prevState,\n            validationError: 'Unfortunately, the Kovan network is not supported.'\n          }\n        })\n        return\n      }\n    } catch (e) {\n      console.error(e)\n    }\n    let currentReceipt\n    let currentBlock\n    let currentTransaction\n    try {\n      currentReceipt = await web3.eth.getTransactionReceipt(txNumber)\n      currentBlock = await web3.eth.getBlock(currentReceipt.blockHash)\n      currentTransaction = await web3.eth.getTransaction(txNumber)\n    } catch (e) {\n      setState(prevState => {\n        return {\n          ...prevState,\n          validationError: e.message\n        }\n      })\n      console.log(e.message)\n    }\n\n    const debuggerInstance = new Debugger({\n      web3,\n      offsetToLineColumnConverter: debuggerModule.offsetToLineColumnConverter,\n      compilationResult: async (address) => {\n        try {\n          const ret = await debuggerModule.fetchContractAndCompile(address, currentReceipt)\n          return ret\n        } catch (e) {\n          // debuggerModule.showMessage('Debugging error', 'Unable to fetch a transaction.')\n          console.error(e)\n        }\n        return null\n      },\n      debugWithGeneratedSources: state.opt.debugWithGeneratedSources\n    })\n\n    try {\n      await debuggerInstance.debug(blockNumber, txNumber, tx, () => {\n        listenToEvents(debuggerInstance, currentReceipt)\n        setState(prevState => {\n          return {\n            ...prevState,\n            blockNumber,\n            txNumber,\n            debugging: true,\n            currentReceipt,\n            currentBlock,\n            currentTransaction,\n            debugger: debuggerInstance,\n            toastMessage: `debugging ${txNumber}`,\n            validationError: ''\n          }\n        })\n      })\n    } catch (error) {\n      unLoad()\n      setState(prevState => {\n        return {\n          ...prevState,\n          validationError: error.message || error\n        }\n      })\n    }\n  }\n\n  const debug = (txHash, web3?) => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        validationError: '',\n        txNumber: txHash\n      }\n    })\n    startDebugging(null, txHash, null, web3)\n  }\n\n  const stepManager = {\n    jumpTo: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpTo.bind(state.debugger.step_manager) : null,\n    stepOverBack: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepOverBack.bind(state.debugger.step_manager) : null,\n    stepIntoBack: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepIntoBack.bind(state.debugger.step_manager) : null,\n    stepIntoForward: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepIntoForward.bind(state.debugger.step_manager) : null,\n    stepOverForward: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepOverForward.bind(state.debugger.step_manager) : null,\n    jumpOut: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpOut.bind(state.debugger.step_manager) : null,\n    jumpPreviousBreakpoint: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpPreviousBreakpoint.bind(state.debugger.step_manager) : null,\n    jumpNextBreakpoint: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpNextBreakpoint.bind(state.debugger.step_manager) : null,\n    jumpToException: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpToException.bind(state.debugger.step_manager) : null,\n    traceLength: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.traceLength : null,\n    registerEvent: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.event.register.bind(state.debugger.step_manager.event) : null\n  }\n  const vmDebugger = {\n    registerEvent: state.debugger && state.debugger.vmDebuggerLogic ? state.debugger.vmDebuggerLogic.event.register.bind(state.debugger.vmDebuggerLogic.event) : null,\n    triggerEvent: state.debugger && state.debugger.vmDebuggerLogic ? state.debugger.vmDebuggerLogic.event.trigger.bind(state.debugger.vmDebuggerLogic.event) : null\n  }\n  return (\n    <div>\n      <Toaster message={state.toastMessage} />\n      <div className=\"px-2\">\n        <div>\n          <p className=\"my-2 debuggerLabel\">Debugger Configuration</p>\n          <div className=\"mt-2 mb-2 debuggerConfig custom-control custom-checkbox\">\n            <input className=\"custom-control-input\" id=\"debugGeneratedSourcesInput\" onChange={({ target: { checked } }) => {\n              setState(prevState => {\n                return { ...prevState, opt: { ...prevState.opt, debugWithGeneratedSources: checked } }\n              })\n            }} type=\"checkbox\" title=\"Debug with generated sources\" />\n            <label data-id=\"debugGeneratedSourcesLabel\" className=\"form-check-label custom-control-label\" htmlFor=\"debugGeneratedSourcesInput\">Use generated sources (from Solidity v0.7.2)</label>\n          </div>\n          { state.isLocalNodeUsed && <div className=\"mt-2 mb-2 debuggerConfig custom-control custom-checkbox\">\n            <input className=\"custom-control-input\" id=\"debugWithLocalNodeInput\" onChange={({ target: { checked } }) => {\n              setState(prevState => {\n                return { ...prevState, opt: { ...prevState.opt, debugWithLocalNode: checked } }\n              })\n            }} type=\"checkbox\" title=\"Force the debugger to use the current local node\" />\n            <label data-id=\"debugLocaNodeLabel\" className=\"form-check-label custom-control-label\" htmlFor=\"debugWithLocalNodeInput\">Force using local node</label>\n          </div>\n          }\n          { state.validationError && <span className=\"w-100 py-1 text-danger validationError\">{state.validationError}</span> }\n        </div>\n        <TxBrowser requestDebug={ requestDebug } unloadRequested={ unloadRequested } updateTxNumberFlag={ updateTxNumberFlag } transactionNumber={ state.txNumber } debugging={ state.debugging } />\n        { state.debugging && <StepManager stepManager={ stepManager } /> }\n        { state.debugging && <VmDebuggerHead vmDebugger={ vmDebugger } /> }\n      </div>\n      { state.debugging && <VmDebugger vmDebugger={ vmDebugger } currentBlock={ state.currentBlock } currentReceipt={ state.currentReceipt } currentTransaction={ state.currentTransaction } /> }\n    </div>\n  )\n}\n\nexport default DebuggerUI\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\n\nexport const Slider = ({ jumpTo, sliderValue, traceLength }) => {\n  const [state, setState] = useState({\n    currentValue: 0\n  })\n\n  useEffect(() => {\n    setValue(sliderValue)\n  }, [sliderValue])\n\n  const setValue = (value) => {\n    if (value === state.currentValue) return\n    setState(prevState => {\n      return { ...prevState, currentValue: value }\n    })\n    jumpTo && jumpTo(value)\n  }\n\n  const handleChange = (e) => {\n    const value = parseInt(e.target.value)\n\n    setValue(value)\n  }\n\n  return (\n    <div>\n      <input id='slider'\n        data-id=\"slider\"\n        className='w-100 my-0'\n        type='range'\n        min={0}\n        max={traceLength ? traceLength - 1 : 0}\n        value={state.currentValue}\n        onChange={handleChange}\n        disabled={traceLength ? traceLength === 0 : true}\n      />\n    </div>\n  )\n}\n\nexport default Slider\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport Slider from '../slider/slider' // eslint-disable-line\nimport ButtonNavigator from '../button-navigator/button-navigator' // eslint-disable-line\n\nexport const StepManager = ({ stepManager: { jumpTo, traceLength, stepIntoBack, stepIntoForward, stepOverBack, stepOverForward, jumpOut, jumpNextBreakpoint, jumpPreviousBreakpoint, jumpToException, registerEvent } }) => {\n  const [state, setState] = useState({\n    sliderValue: 0,\n    revertWarning: '',\n    stepState: '',\n    jumpOutDisabled: true\n  })\n\n  useEffect(() => {\n    registerEvent && registerEvent('revertWarning', setRevertWarning)\n    registerEvent && registerEvent('stepChanged', updateStep)\n  }, [registerEvent])\n\n  const setRevertWarning = (warning) => {\n    setState(prevState => {\n      return { ...prevState, revertWarning: warning }\n    })\n  }\n\n  const updateStep = (step, stepState, jumpOutDisabled) => {\n    setState(prevState => {\n      return { ...prevState, sliderValue: step, stepState, jumpOutDisabled }\n    })\n  }\n  const { sliderValue, revertWarning, stepState, jumpOutDisabled } = state\n\n  return (\n    <div className=\"py-1\">\n      <Slider jumpTo={jumpTo} sliderValue={sliderValue} traceLength={traceLength} />\n      <ButtonNavigator\n        stepIntoBack={stepIntoBack}\n        stepIntoForward={stepIntoForward}\n        stepOverBack={stepOverBack}\n        stepOverForward={stepOverForward}\n        revertedReason={revertWarning}\n        stepState={stepState}\n        jumpOutDisabled={jumpOutDisabled}\n        jumpOut={jumpOut}\n        jumpNextBreakpoint={jumpNextBreakpoint}\n        jumpPreviousBreakpoint={jumpPreviousBreakpoint}\n        jumpToException={jumpToException}\n      />\n    </div>\n  )\n}\n\nexport default StepManager\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./tx-browser.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect, useRef } from 'react'  //eslint-disable-line\nimport './tx-browser.css'\n\nexport const TxBrowser = ({ requestDebug, updateTxNumberFlag, unloadRequested, transactionNumber, debugging }) => {\n  const [state, setState] = useState({\n    txNumber: ''\n  })\n\n  const inputValue = useRef(null)\n  useEffect(() => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumber: transactionNumber\n      }\n    })\n  }, [transactionNumber])\n\n  const handleSubmit = () => {\n    if (debugging) {\n      unload()\n    } else {\n      requestDebug(undefined, state.txNumber)\n    }\n  }\n\n  const unload = () => {\n    unloadRequested()\n  }\n\n  const txInputChanged = (value) => {\n    // todo check validation of txnumber in the input element, use\n    // required\n    // oninvalid=\"setCustomValidity('Please provide a valid transaction number, must start with 0x and have length of 22')\"\n    // pattern=\"^0[x,X]+[0-9a-fA-F]{22}\"\n    // this.state.txNumberInput.setCustomValidity('')\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumber: value\n      }\n    })\n  }\n\n  const txInputOnInput = () => {\n    updateTxNumberFlag(!inputValue.current.value)\n  }\n\n  return (\n    <div className='container px-0'>\n      <div className='txContainer'>\n        <div className='py-1 d-flex justify-content-center w-100 input-group'>\n          <input\n            ref={inputValue}\n            value={state.txNumber}\n            className='form-control m-0 txinput'\n            id='txinput'\n            type='text'\n            onChange={({ target: { value } }) => txInputChanged(value)}\n            onInput={txInputOnInput}\n            placeholder={'Transaction hash, should start with 0x'}\n            data-id='debuggerTransactionInput'\n            disabled={debugging}\n          />\n        </div>\n        <div className='d-flex justify-content-center w-100 btn-group py-1'>\n          <button\n            className='btn btn-primary btn-sm txbutton'\n            id='load'\n            title={debugging ? 'Stop debugging' : 'Start debugging'}\n            onClick={handleSubmit}\n            data-id='debuggerTransactionStartButton'\n            disabled={!state.txNumber }\n          >\n            { debugging ? 'Stop' : 'Start' } debugging\n          </button>\n        </div>\n      </div>\n      <span id='error' />\n    </div>\n  )\n}\n\nexport default TxBrowser\n","import React, { useState, useRef, useEffect, useReducer } from 'react' // eslint-disable-line\nimport { initialState, reducer } from '../../reducers/assembly-items'\nimport './styles/assembly-items.css'\n\nexport const AssemblyItems = ({ registerEvent }) => {\n  const [assemblyItems, dispatch] = useReducer(reducer, initialState)\n  const [absoluteSelectedIndex, setAbsoluteSelectedIndex] = useState(0)\n  const [selectedItem, setSelectedItem] = useState(0)\n  const [nextSelectedItems, setNextSelectedItems] = useState([1])\n  const [returnInstructionIndexes, setReturnInstructionIndexes] = useState([])\n  const [outOfGasInstructionIndexes, setOutOfGasInstructionIndexes] = useState([])\n  const refs = useRef({})\n  const asmItemsRef = useRef(null)\n\n  useEffect(() => {\n    registerEvent && registerEvent('codeManagerChanged', (code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes) => {\n      dispatch({ type: 'FETCH_OPCODES_SUCCESS', payload: { code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes } })\n    })\n  }, [])\n\n  useEffect(() => {\n    if (absoluteSelectedIndex !== assemblyItems.index) {\n      clearItems()\n      indexChanged(assemblyItems.index)\n      nextIndexesChanged(assemblyItems.nextIndexes)\n      returnIndexes(assemblyItems.returnInstructionIndexes)\n      outOfGasIndexes(assemblyItems.outOfGasInstructionIndexes)\n    }\n  }, [assemblyItems.opCodes.index])\n\n  const clearItem = (currentItem) => {\n    if (currentItem) {\n      currentItem.removeAttribute('selected')\n      currentItem.removeAttribute('style')\n      if (currentItem.firstChild) {\n        currentItem.firstChild.removeAttribute('style')\n      }\n    }\n  }\n\n  const clearItems = () => {\n    clearItem(refs.current[selectedItem] ? refs.current[selectedItem] : null)\n    if (nextSelectedItems) {\n      nextSelectedItems.map((index) => {\n        clearItem(refs.current[index] ? refs.current[index] : null)\n      })\n    }\n\n    returnInstructionIndexes.map((index) => {\n      if (index < 0) return\n      clearItem(refs.current[index] ? refs.current[index] : null)\n    })\n\n    outOfGasInstructionIndexes.map((index) => {\n      if (index < 0) return\n      clearItem(refs.current[index] ? refs.current[index] : null)\n    })\n  }\n\n  const indexChanged = (index: number) => {\n    if (index < 0) return\n\n    const codeView = asmItemsRef.current\n\n    const currentItem = codeView.children[index]\n    if (currentItem) {\n      currentItem.style.setProperty('background-color', 'var(--primary)')\n      currentItem.style.setProperty('color', 'var(--light)')\n      currentItem.setAttribute('selected', 'selected')\n      codeView.scrollTop = currentItem.offsetTop - parseInt(codeView.offsetTop)\n    }\n\n    setSelectedItem(index)\n    setAbsoluteSelectedIndex(assemblyItems.opCodes.index)\n  }\n\n  const nextIndexesChanged = (indexes: Array<number>) => {\n    indexes.map((index) => {\n      if (index < 0) return\n\n      const codeView = asmItemsRef.current\n\n      const currentItem = codeView.children[index]\n      if (currentItem) {\n        currentItem.style.setProperty('color', 'var(--primary)')\n        currentItem.style.setProperty('font-weight', 'bold')\n        currentItem.setAttribute('selected', 'selected')\n      }\n    })\n    setNextSelectedItems(indexes)\n  }\n\n  const returnIndexes = (indexes) => {\n    indexes.map((index) => {\n      if (index < 0) return\n\n      const codeView = asmItemsRef.current\n\n      const currentItem = codeView.children[index]\n      if (currentItem) {\n        currentItem.style.setProperty('border-style', 'dotted')\n        currentItem.setAttribute('selected', 'selected')\n      }\n    })\n    setReturnInstructionIndexes(indexes)\n  }\n\n  const outOfGasIndexes = (indexes) => {\n    indexes.map((index) => {\n      if (index < 0) return\n\n      const codeView = asmItemsRef.current\n\n      const currentItem = codeView.children[index]\n      if (currentItem) {\n        currentItem.style.setProperty('border-color', 'var(--danger)')\n        currentItem.style.setProperty('border-style', 'dotted')\n        currentItem.setAttribute('selected', 'selected')\n      }\n    })\n    setOutOfGasInstructionIndexes(indexes)\n  }\n\n  return (\n    <div className=\"border rounded px-1 mt-1 bg-light\">\n      <div className='dropdownpanel'>\n        <div className='dropdowncontent'>\n          <div className=\"pl-2 my-1 small instructions\" id='asmitems' ref={asmItemsRef}>\n            {\n              assemblyItems.display.map((item, i) => {\n                return <div className=\"px-1\" key={i} ref={ref => { refs.current[i] = ref }}><span>{item}</span></div>\n              })\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AssemblyItems\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const CalldataPanel = ({ calldata }) => {\n  return (\n    <div id='calldatapanel'>\n      <DropdownPanel dropdownName='Call Data' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default CalldataPanel\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const CallstackPanel = ({ calldata }) => {\n  return (\n    <div id='callstackpanel'>\n      <DropdownPanel dropdownName='Call Stack' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default CallstackPanel\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport AssemblyItems from './assembly-items' // eslint-disable-line\n\nexport const CodeListView = ({ registerEvent }) => {\n  return (\n    <div id='asmcodes'>\n      <AssemblyItems registerEvent={registerEvent} />\n    </div>\n  )\n}\n\nexport default CodeListView\n","import React, { useState, useEffect, useReducer } from 'react' // eslint-disable-line\nimport { TreeView, TreeViewItem } from '@remix-ui/tree-view' // eslint-disable-line\nimport { DropdownPanelProps, ExtractData, ExtractFunc } from '../../types' // eslint-disable-line\nimport { CopyToClipboard } from '@remix-ui/clipboard' // eslint-disable-line\nimport { initialState, reducer } from '../../reducers/calldata'\nimport './styles/dropdown-panel.css'\n\nexport const DropdownPanel = (props: DropdownPanelProps) => {\n  const [calldataObj, dispatch] = useReducer(reducer, initialState)\n  const { dropdownName, dropdownMessage, calldata, header, loading, extractFunc, formatSelfFunc, registerEvent, triggerEvent, loadMoreEvent, loadMoreCompletedEvent, headStyle, bodyStyle, hexHighlight } = props\n  const extractDataDefault: ExtractFunc = (item, parent?) => {\n    const ret: ExtractData = {}\n\n    if (item instanceof Array) {\n      ret.children = item.map((item, index) => {\n        return { key: index, value: item }\n      })\n      ret.self = 'Array'\n      ret.isNode = true\n      ret.isLeaf = false\n    } else if (item instanceof Object) {\n      ret.children = Object.keys(item).map((key) => {\n        return { key: key, value: item[key] }\n      })\n      ret.self = 'Object'\n      ret.isNode = true\n      ret.isLeaf = false\n    } else {\n      ret.self = item\n      ret.children = null\n      ret.isNode = false\n      ret.isLeaf = true\n    }\n    return ret\n  }\n  const formatSelfDefault = (key: string | number, data: ExtractData) => {\n    let value\n    if (hexHighlight && typeof (data.self) === 'string') {\n      const isHex = data.self.startsWith('0x') || hexHighlight\n      if (isHex) {\n        const regex = /^(0+)(.*)/g\n        const split = regex.exec(data.self.replace('0x', ''))\n        if (split && split[1]) {\n          value = (<span><span className=\"m-0 label_value\">0x</span><span className=\"m-0 label_value\">{split[1]}</span>{ split[2] && <span className=\"m-0 label_value font-weight-bold text-dark\">{split[2]}</span> }</span>)\n        } else value = (<span><span className=\"m-0 label_value\">0x</span><span className=\"m-0 label_value font-weight-bold text-dark\">{data.self.replace('0x', '')}</span></span>)\n      } else value = <span className=\"m-0 label_value\">{data.self}</span>\n    } else value = <span className=\"m-0 label_value\">{data.self}</span>\n    return (\n      <div className=\"d-flex mr-1 flex-row label_item\">\n        <label className=\"small font-weight-bold mb-0 pr-1 label_key\">{key}:</label>\n        <label className=\"m-0 label_value\">{value}</label>\n      </div>\n    )\n  }\n  const [state, setState] = useState({\n    header: '',\n    toggleDropdown: false,\n    message: {\n      innerText: 'No data available.',\n      display: 'block'\n    },\n    dropdownContent: {\n      innerText: '',\n      display: 'none'\n    },\n    title: {\n      innerText: '',\n      display: 'none'\n    },\n    copiableContent: '',\n    updating: false,\n    expandPath: [],\n    data: null\n  })\n\n  useEffect(() => {\n    registerEvent && registerEvent(loadMoreCompletedEvent, (updatedCalldata) => {\n      dispatch({ type: 'UPDATE_CALLDATA_SUCCESS', payload: updatedCalldata })\n    })\n  }, [])\n\n  useEffect(() => {\n    dispatch({ type: 'FETCH_CALLDATA_SUCCESS', payload: calldata })\n  }, [calldata])\n\n  useEffect(() => {\n    update(calldata)\n  }, [calldataObj.calldata])\n\n  useEffect(() => {\n    message(dropdownMessage)\n  }, [dropdownMessage])\n\n  useEffect(() => {\n    if (loading && !state.updating) setLoading()\n  }, [loading])\n\n  const handleToggle = () => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        toggleDropdown: !prevState.toggleDropdown\n      }\n    })\n  }\n\n  const handleExpand = (keyPath) => {\n    if (!state.expandPath.includes(keyPath)) {\n      state.expandPath.push(keyPath)\n    } else {\n      state.expandPath = state.expandPath.filter(path => !path.startsWith(keyPath))\n    }\n  }\n\n  const message = (message) => {\n    if (message === state.message.innerText) return\n    setState(prevState => {\n      return {\n        ...prevState,\n        message: {\n          innerText: message,\n          display: message ? 'block' : ''\n        },\n        updating: false\n      }\n    })\n  }\n\n  const setLoading = () => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        message: {\n          innerText: '',\n          display: 'none'\n        },\n        dropdownContent: {\n          ...prevState.dropdownContent,\n          display: 'none'\n        },\n        copiableContent: '',\n        updating: true\n      }\n    })\n  }\n\n  const update = function (calldata) {\n    let isEmpty = !calldata\n\n    if (calldata && Array.isArray(calldata) && calldata.length === 0) isEmpty = true\n    else if (calldata && Object.keys(calldata).length === 0 && calldata.constructor === Object) isEmpty = true\n\n    setState(prevState => {\n      return {\n        ...prevState,\n        dropdownContent: {\n          ...prevState.dropdownContent,\n          display: 'block'\n        },\n        copiableContent: JSON.stringify(calldata, null, '\\t'),\n        message: {\n          innerText: isEmpty ? 'No data available' : '',\n          display: isEmpty ? 'block' : 'none'\n        },\n        updating: false,\n        toggleDropdown: !isEmpty,\n        data: calldata\n      }\n    })\n  }\n\n  const renderData = (item: ExtractData, parent, key: string | number, keyPath: string) => {\n    const data = extractFunc ? extractFunc(item, parent) : extractDataDefault(item, parent)\n    const children = (data.children || []).map((child) => {\n      return (\n        renderData(child.value, data, child.key, keyPath + '/' + child.key)\n      )\n    })\n\n    if (children && children.length > 0) {\n      return (\n        <TreeViewItem id={`treeViewItem${key}`} key={keyPath} label={formatSelfFunc ? formatSelfFunc(key, data) : formatSelfDefault(key, data)} onClick={() => handleExpand(keyPath)} expand={state.expandPath.includes(keyPath)}>\n          <TreeView id={`treeView${key}`} key={keyPath}>\n            {children}\n            {data.hasNext && <TreeViewItem id={'treeViewLoadMore'} data-id={'treeViewLoadMore'} className=\"cursor_pointer\" label=\"Load more\" onClick={() => { triggerEvent(loadMoreEvent, [data.cursor]) }} />}\n          </TreeView>\n        </TreeViewItem>\n      )\n    } else {\n      return <TreeViewItem id={key.toString()} key={keyPath} label={formatSelfFunc ? formatSelfFunc(key, data) : formatSelfDefault(key, data)} onClick={() => handleExpand(keyPath)} expand={state.expandPath.includes(keyPath)} />\n    }\n  }\n\n  const uniquePanelName = dropdownName.split(' ').join('')\n\n  return (\n    <div className=\"border rounded px-1 mt-1 bg-light\">\n      <div className=\"py-0 px-1 title\" style={headStyle}>\n        <div className={state.toggleDropdown ? 'icon fas fa-caret-down' : 'icon fas fa-caret-right'} onClick={handleToggle}></div>\n        <div className=\"name\" data-id={`dropdownPanel${uniquePanelName}`} onClick={handleToggle}>{dropdownName}</div><span className=\"nameDetail\" onClick={handleToggle}>{header}</span>\n        <CopyToClipboard content={state.copiableContent} data-id={`dropdownPanelCopyToClipboard${uniquePanelName}`} />\n      </div>\n      <div className='dropdownpanel' style={{ display: state.toggleDropdown ? 'block' : 'none' }}>\n        <i className=\"refresh fas fa-sync\" style={{ display: state.updating ? 'inline-block' : 'none' }} aria-hidden=\"true\"></i>\n        <div className='dropdowncontent' style={{ display: state.dropdownContent.display, ...bodyStyle }}>\n          {\n            state.data &&\n            <TreeView id=\"treeView\">\n              {\n                Object.keys(state.data).map((innerkey) => renderData(state.data[innerkey], state.data, innerkey, innerkey))\n              }\n            </TreeView>\n          }\n        </div>\n        <div className='dropdownrawcontent' hidden={true}>{state.copiableContent}</div>\n        <div className='message' style={{ display: state.message.display }}>{state.message.innerText}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default DropdownPanel\n","import React from 'react' // eslint-disable-line\nimport { DropdownPanel } from './dropdown-panel' // eslint-disable-line\n\nexport const FullStoragesChanges = ({ calldata }) => {\n  return (\n    <div id='fullstorageschangespanel'>\n      <DropdownPanel dropdownName='Full Storage Changes' calldata={ calldata || {}} />\n    </div>\n  )\n}\n\nexport default FullStoragesChanges\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { default as deepequal } from 'deep-equal' // eslint-disable-line\n\nexport const FunctionPanel = ({ data }) => {\n  const [calldata, setCalldata] = useState(null)\n\n  useEffect(() => {\n    if (!deepequal(calldata, data)) setCalldata(data)\n  }, [data])\n\n  return (\n    <div id='FunctionPanel' data-id='functionPanel'>\n      <DropdownPanel dropdownName='Function Stack' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default FunctionPanel\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { BN } from 'ethereumjs-util'\n\nexport const GlobalVariables = ({ block, receipt, tx }) => {\n  // see https://docs.soliditylang.org/en/latest/units-and-global-variables.html#block-and-transaction-properties\n  const globals = {\n    'block.chainid': tx.chainId,\n    'block.coinbase': block.miner,\n    'block.difficulty': block.difficulty,\n    'block.gaslimit': block.gasLimit,\n    'block.number': block.number,\n    'block.timestamp': block.timestamp,\n    'msg.sender': tx.from,\n    'msg.sig': tx.input.substring(0, 10),\n    'msg.value': tx.value + ' Wei',\n    'tx.origin': tx.from\n  }\n  if (block.baseFeePerGas) {\n    globals['block.basefee'] = (new BN(block.baseFeePerGas.replace('0x', ''), 'hex')).toString(10) + ` Wei (${block.baseFeePerGas})`\n  }\n\n  return (\n    <div id='globalvariable' data-id='globalvariable'>\n      <DropdownPanel hexHighlight={false} bodyStyle={{ fontFamily: 'monospace' }} dropdownName='Global Variables' calldata={globals || {}} />\n    </div>\n  )\n}\n\nexport default GlobalVariables\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const MemoryPanel = ({ calldata }) => {\n  return (\n    <DropdownPanel hexHighlight={true} bodyStyle={{ fontFamily: 'monospace' }} dropdownName='Memory' calldata={calldata || {}} />\n  )\n}\n\nexport default MemoryPanel\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { extractData } from '../../utils/solidityTypeFormatter' // eslint-disable-line\nimport { ExtractData } from '../../types' // eslint-disable-line\n\nexport const SolidityLocals = ({ data, message, registerEvent, triggerEvent }) => {\n  const [calldata, setCalldata] = useState(null)\n\n  useEffect(() => {\n    data && setCalldata(data)\n  }, [data])\n\n  const formatSelf = (key: string, data: ExtractData) => {\n    let color = 'var(--primary)'\n    if (data.isArray || data.isStruct || data.isMapping) {\n      color = 'var(--info)'\n    } else if (\n      data.type.indexOf('uint') === 0 ||\n      data.type.indexOf('int') === 0 ||\n      data.type.indexOf('bool') === 0 ||\n      data.type.indexOf('enum') === 0\n    ) {\n      color = 'var(--green)'\n    } else if (data.type === 'string') {\n      color = 'var(--teal)'\n    } else if (data.self == 0x0) { // eslint-disable-line\n      color = 'var(--gray)'\n    }\n    if (data.type === 'string') {\n      data.self = JSON.stringify(data.self)\n    }\n    return (\n      <label className='mb-0' style={{ color: data.isProperty ? 'var(--info)' : '', whiteSpace: 'pre-wrap' }}>\n        {' ' + key}:\n        <label className='mb-0' style={{ color }}>\n          {' ' + data.self}\n        </label>\n        <label style={{ fontStyle: 'italic' }}>\n          {data.isProperty || !data.type ? '' : ' ' + data.type}\n        </label>\n      </label>\n    )\n  }\n\n  return (\n    <div id='soliditylocals' data-id=\"solidityLocals\">\n      <DropdownPanel\n        dropdownName='Solidity Locals'\n        dropdownMessage={message}\n        calldata={calldata || {}}\n        extractFunc={extractData}\n        formatSelfFunc={formatSelf}\n        registerEvent={registerEvent}\n        triggerEvent={triggerEvent}\n        loadMoreEvent='solidityLocalsLoadMore'\n        loadMoreCompletedEvent='solidityLocalsLoadMoreCompleted'\n      />\n    </div>\n  )\n}\n\nexport default SolidityLocals\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { extractData } from '../../utils/solidityTypeFormatter'\nimport { ExtractData } from '../../types' // eslint-disable-line\n\nexport const SolidityState = ({ calldata, message }) => {\n  const formatSelf = (key: string, data: ExtractData) => {\n    try {\n      let color = 'var(--primary)'\n      if (data.isArray || data.isStruct || data.isMapping) {\n        color = 'var(--info)'\n      } else if (\n        data.type.indexOf('uint') === 0 ||\n            data.type.indexOf('int') === 0 ||\n            data.type.indexOf('bool') === 0 ||\n            data.type.indexOf('enum') === 0\n      ) {\n        color = 'var(--green)'\n      } else if (data.type === 'string') {\n        color = 'var(--teal)'\n        } else if (data.self == 0x0) { // eslint-disable-line\n        color = 'var(--gray)'\n      }\n      return (\n        <label className='mb-0' style={{ color: data.isProperty ? 'var(--info)' : '', whiteSpace: 'pre-wrap' }}>\n          {' ' + key}:\n          <label className='mb-0' style={{ color }}>\n            {' ' + data.self}\n          </label>\n          <label style={{ fontStyle: 'italic' }}>\n            {data.isProperty || !data.type ? '' : ' ' + data.type}\n          </label>\n        </label>\n      )\n    } catch (e) {\n      return (<></>)\n    }\n  }\n\n  return (\n    <div id='soliditystate' data-id='soliditystate'>\n      {\n        <DropdownPanel dropdownName='Solidity State' calldata={calldata || {}} formatSelfFunc={formatSelf} extractFunc={extractData} />\n      }\n    </div>\n  )\n}\n\nexport default SolidityState\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const StackPanel = ({ calldata }) => {\n  return (\n    <div id='stackpanel'>\n      <DropdownPanel hexHighlight={true} bodyStyle={{ fontFamily: 'monospace' }} dropdownName='Stack' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default StackPanel\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const StepDetail = ({ stepDetail }) => {\n  return (\n    <div id='stepdetail' data-id='stepdetail'>\n      <DropdownPanel hexHighlight={false} dropdownName='Step details' calldata={stepDetail || {}} />\n    </div>\n  )\n}\n\nexport default StepDetail\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const StoragePanel = ({ calldata, header }) => {\n  return (\n    <div id='storagepanel'>\n      <DropdownPanel dropdownName='Storage' calldata={calldata || {}} header={header} />\n    </div>\n  )\n}\n\nexport default StoragePanel\n","var content = require(\"!!../../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./assembly-items.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","var content = require(\"!!../../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./dropdown-panel.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport CodeListView from './code-list-view' // eslint-disable-line\nimport FunctionPanel from './function-panel' // eslint-disable-line\nimport StepDetail from './step-detail' // eslint-disable-line\nimport SolidityState from './solidity-state' // eslint-disable-line\nimport SolidityLocals from './solidity-locals' // eslint-disable-line\n\nexport const VmDebuggerHead = ({ vmDebugger: { registerEvent, triggerEvent } }) => {\n  const [functionPanel, setFunctionPanel] = useState(null)\n  const [stepDetail, setStepDetail] = useState({\n    'vm trace step': '-',\n    'execution step': '-',\n    'add memory': '',\n    gas: '',\n    'remaining gas': '-',\n    'loaded address': '-'\n  })\n\n  const [solidityState, setSolidityState] = useState({\n    calldata: null,\n    message: null\n  })\n  const [solidityLocals, setSolidityLocals] = useState({\n    calldata: null,\n    message: null\n  })\n\n  useEffect(() => {\n    registerEvent && registerEvent('functionsStackUpdate', (stack) => {\n      if (stack === null || stack.length === 0) return\n      const functions = []\n\n      for (const func of stack) {\n        functions.push(func.functionDefinition.name + '(' + func.inputs.join(', ') + ')')\n      }\n      setFunctionPanel(() => functions)\n    })\n    registerEvent && registerEvent('traceUnloaded', () => {\n      setStepDetail(() => {\n        return { 'vm trace step': '-', 'execution step': '-', 'add memory': '', gas: '', 'remaining gas': '-', 'loaded address': '-' }\n      })\n    })\n    registerEvent && registerEvent('newTraceLoaded', () => {\n      setStepDetail(() => {\n        return { 'vm trace step': '-', 'execution step': '-', 'add memory': '', gas: '', 'remaining gas': '-', 'loaded address': '-' }\n      })\n    })\n    registerEvent && registerEvent('traceCurrentStepUpdate', (error, step) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'execution step': (error ? '-' : step) }\n      })\n    })\n    registerEvent && registerEvent('traceMemExpandUpdate', (error, addmem) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'add memory': (error ? '-' : addmem) }\n      })\n    })\n    registerEvent && registerEvent('traceStepCostUpdate', (error, gas) => {\n      setStepDetail(prevState => {\n        return { ...prevState, gas: (error ? '-' : gas) }\n      })\n    })\n    registerEvent && registerEvent('traceCurrentCalledAddressAtUpdate', (error, address) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'loaded address': (error ? '-' : address) }\n      })\n    })\n    registerEvent && registerEvent('traceRemainingGasUpdate', (error, remainingGas) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'remaining gas': (error ? '-' : remainingGas) }\n      })\n    })\n    registerEvent && registerEvent('indexUpdate', (index) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'vm trace step': index }\n      })\n    })\n    registerEvent && registerEvent('solidityState', (calldata) => {\n      setSolidityState(() => {\n        return { ...solidityState, calldata }\n      })\n    })\n    registerEvent && registerEvent('solidityStateMessage', (message) => {\n      setSolidityState(() => {\n        return { ...solidityState, message }\n      })\n    })\n    registerEvent && registerEvent('solidityLocals', (calldata) => {\n      setSolidityLocals(() => {\n        return { ...solidityLocals, calldata }\n      })\n    })\n    registerEvent && registerEvent('solidityLocalsMessage', (message) => {\n      setSolidityLocals(() => {\n        return { ...solidityLocals, message }\n      })\n    })\n  }, [registerEvent])\n\n  return (\n    <div id='vmheadView' className=\"mt-1 px-0\">\n      <div className='d-flex flex-column'>\n        <div className='w-100'>\n          <FunctionPanel data={functionPanel} />\n          <SolidityLocals data={solidityLocals.calldata} message={solidityLocals.message} registerEvent={registerEvent} triggerEvent={triggerEvent} />\n          <SolidityState calldata={solidityState.calldata} message={solidityState.message} />\n        </div>\n        <div className='w-100'><CodeListView registerEvent={registerEvent} /></div>\n        <div className='w-100'><StepDetail stepDetail={stepDetail} /></div>\n      </div>\n    </div>\n  )\n}\n\nexport default VmDebuggerHead\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport CalldataPanel from './calldata-panel' // eslint-disable-line\nimport MemoryPanel from './memory-panel' // eslint-disable-line\nimport CallstackPanel from './callstack-panel' // eslint-disable-line\nimport StackPanel from './stack-panel' // eslint-disable-line\nimport StoragePanel from './storage-panel' // eslint-disable-line\nimport ReturnValuesPanel from './dropdown-panel' // eslint-disable-line\nimport FullStoragesChangesPanel from './full-storages-changes' // eslint-disable-line\nimport GlobalVariables from './global-variables' // eslint-disable-line\n\nexport const VmDebugger = ({ vmDebugger: { registerEvent }, currentBlock, currentReceipt, currentTransaction }) => {\n  const [calldataPanel, setCalldataPanel] = useState(null)\n  const [memoryPanel, setMemoryPanel] = useState(null)\n  const [callStackPanel, setCallStackPanel] = useState(null)\n  const [stackPanel, setStackPanel] = useState(null)\n  const [storagePanel, setStoragePanel] = useState({\n    calldata: null,\n    header: null\n  })\n  const [returnValuesPanel, setReturnValuesPanel] = useState(null)\n  const [fullStoragesChangesPanel, setFullStoragesChangesPanel] = useState(null)\n\n  useEffect(() => {\n    registerEvent && registerEvent('traceManagerCallDataUpdate', (calldata) => {\n      setCalldataPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerMemoryUpdate', (calldata) => {\n      setMemoryPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerCallStackUpdate', (calldata) => {\n      setCallStackPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerStackUpdate', (calldata) => {\n      setStackPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerStorageUpdate', (calldata, header) => {\n      setStoragePanel(() => {\n        return { calldata, header }\n      })\n    })\n    registerEvent && registerEvent('traceReturnValueUpdate', (calldata) => {\n      setReturnValuesPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceAddressesUpdate', (calldata) => {\n      setFullStoragesChangesPanel(() => {\n        return {}\n      })\n    })\n    registerEvent && registerEvent('traceStorageUpdate', (calldata) => {\n      setFullStoragesChangesPanel(() => calldata)\n    })\n  }, [registerEvent])\n\n  return (\n    <div id='vmdebugger' className=\"px-2\">\n      <div>\n        <StackPanel calldata={stackPanel} />\n        <MemoryPanel calldata={memoryPanel} />\n        <StoragePanel calldata={storagePanel.calldata} header={storagePanel.header} />\n        <CallstackPanel calldata={callStackPanel} />\n        <CalldataPanel calldata={calldataPanel} />\n        <GlobalVariables block={currentBlock} receipt={currentReceipt} tx={currentTransaction} />\n        <ReturnValuesPanel dropdownName='Return Value' calldata={returnValuesPanel || {}} />\n        <FullStoragesChangesPanel calldata={fullStoragesChangesPanel} />\n      </div>\n    </div>\n  )\n}\n\nexport default VmDebugger\n","import { default as deepEqual } from 'deep-equal' // eslint-disable-line\n\ninterface Action {\n    type: string;\n    payload: { [key: string]: any };\n}\n\nexport const initialState = {\n  opCodes: {\n    code: [],\n    index: 0,\n    address: ''\n  },\n  display: [],\n  index: 0,\n  nextIndexes: [-1],\n  returnInstructionIndexes: [],\n  outOfGasInstructionIndexes: [],\n  top: 0,\n  bottom: 0,\n  isRequesting: false,\n  isSuccessful: false,\n  hasError: null\n}\n\nconst reducedOpcode = (opCodes, payload) => {\n  const length = 100\n  let bottom = opCodes.index - 10\n  bottom = bottom < 0 ? 0 : bottom\n  const top = bottom + length\n  return {\n    index: opCodes.index - bottom,\n    nextIndexes: opCodes.nextIndexes.map(index => index - bottom),\n    display: opCodes.code.slice(bottom, top),\n    returnInstructionIndexes: payload.returnInstructionIndexes.map((index) => index.instructionIndex - bottom),\n    outOfGasInstructionIndexes: payload.outOfGasInstructionIndexes.map((index) => index.instructionIndex - bottom)\n  }\n}\n\nexport const reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'FETCH_OPCODES_REQUEST': {\n      return {\n        ...state,\n        isRequesting: true,\n        isSuccessful: false,\n        hasError: null\n      }\n    }\n    case 'FETCH_OPCODES_SUCCESS': {\n      const opCodes = action.payload.address === state.opCodes.address ? {\n        ...state.opCodes, index: action.payload.index, nextIndexes: action.payload.nextIndexes\n      } : deepEqual(action.payload.code, state.opCodes.code) ? state.opCodes : action.payload\n\n      const reduced = reducedOpcode(opCodes, action.payload)\n      return {\n        opCodes,\n        display: reduced.display,\n        index: reduced.index,\n        nextIndexes: reduced.nextIndexes,\n        isRequesting: false,\n        isSuccessful: true,\n        hasError: null,\n        returnInstructionIndexes: reduced.returnInstructionIndexes,\n        outOfGasInstructionIndexes: reduced.outOfGasInstructionIndexes\n      }\n    }\n    case 'FETCH_OPCODES_ERROR': {\n      return {\n        ...state,\n        isRequesting: false,\n        isSuccessful: false,\n        hasError: action.payload\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","interface Action {\n    type: string;\n    payload: { [key: string]: any };\n}\n\nexport const initialState = {\n  calldata: {},\n  isRequesting: false,\n  isSuccessful: false,\n  hasError: null\n}\n\nexport const reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'FETCH_CALLDATA_REQUEST':\n      return {\n        ...state,\n        isRequesting: true,\n        isSuccessful: false,\n        hasError: null\n      }\n    case 'FETCH_CALLDATA_SUCCESS':\n      return {\n        calldata: action.payload,\n        isRequesting: false,\n        isSuccessful: true,\n        hasError: null\n      }\n    case 'FETCH_CALLDATA_ERROR':\n      return {\n        ...state,\n        isRequesting: false,\n        isSuccessful: false,\n        hasError: action.payload\n      }\n    case 'UPDATE_CALLDATA_REQUEST':\n      return {\n        ...state,\n        isRequesting: true,\n        isSuccessful: false,\n        hasError: null\n      }\n    case 'UPDATE_CALLDATA_SUCCESS':\n      return {\n        calldata: mergeLocals(action.payload, state.calldata),\n        isRequesting: false,\n        isSuccessful: true,\n        hasError: null\n      }\n    case 'UPDATE_CALLDATA_ERROR':\n      return {\n        ...state,\n        isRequesting: false,\n        isSuccessful: false,\n        hasError: action.payload\n      }\n    default:\n      throw new Error()\n  }\n}\n\nfunction mergeLocals (locals1, locals2) {\n  Object.keys(locals2).map(item => {\n    if (locals2[item].cursor && (parseInt(locals2[item].cursor) < parseInt(locals1[item].cursor))) {\n      locals2[item] = {\n        ...locals1[item],\n        value: [...locals2[item].value, ...locals1[item].value]\n      }\n    }\n  })\n  return locals2\n}\n","import { BN } from 'ethereumjs-util'\nimport { ExtractData } from '../types' // eslint-disable-line\n\nexport function extractData (item, parent): ExtractData {\n  const ret: ExtractData = {}\n\n  if (item.isProperty || !item.type) {\n    return item\n  }\n  try {\n    if (item.type.lastIndexOf(']') === item.type.length - 1) {\n      ret.children = (item.value || []).map(function (item, index) {\n        return { key: index, value: item }\n      })\n      ret.children.unshift({\n        key: 'length',\n        value: {\n          self: (new BN(item.length.replace('0x', ''), 16)).toString(10),\n          type: 'uint',\n          isProperty: true\n        }\n      })\n      ret.isArray = true\n      ret.self = parent.isArray ? '' : item.type\n      ret.cursor = item.cursor\n      ret.hasNext = item.hasNext\n    } else if (item.type.indexOf('struct') === 0) {\n      ret.children = Object.keys((item.value || {})).map(function (key) {\n        return { key: key, value: item.value[key] }\n      })\n      ret.self = item.type\n      ret.isStruct = true\n    } else if (item.type.indexOf('mapping') === 0) {\n      ret.children = Object.keys((item.value || {})).map(function (key) {\n        return { key: key, value: item.value[key] }\n      })\n      ret.isMapping = true\n      ret.self = item.type\n    } else {\n      ret.children = null\n      ret.self = item.value\n      ret.type = item.type\n    }\n  } catch (e) {\n    console.log(e)\n  }\n  return ret\n}\n","export * from './lib/modal-dialog-custom'\nexport * from './lib/remix-ui-modal-dialog'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./modal-dialog-custom.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React from 'react' // eslint-disable-line\n\nimport './modal-dialog-custom.css'\n\n/* eslint-disable-next-line */\nexport interface ModalDialogCustomProps {}\n\nexport const ModalDialogCustom = (props: ModalDialogCustomProps) => {\n  return (\n    <div>\n      <h1>Welcome to modal-dialog-custom!</h1>\n    </div>\n  )\n}\n\nexport default ModalDialogCustom\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-modal-dialog.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useRef, useState, useEffect } from 'react' // eslint-disable-line\nimport { ModalDialogProps } from './types' // eslint-disable-line\n\nimport './remix-ui-modal-dialog.css'\n\ndeclare global {\n  // eslint-disable-next-line no-unused-vars\n  interface Window { testmode: boolean; }\n}\n\nexport const ModalDialog = (props: ModalDialogProps) => {\n  const [state, setState] = useState({\n    toggleBtn: true\n  })\n  const modal = useRef(null)\n  const handleHide = () => {\n    props.handleHide()\n  }\n\n  useEffect(() => {\n    modal.current.focus()\n  }, [props.hide])\n\n  useEffect(() => {\n    function handleBlur (e) {\n      if (!e.currentTarget.contains(e.relatedTarget)) {\n        e.stopPropagation()\n        if (document.activeElement !== this) {\n          !window.testmode && handleHide()\n        }\n      }\n    }\n    if (modal.current) {\n      modal.current.addEventListener('blur', handleBlur)\n\n      return () => {\n        modal.current.removeEventListener('blur', handleBlur)\n      }\n    }\n  }, [modal.current])\n\n  const modalKeyEvent = (keyCode) => {\n    if (keyCode === 27) { // Esc\n      if (props.cancelFn) props.cancelFn()\n      handleHide()\n    } else if (keyCode === 13) { // Enter\n      enterHandler()\n    } else if (keyCode === 37) {\n      // todo && footerIsActive) { // Arrow Left\n      setState((prevState) => { return { ...prevState, toggleBtn: true } })\n    } else if (keyCode === 39) {\n      // todo && footerIsActive) { // Arrow Right\n      setState((prevState) => { return { ...prevState, toggleBtn: false } })\n    }\n  }\n\n  const enterHandler = () => {\n    if (state.toggleBtn) {\n      if (props.okFn) props.okFn()\n    } else {\n      if (props.cancelFn) props.cancelFn()\n    }\n    handleHide()\n  }\n\n  return (\n    <div\n      data-id={`${props.id}ModalDialogContainer-react`}\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n      className='modal'\n      style={{ display: props.hide ? 'none' : 'block' }}\n      role=\"dialog\"\n    >\n      <div className=\"modal-dialog\" role=\"document\">\n        <div\n          ref={modal}\n          tabIndex={-1}\n          className={'modal-content remixModalContent ' + (props.modalClass ? props.modalClass : '')}\n          onKeyDown={({ keyCode }) => { modalKeyEvent(keyCode) }}\n        >\n          <div className=\"modal-header\">\n            <h6 className=\"modal-title\" data-id={`${props.id}ModalDialogModalTitle-react`}>\n              {props.title && props.title}\n            </h6>\n            {!props.showCancelIcon &&\n            <span className=\"modal-close\" onClick={() => handleHide()}>\n              <i title=\"Close\" className=\"fas fa-times\" aria-hidden=\"true\"></i>\n            </span>\n            }\n          </div>\n          <div className=\"modal-body text-break remixModalBody\" data-id={`${props.id}ModalDialogModalBody-react`}>\n            { props.children ? props.children : props.message }\n          </div>\n          <div className=\"modal-footer\" data-id={`${props.id}ModalDialogModalFooter-react`}>\n            {/* todo add autofocus ^^ */}\n            { props.okLabel &&\n              <span\n                data-id={`${props.id}-modal-footer-ok-react`}\n                className={'modal-ok btn btn-sm ' + (state.toggleBtn ? 'btn-dark' : 'btn-light')}\n                onClick={() => {\n                  if (props.okFn) props.okFn()\n                  handleHide()\n                }}\n              >\n                { props.okLabel ? props.okLabel : 'OK' }\n              </span>\n            }\n            { props.cancelLabel &&\n              <span\n                data-id={`${props.id}-modal-footer-cancel-react`}\n                className={'modal-cancel btn btn-sm ' + (state.toggleBtn ? 'btn-light' : 'btn-dark')}\n                data-dismiss=\"modal\"\n                onClick={() => {\n                  if (props.cancelFn) props.cancelFn()\n                  handleHide()\n                }}\n              >\n                { props.cancelLabel ? props.cancelLabel : 'Cancel' }\n              </span>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalDialog\n","export * from './lib/toaster'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./toaster.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useEffect, useState } from 'react' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\n\nimport './toaster.css'\n\n/* eslint-disable-next-line */\nexport interface ToasterProps {\n  message: string\n  timeOut?: number,\n  handleHide?: () => void\n}\n\nexport const Toaster = (props: ToasterProps) => {\n  const [state, setState] = useState({\n    message: '',\n    hide: true,\n    hiding: false,\n    timeOutId: null,\n    timeOut: props.timeOut || 7000,\n    showModal: false\n  })\n\n  useEffect(() => {\n    if (props.message) {\n      const timeOutId = setTimeout(() => {\n        setState(prevState => {\n          return { ...prevState, hiding: true }\n        })\n      }, state.timeOut)\n\n      setState(prevState => {\n        const shortTooltipText = props.message.length > 201 ? props.message.substring(0, 200) + '...' : props.message\n\n        return { ...prevState, hide: false, hiding: false, timeOutId, message: shortTooltipText }\n      })\n    }\n  }, [props.message])\n\n  useEffect(() => {\n    if (state.hiding) {\n      setTimeout(() => {\n        closeTheToaster()\n      }, 1800)\n    }\n  }, [state.hiding])\n\n  const showFullMessage = () => {\n    setState(prevState => {\n      return { ...prevState, showModal: true }\n    })\n  }\n\n  const hideFullMessage = () => { //eslint-disable-line\n    setState(prevState => {\n      return { ...prevState, showModal: false }\n    })\n  }\n\n  const closeTheToaster = () => {\n    if (state.timeOutId) {\n      clearTimeout(state.timeOutId)\n    }\n    props.handleHide && props.handleHide()\n    setState(prevState => {\n      return { ...prevState, message: '', hide: true, hiding: false, timeOutId: null, showModal: false }\n    })\n  }\n\n  const handleMouseEnter = () => {\n    if (state.timeOutId) {\n      clearTimeout(state.timeOutId)\n    }\n    setState(prevState => {\n      return { ...prevState, timeOutId: null }\n    })\n  }\n\n  const handleMouseLeave = () => {\n    if (!state.timeOutId) {\n      const timeOutId = setTimeout(() => {\n        setState(prevState => {\n          return { ...prevState, hiding: true }\n        })\n      }, state.timeOut)\n\n      setState(prevState => {\n        return { ...prevState, timeOutId }\n      })\n    }\n  }\n\n  return (\n    <>\n      <ModalDialog\n        message={props.message}\n        cancelLabel='Close'\n        cancelFn={() => {}}\n        hide={!state.showModal}\n        handleHide={hideFullMessage}\n      />\n      { !state.hide &&\n        <div data-shared=\"tooltipPopup\" className={`remixui_tooltip alert alert-info p-2 ${state.hiding ? 'remixui_animateTop' : 'remixui_animateBottom'}`} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n          <span className=\"px-2\">\n            { state.message }\n            { (props.message.length > 201) && <button className=\"btn btn-secondary btn-sm mx-3\" style={{ whiteSpace: 'nowrap' }} onClick={showFullMessage}>Show full message</button> }\n          </span>\n          <span style={{ alignSelf: 'baseline' }}>\n            <button data-id=\"tooltipCloseButton\" className=\"fas fa-times btn-info mx-1 p-0\" onClick={closeTheToaster}></button>\n          </span>\n        </div>\n      }\n    </>\n  )\n}\n\nexport default Toaster\n","export * from './lib/tree-view-item/tree-view-item'\nexport * from './lib/remix-ui-tree-view'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-tree-view.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React from 'react' // eslint-disable-line\nimport { TreeViewProps } from '../types'\n\nimport './remix-ui-tree-view.css'\n\nexport const TreeView = (props: TreeViewProps) => {\n  const { children, id, ...otherProps } = props\n\n  return (\n    <ul data-id={`treeViewUl${id}`} className=\"ul_tv ml-0 px-2\" { ...otherProps }>\n      { children }\n    </ul>\n  )\n}\n\nexport default TreeView\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./tree-view-item.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport { TreeViewItemProps } from '../../types'\n\nimport './tree-view-item.css'\n\nexport const TreeViewItem = (props: TreeViewItemProps) => {\n  const { id, children, label, labelClass, expand, iconX = 'fas fa-caret-right', iconY = 'fas fa-caret-down', icon, controlBehaviour = false, innerRef, ...otherProps } = props\n  const [isExpanded, setIsExpanded] = useState(false)\n\n  useEffect(() => {\n    setIsExpanded(expand)\n  }, [expand])\n\n  return (\n    <li ref={innerRef} key={`treeViewLi${id}`} data-id={`treeViewLi${id}`} className='li_tv' {...otherProps}>\n      <div key={`treeViewDiv${id}`} data-id={`treeViewDiv${id}`} className={`d-flex flex-row align-items-center ${labelClass}`} onClick={() => !controlBehaviour && setIsExpanded(!isExpanded)}>\n        { children ? <div className={isExpanded ? `px-1 ${iconY} caret caret_tv` : `px-1 ${iconX} caret caret_tv`} style={{ visibility: children ? 'visible' : 'hidden' }}></div> : icon ? <div className={`pr-3 pl-1 ${icon} caret caret_tv`}></div> : null }\n        <span className='w-100 pl-1'>\n          { label }\n        </span>\n      </div>\n      { isExpanded ? children : null }\n    </li>\n  )\n}\n\nexport default TreeViewItem\n","module.exports = [[module.id, \".copyIcon {\\n    margin-left: 5px;\\n    cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcHktdG8tY2xpcGJvYXJkLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25CIiwiZmlsZSI6ImNvcHktdG8tY2xpcGJvYXJkLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb3B5SWNvbiB7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\", '', '']]","module.exports = [[module.id, \".buttons {\\n    display: flex;\\n    flex-wrap: wrap;\\n}\\n.stepButtons {\\n    width: 100%;\\n    display: flex;\\n    justify-content: center;\\n}\\n.stepButton {\\n}\\n.jumpButtons {\\n    width: 100%;\\n    display: flex;\\n    justify-content: center;\\n}\\n.jumpButton {\\n}\\n.navigator {\\n}\\n.navigator:hover {\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1dHRvbi1uYXZpZ2F0b3IuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7QUFDbkI7QUFDQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsdUJBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0lBQ0ksV0FBVztJQUNYLGFBQWE7SUFDYix1QkFBdUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYnV0dG9uLW5hdmlnYXRvci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG59XG4uc3RlcEJ1dHRvbnMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4uc3RlcEJ1dHRvbiB7XG59XG4uanVtcEJ1dHRvbnMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4uanVtcEJ1dHRvbiB7XG59XG4ubmF2aWdhdG9yIHtcbn1cbi5uYXZpZ2F0b3I6aG92ZXIge1xufSJdfQ== */\", '', '']]","module.exports = [[module.id, \".statusMessage {\\n  margin-left: 15px;\\n}\\n.debuggerLabel {\\n  margin-bottom: 2px;\\n  font-size: 11px;\\n  line-height: 12px;\\n  text-transform: uppercase;\\n}\\n.debuggerConfig {\\n  display: flex;\\n  align-items: center;\\n}\\n.debuggerConfig label {\\n  margin: 0;\\n}\\n.validationError {\\n  overflow-wrap: break-word;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYnVnZ2VyLXVpLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxTQUFTO0FBQ1g7QUFDQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJkZWJ1Z2dlci11aS5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3RhdHVzTWVzc2FnZSB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuLmRlYnVnZ2VyTGFiZWwge1xuICBtYXJnaW4tYm90dG9tOiAycHg7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbGluZS1oZWlnaHQ6IDEycHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG4uZGVidWdnZXJDb25maWcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLmRlYnVnZ2VyQ29uZmlnIGxhYmVsIHtcbiAgbWFyZ2luOiAwO1xufVxuLnZhbGlkYXRpb25FcnJvciB7XG4gIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG59Il19 */\", '', '']]","module.exports = [[module.id, \".container {\\n    display: flex;\\n    flex-direction: column;\\n}\\n.txContainer {\\n    display: flex;\\n    flex-direction: column;\\n}\\n.txinput {\\n    width: inherit;\\n    font-size: small;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.txbutton {\\n    width: inherit;\\n}\\n.txbutton:hover {\\n}\\n.vmargin {\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR4LWJyb3dzZXIuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksY0FBYztJQUNkLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkIiLCJmaWxlIjoidHgtYnJvd3Nlci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4udHhDb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi50eGlucHV0IHtcbiAgICB3aWR0aDogaW5oZXJpdDtcbiAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cbi50eGJ1dHRvbiB7XG4gICAgd2lkdGg6IGluaGVyaXQ7XG59XG4udHhidXR0b246aG92ZXIge1xufVxuLnZtYXJnaW4ge1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn0iXX0= */\", '', '']]","module.exports = [[module.id, \".instructions {\\n    overflow-y: scroll;\\n    max-height: 130px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2VtYmx5LWl0ZW1zLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7QUFDckIiLCJmaWxlIjoiYXNzZW1ibHktaXRlbXMuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmluc3RydWN0aW9ucyB7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIG1heC1oZWlnaHQ6IDEzMHB4O1xufSJdfQ== */\", '', '']]","module.exports = [[module.id, \".title {\\n    display: flex;\\n    align-items: center;\\n  }\\n  .name {\\n    font-weight: bold;\\n  }\\n  .nameDetail {\\n    font-weight: bold;\\n    margin-left: 3px;\\n  }\\n  .icon {\\n    margin-right: 5%;\\n  }\\n  .eyeButton {\\n    margin: 3px;\\n  }\\n  .dropdownpanel {\\n    width: 100%;\\n    word-break: break-word;\\n  }\\n  .dropdownrawcontent {\\n    padding: 2px;\\n    word-break: break-word;\\n  }\\n  .message {\\n    padding: 2px;\\n    word-break: break-word;\\n  }\\n  .refresh {\\n    display: none;\\n    margin-left: 4px;\\n    margin-top: 4px; \\n    -webkit-animation: spin 2s linear infinite; \\n            animation: spin 2s linear infinite;\\n  }\\n  .cursor_pointer {\\n    cursor: pointer;\\n  }\\n  @-webkit-keyframes spin {\\n    to { -webkit-transform: rotate(359deg); }\\n  }\\n  @keyframes spin {\\n    to {transform:rotate(359deg);}\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLXBhbmVsLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7RUFDckI7RUFDQTtJQUNFLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsaUJBQWlCO0lBQ2pCLGdCQUFnQjtFQUNsQjtFQUNBO0lBQ0UsZ0JBQWdCO0VBQ2xCO0VBQ0E7SUFDRSxXQUFXO0VBQ2I7RUFDQTtJQUNFLFdBQVc7SUFDWCxzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLFlBQVk7SUFDWixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLFlBQVk7SUFDWixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLDBDQUFrQztZQUFsQyxrQ0FBa0M7RUFDcEM7RUFDQTtJQUNFLGVBQWU7RUFDakI7RUFJQTtJQUNFLEtBQUssaUNBQWlDLEVBQUU7RUFDMUM7RUFDQTtJQUNFLElBQUksd0JBQXdCLENBQUM7RUFDL0IiLCJmaWxlIjoiZHJvcGRvd24tcGFuZWwuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbiAgLm5hbWUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4gIC5uYW1lRGV0YWlsIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW4tbGVmdDogM3B4O1xuICB9XG4gIC5pY29uIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDUlO1xuICB9XG4gIC5leWVCdXR0b24ge1xuICAgIG1hcmdpbjogM3B4O1xuICB9XG4gIC5kcm9wZG93bnBhbmVsIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICB9XG4gIC5kcm9wZG93bnJhd2NvbnRlbnQge1xuICAgIHBhZGRpbmc6IDJweDtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICB9XG4gIC5tZXNzYWdlIHtcbiAgICBwYWRkaW5nOiAycHg7XG4gICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgfVxuICAucmVmcmVzaCB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgIG1hcmdpbi10b3A6IDRweDsgXG4gICAgYW5pbWF0aW9uOiBzcGluIDJzIGxpbmVhciBpbmZpbml0ZTtcbiAgfVxuICAuY3Vyc29yX3BvaW50ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBALW1vei1rZXlmcmFtZXMgc3BpbiB7XG4gICAgdG8geyAtbW96LXRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7IH1cbiAgfVxuICBALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7XG4gICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7IH1cbiAgfVxuICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgIHRvIHt0cmFuc2Zvcm06cm90YXRlKDM1OWRlZyk7fVxuICB9Il19 */\", '', '']]","module.exports = [[module.id, \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb2RhbC1kaWFsb2ctY3VzdG9tLmNzcyJ9 */\", '', '']]","module.exports = [[module.id, \".remixModalContent {\\n  box-shadow: 0 0 8px 10000px rgba(0,0,0,0.6),0 6px 20px 0 rgba(0,0,0,0.19);\\n  -webkit-animation-name: animatetop;\\n  -webkit-animation-duration: 0.4s;\\n  animation-name: animatetop;\\n  animation-duration: 0.4s\\n}\\n.remixModalBody {\\n  overflow-y: auto;\\n  max-height: 600px;\\n}\\n@-webkit-keyframes animatetop {\\n  from {top: -300px; opacity: 0}\\n  to {top: 0; opacity: 1}\\n}\\n@keyframes animatetop {\\n  from {top: -300px; opacity: 0}\\n  to {top: 0; opacity: 1}\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLW1vZGFsLWRpYWxvZy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5RUFBeUU7RUFDekUsa0NBQWtDO0VBQ2xDLGdDQUFnQztFQUNoQywwQkFBMEI7RUFDMUI7QUFDRjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsTUFBTSxXQUFXLEVBQUUsVUFBVTtFQUM3QixJQUFJLE1BQU0sRUFBRSxVQUFVO0FBQ3hCO0FBQ0E7RUFDRSxNQUFNLFdBQVcsRUFBRSxVQUFVO0VBQzdCLElBQUksTUFBTSxFQUFFLFVBQVU7QUFDeEIiLCJmaWxlIjoicmVtaXgtdWktbW9kYWwtZGlhbG9nLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZW1peE1vZGFsQ29udGVudCB7XG4gIGJveC1zaGFkb3c6IDAgMCA4cHggMTAwMDBweCByZ2JhKDAsMCwwLDAuNiksMCA2cHggMjBweCAwIHJnYmEoMCwwLDAsMC4xOSk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGFuaW1hdGV0b3A7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzO1xuICBhbmltYXRpb24tbmFtZTogYW5pbWF0ZXRvcDtcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzXG59XG4ucmVtaXhNb2RhbEJvZHkge1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBtYXgtaGVpZ2h0OiA2MDBweDtcbn1cbkAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRldG9wIHtcbiAgZnJvbSB7dG9wOiAtMzAwcHg7IG9wYWNpdHk6IDB9XG4gIHRvIHt0b3A6IDA7IG9wYWNpdHk6IDF9XG59XG5Aa2V5ZnJhbWVzIGFuaW1hdGV0b3Age1xuICBmcm9tIHt0b3A6IC0zMDBweDsgb3BhY2l0eTogMH1cbiAgdG8ge3RvcDogMDsgb3BhY2l0eTogMX1cbn0iXX0= */\", '', '']]","module.exports = [[module.id, \".remixui_tooltip {\\n    z-index: 1001;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    position: fixed;\\n    min-height: 50px;\\n    padding: 16px 24px 12px;\\n    border-radius: 3px;\\n    left: 40%;\\n    font-size: 14px;\\n    text-align: center;\\n    bottom: -0px;\\n    flex-direction: row;\\n}\\n@-webkit-keyframes remixui_animatebottom  {\\n  0% {bottom: -300px}\\n  100% {bottom: 0px}\\n}\\n@keyframes remixui_animatebottom  {\\n  0% {bottom: -300px}\\n  100% {bottom: 0px}\\n}\\n@-webkit-keyframes remixui_animatetop  {\\n  0% {bottom: 0px}\\n  100% {bottom: -300px}\\n}\\n@keyframes remixui_animatetop  {\\n  0% {bottom: 0px}\\n  100% {bottom: -300px}\\n}\\n.remixui_animateTop {\\n  -webkit-animation-name: remixui_animatetop;\\n  -webkit-animation-duration: 2s;\\n  animation-name: remixui_animatetop;\\n  animation-duration: 2s;\\n}\\n.remixui_animateBottom {\\n  -webkit-animation-name: remixui_animatebottom;\\n  -webkit-animation-duration: 2s;\\n  animation-name: remixui_animatebottom;\\n  animation-duration: 2s;    \\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvYXN0ZXIuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCO0FBQ0E7RUFDRSxJQUFJLGNBQWM7RUFDbEIsTUFBTSxXQUFXO0FBQ25CO0FBQ0E7RUFDRSxJQUFJLGNBQWM7RUFDbEIsTUFBTSxXQUFXO0FBQ25CO0FBQ0E7RUFDRSxJQUFJLFdBQVc7RUFDZixNQUFNLGNBQWM7QUFDdEI7QUFDQTtFQUNFLElBQUksV0FBVztFQUNmLE1BQU0sY0FBYztBQUN0QjtBQUNBO0VBQ0UsMENBQTBDO0VBQzFDLDhCQUE4QjtFQUM5QixrQ0FBa0M7RUFDbEMsc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSw2Q0FBNkM7RUFDN0MsOEJBQThCO0VBQzlCLHFDQUFxQztFQUNyQyxzQkFBc0I7QUFDeEIiLCJmaWxlIjoidG9hc3Rlci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVtaXh1aV90b29sdGlwIHtcbiAgICB6LWluZGV4OiAxMDAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG4gICAgcGFkZGluZzogMTZweCAyNHB4IDEycHg7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIGxlZnQ6IDQwJTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJvdHRvbTogLTBweDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuQC13ZWJraXQta2V5ZnJhbWVzIHJlbWl4dWlfYW5pbWF0ZWJvdHRvbSAge1xuICAwJSB7Ym90dG9tOiAtMzAwcHh9XG4gIDEwMCUge2JvdHRvbTogMHB4fVxufVxuQGtleWZyYW1lcyByZW1peHVpX2FuaW1hdGVib3R0b20gIHtcbiAgMCUge2JvdHRvbTogLTMwMHB4fVxuICAxMDAlIHtib3R0b206IDBweH1cbn1cbkAtd2Via2l0LWtleWZyYW1lcyByZW1peHVpX2FuaW1hdGV0b3AgIHtcbiAgMCUge2JvdHRvbTogMHB4fVxuICAxMDAlIHtib3R0b206IC0zMDBweH1cbn1cbkBrZXlmcmFtZXMgcmVtaXh1aV9hbmltYXRldG9wICB7XG4gIDAlIHtib3R0b206IDBweH1cbiAgMTAwJSB7Ym90dG9tOiAtMzAwcHh9XG59XG4ucmVtaXh1aV9hbmltYXRlVG9wIHtcbiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcmVtaXh1aV9hbmltYXRldG9wO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XG4gIGFuaW1hdGlvbi1uYW1lOiByZW1peHVpX2FuaW1hdGV0b3A7XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XG59XG4ucmVtaXh1aV9hbmltYXRlQm90dG9tIHtcbiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcmVtaXh1aV9hbmltYXRlYm90dG9tO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XG4gIGFuaW1hdGlvbi1uYW1lOiByZW1peHVpX2FuaW1hdGVib3R0b207XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7ICAgIFxufVxuIl19 */\", '', '']]","module.exports = [[module.id, \".li_tv {\\n    list-style-type: none;\\n    -webkit-margin-before: 0px;\\n    -webkit-margin-after: 0px;\\n    -webkit-margin-start: 0px;\\n    -webkit-margin-end: 0px;\\n    -webkit-padding-start: 0px;\\n  }\\n  .ul_tv {\\n    list-style-type: none;\\n    -webkit-margin-before: 0px;\\n    -webkit-margin-after: 0px;\\n    -webkit-margin-start: 0px;\\n    -webkit-margin-end: 0px;\\n    -webkit-padding-start: 0px;\\n  }\\n  .caret_tv {\\n    width: 10px;\\n    flex-shrink: 0;\\n    padding-right: 5px;\\n  }\\n  .label_item {\\n    word-break: break-all;\\n  }\\n  .label_key {\\n    min-width: -webkit-max-content;\\n    min-width: -moz-max-content;\\n    min-width: max-content;\\n    max-width: 80%;\\n    word-break: break-word;\\n  }\\n  .label_value {\\n    min-width: 10%;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLXRyZWUtdmlldy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7SUFDckIsMEJBQTBCO0lBQzFCLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsdUJBQXVCO0lBQ3ZCLDBCQUEwQjtFQUM1QjtFQUNBO0lBQ0UscUJBQXFCO0lBQ3JCLDBCQUEwQjtJQUMxQix5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLHVCQUF1QjtJQUN2QiwwQkFBMEI7RUFDNUI7RUFDQTtJQUNFLFdBQVc7SUFDWCxjQUFjO0lBQ2Qsa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxxQkFBcUI7RUFDdkI7RUFDQTtJQUNFLDhCQUFzQjtJQUF0QiwyQkFBc0I7SUFBdEIsc0JBQXNCO0lBQ3RCLGNBQWM7SUFDZCxzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLGNBQWM7RUFDaEIiLCJmaWxlIjoicmVtaXgtdWktdHJlZS12aWV3LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5saV90diB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIC13ZWJraXQtbWFyZ2luLWJlZm9yZTogMHB4O1xuICAgIC13ZWJraXQtbWFyZ2luLWFmdGVyOiAwcHg7XG4gICAgLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDBweDtcbiAgICAtd2Via2l0LW1hcmdpbi1lbmQ6IDBweDtcbiAgICAtd2Via2l0LXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgfVxuICAudWxfdHYge1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICAtd2Via2l0LW1hcmdpbi1iZWZvcmU6IDBweDtcbiAgICAtd2Via2l0LW1hcmdpbi1hZnRlcjogMHB4O1xuICAgIC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwcHg7XG4gICAgLXdlYmtpdC1tYXJnaW4tZW5kOiAwcHg7XG4gICAgLXdlYmtpdC1wYWRkaW5nLXN0YXJ0OiAwcHg7XG4gIH1cbiAgLmNhcmV0X3R2IHtcbiAgICB3aWR0aDogMTBweDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIH1cbiAgLmxhYmVsX2l0ZW0ge1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbiAgfVxuICAubGFiZWxfa2V5IHtcbiAgICBtaW4td2lkdGg6IG1heC1jb250ZW50O1xuICAgIG1heC13aWR0aDogODAlO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gIH1cbiAgLmxhYmVsX3ZhbHVlIHtcbiAgICBtaW4td2lkdGg6IDEwJTtcbiAgfSJdfQ== */\", '', '']]","module.exports = [[module.id, \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0cmVlLXZpZXctaXRlbS5jc3MifQ== */\", '', '']]","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var async = require('async')\nconst ethJSUtil = require('ethereumjs-util')\n\nmodule.exports = {\n  shortenAddress: function (address, etherBalance) {\n    var len = address.length\n    return address.slice(0, 5) + '...' + address.slice(len - 5, len) + (etherBalance ? ' (' + etherBalance.toString() + ' ether)' : '')\n  },\n  // shortenAddress: function (address, etherBalance) {\n  //   address = 'xdc'+address.substring(2)\n  //   return address.slice(0, 5) + '...' + address.slice(len - 5, len) + (etherBalance ? ' (' + etherBalance.toString() + ' XDC)' : '')\n  //   },\n  addressToString: function (address) {\n    if (!address) return null\n    if (typeof address !== 'string') {\n      address = address.toString('hex')\n    }\n    if (address.indexOf('0x') === -1) {\n      address = '0x' + address\n    }\n    return ethJSUtil.toChecksumAddress(address)\n  },\n  shortenHexData: function (data) {\n    if (!data) return ''\n    if (data.length < 5) return data\n    var len = data.length\n    return data.slice(0, 5) + '...' + data.slice(len - 5, len)\n  },\n  createNonClashingNameWithPrefix (name, fileProvider, prefix, cb) {\n    if (!name) name = 'Undefined'\n    var counter = ''\n    var ext = 'sol'\n    var reg = /(.*)\\.([^.]+)/g\n    var split = reg.exec(name)\n    if (split) {\n      name = split[1]\n      ext = split[2]\n    }\n    var exist = true\n    async.whilst(\n      () => { return exist },\n      (callback) => {\n        fileProvider.exists(name + counter + prefix + '.' + ext).then(currentExist => {\n          exist = currentExist\n          if (exist) counter = (counter | 0) + 1\n          callback()\n        }).catch(error => {\n          if (error) console.log(error)\n        })\n      },\n      (error) => { cb(error, name + counter + prefix + '.' + ext) }\n    )\n  },\n  createNonClashingName (name, fileProvider, cb) {\n    this.createNonClashingNameWithPrefix(name, fileProvider, '', cb)\n  },\n  async createNonClashingNameAsync (name, fileManager, prefix = '') {\n    if (!name) name = 'Undefined'\n    let counter = ''\n    let ext = 'sol'\n    const reg = /(.*)\\.([^.]+)/g\n    const split = reg.exec(name)\n    if (split) {\n      name = split[1]\n      ext = split[2]\n    }\n    let exist = true\n\n    do {\n      const isDuplicate = await fileManager.exists(name + counter + prefix + '.' + ext)\n\n      if (isDuplicate) counter = (counter | 0) + 1\n      else exist = false\n    } while (exist)\n\n    return name + counter + prefix + '.' + ext\n  },\n  async createNonClashingDirNameAsync (name, fileManager) {\n    if (!name) name = 'Undefined'\n    let counter = ''\n    let exist = true\n\n    do {\n      const isDuplicate = await fileManager.exists(name + counter)\n\n      if (isDuplicate) counter = (counter | 0) + 1\n      else exist = false\n    } while (exist)\n\n    return name + counter\n  },\n  checkSpecialChars (name) {\n    return name.match(/[:*?\"<>\\\\'|]/) != null\n  },\n  checkSlash (name) {\n    return name.match(/\\//) != null\n  },\n  isHexadecimal (value) {\n    return /^[0-9a-fA-F]+$/.test(value) && (value.length % 2 === 0)\n  },\n  is0XPrefixed (value) {\n    return value.substr(0, 2) === '0x'\n  },\n  isNumeric (value) {\n    return /^\\+?(0|[1-9]\\d*)$/.test(value)\n  },\n  isValidHash (hash) { // 0x prefixed, hexadecimal, 64digit\n    const hexValue = hash.slice(2, hash.length)\n    return this.is0XPrefixed(hash) && /^[0-9a-fA-F]{64}$/.test(hexValue)\n  },\n  removeTrailingSlashes (text) {\n    // Remove single or consecutive trailing slashes\n    return text.replace(/\\/+$/g, '')\n  },\n  removeMultipleSlashes (text) {\n    // Replace consecutive slashes with '/'\n    return text.replace(/\\/+/g, '/')\n  },\n  find: find,\n  getPathIcon (path) {\n    return path.endsWith('.txt')\n      ? 'far fa-file-alt' : path.endsWith('.md')\n        ? 'far fa-file-alt' : path.endsWith('.sol')\n          ? 'fak fa-solidity-mono' : path.endsWith('.js')\n            ? 'fab fa-js' : path.endsWith('.json')\n              ? 'fas fa-brackets-curly' : path.endsWith('.vy')\n                ? 'fak fa-vyper-mono' : path.endsWith('.lex')\n                  ? 'fak fa-lexon' : path.endsWith('.contract')\n                    ? 'fab fa-ethereum' : 'far fa-file'\n  },\n  joinPath (...paths) {\n    paths = paths.filter((value) => value !== '').map((path) => path.replace(/^\\/|\\/$/g, '')) // remove first and last slash)\n    if (paths.length === 1) return paths[0]\n    return paths.join('/')\n  },\n  extractNameFromKey (key) {\n    const keyPath = key.split('/')\n\n    return keyPath[keyPath.length - 1]\n  }\n}\n\nfunction findDeep (object, fn, found = { break: false, value: undefined }) {\n  if (typeof object !== 'object' || object === null) return\n  for (var i in object) {\n    if (found.break) break\n    var el = object[i]\n    if (el && el.innerText !== undefined && el.innerText !== null) el = el.innerText\n    if (fn(el, i, object)) {\n      found.value = el\n      found.break = true\n      break\n    } else {\n      findDeep(el, fn, found)\n    }\n  }\n  return found.value\n}\n\nfunction find (args, query) {\n  query = query.trim()\n  var isMatch = !!findDeep(args, function check (value, key) {\n    if (value === undefined || value === null) return false\n    if (typeof value === 'function') return false\n    if (typeof value === 'object') return false\n    var contains = String(value).indexOf(query.trim()) !== -1\n    return contains\n  })\n  return isMatch\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { DebuggerUI } from '@remix-ui/debugger-ui' // eslint-disable-line\n\nimport { DebuggerClientApi } from './debugger'\n\nconst remix = new DebuggerClientApi()\n\nexport const App = () => {  \n  return (\n    <div className=\"debugger\">\n      <DebuggerUI debuggerAPI={remix} />\n    </div>\n  );\n};\n\nexport default App;\n","import Web3 from 'web3'\nimport remixDebug, { TransactionDebugger as Debugger } from '@remix-project/remix-debug'\nimport { CompilationOutput, Sources } from '@remix-ui/debugger-ui'\nimport type { CompilationResult } from '@remix-project/remix-solidity-ts'\n\nexport const DebuggerApiMixin = (Base) => class extends Base {\n\n  initialWeb3\n\n  initDebuggerApi () {\n    this.debugHash = null\n        \n    const self = this\n    this.web3Provider = {\n      sendAsync (payload, callback) {\n        self.call('web3Provider', 'sendAsync', payload)\n          .then(result => callback(null, result))\n          .catch(e => callback(e))\n      }\n    }\n    this._web3 = new Web3(this.web3Provider)\n    // this._web3 can be overwritten and reset to initial value in 'debug' method\n    this.initialWeb3 = this._web3\n    remixDebug.init.extendWeb3(this._web3)\n\n    this.offsetToLineColumnConverter = {\n      async offsetToLineColumn (rawLocation, file, sources, asts) {\n        return await self.call('offsetToLineColumnConverter', 'offsetToLineColumn', rawLocation, file, sources, asts)\n      }\n    }\n  }\n\n  // on()\n  // call()\n  // onDebugRequested()\n  // onRemoveHighlights()\n\n  web3 () {\n    return this._web3\n  }\n\n  async discardHighlight () {\n    await this.call('editor', 'discardHighlight')\n  }\n\n  async highlight (lineColumnPos, path) {\n    await this.call('editor', 'highlight', lineColumnPos, path, '', { focus: true })\n  }\n\n  async getFile (path) {\n    return await this.call('fileManager', 'getFile', path)\n  }\n\n  async setFile (path, content) {\n    await this.call('fileManager', 'setFile', path, content)\n  }\n\n  onBreakpointCleared (listener) {\n    this.onBreakpointClearedListener = listener\n  }\n\n  onBreakpointAdded (listener) {\n    this.onBreakpointAddedListener = listener\n  }\n\n  onEditorContentChanged (listener) {\n    this.onEditorContentChangedListener = listener\n  }\n\n  onEnvChanged (listener) {\n    this.onEnvChangedListener = listener\n  }\n\n  onDebugRequested (listener) {\n    this.onDebugRequestedListener = listener\n  }\n\n  onRemoveHighlights (listener) {\n    this.onRemoveHighlightsListener = listener\n  }\n\n  async fetchContractAndCompile (address, receipt) {\n    const target = (address && remixDebug.traceHelper.isContractCreation(address)) ? receipt.contractAddress : address\n    const targetAddress = target || receipt.contractAddress || receipt.to\n    const codeAtAddress = await this._web3.eth.getCode(targetAddress)\n    const output = await this.call('fetchAndCompile', 'resolve', targetAddress, codeAtAddress, 'browser/.debug')\n    if (output) {\n      return new CompilerAbstract(output.languageversion, output.data, output.source)\n    }\n    return null\n  }\n\n  async getDebugWeb3 () {\n    let web3\n    let network\n    try {\n      network = await this.call('network', 'detectNetwork')    \n    } catch (e) {\n      web3 = this.web3()\n    }\n    if (!web3) {\n      const webDebugNode = remixDebug.init.web3DebugNode(network.name)\n      web3 = !webDebugNode ? this.web3() : webDebugNode\n    }\n    remixDebug.init.extendWeb3(web3)\n    return web3\n  }\n\n  async getTrace (hash) {\n    if (!hash) return\n    const web3 = await this.getDebugWeb3()\n    const currentReceipt = await web3.eth.getTransactionReceipt(hash)\n    const debug = new Debugger({\n      web3,\n      offsetToLineColumnConverter: this.offsetToLineColumnConverter,\n      compilationResult: async (address) => {\n        try {\n          return await this.fetchContractAndCompile(address, currentReceipt)\n        } catch (e) {\n          console.error(e)\n        }\n        return null\n      },\n      debugWithGeneratedSources: false\n    })\n    return await debug.debugger.traceManager.getTrace(hash)\n  }\n\n  debug (hash, web3?) {\n    this.debugHash = hash\n    if (web3) this._web3 = web3\n    else this._web3 = this.initialWeb3\n    remixDebug.init.extendWeb3(this._web3)\n    if (this.onDebugRequestedListener) this.onDebugRequestedListener(hash, web3)\n  }\n\n  onActivation () {\n    this.on('editor', 'breakpointCleared', (fileName, row) => { if (this.onBreakpointClearedListener) this.onBreakpointClearedListener(fileName, row) })\n    this.on('editor', 'breakpointAdded', (fileName, row) => { if (this.onBreakpointAddedListener) this.onBreakpointAddedListener(fileName, row) })\n    this.on('editor', 'contentChanged', () => { if (this.onEditorContentChangedListener) this.onEditorContentChangedListener() })  \n    this.on('network', 'providerChanged', (provider) => { if (this.onEnvChangedListener) this.onEnvChangedListener(provider) })\n  }\n\n  onDeactivation () {\n    if (this.onRemoveHighlightsListener) this.onRemoveHighlightsListener()\n    this.off('editor', 'breakpointCleared')\n    this.off('editor', 'breakpointAdded')\n    this.off('editor', 'contentChanged')\n  }\n\n  showMessage (title: string, message: string) {}\n}\n\nexport class CompilerAbstract implements CompilationOutput { // this is a subset of /remix-ide/src/app/compiler/compiler-abstract.js\n  languageversion\n  data\n  source\n\n  constructor (languageversion: string, data: CompilationResult, source: { sources: Sources, target: string }) {\n    this.languageversion = languageversion\n    this.data = data\n    this.source = source // source code\n  }\n\n  getSourceName (fileIndex) {\n    if (this.data && this.data.sources) {\n      return Object.keys(this.data.sources)[fileIndex]\n    } else if (Object.keys(this.source.sources).length === 1) {\n      // if we don't have ast, we return the only one filename present.\n      const sourcesArray = Object.keys(this.source.sources)\n      return sourcesArray[0]\n    }\n    return null\n  }  \n}\n\n","import { PluginClient } from \"@remixproject/plugin\";\nimport { createClient } from \"@remixproject/plugin-webview\";\nimport { IDebuggerApi, RawLocation, Sources, Asts, LineColumnLocation, \n  onBreakpointClearedListener, onBreakpointAddedListener, onEditorContentChanged, onEnvChangedListener, TransactionReceipt } from '@remix-ui/debugger-ui'\nimport { DebuggerApiMixin, CompilerAbstract} from './debugger-api'\n\nexport class DebuggerClientApi extends DebuggerApiMixin(PluginClient) {  \n  constructor () {\n    super()    \n    createClient(this as any)\n    this.initDebuggerApi()\n  }\n\n  offsetToLineColumnConverter: IDebuggerApi['offsetToLineColumnConverter']\n  debugHash: string\n  debugHashRequest: number\n  removeHighlights: boolean\n  onBreakpointCleared: (listener: onBreakpointClearedListener) => void\n  onBreakpointAdded: (listener: onBreakpointAddedListener) => void\n  onEditorContentChanged: (listener: onEditorContentChanged) => void\n  onEnvChanged: (listener: onEnvChangedListener) => void\n  discardHighlight: () => Promise<void>\n  highlight: (lineColumnPos: LineColumnLocation, path: string) => Promise<void>\n  fetchContractAndCompile: (address: string, currentReceipt: TransactionReceipt) => Promise<CompilerAbstract>\n  getFile: (path: string) => Promise<string>\n  setFile: (path: string, content: string) => Promise<void>\n  getDebugWeb3: () => any // returns an instance of web3.js, if applicable (mainet, goerli, ...) it returns a reference to a node from devops (so we are sure debug endpoint is available)\n  web3: () => any // returns an instance of web3.js\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app/app';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":"webpack:///"}
{"version":3,"sources":["../../../../libs/remix-analyzer/src/index.ts","../../../../../libs/remix-analyzer/src/solidity-analyzer/index.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/abstractAstView.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/algorithmCategories.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/assignAndCompare.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/blockBlockhash.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/blockTimestamp.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/categories.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/checksEffectsInteraction.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/constantFunctions.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/deleteDynamicArrays.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/deleteFromDynamicArray.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/erc20Decimals.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/etherTransferInLoop.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/forLoopIteratesOverDynamicArray.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/functionCallGraph.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/gasCosts.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/guardConditions.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/inlineAssembly.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/intDivisionTruncate.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/list.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/lowLevelCalls.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/noReturn.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/selfdestruct.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/similarVariableNames.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/staticAnalysisCommon.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/stringBytesLength.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/thisLocal.ts","../../../../../../libs/remix-analyzer/src/solidity-analyzer/modules/txOrigin.ts","../../../../libs/remix-astwalker/src/astWalker.ts","../../../../libs/remix-astwalker/src/index.ts","../../../../libs/remix-astwalker/src/sourceMappings.ts","../../../../libs/remix-debug/src/Ethdebugger.ts","../../../../../libs/remix-debug/src/cmdline/index.ts","../../../../../libs/remix-debug/src/code/breakpointManager.ts","../../../../../libs/remix-debug/src/code/codeManager.ts","../../../../../libs/remix-debug/src/code/codeResolver.ts","../../../../../libs/remix-debug/src/code/codeUtils.ts","../../../../../libs/remix-debug/src/code/opcodes.ts","../../../../../libs/remix-debug/src/debugger/VmDebugger.ts","../../../../../libs/remix-debug/src/debugger/debugger.ts","../../../../../libs/remix-debug/src/debugger/solidityLocals.ts","../../../../../libs/remix-debug/src/debugger/solidityState.ts","../../../../../libs/remix-debug/src/debugger/stepManager.ts","../../../../libs/remix-debug/src/eventManager.ts","../../../../libs/remix-debug/src/index.ts","../../../../libs/remix-debug/src/init.ts","../../../../../libs/remix-debug/src/solidity-decoder/astHelper.ts","../../../../../libs/remix-debug/src/solidity-decoder/decodeInfo.ts","../../../../../libs/remix-debug/src/solidity-decoder/index.ts","../../../../../libs/remix-debug/src/solidity-decoder/internalCallTree.ts","../../../../../libs/remix-debug/src/solidity-decoder/localDecoder.ts","../../../../../libs/remix-debug/src/solidity-decoder/solidityProxy.ts","../../../../../libs/remix-debug/src/solidity-decoder/stateDecoder.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Address.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/ArrayType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Bool.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/DynamicByteArray.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Enum.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/FixedByteArray.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Int.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Mapping.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/RefType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/StringType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Struct.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/Uint.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/ValueType.ts","../../../../../../libs/remix-debug/src/solidity-decoder/types/util.ts","../../../../../libs/remix-debug/src/source/sourceLocationTracker.ts","../../../../../libs/remix-debug/src/source/sourceMappingDecoder.ts","../../../../../libs/remix-debug/src/storage/mappingPreimages.ts","../../../../../libs/remix-debug/src/storage/storageResolver.ts","../../../../../libs/remix-debug/src/storage/storageViewer.ts","../../../../../libs/remix-debug/src/trace/traceAnalyser.ts","../../../../../libs/remix-debug/src/trace/traceCache.ts","../../../../../libs/remix-debug/src/trace/traceHelper.ts","../../../../../libs/remix-debug/src/trace/traceManager.ts","../../../../../libs/remix-debug/src/trace/traceStepManager.ts","../../../../libs/remix-lib/src/eventManager.ts","../../../../../libs/remix-lib/src/execution/eventsDecoder.ts","../../../../../libs/remix-lib/src/execution/forkAt.ts","../../../../../libs/remix-lib/src/execution/logsManager.ts","../../../../../libs/remix-lib/src/execution/txExecution.ts","../../../../../libs/remix-lib/src/execution/txFormat.ts","../../../../../libs/remix-lib/src/execution/txHelper.ts","../../../../../libs/remix-lib/src/execution/txListener.ts","../../../../../libs/remix-lib/src/execution/txRunner.ts","../../../../../libs/remix-lib/src/execution/txRunnerVM.ts","../../../../../libs/remix-lib/src/execution/txRunnerWeb3.ts","../../../../../libs/remix-lib/src/execution/typeConversion.ts","../../../../../libs/remix-lib/src/helpers/compilerHelper.ts","../../../../../libs/remix-lib/src/helpers/hhconsoleSigs.ts","../../../../../libs/remix-lib/src/helpers/txResultHelper.ts","../../../../../libs/remix-lib/src/helpers/uiHelper.ts","../../../../libs/remix-lib/src/index.ts","../../../../libs/remix-lib/src/init.ts","../../../../libs/remix-lib/src/storage.ts","../../../../libs/remix-lib/src/util.ts","../../../../../libs/remix-lib/src/web3Provider/dummyProvider.ts","../../../../../libs/remix-lib/src/web3Provider/web3Providers.ts","../../../../../libs/remix-lib/src/web3Provider/web3VmProvider.ts","../../../../libs/remix-simulator/src/genesis.ts","../../../../libs/remix-simulator/src/index.ts","../../../../../libs/remix-simulator/src/methods/accounts.ts","../../../../../libs/remix-simulator/src/methods/blocks.ts","../../../../../libs/remix-simulator/src/methods/debug.ts","../../../../../libs/remix-simulator/src/methods/filters.ts","../../../../../libs/remix-simulator/src/methods/misc.ts","../../../../../libs/remix-simulator/src/methods/net.ts","../../../../../libs/remix-simulator/src/methods/transactions.ts","../../../../../libs/remix-simulator/src/methods/txProcess.ts","../../../../libs/remix-simulator/src/provider.ts","../../../../../libs/remix-simulator/src/utils/logs.ts","../../../../libs/remix-simulator/src/vm-context.ts","../../../../../libs/remix-solidity/src/compiler/compiler-abstract.ts","../../../../../libs/remix-solidity/src/compiler/compiler-helpers.ts","../../../../../libs/remix-solidity/src/compiler/compiler-input.ts","../../../../../libs/remix-solidity/src/compiler/compiler-utils.ts","../../../../../libs/remix-solidity/src/compiler/compiler-worker.ts","../../../../../libs/remix-solidity/src/compiler/compiler.ts","../../../../../libs/remix-solidity/src/compiler/txHelper.ts","../../../../../libs/remix-solidity/src/compiler/types.ts","../../../../libs/remix-solidity/src/index.ts","../../../../../libs/remix-solidity/src/lib/eventManager.ts","../../../../libs/remix-tests/sol/tests.sol.ts","../../../../libs/remix-tests/sol/tests_accounts.sol.ts","../../../../libs/remix-tests/src/assertionEvents.ts","../../../../libs/remix-tests/src/compiler.ts","../../../../libs/remix-tests/src/deployer.ts","../../../../libs/remix-tests/src/fileSystem.ts","../../../../libs/remix-tests/src/index.ts","../../../../libs/remix-tests/src/logger.ts","../../../../libs/remix-tests/src/runTestFiles.ts","../../../../libs/remix-tests/src/runTestSources.ts","../../../../libs/remix-tests/src/testRunner.ts","../../../../libs/remix-tests/src/types.ts","../../../../libs/remix-url-resolver/src/index.ts","../../../../libs/remix-url-resolver/src/resolve.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-core-plugin/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-core-plugin/src/lib/compiler-artefacts.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-core-plugin/src/lib/compiler-content-imports.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-core-plugin/src/lib/compiler-fetch-and-compile.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-core-plugin/src/lib/compiler-metadata.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-core-plugin/src/lib/offset-line-to-column-converter.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/checkbox/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/checkbox/src/lib/remix-ui-checkbox.css?534e","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/checkbox/src/lib/remix-ui-checkbox.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/clipboard/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/clipboard/src/lib/copy-to-clipboard/copy-to-clipboard.css?7b3f","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/clipboard/src/lib/copy-to-clipboard/copy-to-clipboard.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/button-navigator/button-navigator.css?f947","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/button-navigator/button-navigator.tsx","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/debugger-ui.css?50f3","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/debugger-ui.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/slider/slider.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/step-manager/step-manager.tsx","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/tx-browser/tx-browser.css?be4e","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/tx-browser/tx-browser.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/assembly-items.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/calldata-panel.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/callstack-panel.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/code-list-view.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/dropdown-panel.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/full-storages-changes.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/function-panel.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/global-variables.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/memory-panel.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/solidity-locals.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/solidity-state.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/stack-panel.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/step-detail.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/storage-panel.tsx","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/assembly-items.css?bada","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/dropdown-panel.css?1db2","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/vm-debugger-head.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/vm-debugger.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/reducers/assembly-items.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/reducers/calldata.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/utils/solidityTypeFormatter.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/editor/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/editor/src/lib/actions/editor.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/editor/src/lib/remix-ui-editor.css?4417","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/editor/src/lib/remix-ui-editor.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/editor/src/lib/syntax.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/helper/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/helper/src/lib/remix-ui-helper.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/lib/modal-dialog-custom.css?1c39","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/lib/modal-dialog-custom.tsx","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/lib/remix-ui-modal-dialog.css?8649","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/lib/remix-ui-modal-dialog.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/ActivePluginCard.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/ActivePluginCardContainer.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/InactivePluginCard.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/InactivePluginCardContainer.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/LocalPluginForm.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/moduleHeading.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/permissionsSettings.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/components/rootView.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/custom-hooks/useLocalStorage.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/reducers/pluginManagerReducer.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/remix-ui-plugin-manager.css?8a9b","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/remix-ui-plugin-manager.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/publish-to-storage/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/publish-to-storage/src/lib/publish-to-storage.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/publish-to-storage/src/lib/publishOnSwarm.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/publish-to-storage/src/lib/publishToIPFS.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/renderer/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/renderer/src/lib/renderer.css?027f","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/renderer/src/lib/renderer.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/lib/constants.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/lib/remix-ui-settings.css?b851","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/lib/remix-ui-settings.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/lib/settingsAction.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/lib/settingsReducer.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/actions/compiler.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/compiler-container.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/contract-selection.tsx","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/css/style.css?fd04","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/logic/compileTabLogic.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/logic/contract-parser.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/logic/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/reducers/compiler.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/solidity-compiler.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/static-analyser/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/static-analyser/src/lib/Button/StaticAnalyserButton.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/static-analyser/src/lib/ErrorRenderer.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/static-analyser/src/lib/actions/staticAnalysisActions.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/static-analyser/src/lib/reducers/staticAnalysisReducer.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/static-analyser/src/lib/remix-ui-static-analyser.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tabs/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tabs/src/lib/remix-ui-tabs.css?3721","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tabs/src/lib/remix-ui-tabs.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/actions/terminalAction.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/commands.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/components/ChechTxStatus.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/components/Context.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/components/RenderCall.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/components/RenderKnownTransactions.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/components/RenderUnknownTransactions.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/components/Table.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/reducers/terminalReducer.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/remix-ui-terminal.css?a6b5","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/remix-ui-terminal.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/terminalWelcome.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/types/terminalTypes.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/utils/utils.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/utils/wrapScript.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/toaster/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/toaster/src/lib/toaster.css?289f","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/toaster/src/lib/toaster.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/lib/remix-ui-tree-view.css?9889","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/lib/remix-ui-tree-view.tsx","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/lib/tree-view-item/tree-view-item.css?ff7b","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/lib/tree-view-item/tree-view-item.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/actions/events.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/actions/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/actions/payload.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/actions/workspace.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/components/file-explorer-context-menu.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/components/file-explorer-menu.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/components/file-explorer.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/components/file-label.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/components/file-render.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/contexts/index.ts","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/css/file-explorer-context-menu.css?682e","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/css/file-explorer.css?3054","webpack:////Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/css/remix-ui-workspace.css?a12f","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/providers/FileSystemProvider.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/reducers/workspace.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/remix-ui-workspace.tsx","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/utils/index.ts","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/checkbox/src/lib/remix-ui-checkbox.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/clipboard/src/lib/copy-to-clipboard/copy-to-clipboard.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/button-navigator/button-navigator.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/debugger-ui.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/tx-browser/tx-browser.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/assembly-items.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/debugger-ui/src/lib/vm-debugger/styles/dropdown-panel.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/editor/src/lib/remix-ui-editor.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/lib/modal-dialog-custom.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/modal-dialog/src/lib/remix-ui-modal-dialog.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/plugin-manager/src/lib/remix-ui-plugin-manager.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/renderer/src/lib/renderer.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/settings/src/lib/remix-ui-settings.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/solidity-compiler/src/lib/css/style.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tabs/src/lib/remix-ui-tabs.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/terminal/src/lib/remix-ui-terminal.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/toaster/src/lib/toaster.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/lib/remix-ui-tree-view.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/tree-view/src/lib/tree-view-item/tree-view-item.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/css/file-explorer-context-menu.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/css/file-explorer.css","/Users/anil/github/anilChinchawale/remix-project/libs/remix-ui/workspace/src/lib/css/remix-ui-workspace.css","/Users/anil/github/anilChinchawale/remix-project/node_modules/regenerator-runtime/runtime.js","(webpack)/buildin/global.js","/Users/anil/github/anilChinchawale/remix-project/apps/debugger/src/app/debugger-api.ts","/Users/anil/github/anilChinchawale/remix-project/apps/debugger/src/index.ts","/Users/anil/github/anilChinchawale/remix-project/apps/solidity-compiler/src/app/compiler-api.ts","/Users/anil/github/anilChinchawale/remix-project/apps/solidity-compiler/src/index.ts","./app.js","./app/components/hidden-panel.js","./app/components/main-panel.js","./app/components/panel.js","./app/components/plugin-manager-component.js","./app/components/plugin-manager-settings.js","./app/components/side-panel.js","./app/components/vertical-icons.js","./app/editor/contextView.js","./app/editor/contextualListener.js","./app/editor/editor.js","./app/editor/examples.js","./app/editor/styles/contextView-styles.js","./app/files/dgitProvider.js","./app/files/fileManager.js","./app/files/fileProvider.js","./app/files/git-handle.js","./app/files/hardhat-handle.js","./app/files/remixDProvider.js","./app/files/remixd-handle.js","./app/files/slither-handle.js","./app/files/workspaceFileProvider.js","./app/panels/file-panel.js","./app/panels/main-view.js","./app/panels/tab-proxy.js","./app/panels/terminal.js","./app/tabs/analysis-tab.js","./app/tabs/compile-tab.js","./app/tabs/debugger-tab.js","./app/tabs/hardhat-provider.js","./app/tabs/network-module.js","./app/tabs/runTab/contractDropdown.js","./app/tabs/runTab/model/dropdownlogic.js","./app/tabs/runTab/model/recorder.js","./app/tabs/runTab/recorder.js","./app/tabs/runTab/settings.js","./app/tabs/settings-tab.js","./app/tabs/styles/compile-tab-styles.js","./app/tabs/styles/debugger-tab-styles.js","./app/tabs/styles/run-tab-styles.js","./app/tabs/styles/test-tab-styles.js","./app/tabs/test-tab.js","./app/tabs/testTab/testTab.js","./app/tabs/theme-module.js","./app/tabs/web3-provider.js","./app/udapp/index.js","./app/udapp/make-udapp.js","./app/udapp/run-tab.js","./app/ui/TreeView.js","./app/ui/auto-complete-popup.js","./app/ui/card.js","./app/ui/confirmDialog.js","./app/ui/contextMenu.js","./app/ui/copy-to-clipboard.js","./app/ui/landing-page/landing-page.js","./app/ui/modal-dialog-custom.js","./app/ui/modaldialog.js","./app/ui/multiParamManager.js","./app/ui/persmission-handler.js","./app/ui/renderer.js","./app/ui/sendTxCallbacks.js","./app/ui/styles/auto-complete-popup-styles.js","./app/ui/styles/modal-dialog-custom-styles.js","./app/ui/styles/modaldialog-styles.js","./app/ui/styles/renderer-styles.js","./app/ui/styles/tooltip-styles.js","./app/ui/svgLogo.js","./app/ui/tooltip.js","./app/ui/universal-dapp-ui.js","./blockchain/blockchain.js","./blockchain/execution-context.js","./blockchain/providers/injected.js","./blockchain/providers/node.js","./blockchain/providers/vm.js","./config.js","./framingService.js","./global/registry.js","./index.js","./lib/cmdInterpreterAPI.js","./lib/commands.js","./lib/events.js","./lib/gist-handler.js","./lib/helper.js","./lib/panels-resize.js","./lib/publishOnIpfs.js","./lib/publishOnSwarm.js","./lib/query-params.js","./lib/remixBleach.js","./main.js","./migrateFileSystem.js","./publishToStorage.js","./registry.js","./remixAppManager.js","./remixEngine.js","./universal-dapp-styles.js","./walkthroughService.js","buffer (ignored)","webpack:///util (ignored)?0d71","webpack:///util (ignored)?246c","webpack:///buffer (ignored)?01c3","webpack:///buffer (ignored)?a4d7","webpack:///buffer (ignored)?3cce","webpack:///buffer (ignored)?55a8","webpack:///buffer (ignored)?ff49","webpack:///buffer (ignored)?b6a9","webpack:///buffer (ignored)?0675","webpack:///buffer (ignored)?9936","webpack:///buffer (ignored)?ba8d","./nextTick (ignored)","webpack:///crypto (ignored)?aca1","ipfs-utils/src/files/glob-source (ignored)","webpack:///util (ignored)?2d93","webpack:///util (ignored)?76d7","decompress-response (ignored)","crypto (ignored)","util (ignored)","webpack:///util (ignored)?6bea","webpack:///util (ignored)?c2b4","webpack:///util (ignored)?2021","webpack:///buffer (ignored)?ec78","webpack:///buffer (ignored)?4fc9"],"names":["profile","name","methods","events","version","CompilerArtefacts","Plugin","constructor","compilersArtefacts","compilersArtefactsPerFile","clear","onActivation","saveCompilationPerFileResult","file","source","languageVersion","data","CompilerAbstract","on","__last","getAllContractDatas","contractsData","Object","keys","map","targetFile","contracts","getContracts","getCompilerAbstract","addResolvedContract","address","compilerData","isResolved","undefined","get","key","displayName","CompilerImports","urlResolver","RemixURLResolver","previouslyHandled","setToken","protocol","window","location","token","call","setGistToken","error","console","log","isRelativeImport","url","exec","isExternalUrl","handlers","getHandlers","some","handler","match","resolve","Promise","reject","import","content","cleanUrl","type","force","loadingCb","cb","temp","self","imported","resolved","e","Error","importExternal","targetPath","loadingMsg","emit","provider","path","addExternal","err","resolveAndSave","isConnected","exist","exists","startsWith","localhostProvider","splitted","possiblePaths","push","addNormalizedName","replace","ethutil","require","FetchAndCompile","unresolvedAddresses","sourceVerifierNetWork","contractAddress","codeAtAddress","toChecksumAddress","localCompilation","includes","network","compilation","found","visitContracts","contract","util","compareByteCode","object","evm","deployedBytecode","setTimeout","_","id","metadata","JSON","stringify","compilationTargets","sources","urls","stdUrl","split","settings","compiler","language","evmVersion","optimize","optimizer","enabled","runs","compData","then","result","catch","message","CompilerMetadata","networks","innerPath","_JSONFileName","contractName","joinPath","_MetadataFileName","_extractPathOf","target","fileName","_setArtefacts","reg","parse","metadataFileName","deploy","forEach","_syncContext","parsedMetadata","bytecode","gasEstimates","methodIdentifiers","abi","linkReferences","autoDeployLib","libFile","lib","deployMetadataOf","fileLocation","pop","join","toLowerCase","paths","filter","value","length","OffsetToLineColumnConverter","lineBreakPositionsByContent","sourceMappingDecoder","offsetToLineColumn","rawLocation","asts","sourcesArray","getLinebreakPositions","filename","convertOffsetToLineColumn","offsetToLineColumnWithContent","activate","RemixUiCheckbox","label","onClick","inputType","checked","onChange","itemName","categoryId","visibility","display","alignItems","verticalAlign","paddingTop","CopyToClipboard","props","tip","icon","direction","children","otherProps","setMessage","handleClick","preventDefault","reset","ButtonNavigation","stepOverBack","stepIntoBack","stepIntoForward","stepOverForward","jumpOut","jumpPreviousBreakpoint","jumpNextBreakpoint","jumpToException","revertedReason","stepState","jumpOutDisabled","state","setState","intoBackDisabled","overBackDisabled","intoForwardDisabled","overForwardDisabled","jumpNextBreakpointDisabled","jumpPreviousBreakpointDisabled","stepChanged","helper","_paq","DebuggerUI","debuggerModule","debuggerAPI","isActive","debugger","currentReceipt","to","currentBlock","currentTransaction","blockNumber","txNumber","debugging","opt","debugWithGeneratedSources","debugWithLocalNode","toastMessage","validationError","txNumberIsEmpty","isLocalNodeUsed","unLoad","onDebugRequested","hash","web3","debug","onRemoveHighlights","discardHighlight","setEditor","onBreakpointCleared","row","breakPointManager","remove","onBreakpointAdded","add","onEditorContentChanged","providerChanged","onEnvChanged","prevState","listenToEvents","debuggerInstance","event","register","lineColumnPos","generatedSources","fetchContractAndCompile","getSourceName","getFile","contents","setFile","highlight","requestDebug","tx","startDebugging","updateTxNumberFlag","empty","unloadRequested","txIndex","unload","ready","vmDebugger","vmDebuggerHead","optWeb3","isValidHash","getDebugWeb3","networkId","eth","net","getId","getTransactionReceipt","getBlock","blockHash","getTransaction","Debugger","offsetToLineColumnConverter","compilationResult","ret","txHash","stepManager","jumpTo","step_manager","bind","traceLength","registerEvent","vmDebuggerLogic","triggerEvent","trigger","Slider","sliderValue","currentValue","setValue","handleChange","parseInt","StepManager","revertWarning","setRevertWarning","updateStep","warning","step","TxBrowser","transactionNumber","inputValue","handleSubmit","txInputChanged","txInputOnInput","current","AssemblyItems","assemblyItems","dispatch","reducer","initialState","absoluteSelectedIndex","setAbsoluteSelectedIndex","selectedItem","setSelectedItem","nextSelectedItems","setNextSelectedItems","returnInstructionIndexes","setReturnInstructionIndexes","outOfGasInstructionIndexes","setOutOfGasInstructionIndexes","refs","asmItemsRef","code","index","nextIndexes","payload","clearItems","indexChanged","nextIndexesChanged","returnIndexes","outOfGasIndexes","opCodes","clearItem","currentItem","removeAttribute","firstChild","codeView","style","setProperty","setAttribute","scrollTop","offsetTop","indexes","item","i","ref","CalldataPanel","calldata","CallstackPanel","CodeListView","DropdownPanel","calldataObj","dropdownName","dropdownMessage","header","loading","extractFunc","formatSelfFunc","loadMoreEvent","loadMoreCompletedEvent","headStyle","bodyStyle","hexHighlight","extractDataDefault","parent","Array","isNode","isLeaf","formatSelfDefault","isHex","regex","toggleDropdown","innerText","dropdownContent","title","copiableContent","updating","expandPath","updatedCalldata","update","setLoading","handleToggle","handleExpand","keyPath","isEmpty","isArray","renderData","child","hasNext","cursor","toString","uniquePanelName","innerkey","FullStoragesChanges","FunctionPanel","setCalldata","GlobalVariables","block","receipt","globals","chainId","miner","difficulty","gasLimit","number","timestamp","from","input","substring","baseFeePerGas","BN","fontFamily","MemoryPanel","SolidityLocals","formatSelf","color","isStruct","isMapping","indexOf","isProperty","whiteSpace","fontStyle","extractData","SolidityState","StackPanel","StepDetail","stepDetail","StoragePanel","VmDebuggerHead","functionPanel","setFunctionPanel","setStepDetail","gas","solidityState","setSolidityState","solidityLocals","setSolidityLocals","stack","functions","func","functionDefinition","inputs","addmem","remainingGas","VmDebugger","calldataPanel","setCalldataPanel","memoryPanel","setMemoryPanel","callStackPanel","setCallStackPanel","stackPanel","setStackPanel","storagePanel","setStoragePanel","returnValuesPanel","setReturnValuesPanel","fullStoragesChangesPanel","setFullStoragesChangesPanel","top","bottom","isRequesting","isSuccessful","hasError","reducedOpcode","slice","instructionIndex","action","reduced","mergeLocals","locals1","locals2","lastIndexOf","unshift","reducerActions","models","monaco","editor","uri","readOnly","model","createModel","Uri","onDidChangeContent","dispose","line","column","revealLine","setPosition","lineNumber","focus","size","updateOptions","fontSize","wrap","wordWrap","reducerListener","plugin","loader","config","vs","EditorUI","setCurrentBreakpoints","currentAnnotations","setCurrentAnnotations","currentMarkers","setCurrentMarkers","editorRef","monacoRef","currentFileRef","editorModelsState","formatColor","getComputedStyle","document","documentElement","getPropertyValue","trim","concat","substr","defineAndSetTheme","themeType","themeName","lightColor","infoColor","darkColor","secondaryColor","textColor","textbackground","blueColor","successColor","warningColor","yellowColor","pinkColor","locationColor","dangerColor","greenColor","orangeColor","grayColor","defineTheme","base","inherit","rules","background","foreground","colors","setTheme","setAnnotationsbyFile","sourceAnnotationsPerFile","newAnnotations","annotation","hide","range","Range","options","isWholeLine","glyphMarginHoverMessage","text","glyphMarginClassName","deltaDecorations","setMarkerbyFile","markerPerFile","newMarkers","marker","position","start","end","inlineClassName","currentFile","setModel","setModelLanguage","editorAPI","findMatches","getValue","getCursorPosition","getOffsetAt","getPosition","getFontSize","getOption","addRemixBreakpoint","getModel","decoration","onBreakPointCleared","onBreakPointAdded","decorationIds","handleEditorDidMount","onEditorMounted","onMouseUp","addCommand","KeyMod","CtrlCmd","KeyCode","US_EQUAL","US_MINUS","handleEditorWillMount","languages","setMonarchTokensProvider","setLanguageConfiguration","conf","glyphMargin","comments","lineComment","blockComment","brackets","autoClosingPairs","open","close","notIn","defaultToken","tokenPostfix","keywords","operators","symbols","escapes","integersuffix","floatsuffix","tokenizer","root","cases","include","whitespace","comment","doccomment","string","extractNameFromKey","extractParentFromKey","checkSpecialChars","checkSlash","createNonClashingNameAsync","fileManager","prefix","_counter","ext","isDuplicate","counter","getPathIcon","endsWith","ModalDialogCustom","ModalDialog","toggleBtn","modal","handleHide","handleBlur","currentTarget","contains","relatedTarget","stopPropagation","activeElement","testmode","addEventListener","removeEventListener","modalKeyEvent","keyCode","cancelFn","enterHandler","okFn","modalClass","showCancelIcon","okLabel","cancelLabel","ActivePluginCard","buttonText","deactivatePlugin","documentation","description","ActivePluginCardContainer","pluginComponent","pluginName","deactivateP","activePlugins","idx","InactivePluginCard","activatePlugin","InactivePluginCardContainer","activateP","inactivePlugins","canActivate","defaultProfile","LocalPluginForm","closeModal","visible","pluginManager","errorMsg","dispatchToastMsg","localPluginToastReducer","setName","setDisplayName","setUrl","setType","setLocation","setMethods","canactivate","setCanactivate","storagePlugin","localStorage","getItem","handleModalOkClick","appManager","getIds","newMethods","val","targetPlugin","kind","localPlugin","IframePlugin","WebsocketPlugin","activateAndRegisterLocalPlugin","ModuleHeading","headingLabel","count","PermisssionsSettings","pluginSettings","modalVisibility","setModalVisibility","permissions","setPermissions","permissionCache","setpermissionCache","openModal","cancel","getState","funcName","allow","handleCheckboxClick","clearFunctionPermission","clearTargetPermission","RenderPluginHeader","headingName","RenderPermissions","RootView","pluginManagerSettings","setVisible","filterPlugins","setFilterPlugin","getAndFilterPlugins","useLocalStorage","initialValue","readValue","warn","storedValue","setStoredValue","newValue","Function","setItem","dispatchEvent","Event","handleStorageChange","currentState","toastAction","RemixUiPluginManager","activeProfiles","setActiveProfiles","inactiveProfiles","setinactiveProfiles","PublishToStorage","api","storage","resetStorage","storageService","publishMessage","uploaded","writeFile","parseError","publishMessageFailed","output","handleHideModal","swarmgw","publishToSwarm","all","readFile","swarmVerifiedPublish","metadataContent","metadataHash","expectedHash","put","ipfsNodes","IpfsClient","host","port","publishToIPFS","ipfsVerifiedPublish","results","severalGatewaysPush","invert","p","promises","node","Renderer","messageText","setMessageText","editorOptions","setEditorOptions","useSpan","errFile","classList","setClose","positionDetails","getPositionDetails","errLine","errCol","noAnnotations","addAnnotation","msg","pos","getAppParameter","handleErrorClick","click","_errorClick","handleClose","fileExists","generateContractMetadataText","textSecondary","textDark","warnText","s","gitAccessTokenTitle","gitAccessTokenText","gitAccessTokenText2","gitAccessTokenLink","ethereunVMText","wordWrapText","enablePersonalModeText","matomoAnalytics","RemixUiSettings","settingReducer","dispatchToast","toastReducer","toastInitialState","tokenValue","setTokenValue","setThemeName","_deps","themeModule","switchTheme","set","isChecked","textClass","useMatomoAnalytics","javascriptVM","onchangeGenerateContractMetadata","onchangeOption","textWrapEvent","onchangePersonal","onchangeMatomoAnalytics","onswitchTheme","getTextClass","generalConfig","isMetadataChecked","isEthereumVMChecked","isEditorWrapChecked","isPersonalChecked","isMatomoChecked","saveToken","removeToken","handleSaveTokenState","gistToken","themes","getThemes","aTheme","active","quality","generateContractMetadat","ethereumVM","textWrapEventAction","resize","personal","cookie","saveTokenToast","removeTokenToast","elementState","element","setEditorMode","mode","resetEditorMode","setCompilerMode","args","resetCompilerMode","compileTabLogic","onSessionSwitched","speed","onContentChanged","success","CompilerContainer","tooltip","compiledFileName","updateCurrentVersion","configurationSettings","isHardhatProject","hideWarnings","autoCompile","matomoAutocompileOnce","compileTimeout","timeout","allversions","customVersions","selectedVersion","defaultVersion","includeNightlies","disableCompileButton","setDisableCompileButton","compileIcon","promptMessageInput","hhCompilation","sethhCompilation","compilerContainer","compilerReducer","compilerInitialState","fetchAllVersion","isURL","_updateVersionSelector","currentFileName","params","getCompilerParameters","isDisabled","isSolFileSelected","startingCompilation","compilationDuration","loadingCompiler","compilerLoaded","compilationFinished","sessionSwitched","contentChanged","setConfiguration","_retrieveVersion","semver","coerce","callback","allVersionsWasm","allVersions","longVersion","binRes","baseURLBin","wasmRes","baseURLWasm","versions","json","builds","reverse","urlArr","wasmIndex","findIndex","wasmCompiler","pathToURL","_setCompilerVersionFromPragma","pragmaArr","pragmaStr","pragma","releasedVersions","obj","prerelease","currentCompilerName","pureVersion","isNewestNightly","gt","isInRange","satisfies","isOfficial","compilerToLoad","maxSatisfying","compilerPath","extention","scheduleCompilation","_updateLanguageSelector","compile","clearTimeout","runCompiler","customUrl","_shouldBeAdded","setCompilerParameters","loadVersion","promptCompiler","promptMessage","addCustomCompiler","handleLoadVersion","valid","lt","handleLanguageChange","setLanguage","handleAutoCompile","setAppParameter","handleOptimizeChange","setOptimize","setRuns","onChangeRuns","handleHideWarningsChange","handleNightliesChange","handleEvmVersionChange","v","setEvmVersion","updatehhCompilation","build","backgroundColor","minWidth","ContractSelection","contractMap","contractsDetails","contractList","setContractList","selectedContract","setSelectedContract","setStorage","getFileName","part","handleContractChange","handlePublishToStorage","copyABI","copyContractProperty","property","getContractProperty","contractProperties","insertValue","details","propertyName","help","Assembly","Opcodes","functionHashes","swarmLocation","web3Deploy","copyDetails","questionMark","copyBytecode","Compiler","EventEmitter","CompileTabLogic","contentImport","resolveContentAndSave","init","newOptimizeValue","newEvmVersion","getCompilerState","lang","compileFile","getFileManagerMode","currentVersion","fileContent","configFilePath","compileWithHardhat","logToTerminal","saveCurrentFile","txHelper","execution","parseContracts","detail","gethDeploy","retrieveMetadataHash","fun","formatGasEstimates","devdoc","userdoc","assembly","solcTranslate","prettyPrintLegacyAssemblyJSON","legacyAssembly","jsonInterface","funABI","getConstructorInterface","inp","creation","external","internal","gasToText","g","Creation","External","Internal","SolidityCompiler","compileErrors","toasterMsg","setCurrentVersion","onCurrentFileChanged","onResetResults","onSetWorkspace","isLocalhost","isHardhat","onNoFileSelected","onCompilationFinished","toast","panicMessage","formattedMessage","severity","errorType","errors","StaticAnalyserButton","disabled","ErrorRenderer","handlePointToErrorOnClick","errorDetails","more","locationString","analysisModule","analysisReducer","RemixUiStaticAnalyser","runner","CodeAnalysis","preProcessModules","arr","Item","itemObj","_index","categoryDisplayName","category","groupedModules","groupBy","modules","getIndex","array","values","x","groupedModuleIndex","indexOfCategory","autoRun","setAutoRun","slitherEnabled","setSlitherEnabled","showSlither","setShowSlither","categoryIndex","setCategoryIndex","warningContainer","React","useRef","warningState","setWarningState","run","currentWorkspace","showWarnings","warningMessage","groupByKey","resultArray","objectArray","reduce","acc","groupedCategory","lastCompilationResult","lastCompilationSource","warningCount","warningErrors","moduleName","el","report","hasWarning","warningModuleName","compilerState","status","sourceMap","source_mapping","filename_relative","fileIndex","handleCheckAllModules","every","uniq","handleCheckOrUncheckCategory","handleSlitherEnabled","handleAutoRun","handleCheckSingle","categoryItem","categorySection","flat","entries","TabsUI","selectedIndex","setSelectedIndex","currentIndexRef","tabsRef","tabsElement","tabs","scrollIntoView","behavior","renderTab","tab","classNameImg","iconClass","classNameTab","onSelect","onClose","activateTab","transformScroll","deltaY","scrollLeft","deltaX","onReady","maxWidth","width","onZoomOut","onZoomIn","domEl","registerCommandAction","command","commands","_commands","session","activeFilters","filterFns","_INDEX","allMain","commandsMain","registerFilter","commandName","filterFn","arguments","steps","cmd","gidx","ITEM","append","scopedCommands","_scopeCommands","KNOWN_TRANSACTION","UNKNOWN_TRANSACTION","EMPTY_BLOCK","makeScopedCommand","_command","filterFnAction","registerLogScriptRunnerAction","commandFn","apply","registerInfoScriptRunnerAction","info","registerWarnScriptRunnerAction","registerErrorScriptRunnerAction","listenOnNetworkAction","isListening","initListeningOnNetwork","plugins","txListener","NEW_BLOCK","transactions","NEW_CALL","NEW_TRANSACTION","resolvedTransaction","compiledContracts","eventsDecoder","parseLogs","logs","resolvedData","allPrograms","ethers","remix","allCommands","CheckTxStatus","remixLib","typeConversion","Context","opts","blockchain","shortenHexData","decoded","transactionIndex","toInt","getProvider","RenderCall","showTableHash","txDetails","fn","txType","isCall","envMode","decodedReturnValue","transactionCost","executionCost","RenderKnownTransactions","RenderUnKnownTransactions","showTable","toHash","callWarning","stringified","raw","journalBlocks","_commandHistory","_JOURNAL","_jobs","_INDEXall","_INDEXallMain","_INDEXcommands","_INDEXcommandsMain","registerCommandReducer","HTML","assign","LOG","INFO","WARN","ERROR","SCRIPT","CLEAR_CONSOLE","splice","LISTEN_ON_NETWORK","registerFilterReducer","addCommandHistoryReducer","CMD_HISTORY","script","remixWelcomeTextReducer","welcomeText","registerScriptRunnerReducer","RemixUiTerminal","gistHandler","toggleDownUp","setToggleDownUp","_cmdIndex","setCmdIndex","_cmdTemp","setCmdTemp","leftHeight","setLeftHeight","separatorYPosition","setSeparatorYPosition","dragging","setDragging","newstate","cmdHistory","cmdHistoryDispatch","scriptRunnerDispatch","toaster","setToaster","toastProvider","setToastProvider","show","modalState","setModalState","clearConsole","setClearConsole","paste","setPaste","autoCompletState","setAutoCompleteState","activeSuggestion","_options","_startingElement","autoCompleteSelectedItem","_elementToShow","_selectedElement","filteredCommands","filteredPrograms","showSuggestions","userInput","extraCommands","commandHistoryIndex","searchInput","setSearchInput","setShowTableHash","inputEl","messagesEndRef","leftRef","panelRef","scrollToBottom","logHtml","html","_blocksRenderer","execute","String","_shell","_execute","currentContent","fileProviderOf","loadgist","loadFromGist","gist","done","context","exeCurrent","cmds","vm","createContext","runInContext","handleMinimizeTerminal","terminalTopOffset","focusinput","handleKeyDown","suggestionCount","which","ctrlKey","mousedown","clientY","border","onMouseMove","newLeftHeight","useEffect","offsetHeight","height","logger","filterUndefined","types","javascriptserialize","createElement","innerHTML","jsbeautify","handleClearConsole","listenOnNetwork","inputString","textList","handleSelect","handleAutoComplete","handlePaste","flexGrow","opacity","zIndex","trans","TerminalWelcomeMessage","packageJson","getKeyOf","getValueOf","Objectfilter","filterValue","matched","findDeep","break","find","query","isMatch","check","wrapScript","isKnownScript","Toaster","hiding","timeOutId","timeOut","showModal","shortTooltipText","closeTheToaster","showFullMessage","hideFullMessage","handleMouseEnter","handleMouseLeave","alignSelf","TreeView","TreeViewItem","labelClass","expand","iconX","iconY","controlBehaviour","innerRef","isExpanded","setIsExpanded","LOCALHOST","listenOnPluginEvents","filePanelPlugin","oldName","workspaceName","registerContextMenuItem","removePluginActions","dir","rootFolderChanged","listenOnProviderEvents","reducerDispatch","filePath","fileAdded","folderPath","folderAdded","removePath","fileRemoved","oldPath","fileRenamed","setMode","workspaceProvider","fileProviders","workspace","registry","isReadOnly","setText","extension","pattern","currentFileProvider","promise","resolveDirectory","fileTree","files","QueryParams","queryParams","initWorkspace","localhost","workspaces","setWorkspace","openFile","setWorkspaces","fetchDirectory","removeInputField","publishToGist","folder","packaged","packageGistFiles","accessToken","gists","Gists","originalFileList","getOriginalFiles","updatedFileList","allItems","deleteFileName","_items","_fileName","edit","public","handleGistResponse","create","clearPopUp","createNewFile","rootDir","newName","createFile","setFocusElement","elements","createNewFolder","dirName","mkdir","deletePath","isDir","isDirectory","renamePath","newPath","rename","copyFile","src","dest","copyFolder","copyDir","runScript","emitContextMenuEvent","handleClickFile","handleExpandPath","directory","isFile","test","copyFolderToJson","shift","html_url","documentation_url","res","fetch","setCurrentWorkspace","fetchDirectoryError","fetchDirectoryRequest","fetchDirectorySuccess","displayNotification","labelOk","labelCancel","actionOk","actionCancel","hideNotification","fileAddedSuccess","folderAddedSuccess","fileRemovedSuccess","fileRenamedSuccess","rootFolderChangedSuccess","addInputFieldSuccess","removeInputFieldSuccess","setReadOnlyMode","createWorkspaceError","createWorkspaceRequest","createWorkspaceSuccess","fetchWorkspaceDirectoryError","fetchWorkspaceDirectoryRequest","fetchWorkspaceDirectorySuccess","setRenameWorkspace","setDeleteWorkspace","displayPopUp","hidePopUp","focusElement","setContextMenuItem","removeContextMenuItem","setExpandPath","loadLocalhostError","loadLocalhostRequest","loadLocalhostSuccess","fsInitializationCompleted","examples","NO_WORKSPACE","setPlugin","addInputField","createWorkspace","closeAllFiles","createWorkspaceTemplate","getWorkspaces","workspaceCreated","loadWorkspacePreset","template","workspaceExists","atob","gistId","response","axios","setBatchFiles","errorLoadingFile","lastLoadedGistId","browserProvider","browser","workspacePath","workspacesPath","fetchWorkspaceDirectory","renameWorkspace","renameWorkspaceFromProvider","workspaceRenamed","deleteWorkspace","deleteWorkspaceFromProvider","workspaceDeleted","switchToWorkspace","clearWorkspace","uploadFile","targetFolder","loadFile","fileReader","FileReader","onload","readAsText","items","FileExplorerContextMenu","actions","hideContextMenu","pushChangesToGist","publishFileToGist","publishFolderToGist","copy","pageX","pageY","contextMenuRef","menuItemsContainer","boundary","getBoundingClientRect","innerHeight","clientHeight","filterItem","nonRootFocus","itemMatchesCondition","itemType","itemPath","RegExp","getPath","menu","left","FileExplorerMenu","menuItems","updateGist","fontWeight","FileExplorer","contextMenuItems","removedContextMenuItems","newFileName","contextMenuActions","focusContext","y","focusEdit","isNew","lastEdit","mouseOverElement","showContextMenu","reservedKeywords","copyElement","canPaste","setCanPaste","addMenuItems","removeMenuItems","keyPressHandler","shiftKey","keyUpHandler","multiselect","hasReservedKeyword","getFocusedFolder","newFilePath","dispatchCreateNewFile","newFolderPath","dispatchCreateNewFolder","readonly","deleteMessage","dispatchDeletePath","dispatchRenamePath","parentFolder","Set","dispatchHandleExpandPath","dispatchUploadFile","dispatchCopyFile","dispatchCopyFolder","toGist","dispatchPublishToGist","dispatchRunScript","dispatchEmitContextMenuEvent","dispatchHandleClickFile","dispatchSetFocusElement","handleClickFolder","dispatchFetchDirectory","handleContextMenu","editModeOn","editModeOff","dispatchRemoveInputField","handleNewFileInput","dispatchAddInputField","handleNewFolderInput","handleCopyClick","handlePasteClick","destType","handleFileExplorerMenuClick","getAttribute","FileLabel","isEditable","setIsEditable","labelRef","handleEditInput","handleEditBlur","FileRender","hover","setHover","setIcon","spreadProps","handleFolderClick","handleFileClick","textContent","handleMouseOut","handleMouseOver","FileSystemContext","FileSystemProvider","fs","fsDispatch","browserReducer","browserInitialState","focusModal","setFocusModal","modals","setModals","focusToaster","setFocusToaster","toasters","setToasters","dispatchInitWorkspace","dispatchCreateWorkspace","dispatchFetchWorkspaceDirectory","dispatchSwitchToWorkspace","dispatchRenameWorkspace","dispatchDeleteWorkspace","modalList","toasterList","notification","popup","handleToaster","messages","initializingFS","isRequestingDirectory","isSuccessfulDirectory","isRequestingWorkspace","isSuccessfulWorkspace","contextMenu","registeredMenuItems","removedMenuItems","sharedFolder","isRequestingLocalhost","isSuccessfulLocalhost","fetchDirectoryContent","fetchWorkspaceDirectoryContent","addContextMenuItem","_path","splitPath","unset","prevFiles","normalize","merge","filesList","newInputType","folders","pathArr","cur","registeredItems","removedItems","o","menuItem","sticky","canUpload","File","FileList","Blob","Workspace","global","workspaceRenameInput","workspaceCreateInput","resetFocus","switchWorkspace","renameCurrentWorkspace","renameModalMessage","onFinishRenameWorkspace","createModalMessage","onFinishCreateWorkspace","deleteCurrentWorkspace","onFinishDeleteWorkspace","Date","now","DebuggerApiMixin","Base","initDebuggerApi","debugHash","web3Provider","sendAsync","_web3","Web3","initialWeb3","remixDebug","extendWeb3","listener","onBreakpointClearedListener","onBreakpointAddedListener","onEditorContentChangedListener","onEnvChangedListener","onDebugRequestedListener","onRemoveHighlightsListener","traceHelper","isContractCreation","targetAddress","getCode","languageversion","webDebugNode","web3DebugNode","getTrace","traceManager","onDeactivation","off","showMessage","CompilerApiMixin","initCompilerApi","_view","warnCompilationSlow","errorContainer","contractEl","eventHandlers","onLoadingCompiler","unregister","onCompilerLoaded","onStartingCompilation","onRemoveAnnotations","onKeyDown","configFile","getCompilationResult","compileWithParameters","getCurrentCompilerConfig","compilerDetails","loadingUrl","isUrl","setCompilerConfig","resetResults","getSource","onThemeChanged","theme","img","getElementById","metaKey","isElectron","csjs","yo","Storage","RemixDProvider","HardhatProvider","Config","modalDialogCustom","modalDialog","FileManager","FileProvider","DGitProvider","WorkspaceFileProvider","toolTip","Blockchain","PluginManagerComponent","CompileTab","SettingsTab","AnalysisTab","DebuggerTab","TestTab","FilePanel","Editor","Terminal","ContextualListener","css","App","RemixAppManager","_components","splashScreen","centered","body","appendChild","configStorage","filesProviders","iconpanel","sidepanel","mainpanel","resizeFeature","PanelsResize","remixIDE","render","hostname","alert","pathname","hosts","onbeforeunload","pluginLoader","engine","RemixEngine","ThemeModule","initTheme","removeChild","dGitProvider","compilerMetadataGenerator","fetchAndCompile","networkModule","NetworkModule","Web3ProviderModule","hardhatProvider","terminal","limitUp","limitDown","newpos","contextualListener","appPanel","MainPanel","mainview","MainView","tabProxy","menuicons","VerticalIcons","sidePanel","SidePanel","hiddenPanel","HiddenPanel","pluginManagerComponent","filePanel","landingPage","LandingPage","onAcceptMatomo","updateMatomoAnalyticsChoice","parentElement","startWalkthroughService","onDeclineMatomo","walkthroughService","WalkthroughService","minimizeterminal","minimizesidepanel","matomoDomains","matomoBtn","compileTab","RunTab","analysis","remixdHandle","gitHandle","hardhatHandle","slitherHandle","registeredPlugins","registerContextMenuItems","deactivate","select","callDetails","framingService","FramingService","embed","module","exports","pluginsContainer","view","AbstractPanel","isIframe","tagName","plugItIn","showContent","HostPlugin","PluginManagerSettings","htmlElement","actives","listenOnEvent","renderComponent","ReactDOM","isFiltered","isNotRequired","isRequired","isNotDependent","isDependent","isNotHome","sortByName","profileA","profileB","nameA","toUpperCase","nameB","activatedPlugins","deactivatedPlugins","tempArray","getAll","sort","ViewPlugin","fromLocal","currentSetting","onValidation","method","permissionByToPlugin","toPlugin","funcObj","permissionByMethod","methodName","fromPlugins","togglePermission","fromPlugin","fromName","fromPluginPermission","checkbox","permissionKey","clearPersmission","permissionsByFunctions","clearAllPersmission","byToPlugin","permissionForm","openDialog","verticalIcons","renderHeader","unlinkContent","linkContent","docLink","getProfile","titleInfo","versionWarning","versionBadge","swapitHeader","swapitTitle","panel","globalRegistry","VERTICALMENU_HANDLE","icons","iconKind","iconStatus","addIcon","listenOnStatus","removeIcon","setIconStatus","c","toggle","itemContextMenu","classes","statusCheck","statusEl","querySelector","resolveClasses","images","querySelectorAll","im","currentActive","currentTheme","brightness","nextActive","image","updateActivations","removeActive","addActive","canDeactivatePlugin","Deactivate","links","Documentation","home","homeIcon","fileexplorer","udapp","testing","none","ContextView","localRegistry","_nodes","_current","previousElement","nodes","contextview","contextviewcontainer","container","_renderTarget","last","previous","isDefinition","declarationOf","_render","jumpToLine","lineColumn","gotoLine","getSourceCode","getAsts","nodeAtCursorPosition","references","referencesOf","typeDescriptions","typeString","nodeType","getActiveHighlights","k","nodeId","jump","dataset","_jumpToInternal","decode","showGasEstimation","gasEstimation","codeDepositCost","estimatedGas","gasStationIcon","referencesnb","AstWalker","EventManager","Declarations","FlatReferences","_activeHighlights","_stopHighlighting","astWalker","_buildIndex","setInterval","_highlightItems","referencedDeclaration","cursorPosition","currentPosition","nodesAtPosition","_highlightExpressions","walkFull","ast","eventId","_highlightInternal","fileTarget","highlights","_highlight","_loadContractInfos","fnName","_getInputParams","estimationObj","creationCost","scope","totalCost","parameters","j","_themes","light","dark","remixDark","sessions","readOnlySessions","previousInput","saveTimeout","emptySession","modes","sol","yul","mvir","js","py","vy","zok","lex","txt","rs","activated","_onChange","setCurrentContent","currentThemeType","keepDecorationsFor","clearAllDecorationsFor","_createSession","_getMode","_switchSession","incr","newSize","useWrapMode","col","typeOfDecoration","annotations","clearDecorationsByPlugin","currentRequest","addDecoration","highlightColor","scrollToLine","owner","ballot","ballotTest","deployWithWeb3","deployWithEthers","readme","ballot_test","JSZip","FormData","ipfsconfig","ipfsurl","globalIPFSConfig","remixIPFS","ipfsSources","remixFileSystem","absolutePath","corsProxy","http","onAuth","auth","username","password","git","getGitConfig","defaultBranch","branch","statusMatrix","checkout","remotes","listRemotes","currentBranch","branches","listBranches","remote","remotebranches","commit","sha","listFiles","filesInStaging","resolveRef","oid","readBlob","readBlobResult","checkIpfsConfig","ipfs","addRemote","deleteRemote","calculateLocalStorage","askUserPermission","permission","singleBranch","depth","parseInput","clone","remoteRef","author","email","pull","getDirectory","filesToSend","readFileSync","ob","addOptions","wrapWithDirectory","r","cid","pinataApiKey","pinataSecretApiKey","commits","tree","committer","today","toLocaleString","keyvalues","pinataOptions","post","maxBodyLength","headers","_boundary","pinata_api_key","pinata_secret_api_key","IpfsHash","hashToUnpin","chunk","dirname","createDirectories","writeFileSync","Buffer","Uint8Array","_lsTotal","_xLen","_x","hasOwnProperty","toFixed","local","importIPFSFiles","zip","generateAsync","strdirectories","ignore","directories","previouspath","finalPath","existsSync","mkdirSync","fileArray","fi","ENOENT","EISDIR","ENOTDIR","EEXIST","EPERM","createError","openedFiles","limitPluginScope","getPathFromUrl","_handleExists","_handleIsFile","setFileContent","getFileContent","customName","_handleIsDir","copiedFilePath","inDepthCopy","readdir","copiedFolderPath","createNonClashingDirNameAsync","newPathExists","createDir","filesProvider","browserExplorer","localhostExplorer","workspaceExplorer","fileChangedEvent","isFolder","fileRenamedEvent","fileRemovedEvent","fileAddedEvent","removeTabsOf","getCurrentFile","getFolder","switchFile","discard","newAbsolutePath","currentPath","closeFile","extractPathOf","canCall","required","time","_setFileInternal","syncEditor","fileProvider","createNonClashingNameWithPrefix","copyName","getUrlFromPath","openReadOnly","cancall","dirPaths","collectList","ls","filesSet","override","async","each","createNonClashingName","providerExternalsStorage","externalFolders","reverseKey","compilerImport","getNormalizedName","_exists","unprefixedpath","removePrefix","_normalizePath","currentCheck","statSync","stat","removeFile","readdirSync","curPath","rmdirSync","visitFile","visitFolder","_copyFolderToJsonInternal","unlinkSync","unprefixedoldPath","unprefixednewPath","renameSync","absPath","GitHandle","HardhatHandle","_appManager","_isReady","_readOnlyFiles","_readOnlyMode","filesContent","remixdEvents","_error","_registerEvent","copyToClipboard","RemixdHandle","connectToLocalhost","connection","canceled","intervalId","socket","readyState","clearInterval","remixdDialog","preInit","commandText","dialog","dialogParagraph","origin","remixdVersion","SlitherHandle","pathModule","isSubDirectory","relative","sep","unscoped","currentWorkspaceMetadata","TabProxy","mainPanel","unselectCurrentFile","contextView","showApp","displayEmptyReadOnlySession","_layout","offset","_terminalTopOffset","delta","_adjustLayout","listenOnNetWork","setListenOnNetwork","containerHeight","layout","tmp","mainPanelHeight","scroll2bottom","onmouseenter","renderTabsbar","altKey","switchNextTab","registerCommand","updateJournal","_handlers","loadedTabs","updateImgStyles","tabsApi","removeTab","addTab","newTabName","renameTab","switchTab","getElementsByClassName","tabName","switchTo","slash","tabPath","tempTitle","formatPath","titleLength","duplicateTabName","duplicateTabPath","duplicateTabFormatPath","duplicateTabTitle","editorFontSize","CommandInterpreterAPI","AutoCompletePopup","GistHandler","KONSOLES","fileImport","commandHelp","_api","_opts","lineLength","bar","term","journal","cli","cmdInterpreter","autoCompletePopup","shell","terminalApi","renderer","isSolidityActive","addTooltip","debuggerTabView","param","remixBleach","sanitize","blocked","prompt","hardhatProviderDialogBody","providers","HttpProvider","sendAsyncInternal","fork","jsonrpc","detectNetwork","currentProvider","IpcProvider","addProvider","removeProvider","ethJSUtil","confirmDialog","MultiParamManager","ContractDropdownUI","dropdownLogic","logCallback","runView","ipfsCheckedState","exEnvironment","listenToContextChange","loadType","compilerFullName","selectContractNames","getCompiledContracts","enableAtAddress","enableContractNames","setInputParamsPlaceHolder","compFails","networkName","savedConfig","setCheckedState","ipfsCheckbox","enable","atAddressButtonInput","isValidAddress","atAddress","errorIcon","loadFromAddress","ataddressinput","atAddressChanged","contractNames","abiLabel","toggleCheckedState","deployCheckBox","checkboxAlign","createPanel","deployDropdown","orLabel","contractNamesContainer","settingsLabel","subcontainer","button","atAddressSect","getSelectedContract","clickCallback","valArray","inputsValues","createInstance","createConstructorInstance","getConstructorInputs","bytecodeObject","compilerAtributeName","continueCb","continueTxExecution","cancelCb","promptCb","okCb","promptPassphrase","statusCb","finalCb","contractObject","addressToString","contractMetadata","compilerContracts","getCompilerContracts","confirmationCb","getConfirmationCb","isOverSizeLimit","deployContract","callbacks","deployContractAndLibraries","bytecodeLinkReferences","deployContractWithLibrary","amount","fromWei","determineGasFees","determineGasPrice","setUnpersistedProperty","gasPriceStatus","txFee","isValidChecksumAddress","loadContractFromAddress","confirm","DropdownLogic","listenToCompilationEvents","broadcastCompilationResult","confirmCb","getContract","constructorInteface","inputParametersDeclarationToString","getData","format","txFormat","Recorder","_listen","_replay","_createdContracts","_createdContractsReverse","_usedAccounts","_abis","_contractABIReferences","_linkReferences","payLoad","useCall","record","funArgs","contractABI","keccak","bufferToHex","keccakFromString","contractBytecode","creationTimestamp","funAbi","serializeInputs","thisarg","thistimestamp","getAccounts","accounts","txResult","_payload","rawAddress","clearAll","listen","stamp","extractTimestamp","records","A","B","stampA","stampB","abis","alertCb","logCallBack","newContractFn","setListen","eachOfSeries","resolveAddress","link","linkLibraryStandardFromlinkReferences","fnABI","getFallbackInterface","getReceiveInterface","getFunction","isString","encodeData","dataHex","runTx","txArray","RecorderUI","recorder","css2","runButton","runTxs","recordButton","triggerRecordButton","onclick","runScenario","saveScenario","txJSON","newFile","$","SettingsUI","lookupOnly","updateAccountBalances","onPersonalChange","accountListCallId","loadedAccounts","account","getBalanceInEther","balance","updated","shortenAddress","isNumeric","stopImmediatePropagation","valueEl","netUI","environmentEl","crow","environment","infoDeployAction","networkEl","accountEl","updatePlusButton","newAccount","signMessage","gasPriceEl","gasNval","col2","gasValueContainer","validateInputKey","validateValue","gasNvalUnit","col2_2","selectExEnv","setDropdown","silent","setFinalContext","networkProvider","getNetworkProvider","fillAccountsList","env","setExecutionContext","_getProviderDropdownValue","changeExecutionContext","web3ProviderDialogBody","setProviderFromEndpoint","alertMsg","thePath","getCurrentFork","plusBtn","plusTitle","disableMouseEvents","promptPassphraseCreation","passphrase","selectedOptions","signMessageDialog","inputvalue","$txOrigin","isInjectedWeb3","isWeb3Provider","promptMulti","msgHash","signedData","callid","txOrigin","loadedaddress","UnitTestRunner","assertLibCode","TestTabLogic","testRunner","hasBeenStopped","runningTestsNumber","readyTestsNumber","areTestsRunning","defaultPath","allFilesInvolved","isDebugging","currentErrors","updateRunAction","testTabLogic","setCurrentPath","accountsLibCode","createTestLibs","removeAllListeners","getTests","tests","allTests","selectedTests","updateTestFileList","testsOutput","updateForNewCurrent","errFiles","sourceLocation","clearResults","updateGenerateFileAction","testFile","toggleCheckbox","createSingleTest","eChecked","checkAll","runBtn","stopBtnInnerText","checkBoxes","checkboxesLabels","runningTests","logsArr","testName","finalLogs","formattedLog","hidden","debugBtn","debugTxHash","replaceAll","startDebug","testSuite","testSuites","rawFileName","runningTestFileName","cleanFileName","outputHeader","hhLogs","printHHLogs","testPass","testLog","assertMethod","highlightLocation","errMsg","preposition","expected","returned","_err","_errors","testCallback","setHeader","resultStatistics","createResultLabel","totalTime","parseFloat","totalPassing","totalFailing","isFailingLabel","testsExecutionStopped","testsExecutionStoppedError","stopBtn","stopBtnLabel","testFromSource","inputPath","updateDirList","runningTest","currentCompilerUrl","compilerConfig","usingWorker","runTestSources","testFilePath","updateFinalResult","deployCb","resultsCallback","trimTestDirInput","generateTestFolder","createTestFolder","uiPathList","runTest","generateTestFile","generateFileActionElement","runTests","labelOnBtn","listTests","runActionElement","stopTests","testsMessage","testList","testFilesListElement","dirList","option","testDirInput","pathExists","onActivationInternal","inputFolder","handleTestDirInput","handleEnter","handleCreateFolder","availablePaths","testTabView","infoBox","infoButton","updateStopAction","selectAll","remixPath","removeMultipleSlashes","removeTrailingSlashes","hasCurrent","splittedFileName","fileNameToImport","generateTestContractSample","isRemixDActive","filepath","fileToImport","basename","queryTheme","forced","nextTheme","head","insertBefore","next","EventsDecoder","transactionDetailsLinks","Main","Rinkeby","Ropsten","Kovan","Goerli","txDetailsLink","makeUdapp","logHtmlCallback","txhash","txLink","_transactionReceipts","transactionReceiptResolver","txlistener","getTxListener","resolveReceipt","startListening","Card","UniversalDAppUI","mainView","getTerminal","setupEvents","selectedAccount","settingsUI","getSelectedAccount","selectedEnvMode","networkEnvironment","createVMAccount","sendTransaction","pendingTransactionsCount","runTabView","contractDropdownUI","recorderCard","instanceContainer","instanceContainerTitle","noInstancesText","udappUI","changeCurrentFile","parentNode","renderInstanceFromABI","renderInstance","recorderCount","recorderInterface","collapsedView","expandedView","recorderDescription","transactionActions","arrow","resetAndInit","getAddress","selectedUnit","unit","utils","toWei","getGasLimit","renderInstanceContainer","renderSettings","renderDropdown","renderRecorder","renderRecorderCard","addPluginProvider","app","removePluginProvider","renderContainer","loadMore","renderProperties","renderObject","formatData","ul_tv","li","li_tv","caret","caret_tv","expanded","list","className","oncontextmenu","cursor_pointer","nodeAt","caretAt","labelAt","jsonTree","newTree","replaceChild","label_item","label_key","label_value","Commands","isOpen","_elementsToShow","autoComplete","autoCompleteItem","listHandlerHide","srcElement","pageNumberAlignment","Math","ceil","setUpPopUp","handleOpenPopup","handleListSize","listHandlerShow","removeAutoComplete","moveUp","moveDown","autoCompleteInput","program","keyValue","_events","cardBody","expandCollapseButton","statusBar","cardHeader","cardContainer","newGasPriceCb","initialParamsCb","onGasPriceChange","gasPrice","txFeeText","priceStatus","onMaxFeeChange","maxFee","confirmBtn","maxPriorityFee","lastBlock","txInfoBox","wrapword","toBN","gasPriceValue","linkItems","liitem","menuForLinks","getContent","copyIcon","themeQuality","adjustMediaPanel","hideMediaPanel","twitterFrame","media","badgeTwitter","mediaBadge","showMediaPanel","badgeMedium","twitterPanel","remixHomeMedia","mediumPanel","maxHeight","max","mediaPanelsTitle","mediaPanels","invertNum","solEnv","getElementsByTagName","optimismEnv","solhintEnv","learnEthEnv","sourcifyEnv","moreEnv","websiteIcon","load","service","startSolidity","startOptimism","startSolhint","startLearnEth","startSourceVerify","startPluginManager","startRestoreBackupZip","saveAs","blob","download","rel","href","URL","createObjectURL","revokeObjectURL","MouseEvent","evt","createEvent","initMouseEvent","downloadFiles","importFromGist","fixInvert","createLargeButton","imgPath","envID","envText","envButton","envLogo","cursorStyle","switchToPreviousVersion","appVersion","reload","migrate","onAcceptDownloadn","onDownload","onCancel","migrateWorkspace","migrationBtn","logoImg","playRemi","play","homeContainer","mainContent","hpSections","labelIt","bigLabelSize","rightPanel","panels","ok","prompt_text","validateInput","pointerEvents","incomingModal","focusSelector","agreed","footerIsActive","closeDiv","hideClose","okDiv","cancelDiv","modalTitle","setFocusOn","btn","okListener","cancelListener","focusTarget","setSelectionRange","toElement","modalContent","modalBody","modalFooterOk","modalFooterCancel","clickCallBack","evmBC","isDeploy","basicInputField","multiFields","contractActionsContainerSingle","contractActionsContainerMulti","makeMultiVal","multiValString","getMultiValsString","valStr","valArrayTest","elVal","valStringTest","inputJSON","multiInputs","multiArg","funcButton","instanceButton","methCaret","switchMethodViewOn","createMultiFields","multiOnClick","valsString","expandedButton","contractActionsContainerMultiInner","switchMethodViewOff","multiHeader","multiTitle","group","multiString","multiJSON","encodeObj","contractProperty","stateMutability","payable","hasArgs","notAllowWarning","PermissionHandler","_getFromLocal","removeItem","form","persistPermissions","openPermission","toName","remember","switchMode","rememberSwitch","imgFrom","imgTo","pluginsImages","pluginMessage","globlalRegistry","prototype","$pre","$error","prepend","ev","modalCustom","getCallBacksWithContext","fee","mul","getGasPrice","warnMessage","basicLogo","tooltipText","t","animation","animateTop","actionElement","defaultOptions","canShorten","Element","resolveFn","over","out","animateBottom","anim","offsetWidth","txCallBacks","decodeResponseToTreeView","fnabi","treeView","isBN","decodeResponse","noInstances","sortAbiFunction","instance","hidesub","shortAddress","titleExpander","toggleClass","nameNbuts","titleText","spanTitleText","udappClose","closeIcon","contractActionsWrapper","cActionsWrapper","getCallButton","calldataInput","llIError","lowLevelInteracions","sendData","setLLIError","fallback","receive","is0XPrefixed","isHexadecimal","runTransaction","outputOverride","isConstant","constant","multiParamManager","getInputs","contractActionsContainer","valArr","functionName","logMsg","callbacksInContext","outputCb","returnValue","callinfo","getCurrentNetworkStatus","runOrCallContractMethod","txExecution","Txlistener","TxRunner","TxRunnerWeb3","resultToRemixTx","helpers","txResultHelper","executionContext","ExecutionContext","web3Runner","isVM","personalMode","currentblockGasLimit","txRunner","runAsync","resetEnvironment","networkcallid","networkStatus","setupProviders","VMProvider","injected","InjectedProvider","NodeProvider","getCurrentProvider","buildData","createContract","runTxCallback","encodeConstructorCallAndLinkLibraries","doTypeConversion","determineGasFeesCb","calculateFee","infoCb","executionContextChange","isInjected","contractAbi","callType","_address","transactionContextAPI","stopListenOnLastBlock","listenOnLastBlock","_password","passwordPromptCb","pendingTxs","rawRun","getExecutionResultFromSimulator","transactionHash","execResult","queryValue","getAccount","RemixSimulatorProvider","Accounts","fromAddress","getHashFromTagBySimulator","eventName","getHHLogsForTx","hhlogs","vmError","checkVMError","ethereum","injectedProvider","blockGasLimitDefault","blockGasLimit","currentFork","mainNetGenesisHash","customNetWorks","blocks","latestBlockNumber","txs","customWeb3","askPermission","setContext","endPointUrl","setProvider","_updateChainContext","listenOnLastBlockId","floor","forkAt","endpoint","oldProvider","hashPersonalMessage","getBalance","_passphrase","messageHash","sign","Personal","privateToAddress","Provider","extend","setWeb3","privateKey","_addAccount","privKey","_passwordPromptCb","CONFIG_FILE","unpersistedItems","exception","getUnpersistedProperty","getAppPanel","clientWidth","hidePanel","showPanel","minimizeTerminal","CmdInterpreterAPI","callbackSource","request","_window","handleLoad","loadingFromGist","getGistId","str","idr","etherBalance","len","whilst","currentExist","hexValue","ghostbar","moveGhostbar","removeGhostbar","cancelGhostbar","dragbar","offsetLeft","panelWidth","calculatePanelWidth","ipfsVerifiedPublishCallBack","eachSeries","swarmVerifiedPublishCallBack","qs","search","parts","currentParams","queryString","updatedKeys","matcher","whitelist","analyze","matches","attrr","attrs","attr","attrName","attrValue","charAt","tag","full","encode_entities","he","encode","fileStorage","flag","fileStorageBrowserFS","migrateToWorkspace","processCreateWorkspace","populateWorkspace","publishOnSwarm","publishOnIpfs","publish","server","requiredModules","dependentModules","isNative","nativePlugins","pluginsDirectory","PluginLoader","permissionHandler","requestFrom","toggleActive","profiles","targets","savedPlugins","PluginManager","donotAutoReload","loaders","saved","currentLoader","queueTimeout","Engine","introJs","setOptions","intro","tooltipClass","onafterchange","targetElement","skipbutton"],"mappings":"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;ACAlgD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;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","file":"main.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeAnalysis = void 0;\nvar solidity_analyzer_1 = require(\"./solidity-analyzer\");\nObject.defineProperty(exports, \"CodeAnalysis\", { enumerable: true, get: function () { return __importDefault(solidity_analyzer_1).default; } });\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nconst list_1 = (0, tslib_1.__importDefault)(require(\"./modules/list\"));\nclass staticAnalysisRunner {\n    /**\n     * Run analysis (Used by IDE)\n     * @param compilationResult contract compilation result\n     * @param toRun module indexes (compiled from remix IDE)\n     * @param callback callback\n     */\n    run(compilationResult, toRun, callback) {\n        const modules = toRun.map((i) => {\n            const Module = this.modules()[i];\n            const m = new Module();\n            return { name: m.name, mod: m };\n        });\n        this.runWithModuleList(compilationResult, modules, callback);\n    }\n    /**\n     * Run analysis passing list of modules to run\n     * @param compilationResult contract compilation result\n     * @param modules analysis module\n     * @param callback callback\n     */\n    runWithModuleList(compilationResult, modules, callback) {\n        let reports = [];\n        // Also provide convenience analysis via the AST walker.\n        const walker = new remix_astwalker_1.AstWalker();\n        for (const k in compilationResult.sources) {\n            walker.walkFull(compilationResult.sources[k].ast, (node) => {\n                modules.map((item) => {\n                    if (item.mod.visit !== undefined) {\n                        try {\n                            item.mod.visit(node);\n                        }\n                        catch (e) {\n                            reports.push({\n                                name: item.name, report: [{ warning: 'INTERNAL ERROR in module ' + item.name + ' ' + e.message, error: e.stack }]\n                            });\n                        }\n                    }\n                });\n                return true;\n            });\n        }\n        // Here, modules can just collect the results from the AST walk,\n        // but also perform new analysis.\n        reports = reports.concat(modules.map((item) => {\n            let report = null;\n            try {\n                report = item.mod.report(compilationResult);\n            }\n            catch (e) {\n                report = [{ warning: 'INTERNAL ERROR in module ' + item.name + ' ' + e.message, error: e.stack }];\n            }\n            return { name: item.name, report: report };\n        }));\n        callback(reports);\n    }\n    /**\n     * Get list of all analysis modules\n     */\n    modules() {\n        return list_1.default;\n    }\n}\nexports.default = staticAnalysisRunner;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nclass abstractAstView {\n    constructor() {\n        this.contracts = [];\n        this.currentContractIndex = -1;\n        this.currentFunctionIndex = -1;\n        this.currentModifierIndex = -1;\n        this.isFunctionNotModifier = false;\n        /*\n          file1: contract c{}\n          file2: import \"file1\" as x; contract c{}\n          therefore we have two contracts with the same name c. At the moment this is not handled because alias name \"x\" is not\n          available in the current AST implementation thus can not be resolved.\n          Additionally the fullQuallified function names e.g. [contractName].[functionName](param1Type, param2Type, ... ) must be prefixed to\n          fully support this and when inheritance is resolved it must include alias resolving e.g x.c = file1.c\n        */\n        this.multipleContractsWithSameName = false;\n    }\n    /**\n   * Builds a higher level AST view. I creates a list with each contract as an object in it.\n   * Example contractsOut:\n   *\n   * {\n   *  \"node\": {},                     // actual AST Node of the contract\n   *  \"functions\": [\n   *    {\n   *      \"node\": {},                // actual AST Node of the function\n   *      \"relevantNodes\": [],       // AST nodes in the function that are relevant for the anlysis of this function\n   *      \"modifierInvocations\": [], // Modifier invocation AST nodes that are applied on this function\n   *      \"localVariables\": [],      // Local variable declaration nodes\n   *      \"parameters\": []           // Parameter types of the function in order of definition\n   *      \"returns\": []              // list of return vars as { type: ... , name: ... }\n   *    }\n   *  ],\n   *  \"modifiers\": [],              // Modifiers definded by the contract, format similar to functions\n   *  \"inheritsFrom\": [],           // Names of contract this one inherits from in order of definition\n   *  \"stateVariables\": []          // AST nodes of all State variables\n   * }\n   *\n   * @relevantNodeFilter {ASTNode -> bool} function that selects relevant ast nodes for analysis on function level.\n   * @contractsOut {list} return list for high level AST view\n   * @return {ASTNode -> void} returns a function that can be used as visit function for static analysis modules, to build up a higher level AST view for further analysis.\n   */\n    // eslint-disable-next-line camelcase\n    build_visit(relevantNodeFilter) {\n        return (node) => {\n            if (node.nodeType === 'ContractDefinition') {\n                this.setCurrentContract({\n                    node: node,\n                    functions: [],\n                    relevantNodes: [],\n                    modifiers: [],\n                    inheritsFrom: [],\n                    stateVariables: (0, staticAnalysisCommon_1.getStateVariableDeclarationsFromContractNode)(node)\n                });\n            }\n            else if (node.nodeType === 'InheritanceSpecifier') {\n                const currentContract = this.getCurrentContract();\n                const inheritsFromName = (0, staticAnalysisCommon_1.getInheritsFromName)(node);\n                currentContract.inheritsFrom.push(inheritsFromName);\n            }\n            else if (node.nodeType === 'FunctionDefinition') {\n                this.setCurrentFunction({\n                    node: node,\n                    relevantNodes: [],\n                    modifierInvocations: [],\n                    localVariables: this.getLocalVariables(node),\n                    parameters: this.getLocalParameters(node),\n                    returns: this.getReturnParameters(node)\n                });\n                // push back relevant nodes to their the current fn if any\n                this.getCurrentContract().relevantNodes.map((item) => {\n                    if (item.referencedDeclaration === node.id) {\n                        this.getCurrentFunction().relevantNodes.push(item.node);\n                    }\n                });\n            }\n            else if (node.nodeType === 'ModifierDefinition') {\n                this.setCurrentModifier({\n                    node: node,\n                    relevantNodes: [],\n                    localVariables: this.getLocalVariables(node),\n                    parameters: this.getLocalParameters(node)\n                });\n            }\n            else if (node.nodeType === 'ModifierInvocation') {\n                if (!this.isFunctionNotModifier)\n                    throw new Error('abstractAstView.js: Found modifier invocation outside of function scope.');\n                this.getCurrentFunction().modifierInvocations.push(node);\n            }\n            else if (relevantNodeFilter(node)) {\n                let scope = (this.isFunctionNotModifier) ? this.getCurrentFunction() : this.getCurrentModifier();\n                if (scope) {\n                    scope.relevantNodes.push(node);\n                }\n                else {\n                    scope = this.getCurrentContract(); // if we are not in a function scope, add the node to the contract scope\n                    if (scope && node.referencedDeclaration) {\n                        scope.relevantNodes.push({ referencedDeclaration: node.referencedDeclaration, node: node });\n                    }\n                }\n            }\n        };\n    }\n    // eslint-disable-next-line camelcase\n    build_report(wrap) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        return (compilationResult) => {\n            const solVersion = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResult.contracts);\n            this.resolveStateVariablesInHierarchy(this.contracts);\n            return wrap(this.contracts, this.multipleContractsWithSameName, solVersion);\n        };\n    }\n    resolveStateVariablesInHierarchy(contracts) {\n        contracts.map((c) => {\n            this.resolveStateVariablesInHierarchyForContract(c, contracts);\n        });\n    }\n    resolveStateVariablesInHierarchyForContract(currentContract, contracts) {\n        currentContract.inheritsFrom.map((inheritsFromName) => {\n            // add variables from inherited contracts\n            const inheritsFrom = contracts.find((contract) => (0, staticAnalysisCommon_1.getContractName)(contract.node) === inheritsFromName);\n            if (inheritsFrom) {\n                currentContract.stateVariables = currentContract.stateVariables.concat(inheritsFrom.stateVariables);\n            }\n            else {\n                console.log('abstractAstView.js: could not find contract defintion inherited from ' + inheritsFromName);\n            }\n        });\n    }\n    setCurrentContract(contract) {\n        const name = (0, staticAnalysisCommon_1.getContractName)(contract.node);\n        if (this.contracts.map((c) => (0, staticAnalysisCommon_1.getContractName)(c.node)).filter((n) => n === name).length > 0) {\n            console.log('abstractAstView.js: two or more contracts with the same name dectected, import aliases not supported at the moment');\n            this.multipleContractsWithSameName = true;\n        }\n        this.currentContractIndex = (this.contracts.push(contract) - 1);\n    }\n    setCurrentFunction(func) {\n        this.isFunctionNotModifier = true;\n        this.currentFunctionIndex = (this.getCurrentContract().functions.push(func) - 1);\n    }\n    setCurrentModifier(modi) {\n        this.isFunctionNotModifier = false;\n        this.currentModifierIndex = (this.getCurrentContract().modifiers.push(modi) - 1);\n    }\n    getCurrentContract() {\n        return this.contracts[this.currentContractIndex];\n    }\n    getCurrentFunction() {\n        return this.getCurrentContract().functions[this.currentFunctionIndex];\n    }\n    getCurrentModifier() {\n        return this.getCurrentContract().modifiers[this.currentModifierIndex];\n    }\n    getLocalParameters(funcNode) {\n        return (0, staticAnalysisCommon_1.getFunctionOrModifierDefinitionParameterPart)(funcNode).parameters.map(staticAnalysisCommon_1.getType);\n    }\n    getReturnParameters(funcNode) {\n        return this.getLocalVariables((0, staticAnalysisCommon_1.getFunctionDefinitionReturnParameterPart)(funcNode)).map((n) => {\n            return {\n                type: (0, staticAnalysisCommon_1.getType)(n),\n                name: (0, staticAnalysisCommon_1.getDeclaredVariableName)(n)\n            };\n        });\n    }\n    getLocalVariables(funcNode) {\n        const locals = [];\n        new remix_astwalker_1.AstWalker().walkFull(funcNode, (node) => {\n            if (node.nodeType === 'VariableDeclaration')\n                locals.push(node);\n            return true;\n        });\n        return locals;\n    }\n}\nexports.default = abstractAstView;\n//# sourceMappingURL=abstractAstView.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n  * Should be used to categorize different modules, main reason is to give users feedback if the modules\n  * Produce exact results or have false positives and negatives in them\n  * A further category could be approximate if some form of approximation is used\n*/\nexports.default = {\n    EXACT: { hasFalsePositives: false, hasFalseNegatives: false, id: 'EXACT' },\n    HEURISTIC: { hasFalsePositives: true, hasFalseNegatives: true, id: 'HEURI' }\n};\n//# sourceMappingURL=algorithmCategories.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass assignAndCompare {\n    constructor() {\n        this.warningNodes = [];\n        this.name = 'Result not used: ';\n        this.description = 'The result of an operation not used';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((node === null || node === void 0 ? void 0 : node.nodeType) && (0, staticAnalysisCommon_1.isSubScopeWithTopLevelUnAssignedBinOp)(node))\n            (0, staticAnalysisCommon_1.getUnAssignedTopLevelBinOps)(node).forEach((n) => this.warningNodes.push(n));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        return this.warningNodes.map((item) => {\n            return {\n                warning: 'A binary operation yields a value that is not used further. This is often caused by confusing assignment (=) and comparison (==).',\n                location: item.src\n            };\n        });\n    }\n}\nexports.default = assignAndCompare;\n//# sourceMappingURL=assignAndCompare.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass blockBlockhash {\n    constructor() {\n        this.warningNodes = [];\n        this.name = 'Block hash: ';\n        this.description = 'Can be influenced by miners';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if (node.nodeType === 'FunctionCall' && (0, staticAnalysisCommon_1.isBlockBlockHashAccess)(node))\n            this.warningNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        return this.warningNodes.map((item) => {\n            return {\n                warning: `Use of \"blockhash\": \"blockhash(uint blockNumber)\" is used to access the last 256 block hashes. \n                  A miner computes the block hash by \"summing up\" the information in the current block mined. \n                  By \"summing up\" the information cleverly, a miner can try to influence the outcome of a transaction in the current block. \n                  This is especially easy if there are only a small number of equally likely outcomes.`,\n                location: item.src\n            };\n        });\n    }\n}\nexports.default = blockBlockhash;\n//# sourceMappingURL=blockBlockhash.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass blockTimestamp {\n    constructor() {\n        this.warningNowNodes = [];\n        this.warningblockTimestampNodes = [];\n        this.name = 'Block timestamp: ';\n        this.description = 'Can be influenced by miners';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if (node.nodeType === 'Identifier' && (0, staticAnalysisCommon_1.isNowAccess)(node))\n            this.warningNowNodes.push(node);\n        else if (node.nodeType === 'MemberAccess' && (0, staticAnalysisCommon_1.isBlockTimestampAccess)(node))\n            this.warningblockTimestampNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.warningNowNodes.map((item, i) => {\n            return {\n                warning: `Use of \"now\": \"now\" does not mean current time. \"now\" is an alias for \"block.timestamp\". \n                  \"block.timestamp\" can be influenced by miners to a certain degree, be careful.`,\n                location: item.src,\n                more: `https://solidity.readthedocs.io/en/${version}/units-and-global-variables.html?highlight=block.timestamp#block-and-transaction-properties`\n            };\n        }).concat(this.warningblockTimestampNodes.map((item) => {\n            return {\n                warning: `Use of \"block.timestamp\": \"block.timestamp\" can be influenced by miners to a certain degree. \n                  That means that a miner can \"choose\" the block.timestamp, to a certain degree, to change the outcome of a transaction in the mined block.`,\n                location: item.src,\n                more: `https://solidity.readthedocs.io/en/${version}/units-and-global-variables.html?highlight=block.timestamp#block-and-transaction-properties`\n            };\n        }));\n    }\n}\nexports.default = blockTimestamp;\n//# sourceMappingURL=blockTimestamp.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    SECURITY: { displayName: 'Security', id: 'SEC' },\n    GAS: { displayName: 'Gas & Economy', id: 'GAS' },\n    MISC: { displayName: 'Miscellaneous', id: 'MISC' },\n    ERC: { displayName: 'ERC', id: 'ERC' }\n};\n//# sourceMappingURL=categories.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst functionCallGraph_1 = require(\"./functionCallGraph\");\nconst abstractAstView_1 = (0, tslib_1.__importDefault)(require(\"./abstractAstView\"));\nclass checksEffectsInteraction {\n    constructor() {\n        this.name = 'Check-effects-interaction: ';\n        this.description = 'Potential reentrancy bugs';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.HEURISTIC;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.abstractAst = new abstractAstView_1.default();\n        this.visit = this.abstractAst.build_visit((node) => (node.nodeType === 'FunctionCall' && ((0, staticAnalysisCommon_1.isInteraction)(node) || (0, staticAnalysisCommon_1.isLocalCallGraphRelevantNode)(node))) ||\n            ((node.nodeType === 'Assignment' || node.nodeType === 'UnaryOperation' || node.nodeType === 'InlineAssembly') && (0, staticAnalysisCommon_1.isEffect)(node)));\n        this.report = this.abstractAst.build_report(this._report.bind(this));\n    }\n    _report(contracts, multipleContractsWithSameName, version) {\n        const warnings = [];\n        const hasModifiers = contracts.some((item) => item.modifiers.length > 0);\n        const callGraph = (0, functionCallGraph_1.buildGlobalFuncCallGraph)(contracts);\n        contracts.forEach((contract) => {\n            contract.functions.forEach((func) => {\n                func['changesState'] = this.checkIfChangesState((0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, func.node, func.parameters), this.getContext(callGraph, contract, func));\n            });\n            contract.functions.forEach((func) => {\n                if (this.isPotentialVulnerableFunction(func, this.getContext(callGraph, contract, func))) {\n                    const funcName = (0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, func.node, func.parameters);\n                    let comments = (hasModifiers) ? 'Note: Modifiers are currently not considered by this static analysis.' : '';\n                    comments += (multipleContractsWithSameName) ? 'Note: Import aliases are currently not supported by this static analysis.' : '';\n                    warnings.push({\n                        warning: `Potential violation of Checks-Effects-Interaction pattern in ${funcName}: Could potentially lead to re-entrancy vulnerability. ${comments}`,\n                        location: func.node.src,\n                        more: `https://solidity.readthedocs.io/en/${version}/security-considerations.html#re-entrancy`\n                    });\n                }\n            });\n        });\n        return warnings;\n    }\n    getContext(callGraph, currentContract, func) {\n        return { callGraph: callGraph, currentContract: currentContract, stateVariables: this.getStateVariables(currentContract, func) };\n    }\n    getStateVariables(contract, func) {\n        return contract.stateVariables.concat(func.localVariables.filter(staticAnalysisCommon_1.isStorageVariableDeclaration));\n    }\n    isPotentialVulnerableFunction(func, context) {\n        let isPotentialVulnerable = false;\n        let interaction = false;\n        func.relevantNodes.forEach((node) => {\n            if ((0, staticAnalysisCommon_1.isInteraction)(node)) {\n                interaction = true;\n            }\n            else if (interaction && ((0, staticAnalysisCommon_1.isWriteOnStateVariable)(node, context.stateVariables) || this.isLocalCallWithStateChange(node, context))) {\n                isPotentialVulnerable = true;\n            }\n        });\n        return isPotentialVulnerable;\n    }\n    isLocalCallWithStateChange(node, context) {\n        if ((0, staticAnalysisCommon_1.isLocalCallGraphRelevantNode)(node)) {\n            const func = (0, functionCallGraph_1.resolveCallGraphSymbol)(context.callGraph, (0, staticAnalysisCommon_1.getFullQualifiedFunctionCallIdent)(context.currentContract.node, node));\n            return !func || (func && func.node['changesState']);\n        }\n        return false;\n    }\n    checkIfChangesState(startFuncName, context) {\n        return (0, functionCallGraph_1.analyseCallGraph)(context.callGraph, startFuncName, context, (node, context) => (0, staticAnalysisCommon_1.isWriteOnStateVariable)(node, context.stateVariables));\n    }\n}\nexports.default = checksEffectsInteraction;\n//# sourceMappingURL=checksEffectsInteraction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst functionCallGraph_1 = require(\"./functionCallGraph\");\nconst abstractAstView_1 = (0, tslib_1.__importDefault)(require(\"./abstractAstView\"));\nclass constantFunctions {\n    constructor() {\n        this.name = 'Constant/View/Pure functions: ';\n        this.description = 'Potentially constant/view/pure functions';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.HEURISTIC;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.abstractAst = new abstractAstView_1.default();\n        this.visit = this.abstractAst.build_visit((node) => (0, staticAnalysisCommon_1.isLowLevelCall)(node) ||\n            (0, staticAnalysisCommon_1.isTransfer)(node) ||\n            (0, staticAnalysisCommon_1.isExternalDirectCall)(node) ||\n            (0, staticAnalysisCommon_1.isEffect)(node) ||\n            (0, staticAnalysisCommon_1.isLocalCallGraphRelevantNode)(node) ||\n            node.nodeType === 'InlineAssembly' ||\n            node.nodeType === 'NewExpression' ||\n            (0, staticAnalysisCommon_1.isSelfdestructCall)(node) ||\n            (0, staticAnalysisCommon_1.isDeleteUnaryOperation)(node));\n        this.report = this.abstractAst.build_report(this._report.bind(this));\n    }\n    _report(contracts, multipleContractsWithSameName, version) {\n        const warnings = [];\n        const hasModifiers = contracts.some((item) => item.modifiers.length > 0);\n        const callGraph = (0, functionCallGraph_1.buildGlobalFuncCallGraph)(contracts);\n        contracts.forEach((contract) => {\n            contract.functions.forEach((func) => {\n                if ((0, staticAnalysisCommon_1.isPayableFunction)(func.node) || (0, staticAnalysisCommon_1.isConstructor)(func.node)) {\n                    func['potentiallyshouldBeConst'] = false;\n                }\n                else {\n                    func['potentiallyshouldBeConst'] = this.checkIfShouldBeConstant((0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, func.node, func.parameters), this.getContext(callGraph, contract, func));\n                }\n            });\n            contract.functions.filter((func) => (0, staticAnalysisCommon_1.hasFunctionBody)(func.node)).forEach((func) => {\n                if ((0, staticAnalysisCommon_1.isConstantFunction)(func.node) !== func['potentiallyshouldBeConst']) {\n                    const funcName = (0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, func.node, func.parameters);\n                    let comments = (hasModifiers) ? 'Note: Modifiers are currently not considered by this static analysis.' : '';\n                    comments += (multipleContractsWithSameName) ? 'Note: Import aliases are currently not supported by this static analysis.' : '';\n                    if (func['potentiallyshouldBeConst']) {\n                        warnings.push({\n                            warning: `${funcName} : Potentially should be constant/view/pure but is not. ${comments}`,\n                            location: func.node.src,\n                            more: `https://solidity.readthedocs.io/en/${version}/contracts.html#view-functions`\n                        });\n                    }\n                    else {\n                        warnings.push({\n                            warning: `${funcName} : Is constant but potentially should not be. ${comments}`,\n                            location: func.node.src,\n                            more: `https://solidity.readthedocs.io/en/${version}/contracts.html#view-functions`\n                        });\n                    }\n                }\n            });\n        });\n        return warnings;\n    }\n    getContext(callGraph, currentContract, func) {\n        return { callGraph: callGraph, currentContract: currentContract, stateVariables: this.getStateVariables(currentContract, func) };\n    }\n    getStateVariables(contract, func) {\n        return contract.stateVariables.concat(func.localVariables.filter(staticAnalysisCommon_1.isStorageVariableDeclaration));\n    }\n    checkIfShouldBeConstant(startFuncName, context) {\n        return !(0, functionCallGraph_1.analyseCallGraph)(context.callGraph, startFuncName, context, this.isConstBreaker.bind(this));\n    }\n    isConstBreaker(node, context) {\n        return (0, staticAnalysisCommon_1.isWriteOnStateVariable)(node, context.stateVariables) ||\n            (0, staticAnalysisCommon_1.isLowLevelCall)(node) ||\n            (0, staticAnalysisCommon_1.isTransfer)(node) ||\n            this.isCallOnNonConstExternalInterfaceFunction(node, context) ||\n            (0, staticAnalysisCommon_1.isCallToNonConstLocalFunction)(node) ||\n            node.nodeType === 'InlineAssembly' ||\n            node.nodeType === 'NewExpression' ||\n            (0, staticAnalysisCommon_1.isSelfdestructCall)(node) ||\n            (0, staticAnalysisCommon_1.isDeleteUnaryOperation)(node);\n    }\n    isCallOnNonConstExternalInterfaceFunction(node, context) {\n        if ((0, staticAnalysisCommon_1.isExternalDirectCall)(node)) {\n            const func = (0, functionCallGraph_1.resolveCallGraphSymbol)(context.callGraph, (0, staticAnalysisCommon_1.getFullQualifiedFunctionCallIdent)(context.currentContract.node, node));\n            return !func || (func && !(0, staticAnalysisCommon_1.isConstantFunction)(func.node.node));\n        }\n        return false;\n    }\n}\nexports.default = constantFunctions;\n//# sourceMappingURL=constantFunctions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass deleteDynamicArrays {\n    constructor() {\n        this.rel = [];\n        this.name = 'Delete dynamic array: ';\n        this.description = 'Use require/assert to ensure complete deletion';\n        this.category = categories_1.default.GAS;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((0, staticAnalysisCommon_1.isDeleteOfDynamicArray)(node))\n            this.rel.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.rel.map((node) => {\n            return {\n                warning: 'The \"delete\" operation when applied to a dynamically sized array in Solidity generates code to delete each of the elements contained. If the array is large, this operation can surpass the block gas limit and raise an OOG exception. Also nested dynamically sized objects can produce the same results.',\n                location: node.src,\n                more: `https://solidity.readthedocs.io/en/${version}/types.html#delete`\n            };\n        });\n    }\n}\nexports.default = deleteDynamicArrays;\n//# sourceMappingURL=deleteDynamicArrays.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass deleteFromDynamicArray {\n    constructor() {\n        this.relevantNodes = [];\n        this.name = 'Delete from dynamic array: ';\n        this.description = '\\'delete\\' leaves a gap in array';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((0, staticAnalysisCommon_1.isDeleteFromDynamicArray)(node) && !(0, staticAnalysisCommon_1.isMappingIndexAccess)(node.subExpression))\n            this.relevantNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        return this.relevantNodes.map((node) => {\n            return {\n                warning: 'Using \"delete\" on an array leaves a gap. The length of the array remains the same. If you want to remove the empty position you need to shift items manually and update the \"length\" property.',\n                location: node.src,\n                more: 'https://github.com/miguelmota/solidity-idiosyncrasies#examples'\n            };\n        });\n    }\n}\nexports.default = deleteFromDynamicArray;\n//# sourceMappingURL=deleteFromDynamicArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst abstractAstView_1 = (0, tslib_1.__importDefault)(require(\"./abstractAstView\"));\nclass erc20Decimals {\n    constructor() {\n        this.name = 'ERC20: ';\n        this.description = '\\'decimals\\' should be \\'uint8\\'';\n        this.category = categories_1.default.ERC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.abstractAst = new abstractAstView_1.default();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.visit = this.abstractAst.build_visit((node) => false);\n        this.report = this.abstractAst.build_report(this._report.bind(this));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _report(contracts, multipleContractsWithSameName) {\n        const warnings = [];\n        contracts.forEach((contract) => {\n            const contractAbiSignatures = contract.functions.map((f) => staticAnalysisCommon_1.helpers.buildAbiSignature((0, staticAnalysisCommon_1.getFunctionDefinitionName)(f.node), f.parameters));\n            if (this.isERC20(contractAbiSignatures)) {\n                const decimalsVar = contract.stateVariables.filter((stateVar) => (0, staticAnalysisCommon_1.getDeclaredVariableName)(stateVar) === 'decimals' && ((0, staticAnalysisCommon_1.getDeclaredVariableType)(stateVar) !== 'uint8' || stateVar.visibility !== 'public'));\n                const decimalsFun = contract.functions.filter((f) => (0, staticAnalysisCommon_1.getFunctionDefinitionName)(f.node) === 'decimals' &&\n                    ((f.returns.length === 0 || f.returns.length > 1) ||\n                        (f.returns.length === 1 && (f.returns[0].type !== 'uint8' || f.node.visibility !== 'public'))));\n                if (decimalsVar.length > 0) {\n                    for (const node of decimalsVar) {\n                        warnings.push({\n                            warning: 'ERC20 contract\\'s \"decimals\" variable should be \"uint8\" type',\n                            location: node.src,\n                            more: 'https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md#decimals'\n                        });\n                    }\n                }\n                else if (decimalsFun.length > 0) {\n                    for (const fn of decimalsFun) {\n                        warnings.push({\n                            warning: 'ERC20 contract\\'s \"decimals\" function should have \"uint8\" as return type',\n                            location: fn.node.src,\n                            more: 'https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md#decimals'\n                        });\n                    }\n                }\n            }\n        });\n        return warnings;\n    }\n    isERC20(funSignatures) {\n        return funSignatures.includes('totalSupply()') &&\n            funSignatures.includes('balanceOf(address)') &&\n            funSignatures.includes('transfer(address,uint256)') &&\n            funSignatures.includes('transferFrom(address,address,uint256)') &&\n            funSignatures.includes('approve(address,uint256)') &&\n            funSignatures.includes('allowance(address,address)');\n    }\n}\nexports.default = erc20Decimals;\n//# sourceMappingURL=erc20Decimals.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass etherTransferInLoop {\n    constructor() {\n        this.relevantNodes = [];\n        this.name = 'Ether transfer in loop: ';\n        this.description = 'Transferring Ether in a for/while/do-while loop';\n        this.category = categories_1.default.GAS;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        let transferNodes = [];\n        if ((0, staticAnalysisCommon_1.isLoop)(node)) {\n            if (node.body && node.body.nodeType === 'Block') {\n                transferNodes = node.body.statements.filter(child => (child.nodeType === 'ExpressionStatement' &&\n                    child.expression.nodeType === 'FunctionCall' &&\n                    (0, staticAnalysisCommon_1.isTransfer)(child.expression.expression)));\n            }\n            else if (node.body && node.body.nodeType === 'ExpressionStatement' && node.body.expression.nodeType === 'FunctionCall' && (0, staticAnalysisCommon_1.isTransfer)(node.body.expression.expression)) {\n                transferNodes.push(node.body);\n            }\n            // When loop body is described without braces\n            if (transferNodes.length > 0) {\n                this.relevantNodes.push(...transferNodes);\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.relevantNodes.map((node) => {\n            return {\n                warning: 'Ether payout should not be done in a loop: Due to the block gas limit, transactions can only consume a certain amount of gas. The number of iterations in a loop can grow beyond the block gas limit which can cause the complete contract to be stalled at a certain point. If required then make sure that number of iterations are low and you trust each address involved.',\n                location: node.src,\n                more: `https://solidity.readthedocs.io/en/${version}/security-considerations.html#gas-limit-and-loops`\n            };\n        });\n    }\n}\nexports.default = etherTransferInLoop;\n//# sourceMappingURL=etherTransferInLoop.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass forLoopIteratesOverDynamicArray {\n    constructor() {\n        this.relevantNodes = [];\n        this.name = 'For loop over dynamic array: ';\n        this.description = 'Iterations depend on dynamic array\\'s size';\n        this.category = categories_1.default.GAS;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        const { condition } = node;\n        // Check if condition is `i < array.length - 1`\n        if ((condition && condition.nodeType === 'BinaryOperation' && condition.rightExpression.nodeType === 'BinaryOperation' && (0, staticAnalysisCommon_1.isDynamicArrayLengthAccess)(condition.rightExpression.leftExpression)) ||\n            // or condition is `i < array.length`\n            (condition && condition.nodeType === 'BinaryOperation' && (0, staticAnalysisCommon_1.isDynamicArrayLengthAccess)(condition.rightExpression))) {\n            this.relevantNodes.push(node);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.relevantNodes.map((node) => {\n            return {\n                warning: 'Loops that do not have a fixed number of iterations, for example, loops that depend on storage values, have to be used carefully. Due to the block gas limit, transactions can only consume a certain amount of gas. The number of iterations in a loop can grow beyond the block gas limit which can cause the complete contract to be stalled at a certain point. \\n Additionally, using unbounded loops incurs in a lot of avoidable gas costs. Carefully test how many items at maximum you can pass to such functions to make it successful.',\n                location: node.src,\n                more: `https://solidity.readthedocs.io/en/${version}/security-considerations.html#gas-limit-and-loops`\n            };\n        });\n    }\n}\nexports.default = forLoopIteratesOverDynamicArray;\n//# sourceMappingURL=forLoopIteratesOverDynamicArray.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveCallGraphSymbol = exports.analyseCallGraph = exports.buildGlobalFuncCallGraph = void 0;\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nfunction buildLocalFuncCallGraphInternal(functions, nodeFilter, extractNodeIdent, extractFuncDefIdent) {\n    const callGraph = {};\n    functions.forEach((func) => {\n        const calls = func.relevantNodes\n            .filter(nodeFilter)\n            .map(extractNodeIdent)\n            .filter((name) => name !== extractFuncDefIdent(func)); // filter self recursive call\n        callGraph[extractFuncDefIdent(func)] = { node: func, calls: calls };\n    });\n    return callGraph;\n}\n/**\n * Builds a function call graph for the current contracts.\n * Example Contract call graph:\n *\n * {\n *  \"KingOfTheEtherThrone\": {\n *    \"contracts\": {...},                                        // Contract node as defined in abstractAstView.js\n *    \"functions\": {\n *      \"KingOfTheEtherThrone.claimThrone(string memory)\": {    // function in KingOfEtherThrone\n *        \"node\": {...},                                        // function node as defined in abstractAstView.js\n *        \"calls\": {                                            // list of full qualified function names which are called form this function\n *        }\n *      }\n *    }\n *  },\n *  \"foo\": {\n *    \"contract\": {...},           // Contract node as definded in abstractAstView.js\n *    \"functions\": {}             // map from full qualified function name to func node\n *  }\n * }\n *\n * @contracts {list contracts} Expects as input the contract structure defined in abstractAstView.js\n * @return {map (string -> Contract Call Graph)} returns map from contract name to contract call graph\n */\nfunction buildGlobalFuncCallGraph(contracts) {\n    const callGraph = {};\n    contracts.forEach((contract) => {\n        const filterNodes = (node) => { return (0, staticAnalysisCommon_1.isLocalCallGraphRelevantNode)(node) || (0, staticAnalysisCommon_1.isExternalDirectCall)(node); };\n        const getNodeIdent = (node) => { return (0, staticAnalysisCommon_1.getFullQualifiedFunctionCallIdent)(contract.node, node); };\n        const getFunDefIdent = (funcDef) => { return (0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, funcDef.node, funcDef.parameters); };\n        callGraph[(0, staticAnalysisCommon_1.getContractName)(contract.node)] = { contract: contract, functions: buildLocalFuncCallGraphInternal(contract.functions, filterNodes, getNodeIdent, getFunDefIdent) };\n    });\n    return callGraph;\n}\nexports.buildGlobalFuncCallGraph = buildGlobalFuncCallGraph;\n/**\n * Walks through the call graph from a defined starting function, true if nodeCheck holds for every relevant node in the callgraph\n * @callGraph {callGraph} As returned by buildGlobalFuncCallGraph\n * @funcName {string} full qualified name of the starting function\n * @context {Object} provides additional context information that can be used by the nodeCheck function\n * @nodeCheck {(ASTNode, context) -> bool} applied on every relevant node in the call graph\n * @return {bool} returns map from contract name to contract call graph\n */\nfunction analyseCallGraph(callGraph, funcName, context, nodeCheck) {\n    return analyseCallGraphInternal(callGraph, funcName, context, (a, b) => a || b, nodeCheck, {});\n}\nexports.analyseCallGraph = analyseCallGraph;\nfunction analyseCallGraphInternal(callGraph, funcName, context, combinator, nodeCheck, visited) {\n    const current = resolveCallGraphSymbol(callGraph, funcName);\n    if (current === undefined || visited[funcName] === true)\n        return true;\n    visited[funcName] = true;\n    return combinator(current.node.relevantNodes.reduce((acc, val) => combinator(acc, nodeCheck(val, context)), false), current.calls.reduce((acc, val) => combinator(acc, analyseCallGraphInternal(callGraph, val, context, combinator, nodeCheck, visited)), false));\n}\nfunction resolveCallGraphSymbol(callGraph, funcName) {\n    return resolveCallGraphSymbolInternal(callGraph, funcName, false);\n}\nexports.resolveCallGraphSymbol = resolveCallGraphSymbol;\nfunction resolveCallGraphSymbolInternal(callGraph, funcName, silent) {\n    let current = null;\n    if (funcName.includes('.')) {\n        const parts = funcName.split('.');\n        const contractPart = parts[0];\n        const functionPart = parts[1];\n        const currentContract = callGraph[contractPart];\n        if (!(currentContract === undefined)) {\n            current = currentContract.functions[funcName];\n            // resolve inheritance hierarchy\n            if (current === undefined) {\n                // resolve inheritance lookup in linearized fashion\n                const inheritsFromNames = currentContract.contract.inheritsFrom.reverse();\n                for (let i = 0; i < inheritsFromNames.length; i++) {\n                    const res = resolveCallGraphSymbolInternal(callGraph, inheritsFromNames[i] + '.' + functionPart, true);\n                    if (!(res === undefined))\n                        return res;\n                }\n            }\n        }\n        else {\n            if (!silent)\n                console.log(`static analysis functionCallGraph.js: Contract ${contractPart} not found in function call graph.`);\n        }\n    }\n    else {\n        throw new Error('functionCallGraph.js: function does not have full qualified name.');\n    }\n    if (current === undefined && !silent)\n        console.log(`static analysis functionCallGraph.js: ${funcName} not found in function call graph.`);\n    if (current !== null) {\n        return current;\n    }\n}\n//# sourceMappingURL=functionCallGraph.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass gasCosts {\n    constructor() {\n        this.name = 'Gas costs: ';\n        this.description = 'Too high gas requirement of functions';\n        this.category = categories_1.default.GAS;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.warningNodes = [];\n    }\n    visit(node) {\n        if ((node.nodeType === 'FunctionDefinition' && node.kind !== 'constructor' && node.implemented) ||\n            (node.nodeType === 'VariableDeclaration' && (0, staticAnalysisCommon_1.isVariableTurnedIntoGetter)(node))) {\n            this.warningNodes.push(node);\n        }\n    }\n    report(compilationResults) {\n        const report = [];\n        const methodsWithSignature = this.warningNodes.map(node => {\n            let signature;\n            if (node.nodeType === 'FunctionDefinition') {\n                const functionName = (0, staticAnalysisCommon_1.getFunctionDefinitionName)(node);\n                signature = staticAnalysisCommon_1.helpers.buildAbiSignature(functionName, (0, staticAnalysisCommon_1.getMethodParamsSplittedTypeDesc)(node, compilationResults.contracts));\n            }\n            else {\n                signature = node.name + '()';\n            }\n            return {\n                name: node.name,\n                src: node.src,\n                signature: signature\n            };\n        });\n        for (const method of methodsWithSignature) {\n            for (const filename in compilationResults.contracts) {\n                for (const contractName in compilationResults.contracts[filename]) {\n                    const contract = compilationResults.contracts[filename][contractName];\n                    const methodGas = this.checkMethodGas(contract, method.signature);\n                    if (methodGas && methodGas.isInfinite) {\n                        if (methodGas.isFallback) {\n                            report.push({\n                                warning: `Fallback function of contract ${contractName} requires too much gas (${methodGas.msg}). \n                If the fallback function requires more than 2300 gas, the contract cannot receive Ether.`,\n                                location: method.src\n                            });\n                        }\n                        else {\n                            report.push({\n                                warning: `Gas requirement of function ${contractName}.${method.name} ${methodGas.msg}: \n                If the gas requirement of a function is higher than the block gas limit, it cannot be executed.\n                Please avoid loops in your functions or actions that modify large areas of storage\n                (this includes clearing or copying arrays in storage)`,\n                                location: method.src\n                            });\n                        }\n                    }\n                    else\n                        continue;\n                }\n            }\n        }\n        return report;\n    }\n    checkMethodGas(contract, methodSignature) {\n        if (contract.evm && contract.evm.gasEstimates && contract.evm.gasEstimates.external) {\n            if (methodSignature === '()') {\n                const fallback = contract.evm.gasEstimates.external[''];\n                if (fallback !== undefined && (fallback === null || parseInt(fallback) >= 2100 || fallback === 'infinite')) {\n                    return {\n                        isInfinite: true,\n                        isFallback: true,\n                        msg: fallback\n                    };\n                }\n            }\n            else {\n                const gas = contract.evm.gasEstimates.external[methodSignature];\n                const gasString = gas === null ? 'unknown or not constant' : 'is ' + gas;\n                if (gas === null || parseInt(gas) >= 3000000 || gas === 'infinite') {\n                    return {\n                        isInfinite: true,\n                        isFallback: false,\n                        msg: gasString\n                    };\n                }\n            }\n        }\n    }\n}\nexports.default = gasCosts;\n//# sourceMappingURL=gasCosts.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass guardConditions {\n    constructor() {\n        this.guards = [];\n        this.name = 'Guard conditions: ';\n        this.description = 'Ensure appropriate use of require/assert';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((0, staticAnalysisCommon_1.isRequireCall)(node) || (0, staticAnalysisCommon_1.isAssertCall)(node))\n            this.guards.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.guards.map((node) => {\n            return {\n                warning: 'Use \"assert(x)\" if you never ever want x to be false, not in any circumstance (apart from a bug in your code). Use \"require(x)\" if x can be false, due to e.g. invalid input or a failing external component.',\n                location: node.src,\n                more: `https://solidity.readthedocs.io/en/${version}/control-structures.html#error-handling-assert-require-revert-and-exceptions`\n            };\n        });\n    }\n}\nexports.default = guardConditions;\n//# sourceMappingURL=guardConditions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass inlineAssembly {\n    constructor() {\n        this.inlineAssNodes = [];\n        this.name = 'Inline assembly: ';\n        this.description = 'Inline assembly used';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if (node.nodeType === 'InlineAssembly')\n            this.inlineAssNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.inlineAssNodes.map((node) => {\n            return {\n                warning: `The Contract uses inline assembly, this is only advised in rare cases. \n                  Additionally static analysis modules do not parse inline Assembly, this can lead to wrong analysis results.`,\n                location: node.src,\n                more: `https://solidity.readthedocs.io/en/${version}/assembly.html`\n            };\n        });\n    }\n}\nexports.default = inlineAssembly;\n//# sourceMappingURL=inlineAssembly.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass intDivisionTruncate {\n    constructor() {\n        this.warningNodes = [];\n        this.name = 'Data truncated: ';\n        this.description = 'Division on int/uint values truncates the result';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((0, staticAnalysisCommon_1.isIntDivision)(node))\n            this.warningNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        return this.warningNodes.map((item) => {\n            return {\n                warning: 'Division of integer values yields an integer value again. That means e.g. 10 / 100 = 0 instead of 0.1 since the result is an integer again. This does not hold for division of (only) literal values since those yield rational constants.',\n                location: item.src\n            };\n        });\n    }\n}\nexports.default = intDivisionTruncate;\n//# sourceMappingURL=intDivisionTruncate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst txOrigin_1 = (0, tslib_1.__importDefault)(require(\"./txOrigin\"));\nconst gasCosts_1 = (0, tslib_1.__importDefault)(require(\"./gasCosts\"));\nconst thisLocal_1 = (0, tslib_1.__importDefault)(require(\"./thisLocal\"));\nconst checksEffectsInteraction_1 = (0, tslib_1.__importDefault)(require(\"./checksEffectsInteraction\"));\nconst constantFunctions_1 = (0, tslib_1.__importDefault)(require(\"./constantFunctions\"));\nconst similarVariableNames_1 = (0, tslib_1.__importDefault)(require(\"./similarVariableNames\"));\nconst inlineAssembly_1 = (0, tslib_1.__importDefault)(require(\"./inlineAssembly\"));\nconst blockTimestamp_1 = (0, tslib_1.__importDefault)(require(\"./blockTimestamp\"));\nconst lowLevelCalls_1 = (0, tslib_1.__importDefault)(require(\"./lowLevelCalls\"));\nconst blockBlockhash_1 = (0, tslib_1.__importDefault)(require(\"./blockBlockhash\"));\nconst noReturn_1 = (0, tslib_1.__importDefault)(require(\"./noReturn\"));\nconst selfdestruct_1 = (0, tslib_1.__importDefault)(require(\"./selfdestruct\"));\nconst guardConditions_1 = (0, tslib_1.__importDefault)(require(\"./guardConditions\"));\nconst deleteDynamicArrays_1 = (0, tslib_1.__importDefault)(require(\"./deleteDynamicArrays\"));\nconst assignAndCompare_1 = (0, tslib_1.__importDefault)(require(\"./assignAndCompare\"));\nconst erc20Decimals_1 = (0, tslib_1.__importDefault)(require(\"./erc20Decimals\"));\nconst stringBytesLength_1 = (0, tslib_1.__importDefault)(require(\"./stringBytesLength\"));\nconst deleteFromDynamicArray_1 = (0, tslib_1.__importDefault)(require(\"./deleteFromDynamicArray\"));\nconst forLoopIteratesOverDynamicArray_1 = (0, tslib_1.__importDefault)(require(\"./forLoopIteratesOverDynamicArray\"));\nconst etherTransferInLoop_1 = (0, tslib_1.__importDefault)(require(\"./etherTransferInLoop\"));\nconst intDivisionTruncate_1 = (0, tslib_1.__importDefault)(require(\"./intDivisionTruncate\"));\nexports.default = [\n    txOrigin_1.default,\n    gasCosts_1.default,\n    thisLocal_1.default,\n    checksEffectsInteraction_1.default,\n    erc20Decimals_1.default,\n    constantFunctions_1.default,\n    similarVariableNames_1.default,\n    inlineAssembly_1.default,\n    blockTimestamp_1.default,\n    lowLevelCalls_1.default,\n    blockBlockhash_1.default,\n    noReturn_1.default,\n    selfdestruct_1.default,\n    guardConditions_1.default,\n    deleteDynamicArrays_1.default,\n    assignAndCompare_1.default,\n    stringBytesLength_1.default,\n    deleteFromDynamicArray_1.default,\n    forLoopIteratesOverDynamicArray_1.default,\n    etherTransferInLoop_1.default,\n    intDivisionTruncate_1.default\n];\n//# sourceMappingURL=list.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass lowLevelCalls {\n    constructor() {\n        this.llcNodes = [];\n        this.name = 'Low level calls: ';\n        this.description = 'Should only be used by experienced devs';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((0, staticAnalysisCommon_1.isLLCall)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.CALL });\n        }\n        else if ((0, staticAnalysisCommon_1.isLLDelegatecall)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.DELEGATECALL });\n        }\n        else if ((0, staticAnalysisCommon_1.isLLSend)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.SEND });\n        }\n        else if ((0, staticAnalysisCommon_1.isLLDelegatecall04)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.DELEGATECALL });\n        }\n        else if ((0, staticAnalysisCommon_1.isLLSend04)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.SEND });\n        }\n        else if ((0, staticAnalysisCommon_1.isLLCall04)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.CALL });\n        }\n        else if ((0, staticAnalysisCommon_1.isLLCallcode)(node)) {\n            this.llcNodes.push({ node: node, type: staticAnalysisCommon_1.lowLevelCallTypes.CALLCODE });\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.llcNodes.map((item, i) => {\n            let text = '';\n            let morehref = '';\n            switch (item.type) {\n                case staticAnalysisCommon_1.lowLevelCallTypes.CALL:\n                    text = `Use of \"call\": should be avoided whenever possible. \n                  It can lead to unexpected behavior if return value is not handled properly. \n                  Please use Direct Calls via specifying the called contract's interface.`;\n                    morehref = `https://solidity.readthedocs.io/en/${version}/control-structures.html?#external-function-calls`;\n                    break;\n                case staticAnalysisCommon_1.lowLevelCallTypes.CALLCODE:\n                    text = `Use of \"callcode\": should be avoided whenever possible. \n                  External code, that is called can change the state of the calling contract and send ether from the caller's balance. \n                  If this is wanted behaviour, use the Solidity library feature if possible.`;\n                    morehref = `https://solidity.readthedocs.io/en/${version}/contracts.html#libraries`;\n                    break;\n                case staticAnalysisCommon_1.lowLevelCallTypes.DELEGATECALL:\n                    text = `Use of \"delegatecall\": should be avoided whenever possible. \n                  External code, that is called can change the state of the calling contract and send ether from the caller's balance. \n                  If this is wanted behaviour, use the Solidity library feature if possible.`;\n                    morehref = `https://solidity.readthedocs.io/en/${version}/contracts.html#libraries`;\n                    break;\n                case staticAnalysisCommon_1.lowLevelCallTypes.SEND:\n                    text = `Use of \"send\": \"send\" does not throw an exception when not successful, make sure you deal with the failure case accordingly. \n                  Use \"transfer\" whenever failure of the ether transfer should rollback the whole transaction. \n                  Note: if you \"send/transfer\" ether to a contract the fallback function is called, the callees fallback function is very limited due to the limited amount of gas provided by \"send/transfer\". \n                  No state changes are possible but the callee can log the event or revert the transfer. \"send/transfer\" is syntactic sugar for a \"call\" to the fallback function with 2300 gas and a specified ether value.`;\n                    morehref = `https://solidity.readthedocs.io/en/${version}/security-considerations.html#sending-and-receiving-ether`;\n                    break;\n            }\n            return { warning: text, more: morehref, location: item.node.src };\n        });\n    }\n}\nexports.default = lowLevelCalls;\n//# sourceMappingURL=lowLevelCalls.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst abstractAstView_1 = (0, tslib_1.__importDefault)(require(\"./abstractAstView\"));\nclass noReturn {\n    constructor() {\n        this.name = 'No return: ';\n        this.description = 'Function with \\'returns\\' not returning';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.abstractAst = new abstractAstView_1.default();\n        this.visit = this.abstractAst.build_visit((node) => node.nodeType === 'Return' || node.nodeType === 'Assignment');\n        this.report = this.abstractAst.build_report(this._report.bind(this));\n    }\n    _report(contracts, multipleContractsWithSameName, version) {\n        const warnings = [];\n        contracts.forEach((contract) => {\n            contract.functions.filter((func) => (0, staticAnalysisCommon_1.hasFunctionBody)(func.node)).forEach((func) => {\n                const funcName = (0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, func.node, func.parameters);\n                if (this.hasNamedAndUnnamedReturns(func)) {\n                    warnings.push({\n                        warning: `${funcName}: Mixing of named and unnamed return parameters is not advised.`,\n                        location: func.node.src\n                    });\n                }\n                else if (this.shouldReturn(func) && !(this.hasReturnStatement(func) || (this.hasNamedReturns(func) && this.hasAssignToAllNamedReturns(func)))) {\n                    warnings.push({\n                        warning: `${funcName}: Defines a return type but never explicitly returns a value.`,\n                        location: func.node.src\n                    });\n                }\n            });\n        });\n        return warnings;\n    }\n    shouldReturn(func) {\n        return func.returns.length > 0;\n    }\n    hasReturnStatement(func) {\n        return func.relevantNodes.filter(n => n.nodeType === 'Return').length > 0;\n    }\n    hasAssignToAllNamedReturns(func) {\n        const namedReturns = func.returns.filter(n => n.name.length > 0).map((n) => n.name);\n        const assignedVars = func.relevantNodes.filter(n => n.nodeType === 'Assignment').map(staticAnalysisCommon_1.getEffectedVariableName);\n        const diff = namedReturns.filter(e => !assignedVars.includes(e));\n        return diff.length === 0;\n    }\n    hasNamedReturns(func) {\n        return func.returns.filter((n) => n.name.length > 0).length > 0;\n    }\n    hasNamedAndUnnamedReturns(func) {\n        return func.returns.filter((n) => n.name.length === 0).length > 0 && this.hasNamedReturns(func);\n    }\n}\nexports.default = noReturn;\n//# sourceMappingURL=noReturn.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst abstractAstView_1 = (0, tslib_1.__importDefault)(require(\"./abstractAstView\"));\nclass selfdestruct {\n    constructor() {\n        this.name = 'Selfdestruct: ';\n        this.description = 'Contracts using destructed contract can be broken';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.HEURISTIC;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.abstractAst = new abstractAstView_1.default();\n        this.visit = this.abstractAst.build_visit((node) => (0, staticAnalysisCommon_1.isStatement)(node) || (node.nodeType === 'FunctionCall' && (0, staticAnalysisCommon_1.isSelfdestructCall)(node)));\n        this.report = this.abstractAst.build_report(this._report.bind(this));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _report(contracts, multipleContractsWithSameName, version) {\n        const warnings = [];\n        contracts.forEach((contract) => {\n            contract.functions.forEach((func) => {\n                let hasSelf = false;\n                func.relevantNodes.forEach((node) => {\n                    if ((0, staticAnalysisCommon_1.isSelfdestructCall)(node)) {\n                        warnings.push({\n                            warning: 'Use of selfdestruct: Can block calling contracts unexpectedly. Be especially careful if this contract is planned to be used by other contracts (i.e. library contracts, interactions). Selfdestruction of the callee contract can leave callers in an inoperable state.',\n                            location: node.src,\n                            more: 'https://paritytech.io/blog/security-alert.html'\n                        });\n                        hasSelf = true;\n                    }\n                    if ((0, staticAnalysisCommon_1.isStatement)(node) && hasSelf) {\n                        warnings.push({\n                            warning: 'Use of selfdestruct: No code after selfdestruct is executed. Selfdestruct is a terminal.',\n                            location: node.src,\n                            more: `https://solidity.readthedocs.io/en/${version}/introduction-to-smart-contracts.html#deactivate-and-self-destruct`\n                        });\n                        hasSelf = false;\n                    }\n                });\n            });\n        });\n        return warnings;\n    }\n}\nexports.default = selfdestruct;\n//# sourceMappingURL=selfdestruct.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst abstractAstView_1 = (0, tslib_1.__importDefault)(require(\"./abstractAstView\"));\nconst fast_levenshtein_1 = require(\"fast-levenshtein\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nclass similarVariableNames {\n    constructor() {\n        this.name = 'Similar variable names: ';\n        this.description = 'Variable names are too similar';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.abstractAst = new abstractAstView_1.default();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.visit = this.abstractAst.build_visit((node) => false);\n        this.report = this.abstractAst.build_report(this._report.bind(this));\n    }\n    _report(contracts, multipleContractsWithSameName, version) {\n        const warnings = [];\n        const hasModifiers = contracts.some((item) => item.modifiers.length > 0);\n        contracts.forEach((contract) => {\n            contract.functions.forEach((func) => {\n                const funcName = (0, staticAnalysisCommon_1.getFullQuallyfiedFuncDefinitionIdent)(contract.node, func.node, func.parameters);\n                let hasModifiersComments = '';\n                if (hasModifiers) {\n                    hasModifiersComments = 'Note: Modifiers are currently not considered by this static analysis.';\n                }\n                let multipleContractsWithSameNameComments = '';\n                if (multipleContractsWithSameName) {\n                    multipleContractsWithSameNameComments = 'Note: Import aliases are currently not supported by this static analysis.';\n                }\n                const vars = this.getFunctionVariables(contract, func).map(staticAnalysisCommon_1.getDeclaredVariableName);\n                this.findSimilarVarNames(vars).map((sim) => {\n                    // check if function is implemented\n                    if (func.node.implemented) {\n                        const astWalker = new remix_astwalker_1.AstWalker();\n                        const functionBody = func.node.body;\n                        // Walk through all statements of function\n                        astWalker.walk(functionBody, (node) => {\n                            // check if these is an identifier node which is one of the tracked similar variables\n                            if ((node.nodeType === 'Identifier' || node.nodeType === 'VariableDeclaration') &&\n                                (node.name === sim.var1 || node.name === sim.var2)) {\n                                warnings.push({\n                                    warning: `${funcName} : Variables have very similar names \"${sim.var1}\" and \"${sim.var2}\". ${hasModifiersComments} ${multipleContractsWithSameNameComments}`,\n                                    location: node.src\n                                });\n                            }\n                            return true;\n                        });\n                    }\n                });\n            });\n        });\n        return warnings;\n    }\n    findSimilarVarNames(vars) {\n        const similar = [];\n        const comb = {};\n        vars.map((varName1) => vars.map((varName2) => {\n            if (varName1.length > 1 && varName2.length > 1 &&\n                varName2 !== varName1 && !this.isCommonPrefixedVersion(varName1, varName2) &&\n                !this.isCommonNrSuffixVersion(varName1, varName2) &&\n                !(comb[varName1 + ';' + varName2] || comb[varName2 + ';' + varName1])) {\n                comb[varName1 + ';' + varName2] = true;\n                const distance = (0, fast_levenshtein_1.get)(varName1, varName2);\n                if (distance <= 2)\n                    similar.push({ var1: varName1, var2: varName2, distance: distance });\n            }\n        }));\n        return similar;\n    }\n    isCommonPrefixedVersion(varName1, varName2) {\n        return (varName1.startsWith('_') && varName1.slice(1) === varName2) || (varName2.startsWith('_') && varName2.slice(1) === varName1);\n    }\n    isCommonNrSuffixVersion(varName1, varName2) {\n        const ref = '^' + remix_lib_1.util.escapeRegExp(varName1.slice(0, -1)) + '[0-9]*$';\n        return varName2.match(ref) != null;\n    }\n    getFunctionVariables(contract, func) {\n        return contract.stateVariables.concat(func.localVariables);\n    }\n}\nexports.default = similarVariableNames;\n//# sourceMappingURL=similarVariableNames.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isLowLevelCall = exports.isTransfer = exports.isStateVariable = exports.isWriteOnStateVariable = exports.isLocalCall = exports.isLocalCallGraphRelevantNode = exports.isLibraryCall = exports.isSuperLocalCall = exports.isThisLocalCall = exports.isBlockBlockHashAccess = exports.isBlockTimestampAccess = exports.isNowAccess = exports.isTxOriginAccess = exports.isEffect = exports.isInteraction = exports.hasFunctionBody = exports.isSubScopeWithTopLevelUnAssignedBinOp = exports.isMappingIndexAccess = exports.isDynamicArrayLengthAccess = exports.isDynamicArrayAccess = exports.isVariableTurnedIntoGetter = exports.isSpecialVariableAccess = exports.isAbiNamespaceCall = exports.isDeleteFromDynamicArray = exports.isDeleteOfDynamicArray = exports.getCompilerVersion = exports.getMethodParamsSplittedTypeDesc = exports.getUnAssignedTopLevelBinOps = exports.getFunctionDefinitionReturnParameterPart = exports.getFunctionOrModifierDefinitionParameterPart = exports.getStateVariableDeclarationsFromContractNode = exports.getFullQuallyfiedFuncDefinitionIdent = exports.getFullQualifiedFunctionCallIdent = exports.getLibraryCallMemberName = exports.getLibraryCallContractName = exports.getFunctionCallTypeParameterType = exports.getFunctionDefinitionName = exports.getExternalDirectCallMemberName = exports.getThisLocalCallContractName = exports.getExternalDirectCallContractName = exports.getInheritsFromName = exports.getLocalCallName = exports.getDeclaredVariableType = exports.getDeclaredVariableName = exports.getEffectedVariableName = exports.getContractName = exports.getFunctionCallType = exports.getSuperLocalCallName = exports.getThisLocalCallName = exports.getType = void 0;\nexports.helpers = exports.specialVariables = exports.lowLevelCallTypes = exports.basicFunctionTypes = exports.basicTypes = exports.nodeTypes = exports.isStatement = exports.isConstructor = exports.isPayableFunction = exports.isConstantFunction = exports.isStorageVariableDeclaration = exports.isDeleteUnaryOperation = exports.isLoop = exports.isBytesLengthCheck = exports.isStringToBytesConversion = exports.isIntDivision = exports.isRequireCall = exports.isAssertCall = exports.isSelfdestructCall = exports.isBuiltinFunctionCall = exports.isMinusMinusUnaryOperation = exports.isPlusPlusUnaryOperation = exports.isCallToNonConstLocalFunction = exports.isLibrary = exports.isFullyImplementedContract = exports.isExternalDirectCall = exports.isLLSend04 = exports.isLLSend = exports.isLLDelegatecall04 = exports.isLLDelegatecall = exports.isLLCallcode = exports.isLLCall04 = exports.isLLCall = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst nodeTypes = {\n    SOURCEUNIT: 'SourceUnit',\n    PRAGMADIRECTIVE: 'PragmaDirective',\n    IMPORTDIRECTIVE: 'ImportDirective',\n    CONTRACTDEFINITION: 'ContractDefinition',\n    INHERITANCESPECIFIER: 'InheritanceSpecifier',\n    USINGFORDIRECTIVE: 'UsingForDirective',\n    STRUCTDEFINITION: 'StructDefinition',\n    ENUMDEFINITION: 'EnumDefinition',\n    ENUMVALUE: 'EnumValue',\n    PARAMETERLIST: 'ParameterList',\n    OVERRIDESPECIFIER: 'OverrideSpecifier',\n    FUNCTIONDEFINITION: 'FunctionDefinition',\n    VARIABLEDECLARATION: 'VariableDeclaration',\n    MODIFIERDEFINITION: 'ModifierDefinition',\n    MODIFIERINVOCATION: 'ModifierInvocation',\n    EVENTDEFINITION: 'EventDefinition',\n    ELEMENTARYTYPENAME: 'ElementaryTypeName',\n    USERDEFINEDTYPENAME: 'UserDefinedTypeName',\n    FUNCTIONTYPENAME: 'FunctionTypeName',\n    MAPPING: 'Mapping',\n    ARRAYTYPENAME: 'ArrayTypeName',\n    INLINEASSEMBLY: 'InlineAssembly',\n    BLOCK: 'Block',\n    PLACEHOLDERSTATEMENT: 'PlaceholderStatement',\n    IFSTATEMENT: 'IfStatement',\n    TRYCATCHCLAUSE: 'TryCatchClause',\n    TRYSTATEMENT: 'TryStatement',\n    WHILESTATEMENT: 'WhileStatement',\n    DOWHILESTATEMENT: 'DoWhileStatement',\n    FORSTATEMENT: 'ForStatement',\n    CONTINUE: 'Continue',\n    BREAK: 'Break',\n    RETURN: 'Return',\n    THROW: 'Throw',\n    EMITSTATEMENT: 'EmitStatement',\n    VARIABLEDECLARATIONSTATEMENT: 'VariableDeclarationStatement',\n    EXPRESSIONSTATEMENT: 'ExpressionStatement',\n    CONDITIONAL: 'Conditional',\n    ASSIGNMENT: 'Assignment',\n    TUPLEEXPRESSION: 'TupleExpression',\n    UNARYOPERATION: 'UnaryOperation',\n    BINARYOPERATION: 'BinaryOperation',\n    FUNCTIONCALL: 'FunctionCall',\n    FUNCTIONCALLOPTIONS: 'FunctionCallOptions',\n    NEWEXPRESSION: 'NewExpression',\n    MEMBERACCESS: 'MemberAccess',\n    INDEXACCESS: 'IndexAccess',\n    INDEXRANGEACCESS: 'IndexRangeAccess',\n    ELEMENTARYTYPENAMEEXPRESSION: 'ElementaryTypeNameExpression',\n    LITERAL: 'Literal',\n    IDENTIFIER: 'Identifier',\n    STRUCTUREDDOCUMENTATION: 'StructuredDocumentation'\n};\nexports.nodeTypes = nodeTypes;\nconst basicTypes = {\n    UINT: 'uint256',\n    BOOL: 'bool',\n    ADDRESS: 'address',\n    PAYABLE_ADDRESS: 'address payable',\n    BYTES32: 'bytes32',\n    STRING_MEM: 'string memory',\n    BYTES_MEM: 'bytes memory',\n    BYTES4: 'bytes4'\n};\nexports.basicTypes = basicTypes;\nconst basicRegex = {\n    CONTRACTTYPE: '^contract ',\n    FUNCTIONTYPE: '^function \\\\(',\n    EXTERNALFUNCTIONTYPE: '^function \\\\(.*\\\\).* external',\n    CONSTANTFUNCTIONTYPE: '^function \\\\(.*\\\\).* (view|pure)',\n    REFTYPE: '(storage)|(mapping\\\\()|(\\\\[\\\\])',\n    FUNCTIONSIGNATURE: '^function \\\\(([^\\\\(]*)\\\\)',\n    LIBRARYTYPE: '^type\\\\(library (.*)\\\\)'\n};\nconst basicFunctionTypes = {\n    SEND: buildFunctionSignature([basicTypes.UINT], [basicTypes.BOOL], false),\n    'CALL-0.4': buildFunctionSignature([], [basicTypes.BOOL], true),\n    CALL: buildFunctionSignature([basicTypes.BYTES_MEM], [basicTypes.BOOL, basicTypes.BYTES_MEM], true),\n    'DELEGATECALL-0.4': buildFunctionSignature([], [basicTypes.BOOL], false),\n    DELEGATECALL: buildFunctionSignature([basicTypes.BYTES_MEM], [basicTypes.BOOL, basicTypes.BYTES_MEM], false),\n    TRANSFER: buildFunctionSignature([basicTypes.UINT], [], false)\n};\nexports.basicFunctionTypes = basicFunctionTypes;\nconst builtinFunctions = {\n    'keccak256()': true,\n    'sha3()': true,\n    'sha256()': true,\n    'ripemd160()': true,\n    'ecrecover(bytes32,uint8,bytes32,bytes32)': true,\n    'addmod(uint256,uint256,uint256)': true,\n    'mulmod(uint256,uint256,uint256)': true,\n    'selfdestruct(address)': true,\n    'selfdestruct(address payable)': true,\n    'revert()': true,\n    'revert(string memory)': true,\n    'assert(bool)': true,\n    'require(bool)': true,\n    'require(bool,string memory)': true,\n    'gasleft()': true,\n    'blockhash(uint256)': true,\n    'address(address)': true\n};\nconst lowLevelCallTypes = {\n    'CALL-0.4': { ident: 'call', type: basicFunctionTypes['CALL-0.4'] },\n    CALL: { ident: 'call', type: basicFunctionTypes.CALL },\n    CALLCODE: { ident: 'callcode', type: basicFunctionTypes['CALL-0.4'] },\n    'DELEGATECALL-0.4': { ident: 'delegatecall', type: basicFunctionTypes['DELEGATECALL-0.4'] },\n    DELEGATECALL: { ident: 'delegatecall', type: basicFunctionTypes.DELEGATECALL },\n    SEND: { ident: 'send', type: basicFunctionTypes.SEND },\n    TRANSFER: { ident: 'transfer', type: basicFunctionTypes.TRANSFER }\n};\nexports.lowLevelCallTypes = lowLevelCallTypes;\nconst specialVariables = {\n    BLOCKTIMESTAMP: { obj: 'block', member: 'timestamp', type: basicTypes.UINT },\n    BLOCKHASH: {\n        obj: 'block',\n        member: 'blockhash',\n        type: buildFunctionSignature([basicTypes.UINT], [basicTypes.BYTES32], false, 'view')\n    }\n};\nexports.specialVariables = specialVariables;\nconst abiNamespace = {\n    ENCODE: {\n        obj: 'abi',\n        member: 'encode',\n        type: buildFunctionSignature([], [basicTypes.BYTES_MEM], false, 'pure')\n    },\n    ENCODEPACKED: {\n        obj: 'abi',\n        member: 'encodePacked',\n        type: buildFunctionSignature([], [basicTypes.BYTES_MEM], false, 'pure')\n    },\n    ENCODE_SELECT: {\n        obj: 'abi',\n        member: 'encodeWithSelector',\n        type: buildFunctionSignature([basicTypes.BYTES4], [basicTypes.BYTES_MEM], false, 'pure')\n    },\n    ENCODE_SIG: {\n        obj: 'abi',\n        member: 'encodeWithSignature',\n        type: buildFunctionSignature([basicTypes.STRING_MEM], [basicTypes.BYTES_MEM], false, 'pure')\n    }\n};\n// #################### Trivial Getters\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction getType(node) {\n    return node.typeDescriptions.typeString;\n}\nexports.getType = getType;\n// #################### Complex Getters\n/**\n * Returns the type parameter of function call AST nodes. Throws if not a function call node\n * @func {ASTNode} Function call node\n * @return {string} type of function call\n */\nfunction getFunctionCallType(func) {\n    return getType(func.expression);\n}\nexports.getFunctionCallType = getFunctionCallType;\n/**\n * Get the variable name written to by a effect node, except for inline assembly because there is no information to find out where we write to. Trows if not a effect node or is inlineassmbly.\n * Example: x = 10; => x\n * @effectNode {ASTNode} Assignmnet node\n * @return {string} variable name written to\n */\nfunction getEffectedVariableName(effectNode) {\n    if (!isEffect(effectNode))\n        throw new Error('staticAnalysisCommon.js: not an effect Node');\n    if (effectNode.nodeType === 'Assignment' || effectNode.nodeType === 'UnaryOperation') {\n        const IdentNode = findFirstSubNodeLTR(effectNode, exactMatch(nodeTypes.IDENTIFIER));\n        return IdentNode.name;\n    }\n    else\n        throw new Error('staticAnalysisCommon.js: wrong node type');\n}\nexports.getEffectedVariableName = getEffectedVariableName;\n/**\n * Returns the identifier of a local call, Throws on wrong node.\n * Example: f(103) => f\n * @localCallNode {ASTNode} Function call node\n * @return {string} name of the function called\n */\nfunction getLocalCallName(localCallNode) {\n    if (!isLocalCall(localCallNode) && !isAbiNamespaceCall(localCallNode))\n        throw new Error('staticAnalysisCommon.js: not a local call Node');\n    return localCallNode.expression.name;\n}\nexports.getLocalCallName = getLocalCallName;\n/**\n * Returns the identifier of a this local call, Throws on wrong node.\n * Example: this.f(103) => f\n * @localCallNode {ASTNode} Function call node\n * @return {string} name of the function called\n */\nfunction getThisLocalCallName(thisLocalCallNode) {\n    if (!isThisLocalCall(thisLocalCallNode.expression))\n        throw new Error('staticAnalysisCommon.js: not a this local call Node');\n    return thisLocalCallNode.expression.memberName;\n}\nexports.getThisLocalCallName = getThisLocalCallName;\n/**\n * Returns the identifier of a super local call, Throws on wrong node.\n * Example: super.f(103) => f\n * @localCallNode {ASTNode} Function call node\n * @return {string} name of the function called\n */\nfunction getSuperLocalCallName(superLocalCallNode) {\n    if (!isSuperLocalCall(superLocalCallNode.expression))\n        throw new Error('staticAnalysisCommon.js: not a super local call Node');\n    return superLocalCallNode.expression.memberName;\n}\nexports.getSuperLocalCallName = getSuperLocalCallName;\n/**\n * Returns the contract type of a external direct call, Throws on wrong node.\n * Example:\n *  foo x = foo(0xdeadbeef...);\n *  x.f(103) => foo\n * @extDirectCall {ASTNode} Function call node\n * @return {string} name of the contract the function is defined in\n */\nfunction getExternalDirectCallContractName(extDirectCall) {\n    if (!isExternalDirectCall(extDirectCall))\n        throw new Error('staticAnalysisCommon.js: not an external direct call Node');\n    return extDirectCall.expression.expression.typeDescriptions.typeString.replace(new RegExp(basicRegex.CONTRACTTYPE), '');\n}\nexports.getExternalDirectCallContractName = getExternalDirectCallContractName;\n/**\n * Returns the name of the contract of a this local call (current contract), Throws on wrong node.\n * Example:\n * Contract foo {\n *    ...\n *    this.f(103) => foo\n *    ...\n * @thisLocalCall {ASTNode} Function call node\n * @return {string} name of the contract the function is defined in\n */\nfunction getThisLocalCallContractName(thisLocalCall) {\n    if (!isThisLocalCall(thisLocalCall.expression))\n        throw new Error('staticAnalysisCommon.js: not a this local call Node');\n    return thisLocalCall.expression.expression.typeDescriptions.typeString.replace(new RegExp(basicRegex.CONTRACTTYPE), '');\n}\nexports.getThisLocalCallContractName = getThisLocalCallContractName;\n/**\n * Returns the function identifier of a external direct call, Throws on wrong node.\n * Example:\n *  foo x = foo(0xdeadbeef...);\n *  x.f(103) => f\n * @extDirectCall {ASTNode} Function call node\n * @return {string} name of the function called\n */\nfunction getExternalDirectCallMemberName(extDirectCall) {\n    if (!isExternalDirectCall(extDirectCall))\n        throw new Error('staticAnalysisCommon.js: not an external direct call Node');\n    return extDirectCall.expression.memberName;\n}\nexports.getExternalDirectCallMemberName = getExternalDirectCallMemberName;\n/**\n * Returns the name of a contract, Throws on wrong node.\n * Example:\n *   Contract foo { => foo\n * @contract {ASTNode} Contract Definition node\n * @return {string} name of a contract defined\n */\nfunction getContractName(contract) {\n    if (!nodeType(contract, exactMatch(nodeTypes.CONTRACTDEFINITION)))\n        throw new Error('staticAnalysisCommon.js: not a ContractDefinition Node');\n    return contract.name;\n}\nexports.getContractName = getContractName;\n/**\n * Returns the name of a function definition, Throws on wrong node.\n * Example:\n *   func foo(uint bla) { => foo\n * @funcDef {ASTNode} Function Definition node\n * @return {string} name of a function defined\n */\nfunction getFunctionDefinitionName(funcDef) {\n    if (!nodeType(funcDef, exactMatch(nodeTypes.FUNCTIONDEFINITION)))\n        throw new Error('staticAnalysisCommon.js: not a FunctionDefinition Node');\n    return funcDef.name;\n}\nexports.getFunctionDefinitionName = getFunctionDefinitionName;\n/**\n * Returns the identifier of an inheritance specifier, Throws on wrong node.\n * Example:\n *   contract KingOfTheEtherThrone is b { => b\n * @func {ASTNode} Inheritance specifier\n * @return {string} name of contract inherited from\n */\nfunction getInheritsFromName(inheritsNode) {\n    if (!nodeType(inheritsNode, exactMatch(nodeTypes.INHERITANCESPECIFIER)))\n        throw new Error('staticAnalysisCommon.js: not an InheritanceSpecifier Node');\n    return inheritsNode.baseName.name;\n}\nexports.getInheritsFromName = getInheritsFromName;\n/**\n * Returns the identifier of a variable definition, Throws on wrong node.\n * Example:\n *   var x = 10; => x\n * @varDeclNode {ASTNode} Variable declaration node\n * @return {string} variable name\n */\nfunction getDeclaredVariableName(varDeclNode) {\n    if (!nodeType(varDeclNode, exactMatch(nodeTypes.VARIABLEDECLARATION)))\n        throw new Error('staticAnalysisCommon.js: not a VariableDeclaration Node');\n    return varDeclNode.name;\n}\nexports.getDeclaredVariableName = getDeclaredVariableName;\n/**\n * Returns the type of a variable definition, Throws on wrong node.\n * Example:\n *   var x = 10; => x\n * @varDeclNode {ASTNode} Variable declaration node\n * @return {string} variable type\n */\nfunction getDeclaredVariableType(varDeclNode) {\n    return varDeclNode.typeName.name;\n}\nexports.getDeclaredVariableType = getDeclaredVariableType;\n/**\n * Returns state variable declaration nodes for a contract, Throws on wrong node.\n * Example:\n * contract foo {\n *     ...\n *   var y = true;\n *   var x = 10; => [y,x]\n * @contractNode {ASTNode} Contract Definition node\n * @return {list variable declaration} state variable node list\n */\nfunction getStateVariableDeclarationsFromContractNode(contractNode) {\n    return contractNode.nodes.filter(el => el.nodeType === 'VariableDeclaration');\n}\nexports.getStateVariableDeclarationsFromContractNode = getStateVariableDeclarationsFromContractNode;\n/**\n * Returns parameter node for a function or modifier definition, Throws on wrong node.\n * Example:\n * function bar(uint a, uint b) => uint a, uint b\n * @funcNode {ASTNode} Contract Definition node\n * @return {parameterlist node} parameterlist node\n */\nfunction getFunctionOrModifierDefinitionParameterPart(funcNode) {\n    if (!nodeTypeIn(funcNode, [exactMatch(nodeTypes.FUNCTIONDEFINITION), exactMatch(nodeTypes.MODIFIERDEFINITION)]))\n        throw new Error('staticAnalysisCommon.js: not a FunctionDefinition or ModifierDefinition Node');\n    return funcNode.parameters;\n}\nexports.getFunctionOrModifierDefinitionParameterPart = getFunctionOrModifierDefinitionParameterPart;\n/**\n * Returns return parameter node for a function or modifier definition, Throws on wrong node.\n * Example:\n * function bar(uint a, uint b) returns (bool a, bool b) => bool a, bool b\n * @funcNode {ASTNode} Contract Definition node\n * @return {parameterlist node} parameterlist node\n */\nfunction getFunctionDefinitionReturnParameterPart(funcNode) {\n    return funcNode.returnParameters;\n}\nexports.getFunctionDefinitionReturnParameterPart = getFunctionDefinitionReturnParameterPart;\n/**\n * Extracts the parameter types for a function type signature\n * Example:\n * function(uint a, uint b) returns (bool) => uint a, uint b\n * @func {ASTNode} function call node\n * @return {string} parameter signature\n */\nfunction getFunctionCallTypeParameterType(func) {\n    const type = getFunctionCallType(func);\n    if (type.startsWith('function (')) {\n        let paramTypes = '';\n        let openPar = 1;\n        for (let x = 10; x < type.length; x++) {\n            const c = type.charAt(x);\n            if (c === '(')\n                openPar++;\n            else if (c === ')')\n                openPar--;\n            if (openPar === 0)\n                return paramTypes;\n            paramTypes += c;\n        }\n    }\n    else {\n        throw new Error('staticAnalysisCommon.js: cannot extract parameter types from function call');\n    }\n}\nexports.getFunctionCallTypeParameterType = getFunctionCallTypeParameterType;\n/**\n * Returns the name of the library called, Throws on wrong node.\n * Example:\n *  library set{...}\n *  contract foo {\n *    ...\n *    function () { set.union() => set}\n * @funcCall {ASTNode} function call node\n * @return {string} name of the lib defined\n */\nfunction getLibraryCallContractName(node) {\n    if (!isLibraryCall(node.expression))\n        throw new Error('staticAnalysisCommon.js: not a library call Node');\n    const types = new RegExp(basicRegex.LIBRARYTYPE).exec(node.expression.expression.typeDescriptions.typeString);\n    if (types) {\n        return types[1];\n    }\n}\nexports.getLibraryCallContractName = getLibraryCallContractName;\n/**\n * Returns the name of the function of a library call, Throws on wrong node.\n * Example:\n *  library set{...}\n *  contract foo {\n *    ...\n *    function () { set.union() => uinion}\n * @func {ASTNode} function call node\n * @return {string} name of function called on the library\n */\nfunction getLibraryCallMemberName(funcCall) {\n    if (!isLibraryCall(funcCall.expression))\n        throw new Error('staticAnalysisCommon.js: not a library call Node');\n    return funcCall.expression.memberName;\n}\nexports.getLibraryCallMemberName = getLibraryCallMemberName;\n/**\n * Returns full qualified name for a function call, Throws on wrong node.\n * Example:\n *  contract foo {\n *    ...\n *    function bar(uint b) { }\n *    function baz() {\n *      bar(10) => foo.bar(uint)\n * @func {ASTNode} function call node\n * @func {ASTNode} contract defintion\n * @return {string} full qualified identifier for the function call\n */\nfunction getFullQualifiedFunctionCallIdent(contract, func) {\n    if (isLocalCall(func))\n        return getContractName(contract) + '.' + getLocalCallName(func) + '(' + getFunctionCallTypeParameterType(func) + ')';\n    else if (isThisLocalCall(func.expression))\n        return getThisLocalCallContractName(func) + '.' + getThisLocalCallName(func) + '(' + getFunctionCallTypeParameterType(func) + ')';\n    else if (isSuperLocalCall(func.expression))\n        return getContractName(contract) + '.' + getSuperLocalCallName(func) + '(' + getFunctionCallTypeParameterType(func) + ')';\n    else if (isExternalDirectCall(func))\n        return getExternalDirectCallContractName(func) + '.' + getExternalDirectCallMemberName(func) + '(' + getFunctionCallTypeParameterType(func) + ')';\n    else if (isLibraryCall(func.expression))\n        return getLibraryCallContractName(func) + '.' + getLibraryCallMemberName(func) + '(' + getFunctionCallTypeParameterType(func) + ')';\n    else\n        throw new Error('staticAnalysisCommon.js: Can not get function name from non function call node');\n}\nexports.getFullQualifiedFunctionCallIdent = getFullQualifiedFunctionCallIdent;\nfunction getFullQuallyfiedFuncDefinitionIdent(contract, func, paramTypes) {\n    return getContractName(contract) + '.' + getFunctionDefinitionName(func) + '(' + remix_lib_1.util.concatWithSeperator(paramTypes, ',') + ')';\n}\nexports.getFullQuallyfiedFuncDefinitionIdent = getFullQuallyfiedFuncDefinitionIdent;\nfunction getUnAssignedTopLevelBinOps(subScope) {\n    let result = [];\n    if (subScope && subScope.nodeType === 'Block')\n        result = subScope.statements.filter(isBinaryOpInExpression);\n    // for 'without braces' loops\n    else if (subScope && subScope.nodeType && subScope.nodeType !== 'Block' && isSubScopeStatement(subScope)) {\n        if (subScope.nodeType === 'IfStatement') {\n            if ((subScope.trueBody && subScope.trueBody.nodeType === 'ExpressionStatement' && isBinaryOpInExpression(subScope.trueBody))) {\n                result.push(subScope.trueBody);\n            }\n            if (subScope.falseBody && subScope.falseBody.nodeType === 'ExpressionStatement' && isBinaryOpInExpression(subScope.falseBody)) {\n                result.push(subScope.falseBody);\n            }\n        }\n        else {\n            if (subScope.body && subScope.body.nodeType === 'ExpressionStatement' && isBinaryOpInExpression(subScope.body)) {\n                result.push(subScope.body);\n            }\n        }\n    }\n    return result;\n}\nexports.getUnAssignedTopLevelBinOps = getUnAssignedTopLevelBinOps;\n// #################### Trivial Node Identification\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction isStatement(node) {\n    return nodeType(node, 'Statement$') || node.nodeType === 'Block' || node.nodeType === 'Return';\n}\nexports.isStatement = isStatement;\n// #################### Complex Node Identification\n/**\n * True if function defintion has function body\n * @funcNode {ASTNode} function defintion node\n * @return {bool}\n */\nfunction hasFunctionBody(funcNode) {\n    return funcNode.body !== null;\n}\nexports.hasFunctionBody = hasFunctionBody;\n/**\n * True if node is a delete instruction of a dynamic array\n * @node {ASTNode} node to check for\n * @return {bool}\n */\nfunction isDeleteOfDynamicArray(node) {\n    return isDeleteUnaryOperation(node) && isDynamicArrayAccess(node.subExpression);\n}\nexports.isDeleteOfDynamicArray = isDeleteOfDynamicArray;\n/**\n * True if node is node is a ref to a dynamic array\n * @node {ASTNode} node to check for\n * @return {bool}\n */\nfunction isDynamicArrayAccess(node) {\n    return getType(node).endsWith('[] storage ref') || typeDescription(node, 'bytes storage ref') || typeDescription(node, 'string storage ref');\n}\nexports.isDynamicArrayAccess = isDynamicArrayAccess;\n/**\n * True if node accesses 'length' member of dynamic array\n * @node {ASTNode} node to check for\n * @return {bool}\n */\nfunction isDynamicArrayLengthAccess(node) {\n    return (node.memberName === 'length') && // accessing 'length' member\n        node.expression.typeDescriptions.typeString.indexOf('[]') !== -1; // member is accessed from dynamic array, notice [] without any number\n}\nexports.isDynamicArrayLengthAccess = isDynamicArrayLengthAccess;\n/**\n * True if node is a delete instruction for an element from a dynamic array\n * @node {ASTNode} node to check for\n * @return {bool}\n */\nfunction isDeleteFromDynamicArray(node) {\n    return isDeleteUnaryOperation(node) && node.subExpression.nodeType === 'IndexAccess';\n}\nexports.isDeleteFromDynamicArray = isDeleteFromDynamicArray;\n/**\n * True if node is the access of a mapping index\n * @node {ASTNode} node to check for\n * @return {bool}\n */\nfunction isMappingIndexAccess(node) {\n    return node.typeDescriptions.typeString.startsWith('mapping');\n}\nexports.isMappingIndexAccess = isMappingIndexAccess;\n/**\n * True if call to code within the current contracts context including (delegate) library call\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLocalCallGraphRelevantNode(node) {\n    return ((isLocalCall(node) || isSuperLocalCall(node.expression) || isLibraryCall(node.expression)) && !isBuiltinFunctionCall(node));\n}\nexports.isLocalCallGraphRelevantNode = isLocalCallGraphRelevantNode;\n/**\n * True if is builtin function like assert, sha3, erecover, ...\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isBuiltinFunctionCall(node) {\n    return (node.nodeType === 'FunctionCall' && isLocalCall(node) && builtinFunctions[getLocalCallName(node) + '(' + getFunctionCallTypeParameterType(node) + ')'] === true) || isAbiNamespaceCall(node);\n}\nexports.isBuiltinFunctionCall = isBuiltinFunctionCall;\n/**\n * True if is builtin function like assert, sha3, erecover, ...\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isAbiNamespaceCall(node) {\n    return Object.keys(abiNamespace).some((key) => Object.prototype.hasOwnProperty.call(abiNamespace, key) && node.expression && isSpecialVariableAccess(node.expression, abiNamespace[key]));\n}\nexports.isAbiNamespaceCall = isAbiNamespaceCall;\n/**\n * True if node is a call to selfdestruct\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isSelfdestructCall(node) {\n    return isBuiltinFunctionCall(node) && getLocalCallName(node) === 'selfdestruct';\n}\nexports.isSelfdestructCall = isSelfdestructCall;\n/**\n * True if node is a call to builtin assert(bool)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isAssertCall(node) {\n    return isBuiltinFunctionCall(node) && getLocalCallName(node) === 'assert';\n}\nexports.isAssertCall = isAssertCall;\n/**\n * True if node is a call to builtin require(bool)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isRequireCall(node) {\n    return isBuiltinFunctionCall(node) && getLocalCallName(node) === 'require';\n}\nexports.isRequireCall = isRequireCall;\n/**\n * True if is storage variable declaration\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isStorageVariableDeclaration(node) {\n    return node.storageLocation === 'storage' && new RegExp(basicRegex.REFTYPE).test(node.typeDescriptions.typeIdentifier);\n}\nexports.isStorageVariableDeclaration = isStorageVariableDeclaration;\n/**\n * True if is interaction with external contract (change in context, no delegate calls) (send, call of other contracts)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isInteraction(node) {\n    return isLLCall(node.expression) || isLLSend(node.expression) || isExternalDirectCall(node) || isTransfer(node.expression) ||\n        isLLCall04(node.expression) || isLLSend04(node.expression) ||\n        // to cover case of address.call.value.gas , See: inheritance.sol\n        (node.expression && node.expression.expression && isLLCall(node.expression.expression)) ||\n        (node.expression && node.expression.expression && isLLCall04(node.expression.expression));\n}\nexports.isInteraction = isInteraction;\n/**\n * True if node changes state of a variable or is inline assembly (does not include check if it is a global state change, on a state variable)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isEffect(node) {\n    return node.nodeType === 'Assignment' ||\n        (node.nodeType === 'UnaryOperation' && (isPlusPlusUnaryOperation(node) || isMinusMinusUnaryOperation(node))) ||\n        node.nodeType === 'InlineAssembly';\n}\nexports.isEffect = isEffect;\n/**\n * True if node changes state of a variable or is inline assembly (Checks if variable is a state variable via provided list)\n * @node {ASTNode} some AstNode\n * @node {list Variable declaration} state variable declaration currently in scope\n * @return {bool}\n */\nfunction isWriteOnStateVariable(effectNode, stateVariables) {\n    return effectNode.nodeType === 'InlineAssembly' || (isEffect(effectNode) && isStateVariable(getEffectedVariableName(effectNode), stateVariables));\n}\nexports.isWriteOnStateVariable = isWriteOnStateVariable;\n/**\n * True if there is a variable with name, name in stateVariables\n * @node {ASTNode} some AstNode\n * @node {list Variable declaration} state variable declaration currently in scope\n * @return {bool}\n */\nfunction isStateVariable(name, stateVariables) {\n    return stateVariables.some((item) => item.stateVariable && name === getDeclaredVariableName(item));\n}\nexports.isStateVariable = isStateVariable;\n/**\n * True if is function defintion that is flaged as constant\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isConstantFunction(node) {\n    return node.stateMutability === 'view' || node.stateMutability === 'pure';\n}\nexports.isConstantFunction = isConstantFunction;\n/**\n* True if variable decalaration is converted into a getter method\n * @node {ASTNode} variable declaration AstNode\n * @return {bool}\n */\nfunction isVariableTurnedIntoGetter(varDeclNode) {\n    return varDeclNode.stateVariable && varDeclNode.visibility === 'public';\n}\nexports.isVariableTurnedIntoGetter = isVariableTurnedIntoGetter;\n/**\n * True if is function defintion has payable modifier\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isPayableFunction(node) {\n    return node.stateMutability === 'payable';\n}\nexports.isPayableFunction = isPayableFunction;\n/**\n * True if is constructor\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isConstructor(node) {\n    return node.kind === 'constructor';\n}\nexports.isConstructor = isConstructor;\n/**\n * True if node is integer division that truncates (not only int literals since those yield a rational value)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isIntDivision(node) {\n    return operator(node, exactMatch(remix_lib_1.util.escapeRegExp('/'))) && typeDescription(node.rightExpression, remix_lib_1.util.escapeRegExp('int'));\n}\nexports.isIntDivision = isIntDivision;\n/**\n * True if is block / SubScope has top level binops (e.g. that are not assigned to anything, most of the time confused compare instead of assign)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isSubScopeWithTopLevelUnAssignedBinOp(node) {\n    if (node.nodeType === 'Block')\n        return node.statements.some(isBinaryOpInExpression);\n    // for 'without braces' loops\n    else if (node && node.nodeType && isSubScopeStatement(node)) {\n        if (node.nodeType === 'IfStatement') {\n            return (node.trueBody && node.trueBody.nodeType === 'ExpressionStatement' && isBinaryOpInExpression(node.trueBody)) ||\n                (node.falseBody && node.falseBody.nodeType === 'ExpressionStatement' && isBinaryOpInExpression(node.falseBody));\n        }\n        else {\n            return node.body && node.body.nodeType === 'ExpressionStatement' && isBinaryOpInExpression(node.body);\n        }\n    }\n}\nexports.isSubScopeWithTopLevelUnAssignedBinOp = isSubScopeWithTopLevelUnAssignedBinOp;\nfunction isSubScopeStatement(node) {\n    if (node.nodeType === 'IfStatement') {\n        return (node.trueBody && node.trueBody.nodeType && !nodeType(node.trueBody, exactMatch(nodeTypes.BLOCK))) ||\n            (node.falseBody && node.falseBody.nodeType && !nodeType(node.falseBody, exactMatch(nodeTypes.BLOCK)));\n    }\n    else {\n        return node.body && node.body.nodeType && !nodeType(node.body, exactMatch(nodeTypes.BLOCK));\n    }\n}\n/**\n * True if binary operation inside of expression statement\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isBinaryOpInExpression(node) {\n    return node.nodeType === 'ExpressionStatement' && node.expression.nodeType === 'BinaryOperation';\n}\n/**\n * True if unary increment operation\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isPlusPlusUnaryOperation(node) {\n    return node.operator === '++';\n}\nexports.isPlusPlusUnaryOperation = isPlusPlusUnaryOperation;\n/**\n * True if unary delete operation\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isDeleteUnaryOperation(node) {\n    return node.operator === 'delete';\n}\nexports.isDeleteUnaryOperation = isDeleteUnaryOperation;\n/**\n * True if unary decrement operation\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isMinusMinusUnaryOperation(node) {\n    return node.operator === '--';\n}\nexports.isMinusMinusUnaryOperation = isMinusMinusUnaryOperation;\n/**\n * True if all functions on a contract are implemented\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isFullyImplementedContract(node) {\n    return node.fullyImplemented === true;\n}\nexports.isFullyImplementedContract = isFullyImplementedContract;\n/**\n * True if it is a library contract defintion\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLibrary(node) {\n    return node.contractKind === 'library';\n}\nexports.isLibrary = isLibrary;\n/**\n * True if it is a local call to non const function\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isCallToNonConstLocalFunction(node) {\n    return isLocalCall(node) && !expressionTypeDescription(node, basicRegex.CONSTANTFUNCTIONTYPE);\n}\nexports.isCallToNonConstLocalFunction = isCallToNonConstLocalFunction;\n/**\n * True if it is a call to a library\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLibraryCall(node) {\n    return isMemberAccess(node, basicRegex.FUNCTIONTYPE, undefined, basicRegex.LIBRARYTYPE, undefined);\n}\nexports.isLibraryCall = isLibraryCall;\n/**\n * True if it is an external call via defined interface (not low level call)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isExternalDirectCall(node) {\n    return isMemberAccess(node.expression, basicRegex.EXTERNALFUNCTIONTYPE, undefined, basicRegex.CONTRACTTYPE, undefined) && !isThisLocalCall(node.expression) && !isSuperLocalCall(node.expression);\n}\nexports.isExternalDirectCall = isExternalDirectCall;\n/**\n * True if access to block.timestamp via now alias\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isNowAccess(node) {\n    return node.name === 'now' && typeDescription(node, exactMatch(basicTypes.UINT));\n}\nexports.isNowAccess = isNowAccess;\n/**\n * True if access to block.timestamp via now alias\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isTxOriginAccess(node) {\n    return isMemberAccess(node, 'address', 'tx', 'tx', 'origin');\n}\nexports.isTxOriginAccess = isTxOriginAccess;\n/**\n * True if access to block.timestamp\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isBlockTimestampAccess(node) {\n    return isSpecialVariableAccess(node, specialVariables.BLOCKTIMESTAMP);\n}\nexports.isBlockTimestampAccess = isBlockTimestampAccess;\n/**\n * True if access to block.blockhash\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isBlockBlockHashAccess(node) {\n    return (isBuiltinFunctionCall(node) && getLocalCallName(node) === 'blockhash') ||\n        isSpecialVariableAccess(node.expression, specialVariables.BLOCKHASH);\n}\nexports.isBlockBlockHashAccess = isBlockBlockHashAccess;\n/**\n * True if call to local function via this keyword\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isThisLocalCall(node) {\n    return isMemberAccess(node, basicRegex.FUNCTIONTYPE, exactMatch('this'), basicRegex.CONTRACTTYPE, undefined);\n}\nexports.isThisLocalCall = isThisLocalCall;\n/**\n * True if access to local function via super keyword\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isSuperLocalCall(node) {\n    return isMemberAccess(node, basicRegex.FUNCTIONTYPE, exactMatch('super'), basicRegex.CONTRACTTYPE, undefined);\n}\nexports.isSuperLocalCall = isSuperLocalCall;\n/**\n * True if call to local function\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLocalCall(node) {\n    return node.nodeType === 'FunctionCall' && node.kind === 'functionCall' &&\n        node.expression.nodeType === 'Identifier' && expressionTypeDescription(node, basicRegex.FUNCTIONTYPE) &&\n        !expressionTypeDescription(node, basicRegex.EXTERNALFUNCTIONTYPE);\n}\nexports.isLocalCall = isLocalCall;\n/**\n * True if low level call (send, call, delegatecall, callcode)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLowLevelCall(node) {\n    return isLLCall(node) ||\n        isLLDelegatecall(node) ||\n        isLLSend(node) ||\n        isLLSend04(node) ||\n        isLLCallcode(node) ||\n        isLLCall04(node) ||\n        isLLDelegatecall04(node);\n}\nexports.isLowLevelCall = isLowLevelCall;\n/**\n * True if low level send (solidity < 0.5)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLSend04(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.SEND.type)), undefined, exactMatch(basicTypes.ADDRESS), exactMatch(lowLevelCallTypes.SEND.ident));\n}\nexports.isLLSend04 = isLLSend04;\n/**\n * True if low level send (solidity >= 0.5)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLSend(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.SEND.type)), undefined, exactMatch(basicTypes.PAYABLE_ADDRESS), exactMatch(lowLevelCallTypes.SEND.ident));\n}\nexports.isLLSend = isLLSend;\n/**\n * True if low level call\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLCall(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.CALL.type)), undefined, exactMatch(basicTypes.ADDRESS), exactMatch(lowLevelCallTypes.CALL.ident)) ||\n        isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.CALL.type)), undefined, exactMatch(basicTypes.PAYABLE_ADDRESS), exactMatch(lowLevelCallTypes.CALL.ident));\n}\nexports.isLLCall = isLLCall;\n/**\n * True if low level payable call (solidity < 0.5)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLCall04(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes['CALL-0.4'].type)), undefined, exactMatch(basicTypes.ADDRESS), exactMatch(lowLevelCallTypes['CALL-0.4'].ident));\n}\nexports.isLLCall04 = isLLCall04;\n/**\n * True if low level callcode\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLCallcode(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.CALLCODE.type)), undefined, exactMatch(basicTypes.ADDRESS), exactMatch(lowLevelCallTypes.CALLCODE.ident));\n}\nexports.isLLCallcode = isLLCallcode;\n/**\n * True if low level delegatecall\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLDelegatecall(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.DELEGATECALL.type)), undefined, matches(basicTypes.PAYABLE_ADDRESS, basicTypes.ADDRESS), exactMatch(lowLevelCallTypes.DELEGATECALL.ident));\n}\nexports.isLLDelegatecall = isLLDelegatecall;\n/**\n * True if low level delegatecall (solidity < 0.5)\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isLLDelegatecall04(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes['DELEGATECALL-0.4'].type)), undefined, matches(basicTypes.PAYABLE_ADDRESS, basicTypes.ADDRESS), exactMatch(lowLevelCallTypes['DELEGATECALL-0.4'].ident));\n}\nexports.isLLDelegatecall04 = isLLDelegatecall04;\n/**\n * True if transfer call\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\nfunction isTransfer(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(lowLevelCallTypes.TRANSFER.type)), undefined, matches(basicTypes.ADDRESS, basicTypes.PAYABLE_ADDRESS), exactMatch(lowLevelCallTypes.TRANSFER.ident));\n}\nexports.isTransfer = isTransfer;\nfunction isStringToBytesConversion(node) {\n    return isExplicitCast(node, remix_lib_1.util.escapeRegExp('string *'), remix_lib_1.util.escapeRegExp('bytes'));\n}\nexports.isStringToBytesConversion = isStringToBytesConversion;\nfunction isExplicitCast(node, castFromType, castToType) {\n    return node.kind === 'typeConversion' &&\n        nodeType(node.expression, exactMatch(nodeTypes.ELEMENTARYTYPENAMEEXPRESSION)) && node.expression.typeName === castToType &&\n        nodeType(node.arguments[0], exactMatch(nodeTypes.IDENTIFIER)) && typeDescription(node.arguments[0], castFromType);\n}\nfunction isBytesLengthCheck(node) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(basicTypes.UINT)), undefined, remix_lib_1.util.escapeRegExp('bytes *'), 'length');\n}\nexports.isBytesLengthCheck = isBytesLengthCheck;\n/**\n * True if it is a loop\n * @node {ASTNode} some AstNode\n * @return {bool}\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction isLoop(node) {\n    return nodeType(node, exactMatch(nodeTypes.FORSTATEMENT)) ||\n        nodeType(node, exactMatch(nodeTypes.WHILESTATEMENT)) ||\n        nodeType(node, exactMatch(nodeTypes.DOWHILESTATEMENT));\n}\nexports.isLoop = isLoop;\n// #################### Complex Node Identification - Private\nfunction isMemberAccess(node, retType, accessor, accessorType, memberName) {\n    if (node && nodeType(node, exactMatch('MemberAccess'))) {\n        const nodeTypeDef = typeDescription(node, retType);\n        const nodeMemName = memName(node, memberName);\n        const nodeExpMemName = memName(node.expression, accessor);\n        const nodeExpTypeDef = expressionTypeDescription(node, accessorType);\n        return nodeTypeDef && nodeMemName && nodeExpTypeDef && nodeExpMemName;\n    }\n    else\n        return false;\n}\nfunction isSpecialVariableAccess(node, varType) {\n    return isMemberAccess(node, exactMatch(remix_lib_1.util.escapeRegExp(varType.type)), varType.obj, varType.obj, varType.member);\n}\nexports.isSpecialVariableAccess = isSpecialVariableAccess;\n// #################### Node Identification Primitives\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction expressionTypeDescription(node, typeRegex) {\n    return new RegExp(typeRegex).test(node.expression.typeDescriptions.typeString);\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction typeDescription(node, typeRegex) {\n    return new RegExp(typeRegex).test(node.typeDescriptions.typeString);\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction nodeType(node, typeRegex) {\n    return new RegExp(typeRegex).test(node.nodeType);\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction nodeTypeIn(node, typeRegex) {\n    return typeRegex.some((typeRegex) => nodeType(node, typeRegex));\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction memName(node, memNameRegex) {\n    return (node && !memNameRegex) || new RegExp(memNameRegex).test(node.name) || new RegExp(memNameRegex).test(node.memberName);\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction operator(node, opRegex) {\n    return new RegExp(opRegex).test(node.operator);\n}\n// #################### Helpers\nfunction exactMatch(regexStr) {\n    return '^' + regexStr + '$';\n}\nfunction matches(...fnArgs) {\n    const args = [];\n    for (let k = 0; k < fnArgs.length; k++) {\n        args.push(fnArgs[k]);\n    }\n    return '(' + args.join('|') + ')';\n}\n/**\n * Finds first node of a certain type under a specific node.\n * @node {AstNode} node to start form\n * @type {String} Type the ast node should have\n * @return {AstNode} null or node found\n * Note: developed keeping identifier node search in mind to get first identifier node from left in subscope\n */\nfunction findFirstSubNodeLTR(node, type) {\n    if (node.nodeType && nodeType(node, type)) {\n        return node;\n    }\n    else if (node.nodeType && nodeType(node, exactMatch('Assignment'))) {\n        return findFirstSubNodeLTR(node.leftHandSide, type);\n    }\n    else if (node.nodeType && nodeType(node, exactMatch('MemberAccess'))) {\n        return findFirstSubNodeLTR(node.expression, type);\n    }\n    else if (node.nodeType && nodeType(node, exactMatch('IndexAccess'))) {\n        return findFirstSubNodeLTR(node.baseExpression, type);\n    }\n    else if (node.nodeType && nodeType(node, exactMatch('UnaryOperation'))) {\n        return findFirstSubNodeLTR(node.subExpression, type);\n    }\n}\n/**\n * Builds a function signature as used in the AST of the solc-json AST\n * @param {Array} paramTypes\n *  list of parameter type names\n * @param {Array} returnTypes\n *  list of return type names\n * @return {Boolean} isPayable\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction buildFunctionSignature(paramTypes, returnTypes, isPayable, additionalMods) {\n    return 'function (' + remix_lib_1.util.concatWithSeperator(paramTypes, ',') + ')' + ((isPayable) ? ' payable' : '') + ((additionalMods) ? ' ' + additionalMods : '') + ((returnTypes.length) ? ' returns (' + remix_lib_1.util.concatWithSeperator(returnTypes, ',') + ')' : '');\n}\nfunction buildAbiSignature(funName, paramTypes) {\n    return funName + '(' + remix_lib_1.util.concatWithSeperator(paramTypes, ',') + ')';\n}\n// To create the method signature similar to contract.evm.gasEstimates.external object\n// For address payable, return address\nfunction getMethodParamsSplittedTypeDesc(node, contracts) {\n    return node.parameters.parameters.map((varNode, varIndex) => {\n        let finalTypeString;\n        const typeString = varNode.typeDescriptions.typeString;\n        if (typeString.includes('struct')) {\n            const fnName = node.name;\n            for (const filename in contracts) {\n                for (const contractName in contracts[filename]) {\n                    const methodABI = contracts[filename][contractName].abi\n                        .find(e => {\n                        var _a;\n                        return e.name === fnName && ((_a = e.inputs) === null || _a === void 0 ? void 0 : _a.length) &&\n                            e.inputs[varIndex]['type'].includes('tuple') &&\n                            e.inputs[varIndex]['internalType'] === typeString;\n                    });\n                    if (methodABI && methodABI.inputs) {\n                        const inputs = methodABI.inputs[varIndex];\n                        const typeStr = getTypeStringFromComponents(inputs['components']);\n                        finalTypeString = typeStr + inputs['type'].replace('tuple', '');\n                    }\n                }\n            }\n        }\n        else {\n            finalTypeString = typeString.split(' ')[0];\n        }\n        return finalTypeString;\n    });\n}\nexports.getMethodParamsSplittedTypeDesc = getMethodParamsSplittedTypeDesc;\nfunction getTypeStringFromComponents(components) {\n    let typeString = '(';\n    for (let i = 0; i < components.length; i++) {\n        const param = components[i];\n        if (param.type.includes('tuple') && param.components && param.components.length > 0) {\n            typeString = typeString + getTypeStringFromComponents(param.components);\n            typeString = typeString + param.type.replace('tuple', '');\n        }\n        else {\n            typeString = typeString + param.type;\n        }\n        if (i !== components.length - 1) {\n            typeString = typeString + ',';\n        }\n    }\n    typeString = typeString + ')';\n    return typeString;\n}\n/**\n * Get compiler version from compiler contract object\n * This is used to redirect the user to specific version of Solidity documentation\n * @param contractFiles compiled contract object\n */\nfunction getCompilerVersion(contractFiles) {\n    let version = 'latest';\n    const fileNames = Object.keys(contractFiles);\n    const contracts = contractFiles[fileNames[0]];\n    const contractNames = Object.keys(contracts);\n    const contract = contracts[contractNames[0]];\n    // For some compiler/contract,  metadata is \"\"\n    if (contract && contract.metadata) {\n        const metadata = JSON.parse(contract.metadata);\n        const compilerVersion = metadata.compiler.version;\n        if (!compilerVersion.includes('nightly')) {\n            version = 'v' + compilerVersion.split('+commit')[0];\n        }\n    }\n    return version;\n}\nexports.getCompilerVersion = getCompilerVersion;\nconst helpers = {\n    expressionTypeDescription,\n    nodeType,\n    memName,\n    operator,\n    buildFunctionSignature,\n    buildAbiSignature\n};\nexports.helpers = helpers;\n//# sourceMappingURL=staticAnalysisCommon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass stringBytesLength {\n    constructor() {\n        this.name = 'String length: ';\n        this.description = 'Bytes length != String length';\n        this.category = categories_1.default.MISC;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n        this.stringToBytesConversions = [];\n        this.bytesLengthChecks = [];\n    }\n    visit(node) {\n        if (node.nodeType === 'FunctionCall' && (0, staticAnalysisCommon_1.isStringToBytesConversion)(node))\n            this.stringToBytesConversions.push(node);\n        else if (node.nodeType === 'MemberAccess' && (0, staticAnalysisCommon_1.isBytesLengthCheck)(node))\n            this.bytesLengthChecks.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        if (this.stringToBytesConversions.length > 0 && this.bytesLengthChecks.length > 0) {\n            return [{\n                    warning: '\"bytes\" and \"string\" lengths are not the same since strings are assumed to be UTF-8 encoded (according to the ABI defintion) therefore one character is not nessesarily encoded in one byte of data.',\n                    location: this.bytesLengthChecks[0].src,\n                    more: `https://solidity.readthedocs.io/en/${version}/abi-spec.html#argument-encoding`\n                }];\n        }\n        else {\n            return [];\n        }\n    }\n}\nexports.default = stringBytesLength;\n//# sourceMappingURL=stringBytesLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nclass thisLocal {\n    constructor() {\n        this.warningNodes = [];\n        this.name = 'This on local calls: ';\n        this.description = 'Invocation of local functions via \\'this\\'';\n        this.category = categories_1.default.GAS;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if (node.nodeType === 'MemberAccess' && (0, staticAnalysisCommon_1.isThisLocalCall)(node))\n            this.warningNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.warningNodes.map(function (item, i) {\n            return {\n                warning: 'Use of \"this\" for local functions: Never use \"this\" to call functions in the same contract, it only consumes more gas than normal local calls.',\n                location: item.src,\n                more: `https://solidity.readthedocs.io/en/${version}/control-structures.html#external-function-calls`\n            };\n        });\n    }\n}\nexports.default = thisLocal;\n//# sourceMappingURL=thisLocal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst categories_1 = (0, tslib_1.__importDefault)(require(\"./categories\"));\nconst algorithmCategories_1 = (0, tslib_1.__importDefault)(require(\"./algorithmCategories\"));\nconst staticAnalysisCommon_1 = require(\"./staticAnalysisCommon\");\nclass txOrigin {\n    constructor() {\n        this.txOriginNodes = [];\n        this.name = 'Transaction origin: ';\n        this.description = '\\'tx.origin\\' used';\n        this.category = categories_1.default.SECURITY;\n        this.algorithm = algorithmCategories_1.default.EXACT;\n        this.version = {\n            start: '0.4.12'\n        };\n    }\n    visit(node) {\n        if ((0, staticAnalysisCommon_1.isTxOriginAccess)(node))\n            this.txOriginNodes.push(node);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    report(compilationResults) {\n        const version = (0, staticAnalysisCommon_1.getCompilerVersion)(compilationResults.contracts);\n        return this.txOriginNodes.map((item, i) => {\n            return {\n                warning: `Use of tx.origin: \"tx.origin\" is useful only in very exceptional cases. \n                  If you use it for authentication, you usually want to replace it by \"msg.sender\", because otherwise any contract you call can act on your behalf.`,\n                location: item.src,\n                more: `https://solidity.readthedocs.io/en/${version}/security-considerations.html#tx-origin`\n            };\n        });\n    }\n}\nexports.default = txOrigin;\n//# sourceMappingURL=txOrigin.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AstWalker = exports.isYulAstNode = exports.isAstNode = void 0;\nconst events_1 = require(\"events\");\nconst isObject = function (obj) {\n    return obj != null && obj.constructor.name === 'Object';\n};\nfunction isAstNode(node) {\n    return (isObject(node) &&\n        'id' in node &&\n        'nodeType' in node &&\n        'src' in node);\n}\nexports.isAstNode = isAstNode;\nfunction isYulAstNode(node) {\n    return (isObject(node) &&\n        'nodeType' in node &&\n        'src' in node);\n}\nexports.isYulAstNode = isYulAstNode;\n/**\n * Crawl the given AST through the function walk(ast, callback)\n */\n/**\n * visit all the AST nodes\n *\n * @param {Object} ast  - AST node\n * @return EventEmitter\n * event('node', <Node Type | false>) will be fired for every node of type <Node Type>.\n * event('node', \"*\") will be fired for all other nodes.\n * in each case, if the event emits false it does not descend into children.\n * If no event for the current type, children are visited.\n */\n// eslint-disable-next-line no-redeclare\nclass AstWalker extends events_1.EventEmitter {\n    manageCallback(node, callback // eslint-disable-line @typescript-eslint/ban-types\n    ) {\n        // FIXME: we shouldn't be doing this callback determination type on each AST node,\n        // since the callback function is set once per walk.\n        // Better would be to store the right one as a variable and\n        // return that.\n        if (node) {\n            if ((node).name in callback) {\n                return callback[(node).name](node);\n            }\n            else {\n                return callback['*'](node);\n            }\n        }\n        if (node) {\n            if (node.nodeType in callback) {\n                /* istanbul ignore next */\n                return callback[node.nodeType](node);\n            }\n            else {\n                /* istanbul ignore next */\n                return callback['*'](node);\n            }\n        }\n    }\n    normalizeNodes(nodes) {\n        // Remove null, undefined and empty elements if any\n        nodes = nodes.filter(e => e);\n        // If any element in nodes is array, extract its members\n        const objNodes = [];\n        nodes.forEach(x => {\n            if (Array.isArray(x))\n                objNodes.push(...x);\n            else\n                objNodes.push(x);\n        });\n        // Filter duplicate nodes using id field\n        const normalizedNodes = [];\n        objNodes.forEach((element) => {\n            const firstIndex = normalizedNodes.findIndex(e => e.id === element.id);\n            if (firstIndex === -1)\n                normalizedNodes.push(element);\n        });\n        return normalizedNodes;\n    }\n    getASTNodeChildren(ast) {\n        var _a;\n        let nodes = ast.nodes || // for ContractDefinition\n            ast.body || // for FunctionDefinition, ModifierDefinition, WhileStatement, DoWhileStatement, ForStatement\n            ast.statements || // for Block, YulBlock\n            ast.members || // for StructDefinition, EnumDefinition\n            ast.overrides || // for OverrideSpecifier\n            ast.parameters || // for ParameterList, EventDefinition\n            ast.declarations || // for VariableDeclarationStatement\n            ast.expression || // for Return, ExpressionStatement, FunctionCall, FunctionCallOptions, MemberAccess\n            ast.components || // for TupleExpression\n            ast.subExpression || // for UnaryOperation\n            ast.eventCall || // for EmitStatement\n            [];\n        // If 'nodes' is not an array, convert it into one, for example: ast.body\n        if (nodes && !Array.isArray(nodes)) {\n            const tempArr = [];\n            tempArr.push(nodes);\n            nodes = tempArr;\n        }\n        // To break object referencing\n        nodes = [...nodes];\n        if (ast.nodes && ((_a = ast.baseContracts) === null || _a === void 0 ? void 0 : _a.length)) { // for ContractDefinition\n            nodes.push(...ast.baseContracts);\n        }\n        else if (ast.body && ast.overrides && ast.parameters && ast.returnParameters && ast.modifiers) { // for FunctionDefinition\n            nodes.push(ast.overrides);\n            nodes.push(ast.parameters);\n            nodes.push(ast.returnParameters);\n            nodes.push(ast.modifiers);\n        }\n        else if (ast.typeName) { // for VariableDeclaration, NewExpression, ElementaryTypeNameExpression\n            nodes.push(ast.typeName);\n        }\n        else if (ast.body && ast.overrides && ast.parameters) { // for ModifierDefinition\n            nodes.push(ast.overrides);\n            nodes.push(ast.parameters);\n        }\n        else if (ast.modifierName && ast.arguments) { // for ModifierInvocation\n            nodes.push(ast.modifierName);\n            nodes.push(ast.arguments);\n        }\n        else if (ast.parameterTypes && ast.returnParameterTypes) { // for ModifierInvocation\n            nodes.push(ast.parameterTypes);\n            nodes.push(ast.returnParameterTypes);\n        }\n        else if (ast.keyType && ast.valueType) { // for Mapping\n            nodes.push(ast.keyType);\n            nodes.push(ast.valueType);\n        }\n        else if (ast.baseType && ast.length) { // for ArrayTypeName\n            nodes.push(ast.baseType);\n            nodes.push(ast.length);\n        }\n        else if (ast.AST) { // for InlineAssembly\n            nodes.push(ast.AST);\n        }\n        else if (ast.condition && (ast.trueBody || ast.falseBody || ast.body)) { // for IfStatement, WhileStatement, DoWhileStatement\n            nodes.push(ast.condition);\n            nodes.push(ast.trueBody);\n            nodes.push(ast.falseBody);\n        }\n        else if (ast.parameters && ast.block) { // for TryCatchClause\n            nodes.push(ast.block);\n        }\n        else if (ast.externalCall && ast.clauses) { // for TryStatement\n            nodes.push(ast.externalCall);\n            nodes.push(ast.clauses);\n        }\n        else if (ast.body && ast.condition && ast.initializationExpression && ast.loopExpression) { // for ForStatement\n            nodes.push(ast.condition);\n            nodes.push(ast.initializationExpression);\n            nodes.push(ast.loopExpression);\n        }\n        else if (ast.declarations && ast.initialValue) { // for VariableDeclarationStatement\n            nodes.push(ast.initialValue);\n        }\n        else if (ast.condition && (ast.trueExpression || ast.falseExpression)) { // for Conditional\n            nodes.push(ast.condition);\n            nodes.push(ast.trueExpression);\n            nodes.push(ast.falseExpression);\n        }\n        else if (ast.leftHandSide && ast.rightHandSide) { // for Assignment\n            nodes.push(ast.leftHandSide);\n            nodes.push(ast.rightHandSide);\n        }\n        else if (ast.leftExpression && ast.rightExpression) { // for BinaryOperation\n            nodes.push(ast.leftExpression);\n            nodes.push(ast.rightExpression);\n        }\n        else if (ast.expression && (ast.arguments || ast.options)) { // for FunctionCall, FunctionCallOptions\n            nodes.push(ast.arguments ? ast.arguments : ast.options);\n        }\n        else if (ast.baseExpression && (ast.indexExpression || (ast.startExpression && ast.endExpression))) { // for IndexAccess, IndexRangeAccess\n            nodes.push(ast.baseExpression);\n            if (ast.indexExpression)\n                nodes.push(ast.indexExpression);\n            else {\n                nodes.push(ast.startExpression);\n                nodes.push(ast.endExpression);\n            }\n        }\n        return this.normalizeNodes(nodes);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/explicit-module-boundary-types\n    walk(ast, callback) {\n        if (ast) {\n            const children = this.getASTNodeChildren(ast);\n            if (callback) {\n                if (callback instanceof Function) {\n                    callback = Object({ '*': callback });\n                }\n                if (!('*' in callback)) {\n                    callback['*'] = function () {\n                        return true;\n                    };\n                }\n                if (this.manageCallback(ast, callback) && (children === null || children === void 0 ? void 0 : children.length)) {\n                    for (const k in children) {\n                        const child = children[k];\n                        this.walk(child, callback);\n                    }\n                }\n            }\n            else {\n                if (children === null || children === void 0 ? void 0 : children.length) {\n                    for (const k in children) {\n                        const child = children[k];\n                        this.emit('node', child);\n                        this.walk(child);\n                    }\n                }\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/explicit-module-boundary-types\n    walkFullInternal(ast, callback) {\n        if (isAstNode(ast) || isYulAstNode(ast)) {\n            // console.log(`XXX id ${ast.id}, nodeType: ${ast.nodeType}, src: ${ast.src}`);\n            callback(ast);\n            for (const k of Object.keys(ast)) {\n                // Possible optimization:\n                // if (k in ['id', 'src', 'nodeType']) continue;\n                const astItem = ast[k];\n                if (Array.isArray(astItem)) {\n                    for (const child of astItem) {\n                        if (child) {\n                            this.walkFullInternal(child, callback);\n                        }\n                    }\n                }\n                else {\n                    this.walkFullInternal(astItem, callback);\n                }\n            }\n        }\n    }\n    // Normalizes parameter callback and calls walkFullInternal\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    walkFull(ast, callback) {\n        if (isAstNode(ast) || isYulAstNode(ast))\n            return this.walkFullInternal(ast, callback);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/explicit-module-boundary-types\n    walkAstList(sourcesList, cb) {\n        if (cb) {\n            if (sourcesList.ast) {\n                this.walk(sourcesList.ast, cb);\n            }\n        }\n        else {\n            if (sourcesList.ast) {\n                this.walk(sourcesList.ast);\n            }\n        }\n    }\n}\nexports.AstWalker = AstWalker;\n//# sourceMappingURL=astWalker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\n(0, tslib_1.__exportStar)(require(\"./types\"), exports);\n(0, tslib_1.__exportStar)(require(\"./astWalker\"), exports);\n(0, tslib_1.__exportStar)(require(\"./sourceMappings\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SourceMappings = exports.sourceLocationFromSrc = exports.sourceLocationFromAstNode = exports.lineColPositionFromOffset = void 0;\nconst astWalker_1 = require(\"./astWalker\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * Turn an character offset into a \"LineColPosition\".\n *\n * @param offset  The character offset to convert.\n */\nfunction lineColPositionFromOffset(offset, lineBreaks) {\n    let line = remix_lib_1.util.findLowerBound(offset, lineBreaks);\n    if (lineBreaks[line] !== offset) {\n        line += 1;\n    }\n    const beginColumn = line === 0 ? 0 : (lineBreaks[line - 1] + 1);\n    return {\n        line: line + 1,\n        character: (offset - beginColumn) + 1\n    };\n}\nexports.lineColPositionFromOffset = lineColPositionFromOffset;\n/**\n * Turn a solc AST's \"src\" attribute string (s:l:f)\n * into a Location\n *\n * @param astNode  The object to convert.\n */\nfunction sourceLocationFromAstNode(astNode) {\n    if ((0, astWalker_1.isAstNode)(astNode) && (0, astWalker_1.isYulAstNode)(astNode) && astNode.src) {\n        return sourceLocationFromSrc(astNode.src);\n    }\n    return null;\n}\nexports.sourceLocationFromAstNode = sourceLocationFromAstNode;\n/**\n * Break out fields of solc AST's \"src\" attribute string (s:l:f)\n * into its \"start\", \"length\", and \"file index\" components\n * and return that as a Location\n *\n * @param src  A solc \"src\" field.\n * @returns {Location}\n */\nfunction sourceLocationFromSrc(src) {\n    const split = src.split(':');\n    return {\n        start: parseInt(split[0], 10),\n        length: parseInt(split[1], 10),\n        file: parseInt(split[2], 10)\n    };\n}\nexports.sourceLocationFromSrc = sourceLocationFromSrc;\n/**\n * Routines for retrieving solc AST object(s) using some criteria, usually\n * includng \"src' information.\n */\n// eslint-disable-next-line no-redeclare\nclass SourceMappings {\n    constructor(source) {\n        this.source = source;\n        // Create a list of line offsets which will be used to map between\n        // character offset and line/column positions.\n        const lineBreaks = [];\n        for (let pos = source.indexOf('\\n'); pos >= 0; pos = source.indexOf('\\n', pos + 1)) {\n            lineBreaks.push(pos);\n        }\n        this.lineBreaks = lineBreaks;\n    }\n    ;\n    /**\n     * Get a list of nodes that are at the given \"position\".\n     *\n     * @param astNodeType  Type of node to return or null.\n     * @param position     Character offset where AST node should be located.\n     */\n    nodesAtPosition(astNodeType, position, ast) {\n        const astWalker = new astWalker_1.AstWalker();\n        const found = [];\n        const callback = function (node) {\n            const nodeLocation = sourceLocationFromAstNode(node);\n            if (nodeLocation &&\n                nodeLocation.start === position.start &&\n                nodeLocation.length === position.length) {\n                if (!astNodeType || astNodeType === node.nodeType) {\n                    found.push(node);\n                }\n            }\n            return true;\n        };\n        astWalker.walkFull(ast, callback);\n        return found;\n    }\n    /**\n     * Retrieve the first \"astNodeType\" that includes the source map at arg instIndex, or \"null\" if none found.\n     *\n     * @param astNodeType   nodeType that a found ASTNode must be. Use \"null\" if any ASTNode can match.\n     * @param sourceLocation \"src\" location that the AST node must match.\n     */\n    findNodeAtSourceLocation(astNodeType, sourceLocation, ast) {\n        const astWalker = new astWalker_1.AstWalker();\n        let found = null;\n        /* FIXME: Looking at AST walker code,\n           I don't understand a need to return a boolean. */\n        const callback = function (node) {\n            const nodeLocation = sourceLocationFromAstNode(node);\n            if (nodeLocation &&\n                nodeLocation.start === sourceLocation.start &&\n                nodeLocation.length === sourceLocation.length) {\n                if (astNodeType === undefined || astNodeType === node.nodeType) {\n                    found = node;\n                }\n            }\n            return true;\n        };\n        astWalker.walkFull(ast, callback);\n        return found;\n    }\n    /**\n     * Retrieve the line/column range position for the given source-mapping string.\n     *\n     * @param src  Solc \"src\" object containing attributes {source} and {length}.\n     */\n    srcToLineColumnRange(src) {\n        const sourceLocation = sourceLocationFromSrc(src);\n        if (sourceLocation.start >= 0 && sourceLocation.length >= 0) {\n            return {\n                start: lineColPositionFromOffset(sourceLocation.start, this.lineBreaks),\n                end: lineColPositionFromOffset(sourceLocation.start + sourceLocation.length, this.lineBreaks)\n            };\n        }\n        else {\n            return {\n                start: null,\n                end: null\n            };\n        }\n    }\n}\nexports.SourceMappings = SourceMappings;\n//# sourceMappingURL=sourceMappings.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ethdebugger = void 0;\nconst tslib_1 = require(\"tslib\");\nconst storageViewer_1 = require(\"./storage/storageViewer\");\nconst storageResolver_1 = require(\"./storage/storageResolver\");\nconst traceManager_1 = require(\"./trace/traceManager\");\nconst codeManager_1 = require(\"./code/codeManager\");\nconst traceHelper_1 = require(\"./trace/traceHelper\");\nconst eventManager_1 = require(\"./eventManager\");\nconst solidity_decoder_1 = require(\"./solidity-decoder\");\n/**\n  * Ethdebugger is a wrapper around a few classes that helps debugging a transaction\n  *\n  * - Web3Providers - define which environment (web3) the transaction will be retrieved from\n  * - TraceManager - Load / Analyze the trace and retrieve details of specific test\n  * - CodeManager - Retrieve loaded byte code and help to resolve AST item from vmtrace index\n  * - SolidityProxy - Basically used to extract state variable from AST\n  * - Breakpoint Manager - Used to add / remove / jumpto breakpoint\n  * - InternalCallTree - Used to retrieved local variables\n  * - StorageResolver - Help resolving the storage accross different steps\n  *\n  * @param {Map} opts  -  { function compilationResult } //\n  */\nclass Ethdebugger {\n    constructor(opts) {\n        this.compilationResult = opts.compilationResult || function (contractAddress) { return null; };\n        this.web3 = opts.web3;\n        this.opts = opts;\n        this.event = new eventManager_1.EventManager();\n        this.traceManager = new traceManager_1.TraceManager({ web3: this.web3 });\n        this.codeManager = new codeManager_1.CodeManager(this.traceManager);\n        this.solidityProxy = new solidity_decoder_1.SolidityProxy({ getCurrentCalledAddressAt: this.traceManager.getCurrentCalledAddressAt.bind(this.traceManager), getCode: this.codeManager.getCode.bind(this.codeManager) });\n        this.storageResolver = null;\n        const includeLocalVariables = true;\n        this.callTree = new solidity_decoder_1.InternalCallTree(this.event, this.traceManager, this.solidityProxy, this.codeManager, Object.assign(Object.assign({}, opts), { includeLocalVariables }));\n    }\n    setManagers() {\n        this.traceManager = new traceManager_1.TraceManager({ web3: this.web3 });\n        this.codeManager = new codeManager_1.CodeManager(this.traceManager);\n        this.solidityProxy = new solidity_decoder_1.SolidityProxy({ getCurrentCalledAddressAt: this.traceManager.getCurrentCalledAddressAt.bind(this.traceManager), getCode: this.codeManager.getCode.bind(this.codeManager) });\n        this.storageResolver = null;\n        const includeLocalVariables = true;\n        this.callTree = new solidity_decoder_1.InternalCallTree(this.event, this.traceManager, this.solidityProxy, this.codeManager, Object.assign(Object.assign({}, this.opts), { includeLocalVariables }));\n        this.event.trigger('managersChanged');\n    }\n    resolveStep(index) {\n        this.codeManager.resolveStep(index, this.tx);\n    }\n    setCompilationResult(compilationResult) {\n        this.solidityProxy.reset((compilationResult && compilationResult.data) || {});\n    }\n    sourceLocationFromVMTraceIndex(address, stepIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.callTree.sourceLocationTracker.getSourceLocationFromVMTraceIndex(address, stepIndex, this.solidityProxy.contracts);\n        });\n    }\n    getValidSourceLocationFromVMTraceIndex(address, stepIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.callTree.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, stepIndex, this.solidityProxy.contracts);\n        });\n    }\n    sourceLocationFromInstructionIndex(address, instIndex, callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.callTree.sourceLocationTracker.getSourceLocationFromInstructionIndex(address, instIndex, this.solidityProxy.contracts);\n        });\n    }\n    /* breakpoint */\n    setBreakpointManager(breakpointManager) {\n        this.breakpointManager = breakpointManager;\n    }\n    /* decode locals */\n    extractLocalsAt(step) {\n        return this.callTree.findScope(step);\n    }\n    decodeLocalsAt(step, sourceLocation, callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                const stack = this.traceManager.getStackAt(step);\n                const memory = this.traceManager.getMemoryAt(step);\n                const address = this.traceManager.getCurrentCalledAddressAt(step);\n                const calldata = this.traceManager.getCallDataAt(step);\n                try {\n                    const storageViewer = new storageViewer_1.StorageViewer({ stepIndex: step, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n                    const locals = yield solidity_decoder_1.localDecoder.solidityLocals(step, this.callTree, stack, memory, storageViewer, calldata, sourceLocation, null);\n                    if (locals['error']) {\n                        return callback(locals['error']);\n                    }\n                    return callback(null, locals);\n                }\n                catch (e) {\n                    callback(e.message);\n                }\n            }\n            catch (error) {\n                callback(error);\n            }\n        });\n    }\n    /* decode state */\n    extractStateAt(step) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return this.solidityProxy.extractStateVariablesAt(step);\n        });\n    }\n    decodeStateAt(step, stateVars, callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                const address = this.traceManager.getCurrentCalledAddressAt(step);\n                const storageViewer = new storageViewer_1.StorageViewer({ stepIndex: step, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n                const result = yield solidity_decoder_1.stateDecoder.decodeState(stateVars, storageViewer);\n                return result;\n            }\n            catch (error) {\n                callback(error);\n            }\n        });\n    }\n    storageViewAt(step, address) {\n        return new storageViewer_1.StorageViewer({ stepIndex: step, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n    }\n    updateWeb3(web3) {\n        this.web3 = web3;\n        this.setManagers();\n    }\n    unLoad() {\n        this.traceManager.init();\n        this.codeManager.clear();\n        this.event.trigger('traceUnloaded');\n    }\n    debug(tx) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this.traceManager.isLoading) {\n                return;\n            }\n            tx.to = tx.to || (0, traceHelper_1.contractCreationToken)('0');\n            this.tx = tx;\n            yield this.traceManager.resolveTrace(tx);\n            this.setCompilationResult(yield this.compilationResult(tx.to));\n            this.event.trigger('newTraceLoaded', [this.traceManager.trace]);\n            if (this.breakpointManager && this.breakpointManager.hasBreakpoint()) {\n                this.breakpointManager.jumpNextBreakpoint(false);\n            }\n            this.storageResolver = new storageResolver_1.StorageResolver({ web3: this.traceManager.web3 });\n        });\n    }\n}\nexports.Ethdebugger = Ethdebugger;\n//# sourceMappingURL=Ethdebugger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CmdLine = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst debugger_js_1 = require(\"../debugger/debugger.js\");\nconst events_1 = require(\"events\");\nclass CmdLine {\n    constructor() {\n        this.events = new events_1.EventEmitter();\n        this.lineColumnPos = null;\n        this.rawLocation = null;\n    }\n    connect(providerType, url) {\n        if (providerType !== 'http')\n            throw new Error('unsupported provider type');\n        this.web3 = new web3_1.default(new web3_1.default.providers.HttpProvider(url));\n    }\n    loadCompilationData(inputJson, outputJson) {\n        const data = {};\n        data['data'] = outputJson;\n        data['source'] = { sources: inputJson.sources };\n        this.loadCompilationResult(data);\n    }\n    loadCompilationResult(compilationResult) {\n        this.compilation = {};\n        this.compilation.compilationResult = compilationResult;\n    }\n    initDebugger(cb) {\n        this.debugger = new debugger_js_1.Debugger({\n            web3: this.web3,\n            compilationResult: () => { return this.compilation.compilationResult; }\n        });\n    }\n    getSource() {\n        const lineColumnPos = this.lineColumnPos;\n        if (!lineColumnPos || !lineColumnPos.start)\n            return [];\n        const content = this.compilation.compilationResult.source.sources[this.filename].content.split('\\n');\n        const source = [];\n        let line;\n        line = content[lineColumnPos.start.line - 2];\n        if (line !== undefined) {\n            source.push('    ' + (lineColumnPos.start.line - 1) + ':  ' + line);\n        }\n        line = content[lineColumnPos.start.line - 1];\n        if (line !== undefined) {\n            source.push('    ' + lineColumnPos.start.line + ':  ' + line);\n        }\n        const currentLineNumber = lineColumnPos.start.line;\n        const currentLine = content[currentLineNumber];\n        source.push('=>  ' + (currentLineNumber + 1) + ':  ' + currentLine);\n        const startLine = lineColumnPos.start.line;\n        for (var i = 1; i < 4; i++) {\n            const line = content[startLine + i];\n            source.push('    ' + (startLine + i + 1) + ':  ' + line);\n        }\n        return source;\n    }\n    getCurrentLine() {\n        const lineColumnPos = this.lineColumnPos;\n        if (!lineColumnPos)\n            return '';\n        const currentLineNumber = lineColumnPos.start.line;\n        const content = this.compilation.compilationResult.source.sources[this.filename].content.split('\\n');\n        return content[currentLineNumber];\n    }\n    startDebug(txNumber, filename, cb) {\n        this.filename = filename;\n        this.txHash = txNumber;\n        this.debugger.debug(null, txNumber, null, () => {\n            this.debugger.event.register('newSourceLocation', (lineColumnPos, rawLocation) => {\n                if (!lineColumnPos)\n                    return;\n                this.lineColumnPos = lineColumnPos;\n                this.rawLocation = rawLocation;\n                this.events.emit('source', [lineColumnPos, rawLocation]);\n            });\n            this.debugger.vmDebuggerLogic.event.register('solidityState', (data) => {\n                this.solidityState = data;\n                this.events.emit('globals', data);\n            });\n            // TODO: this doesnt work too well, it should request the data instead...\n            this.debugger.vmDebuggerLogic.event.register('solidityLocals', (data) => {\n                if (JSON.stringify(data) === '{}')\n                    return;\n                this.solidityLocals = data;\n                this.events.emit('locals', data);\n            });\n            if (cb) {\n                // TODO: this should be an onReady event\n                setTimeout(cb, 1000);\n            }\n        });\n    }\n    getVars() {\n        return {\n            locals: this.solidityLocals,\n            contract: this.solidityState\n        };\n    }\n    triggerSourceUpdate() {\n        this.events.emit('source', [this.lineColumnPos, this.rawLocation]);\n    }\n    stepJumpNextBreakpoint() {\n        this.debugger.step_manager.jumpNextBreakpoint();\n    }\n    stepJumpPreviousBreakpoint() {\n        this.debugger.step_manager.jumpPreviousBreakpoint();\n    }\n    stepOverForward(solidityMode) {\n        this.debugger.step_manager.stepOverForward(solidityMode);\n    }\n    stepOverBack(solidityMode) {\n        this.debugger.step_manager.stepOverBack(solidityMode);\n    }\n    stepIntoForward(solidityMode) {\n        this.debugger.step_manager.stepIntoForward(solidityMode);\n    }\n    stepIntoBack(solidityMode) {\n        this.debugger.step_manager.stepIntoBack(solidityMode);\n    }\n    jumpTo(step) {\n        this.debugger.step_manager.jumpTo(step);\n    }\n    getTraceLength() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.traceLength;\n    }\n    getCodeFirstStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.calculateFirstStep();\n    }\n    getCodeTraceLength() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.calculateCodeLength();\n    }\n    nextStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.nextStep();\n    }\n    previousStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.previousStep();\n    }\n    currentStep() {\n        if (!this.debugger.step_manager)\n            return 0;\n        return this.debugger.step_manager.currentStepIndex;\n    }\n    canGoNext() {\n        return this.currentStep() < this.getCodeTraceLength();\n    }\n    canGoPrevious() {\n        return this.currentStep() > this.getCodeFirstStep();\n    }\n    unload() {\n        return this.debugger.unload();\n    }\n    displayLocals() {\n        console.dir('= displayLocals');\n        console.dir(this.solidityLocals);\n    }\n    displayGlobals() {\n        console.dir('= displayGlobals');\n        console.dir(this.solidityState);\n    }\n}\nexports.CmdLine = CmdLine;\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BreakpointManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\n/**\n  * allow to manage breakpoint\n  *\n  * Trigger events: breakpointHit, breakpointAdded, breakpointRemoved\n  */\nclass BreakpointManager {\n    /**\n      * constructor\n      *\n      * @param {Object} _debugger - type of EthDebugger\n      * @return {Function} _locationToRowConverter - function implemented by editor which return a column/line position for a char source location\n      */\n    constructor({ traceManager, callTree, solidityProxy, locationToRowConverter }) {\n        this.event = new eventManager_1.EventManager();\n        this.traceManager = traceManager;\n        this.callTree = callTree;\n        this.solidityProxy = solidityProxy;\n        this.breakpoints = {};\n        this.locationToRowConverter = locationToRowConverter;\n    }\n    setManagers({ traceManager, callTree, solidityProxy }) {\n        this.traceManager = traceManager;\n        this.callTree = callTree;\n        this.solidityProxy = solidityProxy;\n    }\n    /**\n      * start looking for the next breakpoint\n      * @param {Bool} defaultToLimit - if true jump to the end of the trace if no more breakpoint found\n      *\n      */\n    jumpNextBreakpoint(fromStep, defaultToLimit) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.locationToRowConverter) {\n                return console.log('row converter not provided');\n            }\n            this.jump(fromStep || 0, 1, defaultToLimit, this.traceManager.trace);\n        });\n    }\n    /**\n      * start looking for the previous breakpoint\n      * @param {Bool} defaultToLimit - if true jump to the start of the trace if no more breakpoint found\n      *\n      */\n    jumpPreviousBreakpoint(fromStep, defaultToLimit) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.locationToRowConverter) {\n                return console.log('row converter not provided');\n            }\n            this.jump(fromStep || 0, -1, defaultToLimit, this.traceManager.trace);\n        });\n    }\n    depthChange(step, trace) {\n        return trace[step].depth !== trace[step - 1].depth;\n    }\n    hitLine(currentStep, sourceLocation, previousSourceLocation, trace) {\n        // isJumpDestInstruction -> returning from a internal function call\n        // depthChange -> returning from an external call\n        // sourceLocation.start <= previousSourceLocation.start && ... -> previous src is contained in the current one\n        if (((0, traceHelper_1.isJumpDestInstruction)(trace[currentStep]) && previousSourceLocation.jump === 'o') ||\n            this.depthChange(currentStep, trace) ||\n            (sourceLocation.start <= previousSourceLocation.start &&\n                sourceLocation.start + sourceLocation.length >= previousSourceLocation.start + previousSourceLocation.length)) {\n            return false;\n        }\n        this.event.trigger('breakpointStep', [currentStep]);\n        this.event.trigger('breakpointHit', [sourceLocation, currentStep]);\n        return true;\n    }\n    /**\n      * start looking for the previous or next breakpoint\n      * @param {Int} direction - 1 or -1 direction of the search\n      * @param {Bool} defaultToLimit - if true jump to the limit (end if direction is 1, beginning if direction is -1) of the trace if no more breakpoint found\n      *\n      */\n    jump(fromStep, direction, defaultToLimit, trace) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let sourceLocation;\n            let previousSourceLocation;\n            let currentStep = fromStep + direction;\n            let lineHadBreakpoint = false;\n            let initialLine;\n            while (currentStep > 0 && currentStep < trace.length) {\n                try {\n                    previousSourceLocation = sourceLocation;\n                    sourceLocation = yield this.callTree.extractValidSourceLocation(currentStep);\n                }\n                catch (e) {\n                    console.log('cannot jump to breakpoint ' + e);\n                    currentStep += direction;\n                    continue;\n                }\n                const lineColumn = yield this.locationToRowConverter(sourceLocation);\n                if (!initialLine)\n                    initialLine = lineColumn;\n                if (initialLine.start.line !== lineColumn.start.line) {\n                    if (direction === -1 && lineHadBreakpoint) { // TODO : improve this when we will build the correct structure before hand\n                        lineHadBreakpoint = false;\n                        if (this.hitLine(currentStep + 1, previousSourceLocation, sourceLocation, trace)) {\n                            return;\n                        }\n                    }\n                    if (this.hasBreakpointAtLine(sourceLocation.file, lineColumn.start.line)) {\n                        lineHadBreakpoint = true;\n                        if (direction === 1 && this.hitLine(currentStep, sourceLocation, previousSourceLocation, trace)) {\n                            return;\n                        }\n                    }\n                }\n                currentStep += direction;\n            }\n            this.event.trigger('NoBreakpointHit', []);\n            if (!defaultToLimit) {\n                return;\n            }\n            if (direction === -1) {\n                this.event.trigger('breakpointStep', [0]);\n            }\n            else if (direction === 1) {\n                this.event.trigger('breakpointStep', [trace.length - 1]);\n            }\n        });\n    }\n    /**\n      * check the given pair fileIndex/line against registered breakpoints\n      *\n      * @param {Int} fileIndex - index of the file content (from the compilation result)\n      * @param {Int} line - line number where looking for breakpoint\n      * @return {Bool} return true if the given @arg fileIndex @arg line refers to a breakpoint\n      */\n    hasBreakpointAtLine(fileIndex, line) {\n        const filename = this.solidityProxy.fileNameFromIndex(fileIndex);\n        if (!(filename && this.breakpoints[filename])) {\n            return false;\n        }\n        const sources = this.breakpoints[filename];\n        for (const k in sources) {\n            const source = sources[k];\n            if (line === source.row) {\n                return true;\n            }\n        }\n    }\n    /**\n      * return true if current manager has breakpoint\n      *\n      * @return {Bool} true if breapoint registered\n      */\n    hasBreakpoint() {\n        for (const k in this.breakpoints) {\n            if (this.breakpoints[k].length) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n      * add a new breakpoint to the manager\n      *\n      * @param {Object} sourceLocation - position of the breakpoint { file: '<file index>', row: '<line number' }\n      */\n    add(sourceLocation) {\n        if (!this.breakpoints[sourceLocation.fileName]) {\n            this.breakpoints[sourceLocation.fileName] = [];\n        }\n        this.breakpoints[sourceLocation.fileName].push(sourceLocation);\n        this.event.trigger('breakpointAdded', [sourceLocation]);\n    }\n    /**\n      * remove a breakpoint from the manager\n      *\n      * @param {Object} sourceLocation - position of the breakpoint { file: '<file index>', row: '<line number' }\n      */\n    remove(sourceLocation) {\n        var sources = this.breakpoints[sourceLocation.fileName];\n        if (!sources) {\n            return;\n        }\n        for (const k in sources) {\n            const source = sources[k];\n            if (sourceLocation.row === source.row) {\n                sources.splice(k, 1);\n                this.event.trigger('breakpointRemoved', [sourceLocation]);\n                break;\n            }\n        }\n    }\n}\nexports.BreakpointManager = BreakpointManager;\n//# sourceMappingURL=breakpointManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst sourceMappingDecoder_1 = require(\"../source/sourceMappingDecoder\");\nconst codeResolver_1 = require(\"./codeResolver\");\n/*\n  resolve contract code referenced by vmtrace in order to be used by asm listview.\n  events:\n   - changed: triggered when an item is selected\n   - resolvingStep: when CodeManager resolves code/selected instruction of a new step\n*/\nclass CodeManager {\n    constructor(_traceManager) {\n        this.event = new eventManager_1.EventManager();\n        this.isLoading = false;\n        this.traceManager = _traceManager;\n        this.codeResolver = new codeResolver_1.CodeResolver({\n            getCode: (address) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                return new Promise((resolve, reject) => {\n                    this.traceManager.web3.eth.getCode(address, (error, code) => {\n                        if (error) {\n                            return reject(error);\n                        }\n                        return resolve(code);\n                    });\n                });\n            }),\n            fork: this.traceManager.getCurrentFork()\n        });\n    }\n    /**\n     * clear the cache\n     *\n     */\n    clear() {\n        this.codeResolver.clear();\n    }\n    /**\n     * resolve the code of the given @arg stepIndex and trigger appropriate event\n     *\n     * @param {String} stepIndex - vm trace step\n     * @param {Object} tx - transaction (given by web3)\n     */\n    resolveStep(stepIndex, tx) {\n        if (stepIndex < 0)\n            return;\n        this.event.trigger('resolvingStep');\n        if (stepIndex === 0) {\n            return this.retrieveCodeAndTrigger(this, tx.to, stepIndex, tx);\n        }\n        try {\n            const address = this.traceManager.getCurrentCalledAddressAt(stepIndex);\n            this.retrieveCodeAndTrigger(this, address, stepIndex, tx);\n        }\n        catch (error) {\n            return console.log(error);\n        }\n    }\n    /**\n     * Retrieve the code located at the given @arg address\n     *\n     * @param {String} address - address of the contract to get the code from\n     * @param {Function} cb - callback function, return the bytecode\n     */\n    getCode(address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!(0, traceHelper_1.isContractCreation)(address)) {\n                const code = yield this.codeResolver.resolveCode(address);\n                return code;\n            }\n            var codes = this.codeResolver.getExecutingCodeFromCache(address);\n            if (codes) {\n                return codes;\n            }\n            const hexCode = this.traceManager.getContractCreationCode(address);\n            codes = this.codeResolver.cacheExecutingCode(address, hexCode);\n            return codes;\n        });\n    }\n    /**\n     * Retrieve the called function for the current vm step for the given @arg address\n     *\n     * @param {String} stepIndex - vm trace step\n     * @param {String} sourceMap - source map given byt the compilation result\n     * @param {Object} ast - ast given by the compilation result\n     * @return {Object} return the ast node of the function\n     */\n    getFunctionFromStep(stepIndex, sourceMap, ast) {\n        try {\n            const address = this.traceManager.getCurrentCalledAddressAt(stepIndex);\n            const pc = this.traceManager.getCurrentPC(stepIndex);\n            return this.getFunctionFromPC(address, pc, sourceMap, ast);\n        }\n        catch (error) {\n            console.log(error);\n            return { error: 'Cannot retrieve current address or PC for ' + stepIndex };\n        }\n    }\n    /**\n     * Retrieve the instruction index of the given @arg step\n     *\n     * @param {String} address - address of the current context\n     * @param {String} step - vm trace step\n     * @param {Function} callback - instruction index\n     */\n    getInstructionIndex(address, step) {\n        try {\n            const pc = this.traceManager.getCurrentPC(step);\n            const itemIndex = this.codeResolver.getInstructionIndex(address, pc);\n            return itemIndex;\n        }\n        catch (error) {\n            console.log(error);\n            throw new Error('Cannot retrieve current PC for ' + step);\n        }\n    }\n    /**\n     * Retrieve the called function for the given @arg pc and @arg address\n     *\n     * @param {String} address - address of the current context (used to resolve instruction index)\n     * @param {String} pc - pc that point to the instruction index\n     * @param {String} sourceMap - source map given byt the compilation result\n     * @param {Object} ast - ast given by the compilation result\n     * @return {Object} return the ast node of the function\n     */\n    getFunctionFromPC(address, pc, sourceMap, ast) {\n        const instIndex = this.codeResolver.getInstructionIndex(address, pc);\n        return (0, sourceMappingDecoder_1.findNodeAtInstructionIndex)('FunctionDefinition', instIndex, sourceMap, ast);\n    }\n    retrieveCodeAndTrigger(codeMananger, address, stepIndex, tx) {\n        codeMananger.getCode(address).then((result) => {\n            this.retrieveIndexAndTrigger(codeMananger, address, stepIndex, result.instructions);\n        }).catch((error) => {\n            return console.log(error);\n        });\n    }\n    retrieveIndexAndTrigger(codeMananger, address, step, code) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let result;\n            const next = [];\n            const returnInstructionIndexes = [];\n            const outOfGasInstructionIndexes = [];\n            try {\n                result = codeMananger.getInstructionIndex(address, step);\n                for (let i = 1; i < 6; i++) {\n                    if (this.traceManager.inRange(step + i)) {\n                        next.push(codeMananger.getInstructionIndex(address, step + i));\n                    }\n                }\n                let values = this.traceManager.getAllStopIndexes();\n                if (values) {\n                    for (const value of values) {\n                        if (value.address === address) {\n                            returnInstructionIndexes.push({ instructionIndex: this.getInstructionIndex(address, value.index), address });\n                        }\n                    }\n                }\n                values = this.traceManager.getAllOutofGasIndexes();\n                if (values) {\n                    for (const value of values) {\n                        if (value.address === address) {\n                            outOfGasInstructionIndexes.push({ instructionIndex: this.getInstructionIndex(address, value.index), address });\n                        }\n                    }\n                }\n            }\n            catch (error) {\n                return console.log(error);\n            }\n            try {\n                codeMananger.event.trigger('changed', [code, address, result, next, returnInstructionIndexes, outOfGasInstructionIndexes]);\n            }\n            catch (e) {\n                console.log('dispatching event failed', e);\n            }\n        });\n    }\n}\nexports.CodeManager = CodeManager;\n//# sourceMappingURL=codeManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeResolver = void 0;\nconst tslib_1 = require(\"tslib\");\nconst codeUtils_1 = require(\"./codeUtils\");\nclass CodeResolver {\n    constructor({ getCode, fork }) {\n        this.getCode = getCode;\n        this.bytecodeByAddress = {}; // bytes code by contract addesses\n        this.instructionsByAddress = {}; // assembly items instructions list by contract addesses\n        this.instructionsIndexByBytesOffset = {}; // mapping between bytes offset and instructions index.\n        this.fork = fork;\n    }\n    clear() {\n        this.bytecodeByAddress = {};\n        this.instructionsByAddress = {};\n        this.instructionsIndexByBytesOffset = {};\n    }\n    resolveCode(address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const cache = this.getExecutingCodeFromCache(address);\n            if (cache) {\n                return cache;\n            }\n            const code = yield this.getCode(address);\n            return this.cacheExecutingCode(address, code);\n        });\n    }\n    cacheExecutingCode(address, hexCode) {\n        const codes = this.formatCode(hexCode);\n        this.bytecodeByAddress[address] = hexCode;\n        this.instructionsByAddress[address] = codes.code;\n        this.instructionsIndexByBytesOffset[address] = codes.instructionsIndexByBytesOffset;\n        return this.getExecutingCodeFromCache(address);\n    }\n    formatCode(hexCode) {\n        const [code, instructionsIndexByBytesOffset] = (0, codeUtils_1.nameOpCodes)(Buffer.from(hexCode.substring(2), 'hex'), this.fork);\n        return { code, instructionsIndexByBytesOffset };\n    }\n    getExecutingCodeFromCache(address) {\n        if (!this.instructionsByAddress[address]) {\n            return null;\n        }\n        return {\n            instructions: this.instructionsByAddress[address],\n            instructionsIndexByBytesOffset: this.instructionsIndexByBytesOffset[address],\n            bytecode: this.bytecodeByAddress[address]\n        };\n    }\n    getInstructionIndex(address, pc) {\n        return this.getExecutingCodeFromCache(address).instructionsIndexByBytesOffset[pc];\n    }\n}\nexports.CodeResolver = CodeResolver;\n//# sourceMappingURL=codeResolver.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.roundLog = exports.log = exports.pad = exports.parseCode = exports.nameOpCodes = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = (0, tslib_1.__importDefault)(require(\"@ethereumjs/common\"));\nconst opcodes_1 = require(\"@ethereumjs/vm/dist/evm/opcodes\");\nconst opcodes_2 = (0, tslib_1.__importDefault)(require(\"./opcodes\"));\nfunction nameOpCodes(raw, hardfork) {\n    const common = new common_1.default({ chain: 'mainnet', hardfork });\n    const opcodes = (0, opcodes_1.getOpcodesForHF)(common);\n    let pushData = '';\n    const codeMap = {};\n    const code = [];\n    for (let i = 0; i < raw.length; i++) {\n        const pc = i;\n        let curOpCode;\n        try {\n            curOpCode = opcodes.get(raw[pc]).fullName;\n        }\n        catch (e) {\n            curOpCode = 'INVALID';\n        }\n        codeMap[i] = code.length;\n        // no destinations into the middle of PUSH\n        if (curOpCode.slice(0, 4) === 'PUSH') {\n            const jumpNum = raw[pc] - 0x5f;\n            pushData = raw.slice(pc + 1, pc + jumpNum + 1);\n            i += jumpNum;\n        }\n        const data = pushData.toString('hex') !== '' ? ' ' + pushData.toString('hex') : '';\n        code.push(pad(pc, roundLog(raw.length, 10)) + ' ' + curOpCode + data);\n        pushData = '';\n    }\n    return [code, codeMap];\n}\nexports.nameOpCodes = nameOpCodes;\n/**\n * Parses code as a list of integers into a list of objects containing\n * information about the opcode.\n */\nfunction parseCode(raw) {\n    const common = new common_1.default({ chain: 'mainnet', hardfork: 'london' });\n    const opcodes = (0, opcodes_1.getOpcodesForHF)(common);\n    const code = [];\n    for (let i = 0; i < raw.length; i++) {\n        const opcode = { name: 'INVALID' };\n        try {\n            const code = opcodes.get(raw[i]);\n            const opcodeDetails = (0, opcodes_2.default)(raw[i], false);\n            opcode.in = opcodeDetails.in;\n            opcode.out = opcodeDetails.out;\n            opcode.name = code.fullName;\n        }\n        catch (e) {\n            opcode.name = 'INVALID';\n        }\n        if (opcode.name.slice(0, 4) === 'PUSH') {\n            const length = raw[i] - 0x5f;\n            opcode.pushData = raw.slice(i + 1, i + length + 1);\n            // in case pushdata extends beyond code\n            if (i + 1 + length > raw.length) {\n                for (let j = opcode['pushData'].length; j < length; j++) {\n                    opcode['pushData'].push(0);\n                }\n            }\n            i += length;\n        }\n        code.push(opcode);\n    }\n    return code;\n}\nexports.parseCode = parseCode;\nfunction pad(num, size) {\n    let s = num + '';\n    while (s.length < size)\n        s = '0' + s;\n    return s;\n}\nexports.pad = pad;\nfunction log(num, base) {\n    return Math.log(num) / Math.log(base);\n}\nexports.log = log;\nfunction roundLog(num, base) {\n    return Math.ceil(log(num, base));\n}\nexports.roundLog = roundLog;\n//# sourceMappingURL=codeUtils.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(op, full) {\n    const codes = {\n        // 0x0 range - arithmetic ops\n        // name, baseCost, off stack, on stack, dynamic, async\n        // @todo can be improved on basis of this: https://github.com/ethereumjs/ethereumjs-vm/blob/master/lib/evm/opcodes.ts\n        0x00: ['STOP', 0, 0, 0, false],\n        0x01: ['ADD', 3, 2, 1, false],\n        0x02: ['MUL', 5, 2, 1, false],\n        0x03: ['SUB', 3, 2, 1, false],\n        0x04: ['DIV', 5, 2, 1, false],\n        0x05: ['SDIV', 5, 2, 1, false],\n        0x06: ['MOD', 5, 2, 1, false],\n        0x07: ['SMOD', 5, 2, 1, false],\n        0x08: ['ADDMOD', 8, 3, 1, false],\n        0x09: ['MULMOD', 8, 3, 1, false],\n        0x0a: ['EXP', 10, 2, 1, false],\n        0x0b: ['SIGNEXTEND', 5, 2, 1, false],\n        // 0x10 range - bit ops\n        0x10: ['LT', 3, 2, 1, false],\n        0x11: ['GT', 3, 2, 1, false],\n        0x12: ['SLT', 3, 2, 1, false],\n        0x13: ['SGT', 3, 2, 1, false],\n        0x14: ['EQ', 3, 2, 1, false],\n        0x15: ['ISZERO', 3, 1, 1, false],\n        0x16: ['AND', 3, 2, 1, false],\n        0x17: ['OR', 3, 2, 1, false],\n        0x18: ['XOR', 3, 2, 1, false],\n        0x19: ['NOT', 3, 1, 1, false],\n        0x1a: ['BYTE', 3, 2, 1, false],\n        0x1b: ['SHL', 3, 2, 1, false],\n        0x1c: ['SHR', 3, 2, 1, false],\n        0x1d: ['SAR', 3, 2, 1, false],\n        // 0x20 range - crypto\n        0x20: ['SHA3', 30, 2, 1, false],\n        // 0x30 range - closure state\n        0x30: ['ADDRESS', 2, 0, 1, true],\n        0x31: ['BALANCE', 700, 1, 1, true, true],\n        0x32: ['ORIGIN', 2, 0, 1, true],\n        0x33: ['CALLER', 2, 0, 1, true],\n        0x34: ['CALLVALUE', 2, 0, 1, true],\n        0x35: ['CALLDATALOAD', 3, 1, 1, true],\n        0x36: ['CALLDATASIZE', 2, 0, 1, true],\n        0x37: ['CALLDATACOPY', 3, 3, 0, true],\n        0x38: ['CODESIZE', 2, 0, 1, false],\n        0x39: ['CODECOPY', 3, 3, 0, false],\n        0x3a: ['GASPRICE', 2, 0, 1, false],\n        0x3b: ['EXTCODESIZE', 700, 1, 1, true, true],\n        0x3c: ['EXTCODECOPY', 700, 4, 0, true, true],\n        0x3d: ['RETURNDATASIZE', 2, 0, 1, true],\n        0x3e: ['RETURNDATACOPY', 3, 3, 0, true],\n        0x3f: ['EXTCODEHASH', 400, 3, 0, true],\n        // '0x40' range - block operations\n        0x40: ['BLOCKHASH', 20, 1, 1, true, true],\n        0x41: ['COINBASE', 2, 0, 1, true],\n        0x42: ['TIMESTAMP', 2, 0, 1, true],\n        0x43: ['NUMBER', 2, 0, 1, true],\n        0x44: ['DIFFICULTY', 2, 0, 1, true],\n        0x45: ['GASLIMIT', 2, 0, 1, true],\n        0x46: ['CHAINID', 2, 0, 1, false],\n        0x47: ['SELFBALANCE', 5, 0, 1, false],\n        // 0x50 range - 'storage' and execution\n        0x50: ['POP', 2, 1, 0, false],\n        0x51: ['MLOAD', 3, 1, 1, false],\n        0x52: ['MSTORE', 3, 2, 0, false],\n        0x53: ['MSTORE8', 3, 2, 0, false],\n        0x54: ['SLOAD', 800, 1, 1, true, true],\n        0x55: ['SSTORE', 0, 2, 0, true, true],\n        0x56: ['JUMP', 8, 1, 0, false],\n        0x57: ['JUMPI', 10, 2, 0, false],\n        0x58: ['PC', 2, 0, 1, false],\n        0x59: ['MSIZE', 2, 0, 1, false],\n        0x5a: ['GAS', 2, 0, 1, false],\n        0x5b: ['JUMPDEST', 1, 0, 0, false],\n        // 0x60, range\n        0x60: ['PUSH1', 3, 0, 1, false],\n        0x61: ['PUSH2', 3, 0, 1, false],\n        0x62: ['PUSH3', 3, 0, 1, false],\n        0x63: ['PUSH4', 3, 0, 1, false],\n        0x64: ['PUSH5', 3, 0, 1, false],\n        0x65: ['PUSH6', 3, 0, 1, false],\n        0x66: ['PUSH7', 3, 0, 1, false],\n        0x67: ['PUSH8', 3, 0, 1, false],\n        0x68: ['PUSH9', 3, 0, 1, false],\n        0x69: ['PUSH10', 3, 0, 1, false],\n        0x6a: ['PUSH11', 3, 0, 1, false],\n        0x6b: ['PUSH12', 3, 0, 1, false],\n        0x6c: ['PUSH13', 3, 0, 1, false],\n        0x6d: ['PUSH14', 3, 0, 1, false],\n        0x6e: ['PUSH15', 3, 0, 1, false],\n        0x6f: ['PUSH16', 3, 0, 1, false],\n        0x70: ['PUSH17', 3, 0, 1, false],\n        0x71: ['PUSH18', 3, 0, 1, false],\n        0x72: ['PUSH19', 3, 0, 1, false],\n        0x73: ['PUSH20', 3, 0, 1, false],\n        0x74: ['PUSH21', 3, 0, 1, false],\n        0x75: ['PUSH22', 3, 0, 1, false],\n        0x76: ['PUSH23', 3, 0, 1, false],\n        0x77: ['PUSH24', 3, 0, 1, false],\n        0x78: ['PUSH25', 3, 0, 1, false],\n        0x79: ['PUSH26', 3, 0, 1, false],\n        0x7a: ['PUSH27', 3, 0, 1, false],\n        0x7b: ['PUSH28', 3, 0, 1, false],\n        0x7c: ['PUSH29', 3, 0, 1, false],\n        0x7d: ['PUSH30', 3, 0, 1, false],\n        0x7e: ['PUSH31', 3, 0, 1, false],\n        0x7f: ['PUSH32', 3, 0, 1, false],\n        0x80: ['DUP1', 3, 0, 1, false],\n        0x81: ['DUP2', 3, 0, 1, false],\n        0x82: ['DUP3', 3, 0, 1, false],\n        0x83: ['DUP4', 3, 0, 1, false],\n        0x84: ['DUP5', 3, 0, 1, false],\n        0x85: ['DUP6', 3, 0, 1, false],\n        0x86: ['DUP7', 3, 0, 1, false],\n        0x87: ['DUP8', 3, 0, 1, false],\n        0x88: ['DUP9', 3, 0, 1, false],\n        0x89: ['DUP10', 3, 0, 1, false],\n        0x8a: ['DUP11', 3, 0, 1, false],\n        0x8b: ['DUP12', 3, 0, 1, false],\n        0x8c: ['DUP13', 3, 0, 1, false],\n        0x8d: ['DUP14', 3, 0, 1, false],\n        0x8e: ['DUP15', 3, 0, 1, false],\n        0x8f: ['DUP16', 3, 0, 1, false],\n        0x90: ['SWAP1', 3, 0, 0, false],\n        0x91: ['SWAP2', 3, 0, 0, false],\n        0x92: ['SWAP3', 3, 0, 0, false],\n        0x93: ['SWAP4', 3, 0, 0, false],\n        0x94: ['SWAP5', 3, 0, 0, false],\n        0x95: ['SWAP6', 3, 0, 0, false],\n        0x96: ['SWAP7', 3, 0, 0, false],\n        0x97: ['SWAP8', 3, 0, 0, false],\n        0x98: ['SWAP9', 3, 0, 0, false],\n        0x99: ['SWAP10', 3, 0, 0, false],\n        0x9a: ['SWAP11', 3, 0, 0, false],\n        0x9b: ['SWAP12', 3, 0, 0, false],\n        0x9c: ['SWAP13', 3, 0, 0, false],\n        0x9d: ['SWAP14', 3, 0, 0, false],\n        0x9e: ['SWAP15', 3, 0, 0, false],\n        0x9f: ['SWAP16', 3, 0, 0, false],\n        0xa0: ['LOG0', 375, 2, 0, false],\n        0xa1: ['LOG1', 375, 3, 0, false],\n        0xa2: ['LOG2', 375, 4, 0, false],\n        0xa3: ['LOG3', 375, 5, 0, false],\n        0xa4: ['LOG4', 375, 6, 0, false],\n        // '0xf0' range - closures\n        0xf0: ['CREATE', 32000, 3, 1, true, true],\n        0xf1: ['CALL', 700, 7, 1, true, true],\n        0xf2: ['CALLCODE', 700, 7, 1, true, true],\n        0xf3: ['RETURN', 0, 2, 0, false],\n        0xf4: ['DELEGATECALL', 700, 6, 1, true, true],\n        0xf5: ['CREATE2', 32000, 4, 1, true, true],\n        0xfa: ['STATICCALL', 700, 6, 1, true, true],\n        0xfd: ['REVERT', 0, 2, 0, false],\n        // '0x70', range - other\n        0xfe: ['INVALID', 0, 0, 0, false],\n        0xff: ['SELFDESTRUCT', 5000, 1, 0, false, true]\n    };\n    const code = codes[op] ? codes[op] : ['INVALID', 0, 0, 0, false, false];\n    let opcode = code[0];\n    if (full) {\n        if (opcode === 'LOG') {\n            opcode += op - 0xa0;\n        }\n        if (opcode === 'PUSH') {\n            opcode += op - 0x5f;\n        }\n        if (opcode === 'DUP') {\n            opcode += op - 0x7f;\n        }\n        if (opcode === 'SWAP') {\n            opcode += op - 0x8f;\n        }\n    }\n    return { name: opcode, fee: code[1], in: code[2], out: code[3], dynamic: code[4], async: code[5] };\n}\nexports.default = default_1;\n//# sourceMappingURL=opcodes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VmDebuggerLogic = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst storageResolver_1 = require(\"../storage/storageResolver\");\nconst storageViewer_1 = require(\"../storage/storageViewer\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst solidityState_1 = require(\"./solidityState\");\nconst solidityLocals_1 = require(\"./solidityLocals\");\nconst { ui } = remix_lib_1.helpers;\nclass VmDebuggerLogic {\n    constructor(_debugger, tx, _stepManager, _traceManager, _codeManager, _solidityProxy, _callTree) {\n        this.event = new eventManager_1.EventManager();\n        this.debugger = _debugger;\n        this.stepManager = _stepManager;\n        this._traceManager = _traceManager;\n        this._codeManager = _codeManager;\n        this._solidityProxy = _solidityProxy;\n        this._callTree = _callTree;\n        this.storageResolver = null;\n        this.tx = tx;\n        this.debuggerSolidityState = new solidityState_1.DebuggerSolidityState(tx, _stepManager, _traceManager, _codeManager, _solidityProxy);\n        this.debuggerSolidityLocals = new solidityLocals_1.DebuggerSolidityLocals(tx, _stepManager, _traceManager, _callTree);\n    }\n    start() {\n        this.listenToEvents();\n        this.listenToCodeManagerEvents();\n        this.listenToTraceManagerEvents();\n        this.listenToFullStorageChanges();\n        this.listenToNewChanges();\n        this.listenToSolidityStateEvents();\n        this.listenToSolidityLocalsEvents();\n    }\n    listenToEvents() {\n        this.debugger.event.register('traceUnloaded', () => {\n            this.event.trigger('traceUnloaded');\n        });\n        this.debugger.event.register('newTraceLoaded', () => {\n            this.event.trigger('newTraceLoaded');\n        });\n    }\n    listenToCodeManagerEvents() {\n        this._codeManager.event.register('changed', (code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes) => {\n            this.event.trigger('codeManagerChanged', [code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes]);\n        });\n    }\n    listenToTraceManagerEvents() {\n        this.event.register('indexChanged', this, (index) => {\n            if (index < 0)\n                return;\n            if (this.stepManager.currentStepIndex !== index)\n                return;\n            this.event.trigger('indexUpdate', [index]);\n            this.event.trigger('functionsStackUpdate', [this._callTree.retrieveFunctionsStack(index)]);\n            try {\n                const calldata = this._traceManager.getCallDataAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerCallDataUpdate', [calldata]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerCallDataUpdate', [{}]);\n            }\n            try {\n                const memory = this._traceManager.getMemoryAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerMemoryUpdate', [ui.formatMemory(memory, 16)]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerMemoryUpdate', [{}]);\n            }\n            try {\n                const callstack = this._traceManager.getCallStackAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerCallStackUpdate', [callstack]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerCallStackUpdate', [{}]);\n            }\n            try {\n                const callstack = this._traceManager.getStackAt(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceManagerStackUpdate', [callstack]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceManagerStackUpdate', [{}]);\n            }\n            try {\n                const address = this._traceManager.getCurrentCalledAddressAt(index);\n                if (!this.storageResolver)\n                    return;\n                var storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: address }, this.storageResolver, this._traceManager);\n                storageViewer.storageRange().then((storage) => {\n                    if (this.stepManager.currentStepIndex === index) {\n                        var header = storageViewer.isComplete(address) ? '[Completely Loaded]' : '[Partially Loaded]';\n                        this.event.trigger('traceManagerStorageUpdate', [storage, header]);\n                    }\n                }).catch((_error) => {\n                    this.event.trigger('traceManagerStorageUpdate', [{}]);\n                });\n            }\n            catch (error) {\n                this.event.trigger('traceManagerStorageUpdate', [{}]);\n            }\n            try {\n                const step = this._traceManager.getCurrentStep(index);\n                this.event.trigger('traceCurrentStepUpdate', [null, step]);\n            }\n            catch (error) {\n                this.event.trigger('traceCurrentStepUpdate', [error]);\n            }\n            try {\n                const addmem = this._traceManager.getMemExpand(index);\n                this.event.trigger('traceMemExpandUpdate', [null, addmem]);\n            }\n            catch (error) {\n                this.event.trigger('traceMemExpandUpdate', [error]);\n            }\n            try {\n                const gas = this._traceManager.getStepCost(index);\n                this.event.trigger('traceStepCostUpdate', [null, gas]);\n            }\n            catch (error) {\n                this.event.trigger('traceStepCostUpdate', [error]);\n            }\n            try {\n                const address = this._traceManager.getCurrentCalledAddressAt(index);\n                this.event.trigger('traceCurrentCalledAddressAtUpdate', [null, address]);\n            }\n            catch (error) {\n                this.event.trigger('traceCurrentCalledAddressAtUpdate', [error]);\n            }\n            try {\n                const remaining = this._traceManager.getRemainingGas(index);\n                this.event.trigger('traceRemainingGasUpdate', [null, remaining]);\n            }\n            catch (error) {\n                this.event.trigger('traceRemainingGasUpdate', [error]);\n            }\n            try {\n                const returnValue = this._traceManager.getReturnValue(index);\n                if (this.stepManager.currentStepIndex === index) {\n                    this.event.trigger('traceReturnValueUpdate', [[returnValue]]);\n                }\n            }\n            catch (error) {\n                this.event.trigger('traceReturnValueUpdate', [[error]]);\n            }\n        });\n    }\n    listenToFullStorageChanges() {\n        this.address = [];\n        this.traceLength = 0;\n        this.debugger.event.register('newTraceLoaded', (length) => {\n            const addresses = this._traceManager.getAddresses();\n            this.event.trigger('traceAddressesUpdate', [addresses]);\n            this.addresses = addresses;\n            this._traceManager.getLength((error, length) => {\n                if (error)\n                    return;\n                this.event.trigger('traceLengthUpdate', [length]);\n                this.traceLength = length;\n            });\n        });\n        this.debugger.event.register('indexChanged', this, (index) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (index < 0)\n                return;\n            if (this.stepManager.currentStepIndex !== index)\n                return;\n            if (!this.storageResolver)\n                return;\n            // Clean up storage update\n            if (index === this.traceLength - 1) {\n                return this.event.trigger('traceStorageUpdate', [{}]);\n            }\n            var storageJSON = {};\n            for (var k in this.addresses) {\n                var address = this.addresses[k];\n                var storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: address }, this.storageResolver, this._traceManager);\n                try {\n                    storageJSON[address] = yield storageViewer.storageRange();\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }\n            this.event.trigger('traceStorageUpdate', [storageJSON]);\n        }));\n    }\n    listenToNewChanges() {\n        this.debugger.event.register('newTraceLoaded', this, () => {\n            this.storageResolver = new storageResolver_1.StorageResolver({ web3: this.debugger.web3 });\n            this.debuggerSolidityState.storageResolver = this.storageResolver;\n            this.debuggerSolidityLocals.storageResolver = this.storageResolver;\n            this.event.trigger('newTrace', []);\n        });\n        this.debugger.callTree.event.register('callTreeReady', () => {\n            if (this.debugger.callTree.reducedTrace.length) {\n                return this.event.trigger('newCallTree', []);\n            }\n        });\n    }\n    listenToSolidityStateEvents() {\n        this.event.register('indexChanged', this.debuggerSolidityState.init.bind(this.debuggerSolidityState));\n        this.debuggerSolidityState.event.register('solidityState', (state) => {\n            this.event.trigger('solidityState', [state]);\n        });\n        this.debuggerSolidityState.event.register('solidityStateMessage', (message) => {\n            this.event.trigger('solidityStateMessage', [message]);\n        });\n        this.debuggerSolidityState.event.register('solidityStateUpdating', () => {\n            this.event.trigger('solidityStateUpdating', []);\n        });\n        this.event.register('traceUnloaded', this.debuggerSolidityState.reset.bind(this.debuggerSolidityState));\n        this.event.register('newTraceLoaded', this.debuggerSolidityState.reset.bind(this.debuggerSolidityState));\n    }\n    listenToSolidityLocalsEvents() {\n        this.event.register('sourceLocationChanged', this.debuggerSolidityLocals.init.bind(this.debuggerSolidityLocals));\n        this.event.register('solidityLocalsLoadMore', this.debuggerSolidityLocals.decodeMore.bind(this.debuggerSolidityLocals));\n        this.debuggerSolidityLocals.event.register('solidityLocalsLoadMoreCompleted', (locals) => {\n            this.event.trigger('solidityLocalsLoadMoreCompleted', [locals]);\n        });\n        this.debuggerSolidityLocals.event.register('solidityLocals', (state) => {\n            this.event.trigger('solidityLocals', [state]);\n        });\n        this.debuggerSolidityLocals.event.register('solidityLocalsMessage', (message) => {\n            this.event.trigger('solidityLocalsMessage', [message]);\n        });\n        this.debuggerSolidityLocals.event.register('solidityLocalsUpdating', () => {\n            this.event.trigger('solidityLocalsUpdating', []);\n        });\n        this.debuggerSolidityLocals.event.register('traceReturnValueUpdate', (data, header) => {\n            this.event.trigger('traceReturnValueUpdate', [data, header]);\n        });\n    }\n}\nexports.VmDebuggerLogic = VmDebuggerLogic;\n//# sourceMappingURL=VmDebugger.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Debugger = void 0;\nconst tslib_1 = require(\"tslib\");\nconst Ethdebugger_1 = require(\"../Ethdebugger\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst breakpointManager_1 = require(\"../code/breakpointManager\");\nconst stepManager_1 = require(\"./stepManager\");\nconst VmDebugger_1 = require(\"./VmDebugger\");\nclass Debugger {\n    constructor(options) {\n        this.event = new eventManager_1.EventManager();\n        this.offsetToLineColumnConverter = options.offsetToLineColumnConverter;\n        /*\n          Returns a compilation result for a given address or the last one available if none are found\n        */\n        this.compilationResult = options.compilationResult || function (contractAddress) { return null; };\n        this.debugger = new Ethdebugger_1.Ethdebugger({\n            web3: options.web3,\n            debugWithGeneratedSources: options.debugWithGeneratedSources,\n            compilationResult: this.compilationResult\n        });\n        const { traceManager, callTree, solidityProxy } = this.debugger;\n        this.breakPointManager = new breakpointManager_1.BreakpointManager({\n            traceManager,\n            callTree,\n            solidityProxy,\n            locationToRowConverter: (sourceLocation) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                const compilationResult = yield this.compilationResult();\n                if (!compilationResult)\n                    return { start: null, end: null };\n                return yield this.offsetToLineColumnConverter.offsetToLineColumn(sourceLocation, sourceLocation.file, compilationResult.source.sources, compilationResult.data.sources);\n            })\n        });\n        this.breakPointManager.event.register('managersChanged', () => {\n            const { traceManager, callTree, solidityProxy } = this.debugger;\n            this.breakPointManager.setManagers({ traceManager, callTree, solidityProxy });\n        });\n        this.breakPointManager.event.register('breakpointStep', (step) => {\n            this.step_manager.jumpTo(step);\n        });\n        this.debugger.setBreakpointManager(this.breakPointManager);\n        this.debugger.event.register('newTraceLoaded', this, () => {\n            this.event.trigger('debuggerStatus', [true]);\n        });\n        this.debugger.event.register('traceUnloaded', this, () => {\n            this.event.trigger('debuggerStatus', [false]);\n        });\n    }\n    registerAndHighlightCodeItem(index) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // register selected code item, highlight the corresponding source location\n            // this.debugger.traceManager.getCurrentCalledAddressAt(index, async (error, address) => {\n            try {\n                const address = this.debugger.traceManager.getCurrentCalledAddressAt(index);\n                const compilationResultForAddress = yield this.compilationResult(address);\n                if (!compilationResultForAddress)\n                    return;\n                this.debugger.callTree.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, index, compilationResultForAddress.data.contracts).then((rawLocation) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                    if (compilationResultForAddress && compilationResultForAddress.data) {\n                        const generatedSources = this.debugger.callTree.sourceLocationTracker.getGeneratedSourcesFromAddress(address);\n                        const astSources = Object.assign({}, compilationResultForAddress.data.sources);\n                        const sources = Object.assign({}, compilationResultForAddress.source.sources);\n                        if (generatedSources) {\n                            for (const genSource of generatedSources) {\n                                astSources[genSource.name] = { id: genSource.id, ast: genSource.ast };\n                                sources[genSource.name] = { content: genSource.contents };\n                            }\n                        }\n                        var lineColumnPos = yield this.offsetToLineColumnConverter.offsetToLineColumn(rawLocation, rawLocation.file, sources, astSources);\n                        this.event.trigger('newSourceLocation', [lineColumnPos, rawLocation, generatedSources, address]);\n                    }\n                    else {\n                        this.event.trigger('newSourceLocation', [null]);\n                    }\n                })).catch((_error) => {\n                    this.event.trigger('newSourceLocation', [null]);\n                });\n                // })\n            }\n            catch (error) {\n                return console.log(error);\n            }\n        });\n    }\n    updateWeb3(web3) {\n        this.debugger.web3 = web3;\n    }\n    debug(blockNumber, txNumber, tx, loadingCb) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const web3 = this.debugger.web3;\n            if (this.debugger.traceManager.isLoading) {\n                return;\n            }\n            if (tx) {\n                if (!tx.to) {\n                    tx.to = (0, traceHelper_1.contractCreationToken)('0');\n                }\n                return yield this.debugTx(tx, loadingCb);\n            }\n            if (txNumber.indexOf('0x') !== -1) {\n                tx = yield web3.eth.getTransaction(txNumber);\n                if (!tx)\n                    throw new Error('cannot find transaction ' + txNumber);\n            }\n            else {\n                tx = yield web3.eth.getTransactionFromBlock(blockNumber, txNumber);\n                if (!tx)\n                    throw new Error('cannot find transaction ' + blockNumber + ' ' + txNumber);\n            }\n            return yield this.debugTx(tx, loadingCb);\n        });\n    }\n    debugTx(tx, loadingCb) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.step_manager = new stepManager_1.DebuggerStepManager(this.debugger, this.debugger.traceManager);\n            this.debugger.codeManager.event.register('changed', this, (code, address, instIndex) => {\n                if (!this.debugger.solidityProxy.contracts)\n                    return;\n                this.debugger.callTree.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, this.step_manager.currentStepIndex, this.debugger.solidityProxy.contracts).then((sourceLocation) => {\n                    this.vmDebuggerLogic.event.trigger('sourceLocationChanged', [sourceLocation]);\n                });\n            });\n            this.vmDebuggerLogic = new VmDebugger_1.VmDebuggerLogic(this.debugger, tx, this.step_manager, this.debugger.traceManager, this.debugger.codeManager, this.debugger.solidityProxy, this.debugger.callTree);\n            this.vmDebuggerLogic.start();\n            this.step_manager.event.register('stepChanged', this, (stepIndex) => {\n                if (typeof stepIndex !== 'number' || stepIndex >= this.step_manager.traceLength) {\n                    return this.event.trigger('endDebug');\n                }\n                this.debugger.codeManager.resolveStep(stepIndex, tx);\n                this.step_manager.event.trigger('indexChanged', [stepIndex]);\n                this.vmDebuggerLogic.event.trigger('indexChanged', [stepIndex]);\n                this.vmDebuggerLogic.debugger.event.trigger('indexChanged', [stepIndex]);\n                this.registerAndHighlightCodeItem(stepIndex);\n            });\n            loadingCb();\n            yield this.debugger.debug(tx);\n        });\n    }\n    unload() {\n        this.debugger.unLoad();\n        this.event.trigger('debuggerUnloaded');\n    }\n}\nexports.Debugger = Debugger;\n//# sourceMappingURL=debugger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebuggerSolidityLocals = void 0;\nconst eventManager_1 = require(\"../eventManager\");\nconst localDecoder_1 = require(\"../solidity-decoder/localDecoder\");\nconst storageViewer_1 = require(\"../storage/storageViewer\");\nclass DebuggerSolidityLocals {\n    constructor(tx, _stepManager, _traceManager, _internalTreeCall) {\n        this.event = new eventManager_1.EventManager();\n        this.stepManager = _stepManager;\n        this.internalTreeCall = _internalTreeCall;\n        this.storageResolver = null;\n        this.traceManager = _traceManager;\n        this.tx = tx;\n    }\n    init(sourceLocation) {\n        this._sourceLocation = sourceLocation;\n        var decodeTimeout = null;\n        if (!this.storageResolver) {\n            return this.event.trigger('solidityLocalsMessage', ['storage not ready']);\n        }\n        if (decodeTimeout) {\n            window.clearTimeout(decodeTimeout);\n        }\n        this.event.trigger('solidityLocalsUpdating');\n        decodeTimeout = setTimeout(() => {\n            this.decode(sourceLocation);\n        }, 500);\n    }\n    decode(sourceLocation, cursor) {\n        const self = this;\n        this.event.trigger('solidityLocalsMessage', ['']);\n        this.traceManager.waterfall([\n            function getStackAt(stepIndex, callback) {\n                try {\n                    const result = self.traceManager.getStackAt(stepIndex);\n                    callback(null, result);\n                }\n                catch (error) {\n                    callback(error);\n                }\n            },\n            function getMemoryAt(stepIndex, callback) {\n                try {\n                    const result = self.traceManager.getMemoryAt(stepIndex);\n                    callback(null, result);\n                }\n                catch (error) {\n                    callback(error);\n                }\n            },\n            function getCurrentCalledAddressAt(stepIndex, next) {\n                try {\n                    const address = self.traceManager.getCurrentCalledAddressAt(stepIndex);\n                    next(null, address);\n                }\n                catch (error) {\n                    next(error);\n                }\n            },\n            function getCallDataAt(stepIndex, next) {\n                try {\n                    const calldata = self.traceManager.getCallDataAt(stepIndex);\n                    next(null, calldata);\n                }\n                catch (error) {\n                    next(error);\n                }\n            }\n        ], this.stepManager.currentStepIndex, (error, result) => {\n            if (error) {\n                return error;\n            }\n            var stack = result[0].value;\n            var memory = result[1].value;\n            var calldata = result[3].value;\n            try {\n                var storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: result[2].value }, this.storageResolver, this.traceManager);\n                (0, localDecoder_1.solidityLocals)(this.stepManager.currentStepIndex, this.internalTreeCall, stack, memory, storageViewer, calldata, sourceLocation, cursor).then((locals) => {\n                    if (!cursor) {\n                        if (!locals['error']) {\n                            this.event.trigger('solidityLocals', [locals]);\n                        }\n                        if (!Object.keys(locals).length) {\n                            this.event.trigger('solidityLocalsMessage', ['no locals']);\n                        }\n                    }\n                    else {\n                        if (!locals['error']) {\n                            this.event.trigger('solidityLocalsLoadMoreCompleted', [locals]);\n                        }\n                    }\n                });\n            }\n            catch (e) {\n                this.event.trigger('solidityLocalsMessage', [e.message]);\n            }\n        });\n    }\n    decodeMore(cursor) {\n        let decodeTimeout = null;\n        if (!this.storageResolver)\n            return this.event.trigger('solidityLocalsMessage', ['storage not ready']);\n        if (decodeTimeout)\n            window.clearTimeout(decodeTimeout);\n        decodeTimeout = setTimeout(() => {\n            this.decode(this._sourceLocation, cursor);\n        }, 500);\n    }\n}\nexports.DebuggerSolidityLocals = DebuggerSolidityLocals;\n//# sourceMappingURL=solidityLocals.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebuggerSolidityState = void 0;\nconst eventManager_1 = require(\"../eventManager\");\nconst stateDecoder_1 = require(\"../solidity-decoder/stateDecoder\");\nconst storageViewer_1 = require(\"../storage/storageViewer\");\nclass DebuggerSolidityState {\n    constructor(tx, _stepManager, _traceManager, _codeManager, _solidityProxy) {\n        this.event = new eventManager_1.EventManager();\n        this.storageResolver = null;\n        this.stepManager = _stepManager;\n        this.traceManager = _traceManager;\n        this.codeManager = _codeManager;\n        this.solidityProxy = _solidityProxy;\n        this.stateVariablesByAddresses = {};\n        this.tx = tx;\n    }\n    init(index) {\n        let decodeTimeout = null;\n        if (index < 0) {\n            return this.event.trigger('solidityStateMessage', ['invalid step index']);\n        }\n        if (this.stepManager.currentStepIndex !== index)\n            return;\n        if (!this.solidityProxy.loaded()) {\n            return this.event.trigger('solidityStateMessage', ['invalid step index']);\n        }\n        if (!this.storageResolver) {\n            return;\n        }\n        if (decodeTimeout) {\n            window.clearTimeout(decodeTimeout);\n        }\n        this.event.trigger('solidityStateUpdating');\n        decodeTimeout = setTimeout(() => {\n            // necessary due to some states that can crash the debugger\n            try {\n                this.decode(index);\n            }\n            catch (err) {\n                console.dir('====> error');\n                console.dir(err);\n            }\n        }, 500);\n    }\n    reset() {\n        this.stateVariablesByAddresses = {};\n    }\n    decode(index) {\n        try {\n            const address = this.traceManager.getCurrentCalledAddressAt(this.stepManager.currentStepIndex);\n            if (this.stateVariablesByAddresses[address]) {\n                return this.extractStateVariables(this.stateVariablesByAddresses[address], address);\n            }\n            this.solidityProxy.extractStateVariablesAt(index).then((stateVars) => {\n                this.stateVariablesByAddresses[address] = stateVars;\n                this.extractStateVariables(stateVars, address);\n            }).catch((_error) => {\n                this.event.trigger('solidityState', [{}]);\n            });\n        }\n        catch (error) {\n            return this.event.trigger('solidityState', [{}]);\n        }\n    }\n    extractStateVariables(stateVars, address) {\n        const storageViewer = new storageViewer_1.StorageViewer({ stepIndex: this.stepManager.currentStepIndex, tx: this.tx, address: address }, this.storageResolver, this.traceManager);\n        (0, stateDecoder_1.decodeState)(stateVars, storageViewer).then((result) => {\n            this.event.trigger('solidityStateMessage', ['']);\n            if (result['error']) {\n                return this.event.trigger('solidityStateMessage', [result['error']]);\n            }\n            this.event.trigger('solidityState', [result]);\n        });\n    }\n}\nexports.DebuggerSolidityState = DebuggerSolidityState;\n//# sourceMappingURL=solidityState.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebuggerStepManager = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst eventManager_1 = require(\"../eventManager\");\nclass DebuggerStepManager {\n    constructor(_debugger, traceManager) {\n        this.event = new eventManager_1.EventManager();\n        this.debugger = _debugger;\n        this.traceManager = traceManager;\n        this.currentStepIndex = 0;\n        this.traceLength = 0;\n        this.codeTraceLength = 0;\n        this.revertionPoint = null;\n        this.listenToEvents();\n    }\n    listenToEvents() {\n        this.debugger.event.register('newTraceLoaded', this, () => {\n            this.traceManager.getLength((error, newLength) => {\n                if (error) {\n                    return console.log(error);\n                }\n                if (this.traceLength !== newLength) {\n                    this.event.trigger('traceLengthChanged', [newLength]);\n                    this.traceLength = newLength;\n                    this.codeTraceLength = this.calculateCodeLength();\n                }\n                this.jumpTo(0);\n            });\n        });\n        this.debugger.callTree.event.register('callTreeReady', () => {\n            if (this.debugger.callTree.functionCallStack.length) {\n                this.jumpTo(this.debugger.callTree.functionCallStack[0]);\n            }\n        });\n        this.event.register('indexChanged', this, (index) => {\n            if (index < 0)\n                return;\n            if (this.currentStepIndex !== index)\n                return;\n            this.traceManager.buildCallPath(index).then((callsPath) => {\n                this.currentCall = callsPath[callsPath.length - 1];\n                if (this.currentCall.reverted) {\n                    const revertedReason = this.currentCall.outofgas ? 'outofgas' : '';\n                    this.revertionPoint = this.currentCall.return;\n                    return this.event.trigger('revertWarning', [revertedReason]);\n                }\n                for (var k = callsPath.length - 2; k >= 0; k--) {\n                    var parent = callsPath[k];\n                    if (!parent.reverted)\n                        continue;\n                    this.revertionPoint = parent.return;\n                    this.event.trigger('revertWarning', ['parenthasthrown']);\n                }\n                this.event.trigger('revertWarning', ['']);\n            }).catch((error) => {\n                console.log(error);\n                this.event.trigger('revertWarning', ['']);\n            });\n        });\n    }\n    triggerStepChanged(step) {\n        this.traceManager.getLength((error, length) => {\n            let stepState = 'valid';\n            if (error) {\n                stepState = 'invalid';\n            }\n            else if (step <= 0) {\n                stepState = 'initial';\n            }\n            else if (step >= length - 1) {\n                stepState = 'end';\n            }\n            const jumpOutDisabled = (step === this.traceManager.findStepOut(step));\n            this.event.trigger('stepChanged', [step, stepState, jumpOutDisabled]);\n        });\n    }\n    stepIntoBack(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        let step = this.currentStepIndex - 1;\n        this.currentStepIndex = step;\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, -1);\n        }\n        if (!this.traceManager.inRange(step)) {\n            return;\n        }\n        this.triggerStepChanged(step);\n    }\n    stepIntoForward(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        let step = this.currentStepIndex + 1;\n        this.currentStepIndex = step;\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, 1);\n        }\n        if (!this.traceManager.inRange(step)) {\n            return;\n        }\n        this.triggerStepChanged(step);\n    }\n    stepOverBack(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        let step = this.traceManager.findStepOverBack(this.currentStepIndex);\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, -1);\n        }\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    stepOverForward(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        if (this.currentStepIndex >= this.traceLength - 1)\n            return;\n        let step = this.currentStepIndex + 1;\n        const scope = this.debugger.callTree.findScope(step);\n        if (scope && scope.firstStep === step) {\n            step = scope.lastStep + 1;\n        }\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, 1);\n        }\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    jumpOut(solidityMode) {\n        if (!this.traceManager.isLoaded())\n            return;\n        var step = this.traceManager.findStepOut(this.currentStepIndex);\n        if (solidityMode) {\n            step = this.resolveToReducedTrace(step, 0);\n        }\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    jumpTo(step) {\n        if (!this.traceManager.inRange(step))\n            return;\n        this.currentStepIndex = step;\n        this.triggerStepChanged(step);\n    }\n    jumpToException() {\n        this.jumpTo(this.revertionPoint);\n    }\n    jumpNextBreakpoint() {\n        this.debugger.breakpointManager.jumpNextBreakpoint(this.currentStepIndex, true);\n    }\n    jumpPreviousBreakpoint() {\n        this.debugger.breakpointManager.jumpPreviousBreakpoint(this.currentStepIndex, true);\n    }\n    calculateFirstStep() {\n        const step = this.resolveToReducedTrace(0, 1);\n        return this.resolveToReducedTrace(step, 1);\n    }\n    calculateCodeStepList() {\n        let step = 0;\n        let steps = [];\n        while (step < this.traceLength) {\n            const _step = this.resolveToReducedTrace(step, 1);\n            if (!_step)\n                break;\n            steps.push(_step);\n            step += 1;\n        }\n        steps = steps.filter((item, pos, self) => { return steps.indexOf(item) === pos; });\n        return steps;\n    }\n    calculateCodeLength() {\n        this.calculateCodeStepList().reverse();\n        return this.calculateCodeStepList().reverse()[1] || this.traceLength;\n    }\n    nextStep() {\n        return this.resolveToReducedTrace(this.currentStepIndex, 1);\n    }\n    previousStep() {\n        return this.resolveToReducedTrace(this.currentStepIndex, -1);\n    }\n    resolveToReducedTrace(value, incr) {\n        if (!this.debugger.callTree.reducedTrace.length) {\n            return value;\n        }\n        var nextSource = remix_lib_1.util.findClosestIndex(value, this.debugger.callTree.reducedTrace);\n        nextSource = nextSource + incr;\n        if (nextSource <= 0) {\n            nextSource = 0;\n        }\n        else if (nextSource > this.debugger.callTree.reducedTrace.length) {\n            nextSource = this.debugger.callTree.reducedTrace.length - 1;\n        }\n        return this.debugger.callTree.reducedTrace[nextSource];\n    }\n}\nexports.DebuggerStepManager = DebuggerStepManager;\n//# sourceMappingURL=stepManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventManager = void 0;\nclass EventManager {\n    constructor() {\n        this.registered = {};\n        this.anonymous = {};\n    }\n    /*\n      * Unregister a listener.\n      * Note that if obj is a function. the unregistration will be applied to the dummy obj {}.\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    unregister(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        for (const reg in this.registered[eventName]) {\n            if (this.registered[eventName][reg].obj === obj && this.registered[eventName][reg].func === func) {\n                this.registered[eventName].splice(reg, 1);\n            }\n        }\n    }\n    /*\n      * Register a new listener.\n      * Note that if obj is a function, the function registration will be associated with the dummy object {}\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    register(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            this.registered[eventName] = [];\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        this.registered[eventName].push({\n            obj: obj,\n            func: func\n        });\n    }\n    /*\n      * trigger event.\n      * Every listener have their associated function executed\n      *\n      * @param {String} eventName  - the event name\n      * @param {Array}j - argument that will be passed to the executed function.\n    */\n    trigger(eventName, args) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        for (const listener in this.registered[eventName]) {\n            const l = this.registered[eventName][listener];\n            if (l.func)\n                l.func.apply(l.obj === this.anonymous ? {} : l.obj, args);\n        }\n    }\n}\nexports.EventManager = EventManager;\n//# sourceMappingURL=eventManager.js.map","'use strict';\nconst tslib_1 = require(\"tslib\");\nconst init = (0, tslib_1.__importStar)(require(\"./init\"));\nconst Ethdebugger_1 = require(\"./Ethdebugger\");\nconst debugger_1 = require(\"./debugger/debugger\");\nconst cmdline_1 = require(\"./cmdline\");\nconst storageViewer_1 = require(\"./storage/storageViewer\");\nconst storageResolver_1 = require(\"./storage/storageResolver\");\nconst SolidityDecoder = (0, tslib_1.__importStar)(require(\"./solidity-decoder\"));\nconst breakpointManager_1 = require(\"./code/breakpointManager\");\nconst sourceMappingDecoder = (0, tslib_1.__importStar)(require(\"./source/sourceMappingDecoder\"));\nconst traceHelper = (0, tslib_1.__importStar)(require(\"./trace/traceHelper\"));\nmodule.exports = {\n    init,\n    traceHelper,\n    sourceMappingDecoder,\n    EthDebugger: Ethdebugger_1.Ethdebugger,\n    TransactionDebugger: debugger_1.Debugger,\n    /**\n     * constructor\n     *\n     * @param {Object} _debugger - type of EthDebugger\n     * @return {Function} _locationToRowConverter - function implemented by editor which return a column/line position for a char source location\n     */\n    BreakpointManager: breakpointManager_1.BreakpointManager,\n    SolidityDecoder,\n    storage: {\n        StorageViewer: storageViewer_1.StorageViewer,\n        StorageResolver: storageResolver_1.StorageResolver\n    },\n    CmdLine: cmdline_1.CmdLine\n};\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extend = exports.web3DebugNode = exports.setProvider = exports.extendWeb3 = exports.loadWeb3 = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nfunction loadWeb3(url) {\n    if (!url)\n        url = 'http://localhost:8545';\n    const web3 = new web3_1.default();\n    web3.setProvider(new web3_1.default.providers.HttpProvider(url));\n    extend(web3);\n    return web3;\n}\nexports.loadWeb3 = loadWeb3;\nfunction extendWeb3(web3) {\n    extend(web3);\n}\nexports.extendWeb3 = extendWeb3;\nfunction setProvider(web3, url) {\n    web3.setProvider(new web3.providers.HttpProvider(url));\n}\nexports.setProvider = setProvider;\nfunction web3DebugNode(network) {\n    const web3DebugNodes = {\n        Main: 'https://rpc.archivenode.io/e50zmkroshle2e2e50zm0044i7ao04ym',\n        Rinkeby: 'https://remix-rinkeby.ethdevops.io',\n        Ropsten: 'https://remix-ropsten.ethdevops.io',\n        Goerli: 'https://remix-goerli.ethdevops.io'\n    };\n    if (web3DebugNodes[network]) {\n        return loadWeb3(web3DebugNodes[network]);\n    }\n    return null;\n}\nexports.web3DebugNode = web3DebugNode;\nfunction extend(web3) {\n    if (!web3.extend) {\n        return;\n    }\n    // DEBUG\n    const methods = [];\n    if (!(web3.debug && web3.debug.preimage)) {\n        methods.push(new web3.extend.Method({\n            name: 'preimage',\n            call: 'debug_preimage',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (!(web3.debug && web3.debug.traceTransaction)) {\n        methods.push(new web3.extend.Method({\n            name: 'traceTransaction',\n            call: 'debug_traceTransaction',\n            inputFormatter: [null, null],\n            params: 2\n        }));\n    }\n    if (!(web3.debug && web3.debug.storageRangeAt)) {\n        methods.push(new web3.extend.Method({\n            name: 'storageRangeAt',\n            call: 'debug_storageRangeAt',\n            inputFormatter: [null, null, null, null, null],\n            params: 5\n        }));\n    }\n    if (methods.length > 0) {\n        web3.extend({\n            property: 'debug',\n            methods: methods,\n            properties: []\n        });\n    }\n}\nexports.extend = extend;\n//# sourceMappingURL=init.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractStatesDefinitions = exports.extractStateDefinitions = exports.getLinearizedBaseContracts = exports.extractOrphanDefinitions = exports.extractContractDefinitions = void 0;\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\n/**\n  * return all contract definitions of the given @astList\n  *\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @return {Object} - returns a mapping from AST node ids to AST nodes for the contracts\n  */\nfunction extractContractDefinitions(sourcesList) {\n    const ret = {\n        contractsById: {},\n        contractsByName: {},\n        sourcesByContract: {}\n    };\n    const walker = new remix_astwalker_1.AstWalker();\n    for (const k in sourcesList) {\n        walker.walkFull(sourcesList[k].ast, (node) => {\n            if (node.nodeType === 'ContractDefinition') {\n                ret.contractsById[node.id] = node;\n                ret.sourcesByContract[node.id] = k;\n                ret.contractsByName[k + ':' + node.name] = node;\n            }\n        });\n    }\n    return ret;\n}\nexports.extractContractDefinitions = extractContractDefinitions;\n/**\n  * return nodes from an ast @arg sourcesList that are declared outside of a ContractDefinition @astList\n  *\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @return {Object} - returns a list of node\n  */\nfunction extractOrphanDefinitions(sourcesList) {\n    const ret = [];\n    for (const k in sourcesList) {\n        const ast = sourcesList[k].ast;\n        if (ast.nodes && ast.nodes.length) {\n            for (const node of ast.nodes) {\n                if (node.nodeType !== 'ContractDefinition') {\n                    ret.push(node);\n                }\n            }\n        }\n    }\n    return ret;\n}\nexports.extractOrphanDefinitions = extractOrphanDefinitions;\n/**\n  * returns the linearized base contracts of the contract @arg id\n  *\n  * @param {Int} id - contract id to resolve\n  * @param {Map} contracts  - all contracts defined in the current context\n  * @return {Array} - array of base contracts in derived to base order as AST nodes.\n  */\nfunction getLinearizedBaseContracts(id, contractsById) {\n    return contractsById[id].linearizedBaseContracts.map(function (id) { return contractsById[id]; });\n}\nexports.getLinearizedBaseContracts = getLinearizedBaseContracts;\n/**\n  * return state var and type definition of the given contract\n  *\n  * @param {String} contractName - contract for which state var should be resolved\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @param {Object} [contracts] - map of contract definitions (contains contractsById, contractsByName)\n  * @return {Object} - return an object containing: stateItems - list of all the children node of the @arg contractName\n  *                                                 stateVariables - list of all the variable declaration of the @arg contractName\n  */\nfunction extractStateDefinitions(contractName, sourcesList, contracts) {\n    if (!contracts) {\n        contracts = extractContractDefinitions(sourcesList);\n    }\n    const node = contracts.contractsByName[contractName];\n    if (!node) {\n        return null;\n    }\n    const stateItems = extractOrphanDefinitions(sourcesList);\n    const stateVar = [];\n    const baseContracts = getLinearizedBaseContracts(node.id, contracts.contractsById);\n    baseContracts.reverse();\n    for (const k in baseContracts) {\n        const ctr = baseContracts[k];\n        for (const i in ctr.nodes) {\n            const item = ctr.nodes[i];\n            stateItems.push(item);\n            if (item.nodeType === 'VariableDeclaration') {\n                stateVar.push(item);\n            }\n        }\n    }\n    return { stateDefinitions: stateItems, stateVariables: stateVar };\n}\nexports.extractStateDefinitions = extractStateDefinitions;\n/**\n  * return state var and type definition of all the contracts from the given @args sourcesList\n  *\n  * @param {Object} sourcesList - sources list (containing root AST node)\n  * @param {Object} [contracts] - map of contract definitions (contains contractsById, contractsByName)\n  * @return {Object} - returns a mapping between contract name and contract state\n  */\nfunction extractStatesDefinitions(sourcesList, contracts) {\n    if (!contracts) {\n        contracts = extractContractDefinitions(sourcesList);\n    }\n    const ret = {};\n    for (const contract in contracts.contractsById) {\n        const name = contracts.contractsById[contract].name;\n        const source = contracts.sourcesByContract[contract];\n        const fullName = source + ':' + name;\n        const state = extractStateDefinitions(fullName, sourcesList, contracts);\n        ret[fullName] = state;\n        ret[name] = state; // solc < 0.4.9\n    }\n    return ret;\n}\nexports.extractStatesDefinitions = extractStatesDefinitions;\n//# sourceMappingURL=astHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Struct = exports.Enum = exports.Array = exports.String = exports.Int = exports.FixedByteArray = exports.DynamicByteArray = exports.Bool = exports.Address = exports.Uint = exports.computeOffsets = exports.parseType = void 0;\nconst Address_1 = require(\"./types/Address\");\nconst ArrayType_1 = require(\"./types/ArrayType\");\nconst Bool_1 = require(\"./types/Bool\");\nconst DynamicByteArray_1 = require(\"./types/DynamicByteArray\");\nconst FixedByteArray_1 = require(\"./types/FixedByteArray\");\nconst Enum_1 = require(\"./types/Enum\");\nconst StringType_1 = require(\"./types/StringType\");\nconst Struct_1 = require(\"./types/Struct\");\nconst Int_1 = require(\"./types/Int\");\nconst Uint_1 = require(\"./types/Uint\");\nconst Mapping_1 = require(\"./types/Mapping\");\nconst util_1 = require(\"./types/util\");\n/**\n  * mapping decode the given @arg type\n  *\n  * @param {String} type - type given by the AST\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction mapping(type, stateDefinitions, contractName) {\n    const match = type.match(/mapping\\((.*?)=>(.*)\\)$/);\n    const keyTypeName = match[1].trim();\n    const valueTypeName = match[2].trim();\n    const keyType = parseType(keyTypeName, stateDefinitions, contractName, 'storage');\n    const valueType = parseType(valueTypeName, stateDefinitions, contractName, 'storage');\n    var underlyingTypes = {\n        keyType: keyType,\n        valueType: valueType\n    };\n    return new Mapping_1.Mapping(underlyingTypes, 'location', (0, util_1.removeLocation)(type));\n}\n/**\n  * Uint decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g uint256, uint32)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction uint(type) {\n    type = type === 'uint' ? 'uint256' : type;\n    const storageBytes = parseInt(type.replace('uint', '')) / 8;\n    return new Uint_1.Uint(storageBytes);\n}\nexports.Uint = uint;\n/**\n  * Int decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g int256, int32)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction int(type) {\n    type = type === 'int' ? 'int256' : type;\n    const storageBytes = parseInt(type.replace('int', '')) / 8;\n    return new Int_1.Int(storageBytes);\n}\nexports.Int = int;\n/**\n  * Address decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g address)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction address(type) {\n    return new Address_1.Address();\n}\nexports.Address = address;\n/**\n  * Bool decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g bool)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction bool(type) {\n    return new Bool_1.Bool();\n}\nexports.Bool = bool;\n/**\n  * DynamicByteArray decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g bytes storage ref)\n  * @param {null} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {null} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction dynamicByteArray(type, stateDefinitions, contractName, location) {\n    if (!location) {\n        location = (0, util_1.extractLocation)(type);\n    }\n    if (location) {\n        return new DynamicByteArray_1.DynamicByteArray(location);\n    }\n    else {\n        return null;\n    }\n}\nexports.DynamicByteArray = dynamicByteArray;\n/**\n  * FixedByteArray decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g bytes16)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction fixedByteArray(type) {\n    const storageBytes = parseInt(type.replace('bytes', ''));\n    return new FixedByteArray_1.FixedByteArray(storageBytes);\n}\nexports.FixedByteArray = fixedByteArray;\n/**\n  * StringType decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g string storage ref)\n  * @param {null} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {null} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName}\n  */\nfunction stringType(type, stateDefinitions, contractName, location) {\n    if (!location) {\n        location = (0, util_1.extractLocation)(type);\n    }\n    if (location) {\n        return new StringType_1.StringType(location);\n    }\n    else {\n        return null;\n    }\n}\nexports.String = stringType;\n/**\n  * ArrayType decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g int256[] storage ref, int256[] storage ref[] storage ref)\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName, arraySize, subArray}\n  */\nfunction array(type, stateDefinitions, contractName, location) {\n    const match = type.match(/(.*)\\[(.*?)\\]( storage ref| storage pointer| memory| calldata)?$/);\n    if (!match) {\n        console.log('unable to parse type ' + type);\n        return null;\n    }\n    if (!location) {\n        location = match[3].trim();\n    }\n    const arraySize = match[2] === '' ? 'dynamic' : parseInt(match[2]);\n    const underlyingType = parseType(match[1], stateDefinitions, contractName, location);\n    if (underlyingType === null) {\n        console.log('unable to parse type ' + type);\n        return null;\n    }\n    return new ArrayType_1.ArrayType(underlyingType, arraySize, location);\n}\nexports.Array = array;\n/**\n  * Enum decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g enum enumDef)\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName, enum}\n  */\nfunction enumType(type, stateDefinitions, contractName) {\n    const match = type.match(/enum (.*)/);\n    const enumDef = getEnum(match[1], stateDefinitions, contractName);\n    if (enumDef === null) {\n        console.log('unable to retrieve decode info of ' + type);\n        return null;\n    }\n    return new Enum_1.Enum(enumDef);\n}\nexports.Enum = enumType;\n/**\n  * Struct decode the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g struct structDef storage ref)\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} returns decoded info about the current type: { storageBytes, typeName, members}\n  */\nfunction struct(type, stateDefinitions, contractName, location) {\n    const match = type.match(/struct (\\S*?)( storage ref| storage pointer| memory| calldata)?$/);\n    if (match) {\n        if (!location) {\n            location = match[2].trim();\n        }\n        const memberDetails = getStructMembers(match[1], stateDefinitions, contractName, location); // type is used to extract the ast struct definition\n        if (!memberDetails)\n            return null;\n        return new Struct_1.Struct(memberDetails, location, match[1]);\n    }\n    else {\n        return null;\n    }\n}\nexports.Struct = struct;\n/**\n  * retrieve enum declaration of the given @arg type\n  *\n  * @param {String} type - type given by the AST (e.g enum enumDef)\n  * @param {Object} stateDefinitions  - all state declarations given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @return {Array} - containing all value declaration of the current enum type\n  */\nfunction getEnum(type, stateDefinitions, contractName) {\n    const split = type.split('.');\n    if (!split.length) {\n        type = contractName + '.' + type;\n    }\n    else {\n        contractName = split[0];\n    }\n    const state = stateDefinitions[contractName];\n    if (state) {\n        for (const dec of state.stateDefinitions) {\n            if (dec && dec.name && type === contractName + '.' + dec.name) {\n                return dec;\n            }\n        }\n    }\n    return null;\n}\n/**\n  * retrieve memebers declared in the given @arg tye\n  *\n  * @param {String} typeName - name of the struct type (e.g struct <name>)\n  * @param {Object} stateDefinitions  - all state definition given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Array} containing all members of the current struct type\n  */\nfunction getStructMembers(type, stateDefinitions, contractName, location) {\n    if (type.indexOf('.') === -1) {\n        type = contractName + '.' + type;\n    }\n    if (!contractName) {\n        contractName = type.split('.')[0];\n    }\n    const state = stateDefinitions[contractName];\n    if (state) {\n        for (const dec of state.stateDefinitions) {\n            if (dec.nodeType === 'StructDefinition' && type === contractName + '.' + dec.name) {\n                const offsets = computeOffsets(dec.members, stateDefinitions, contractName, location);\n                if (!offsets) {\n                    return null;\n                }\n                return {\n                    members: offsets.typesOffsets,\n                    storageSlots: offsets.endLocation.slot\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n  * parse the full type\n  *\n  * @param {String} fullType - type given by the AST (ex: uint[2] storage ref[2])\n  * @return {String} returns the token type (used to instanciate the right decoder) (uint[2] storage ref[2] will return 'array', uint256 will return uintX)\n  */\nfunction typeClass(fullType) {\n    fullType = (0, util_1.removeLocation)(fullType);\n    if (fullType.lastIndexOf(']') === fullType.length - 1) {\n        return 'array';\n    }\n    if (fullType.indexOf('mapping') === 0) {\n        return 'mapping';\n    }\n    if (fullType.indexOf(' ') !== -1) {\n        fullType = fullType.split(' ')[0];\n    }\n    const char = fullType.indexOf('bytes') === 0 ? 'X' : '';\n    return fullType.replace(/[0-9]+/g, char);\n}\n/**\n  * parse the type and return an object representing the type\n  *\n  * @param {Object} type - type name given by the ast node\n  * @param {Object} stateDefinitions - all state stateDefinitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Object} - return the corresponding decoder or null on error\n  */\nfunction parseType(type, stateDefinitions, contractName, location) {\n    const decodeInfos = {\n        contract: address,\n        address: address,\n        array: array,\n        bool: bool,\n        bytes: dynamicByteArray,\n        bytesX: fixedByteArray,\n        enum: enumType,\n        string: stringType,\n        struct: struct,\n        int: int,\n        uint: uint,\n        mapping: mapping\n    };\n    const currentType = typeClass(type);\n    if (currentType === null) {\n        console.log('unable to retrieve decode info of ' + type);\n        return null;\n    }\n    if (decodeInfos[currentType]) {\n        return decodeInfos[currentType](type, stateDefinitions, contractName, location);\n    }\n    else {\n        return null;\n    }\n}\nexports.parseType = parseType;\n/**\n  * compute offset (slot offset and byte offset of the @arg list of types)\n  *\n  * @param {Array} types - list of types\n  * @param {Object} stateDefinitions - all state definitions given by the AST (including struct and enum type declaration) for all contracts\n  * @param {String} contractName - contract the @args typeName belongs to\n  * @param {String} location - location of the data (storage ref| storage pointer| memory| calldata)\n  * @return {Array} - return an array of types item: {name, type, location}. location defines the byte offset and slot offset\n  */\nfunction computeOffsets(types, stateDefinitions, contractName, location) {\n    const ret = [];\n    const storagelocation = {\n        offset: 0,\n        slot: 0\n    };\n    for (var i in types) {\n        var variable = types[i];\n        var type = parseType(variable.typeDescriptions.typeString, stateDefinitions, contractName, location);\n        if (!type) {\n            console.log('unable to retrieve decode info of ' + variable.typeDescriptions.typeString);\n            return null;\n        }\n        const immutable = variable.mutability === 'immutable';\n        const hasStorageSlots = !immutable && !variable.constant;\n        if (hasStorageSlots && storagelocation.offset + type.storageBytes > 32) {\n            storagelocation.slot++;\n            storagelocation.offset = 0;\n        }\n        ret.push({\n            name: variable.name,\n            type: type,\n            constant: variable.constant,\n            immutable,\n            storagelocation: {\n                offset: !hasStorageSlots ? 0 : storagelocation.offset,\n                slot: !hasStorageSlots ? 0 : storagelocation.slot\n            }\n        });\n        if (hasStorageSlots) {\n            if (type.storageSlots === 1 && storagelocation.offset + type.storageBytes <= 32) {\n                storagelocation.offset += type.storageBytes;\n            }\n            else {\n                storagelocation.slot += type.storageSlots;\n                storagelocation.offset = 0;\n            }\n        }\n    }\n    if (storagelocation.offset > 0) {\n        storagelocation.slot++;\n    }\n    return {\n        typesOffsets: ret,\n        endLocation: storagelocation\n    };\n}\nexports.computeOffsets = computeOffsets;\n//# sourceMappingURL=decodeInfo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalCallTree = exports.localDecoder = exports.stateDecoder = exports.SolidityProxy = void 0;\nconst tslib_1 = require(\"tslib\");\nconst solidityProxy_1 = require(\"./solidityProxy\");\nObject.defineProperty(exports, \"SolidityProxy\", { enumerable: true, get: function () { return solidityProxy_1.SolidityProxy; } });\nconst stateDecoder = (0, tslib_1.__importStar)(require(\"./stateDecoder\"));\nexports.stateDecoder = stateDecoder;\nconst localDecoder = (0, tslib_1.__importStar)(require(\"./localDecoder\"));\nexports.localDecoder = localDecoder;\nconst internalCallTree_1 = require(\"./internalCallTree\");\nObject.defineProperty(exports, \"InternalCallTree\", { enumerable: true, get: function () { return internalCallTree_1.InternalCallTree; } });\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalCallTree = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst sourceLocationTracker_1 = require(\"../source/sourceLocationTracker\");\nconst eventManager_1 = require(\"../eventManager\");\nconst decodeInfo_1 = require(\"./decodeInfo\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst util_1 = require(\"./types/util\");\n/**\n * Tree representing internal jump into function.\n * Triggers `callTreeReady` event when tree is ready\n * Triggers `callTreeBuildFailed` event when tree fails to build\n */\nclass InternalCallTree {\n    /**\n      * constructor\n      *\n      * @param {Object} debuggerEvent  - event declared by the debugger (EthDebugger)\n      * @param {Object} traceManager  - trace manager\n      * @param {Object} solidityProxy  - solidity proxy\n      * @param {Object} codeManager  - code manager\n      * @param {Object} opts  - { includeLocalVariables, debugWithGeneratedSources }\n      */\n    constructor(debuggerEvent, traceManager, solidityProxy, codeManager, opts) {\n        this.includeLocalVariables = opts.includeLocalVariables;\n        this.debugWithGeneratedSources = opts.debugWithGeneratedSources;\n        this.event = new eventManager_1.EventManager();\n        this.solidityProxy = solidityProxy;\n        this.traceManager = traceManager;\n        this.sourceLocationTracker = new sourceLocationTracker_1.SourceLocationTracker(codeManager, { debugWithGeneratedSources: opts.debugWithGeneratedSources });\n        debuggerEvent.register('newTraceLoaded', (trace) => {\n            this.reset();\n            if (!this.solidityProxy.loaded()) {\n                this.event.trigger('callTreeBuildFailed', ['compilation result not loaded. Cannot build internal call tree']);\n            }\n            else {\n                // each recursive call to buildTree represent a new context (either call, delegatecall, internal function)\n                const calledAddress = traceManager.getCurrentCalledAddressAt(0);\n                const isCreation = (0, traceHelper_1.isContractCreation)(calledAddress);\n                buildTree(this, 0, '', true, isCreation).then((result) => {\n                    if (result.error) {\n                        this.event.trigger('callTreeBuildFailed', [result.error]);\n                    }\n                    else {\n                        createReducedTrace(this, traceManager.trace.length - 1);\n                        this.event.trigger('callTreeReady', [this.scopes, this.scopeStarts]);\n                    }\n                }, (reason) => {\n                    console.log('analyzing trace falls ' + reason);\n                    this.event.trigger('callTreeNotReady', [reason]);\n                });\n            }\n        });\n    }\n    /**\n      * reset tree\n      *\n      */\n    reset() {\n        /*\n          scopes: map of scopes defined by range in the vmtrace {firstStep, lastStep, locals}.\n          Keys represent the level of deepness (scopeId)\n          scopeId : <currentscope_id>.<sub_scope_id>.<sub_sub_scope_id>\n        */\n        this.scopes = {};\n        /*\n          scopeStart: represent start of a new scope. Keys are index in the vmtrace, values are scopeId\n        */\n        this.sourceLocationTracker.clearCache();\n        this.functionCallStack = [];\n        this.functionDefinitionsByScope = {};\n        this.scopeStarts = {};\n        this.variableDeclarationByFile = {};\n        this.functionDefinitionByFile = {};\n        this.astWalker = new remix_astwalker_1.AstWalker();\n        this.reducedTrace = [];\n    }\n    /**\n      * find the scope given @arg vmTraceIndex\n      *\n      * @param {Int} vmtraceIndex  - index on the vm trace\n      */\n    findScope(vmtraceIndex) {\n        let scopeId = this.findScopeId(vmtraceIndex);\n        if (scopeId !== '' && !scopeId)\n            return null;\n        let scope = this.scopes[scopeId];\n        while (scope.lastStep && scope.lastStep < vmtraceIndex && scope.firstStep > 0) {\n            scopeId = this.parentScope(scopeId);\n            scope = this.scopes[scopeId];\n        }\n        return scope;\n    }\n    parentScope(scopeId) {\n        if (scopeId.indexOf('.') === -1)\n            return '';\n        return scopeId.replace(/(\\.\\d+)$/, '');\n    }\n    findScopeId(vmtraceIndex) {\n        const scopes = Object.keys(this.scopeStarts);\n        if (!scopes.length)\n            return null;\n        const scopeStart = remix_lib_1.util.findLowerBoundValue(vmtraceIndex, scopes);\n        return this.scopeStarts[scopeStart];\n    }\n    retrieveFunctionsStack(vmtraceIndex) {\n        const scope = this.findScope(vmtraceIndex);\n        if (!scope)\n            return [];\n        let scopeId = this.scopeStarts[scope.firstStep];\n        const functions = [];\n        if (!scopeId)\n            return functions;\n        let i = 0;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            i += 1;\n            if (i > 1000)\n                throw new Error('retrieFunctionStack: recursion too deep');\n            const functionDefinition = this.functionDefinitionsByScope[scopeId];\n            if (functionDefinition !== undefined) {\n                functions.push(functionDefinition);\n            }\n            const parent = this.parentScope(scopeId);\n            if (!parent)\n                break;\n            else\n                scopeId = parent;\n        }\n        return functions;\n    }\n    extractSourceLocation(step) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                const address = this.traceManager.getCurrentCalledAddressAt(step);\n                const location = yield this.sourceLocationTracker.getSourceLocationFromVMTraceIndex(address, step, this.solidityProxy.contracts);\n                return location;\n            }\n            catch (error) {\n                throw new Error('InternalCallTree - Cannot retrieve sourcelocation for step ' + step + ' ' + error);\n            }\n        });\n    }\n    extractValidSourceLocation(step) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                const address = this.traceManager.getCurrentCalledAddressAt(step);\n                const location = yield this.sourceLocationTracker.getValidSourceLocationFromVMTraceIndex(address, step, this.solidityProxy.contracts);\n                return location;\n            }\n            catch (error) {\n                throw new Error('InternalCallTree - Cannot retrieve valid sourcelocation for step ' + step + ' ' + error);\n            }\n        });\n    }\n}\nexports.InternalCallTree = InternalCallTree;\nfunction buildTree(tree, step, scopeId, isExternalCall, isCreation) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        let subScope = 1;\n        tree.scopeStarts[step] = scopeId;\n        tree.scopes[scopeId] = { firstStep: step, locals: {}, isCreation };\n        function callDepthChange(step, trace) {\n            if (step + 1 < trace.length) {\n                return trace[step].depth !== trace[step + 1].depth;\n            }\n            return false;\n        }\n        function includedSource(source, included) {\n            return (included.start !== -1 &&\n                included.length !== -1 &&\n                included.file !== -1 &&\n                included.start >= source.start &&\n                included.start + included.length <= source.start + source.length &&\n                included.file === source.file);\n        }\n        let currentSourceLocation = { start: -1, length: -1, file: -1 };\n        let previousSourceLocation = currentSourceLocation;\n        while (step < tree.traceManager.trace.length) {\n            let sourceLocation;\n            let newLocation = false;\n            try {\n                sourceLocation = yield tree.extractSourceLocation(step);\n                if (!includedSource(sourceLocation, currentSourceLocation)) {\n                    tree.reducedTrace.push(step);\n                    currentSourceLocation = sourceLocation;\n                    newLocation = true;\n                }\n            }\n            catch (e) {\n                return { outStep: step, error: 'InternalCallTree - Error resolving source location. ' + step + ' ' + e };\n            }\n            if (!sourceLocation) {\n                return { outStep: step, error: 'InternalCallTree - No source Location. ' + step };\n            }\n            const isCallInstrn = (0, traceHelper_1.isCallInstruction)(tree.traceManager.trace[step]);\n            const isCreateInstrn = (0, traceHelper_1.isCreateInstruction)(tree.traceManager.trace[step]);\n            // we are checking if we are jumping in a new CALL or in an internal function\n            if (isCallInstrn || sourceLocation.jump === 'i') {\n                try {\n                    const externalCallResult = yield buildTree(tree, step + 1, scopeId === '' ? subScope.toString() : scopeId + '.' + subScope, isCallInstrn, isCreateInstrn);\n                    if (externalCallResult.error) {\n                        return { outStep: step, error: 'InternalCallTree - ' + externalCallResult.error };\n                    }\n                    else {\n                        step = externalCallResult.outStep;\n                        subScope++;\n                    }\n                }\n                catch (e) {\n                    return { outStep: step, error: 'InternalCallTree - ' + e.message };\n                }\n            }\n            else if ((isExternalCall && callDepthChange(step, tree.traceManager.trace)) || (!isExternalCall && sourceLocation.jump === 'o')) {\n                // if not, we might be returning from a CALL or internal function. This is what is checked here.\n                tree.scopes[scopeId].lastStep = step;\n                return { outStep: step + 1 };\n            }\n            else {\n                // if not, we are in the current scope.\n                // We check in `includeVariableDeclaration` if there is a new local variable in scope for this specific `step`\n                if (tree.includeLocalVariables) {\n                    yield includeVariableDeclaration(tree, step, sourceLocation, scopeId, newLocation, previousSourceLocation);\n                }\n                previousSourceLocation = sourceLocation;\n                step++;\n            }\n        }\n        return { outStep: step };\n    });\n}\n// the reduced trace contain an entry only if that correspond to a new source location\nfunction createReducedTrace(tree, index) {\n    tree.reducedTrace.push(index);\n}\nfunction getGeneratedSources(tree, scopeId, contractObj) {\n    if (tree.debugWithGeneratedSources && contractObj && tree.scopes[scopeId]) {\n        return tree.scopes[scopeId].isCreation ? contractObj.contract.evm.bytecode.generatedSources : contractObj.contract.evm.deployedBytecode.generatedSources;\n    }\n    return null;\n}\nfunction includeVariableDeclaration(tree, step, sourceLocation, scopeId, newLocation, previousSourceLocation) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const contractObj = yield tree.solidityProxy.contractObjectAt(step);\n        let states = null;\n        const generatedSources = getGeneratedSources(tree, scopeId, contractObj);\n        const variableDeclarations = resolveVariableDeclaration(tree, sourceLocation, generatedSources);\n        // using the vm trace step, the current source location and the ast,\n        // we check if the current vm trace step target a new ast node of type VariableDeclaration\n        // that way we know that there is a new local variable from here.\n        if (variableDeclarations && variableDeclarations.length) {\n            for (const variableDeclaration of variableDeclarations) {\n                if (variableDeclaration && !tree.scopes[scopeId].locals[variableDeclaration.name]) {\n                    try {\n                        const stack = tree.traceManager.getStackAt(step);\n                        // the stack length at this point is where the value of the new local variable will be stored.\n                        // so, either this is the direct value, or the offset in memory. That depends on the type.\n                        if (variableDeclaration.name !== '') {\n                            states = tree.solidityProxy.extractStatesDefinitions();\n                            var location = (0, util_1.extractLocationFromAstVariable)(variableDeclaration);\n                            location = location === 'default' ? 'storage' : location;\n                            // we push the new local variable in our tree\n                            tree.scopes[scopeId].locals[variableDeclaration.name] = {\n                                name: variableDeclaration.name,\n                                type: (0, decodeInfo_1.parseType)(variableDeclaration.typeDescriptions.typeString, states, contractObj.name, location),\n                                stackDepth: stack.length,\n                                sourceLocation: sourceLocation\n                            };\n                        }\n                    }\n                    catch (error) {\n                        console.log(error);\n                    }\n                }\n            }\n        }\n        // we check here if we are at the beginning inside a new function.\n        // if that is the case, we have to add to locals tree the inputs and output params\n        const functionDefinition = resolveFunctionDefinition(tree, previousSourceLocation, generatedSources);\n        if (!functionDefinition)\n            return;\n        const previousIsJumpDest2 = (0, traceHelper_1.isJumpDestInstruction)(tree.traceManager.trace[step - 2]);\n        const previousIsJumpDest1 = (0, traceHelper_1.isJumpDestInstruction)(tree.traceManager.trace[step - 1]);\n        const isConstructor = functionDefinition.kind === 'constructor';\n        if (newLocation && (previousIsJumpDest1 || previousIsJumpDest2 || isConstructor)) {\n            tree.functionCallStack.push(step);\n            const functionDefinitionAndInputs = { functionDefinition, inputs: [] };\n            // means: the previous location was a function definition && JUMPDEST\n            // => we are at the beginning of the function and input/output are setup\n            try {\n                const stack = tree.traceManager.getStackAt(step);\n                states = tree.solidityProxy.extractStatesDefinitions();\n                if (functionDefinition.parameters) {\n                    const inputs = functionDefinition.parameters;\n                    const outputs = functionDefinition.returnParameters;\n                    // for (const element of functionDefinition.parameters) {\n                    //   if (element.nodeType === 'ParameterList') {\n                    //     if (!inputs) inputs = element\n                    //     else {\n                    //       outputs = element\n                    //       break\n                    //     }\n                    //   }\n                    // }\n                    // input params\n                    if (inputs && inputs.parameters) {\n                        functionDefinitionAndInputs.inputs = addParams(inputs, tree, scopeId, states, contractObj, previousSourceLocation, stack.length, inputs.parameters.length, -1);\n                    }\n                    // output params\n                    if (outputs)\n                        addParams(outputs, tree, scopeId, states, contractObj, previousSourceLocation, stack.length, 0, 1);\n                }\n            }\n            catch (error) {\n                console.log(error);\n            }\n            tree.functionDefinitionsByScope[scopeId] = functionDefinitionAndInputs;\n        }\n    });\n}\n// this extract all the variable declaration for a given ast and file\n// and keep this in a cache\nfunction resolveVariableDeclaration(tree, sourceLocation, generatedSources) {\n    if (!tree.variableDeclarationByFile[sourceLocation.file]) {\n        const ast = tree.solidityProxy.ast(sourceLocation, generatedSources);\n        if (ast) {\n            tree.variableDeclarationByFile[sourceLocation.file] = extractVariableDeclarations(ast, tree.astWalker);\n        }\n        else {\n            return null;\n        }\n    }\n    return tree.variableDeclarationByFile[sourceLocation.file][sourceLocation.start + ':' + sourceLocation.length + ':' + sourceLocation.file];\n}\n// this extract all the function definition for a given ast and file\n// and keep this in a cache\nfunction resolveFunctionDefinition(tree, sourceLocation, generatedSources) {\n    if (!tree.functionDefinitionByFile[sourceLocation.file]) {\n        const ast = tree.solidityProxy.ast(sourceLocation, generatedSources);\n        if (ast) {\n            tree.functionDefinitionByFile[sourceLocation.file] = extractFunctionDefinitions(ast, tree.astWalker);\n        }\n        else {\n            return null;\n        }\n    }\n    return tree.functionDefinitionByFile[sourceLocation.file][sourceLocation.start + ':' + sourceLocation.length + ':' + sourceLocation.file];\n}\nfunction extractVariableDeclarations(ast, astWalker) {\n    const ret = {};\n    astWalker.walkFull(ast, (node) => {\n        if (node.nodeType === 'VariableDeclaration' || node.nodeType === 'YulVariableDeclaration') {\n            ret[node.src] = [node];\n        }\n        const hasChild = node.initialValue && (node.nodeType === 'VariableDeclarationStatement' || node.nodeType === 'YulVariableDeclarationStatement');\n        if (hasChild)\n            ret[node.initialValue.src] = node.declarations;\n    });\n    return ret;\n}\nfunction extractFunctionDefinitions(ast, astWalker) {\n    const ret = {};\n    astWalker.walkFull(ast, (node) => {\n        if (node.nodeType === 'FunctionDefinition' || node.nodeType === 'YulFunctionDefinition') {\n            ret[node.src] = node;\n        }\n    });\n    return ret;\n}\nfunction addParams(parameterList, tree, scopeId, states, contractObj, sourceLocation, stackLength, stackPosition, dir) {\n    const contractName = contractObj.name;\n    const params = [];\n    for (const inputParam in parameterList.parameters) {\n        const param = parameterList.parameters[inputParam];\n        const stackDepth = stackLength + (dir * stackPosition);\n        if (stackDepth >= 0) {\n            let location = (0, util_1.extractLocationFromAstVariable)(param);\n            location = location === 'default' ? 'memory' : location;\n            const attributesName = param.name === '' ? `$${inputParam}` : param.name;\n            tree.scopes[scopeId].locals[attributesName] = {\n                name: attributesName,\n                type: (0, decodeInfo_1.parseType)(param.typeDescriptions.typeString, states, contractName, location),\n                stackDepth: stackDepth,\n                sourceLocation: sourceLocation,\n                abi: contractObj.contract.abi\n            };\n            params.push(attributesName);\n        }\n        stackPosition += dir;\n    }\n    return params;\n}\n//# sourceMappingURL=internalCallTree.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.solidityLocals = void 0;\nconst tslib_1 = require(\"tslib\");\nfunction solidityLocals(vmtraceIndex, internalTreeCall, stack, memory, storageResolver, calldata, currentSourceLocation, cursor) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const scope = internalTreeCall.findScope(vmtraceIndex);\n        if (!scope) {\n            const error = { message: 'Can\\'t display locals. reason: compilation result might not have been provided' };\n            throw error;\n        }\n        const locals = {};\n        memory = formatMemory(memory);\n        let anonymousIncr = 1;\n        for (const local in scope.locals) {\n            var variable = scope.locals[local];\n            if (variable.stackDepth < stack.length && variable.sourceLocation.start <= currentSourceLocation.start) {\n                let name = variable.name;\n                if (name.indexOf('$') !== -1) {\n                    name = '<' + anonymousIncr + '>';\n                    anonymousIncr++;\n                }\n                try {\n                    locals[name] = yield variable.type.decodeFromStack(variable.stackDepth, stack, memory, storageResolver, calldata, cursor, variable);\n                }\n                catch (e) {\n                    console.log(e);\n                    locals[name] = { error: '<decoding failed - ' + e.message + '>' };\n                }\n            }\n        }\n        return locals;\n    });\n}\nexports.solidityLocals = solidityLocals;\nfunction formatMemory(memory) {\n    if (memory instanceof Array) {\n        memory = memory.join('').replace(/0x/g, '');\n    }\n    return memory;\n}\n//# sourceMappingURL=localDecoder.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolidityProxy = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst stateDecoder_1 = require(\"./stateDecoder\");\nconst astHelper_1 = require(\"./astHelper\");\nclass SolidityProxy {\n    constructor({ getCurrentCalledAddressAt, getCode }) {\n        this.cache = new Cache();\n        this.reset({});\n        this.getCurrentCalledAddressAt = getCurrentCalledAddressAt;\n        this.getCode = getCode;\n    }\n    /**\n      * reset the cache and apply a new @arg compilationResult\n      *\n      * @param {Object} compilationResult  - result os a compilatiion (diectly returned by the compiler)\n      */\n    reset(compilationResult) {\n        this.sources = compilationResult.sources;\n        this.contracts = compilationResult.contracts;\n        this.cache.reset();\n    }\n    /**\n      * check if the object has been properly loaded\n      *\n      * @return {Bool} - returns true if a compilation result has been applied\n      */\n    loaded() {\n        return this.contracts !== undefined;\n    }\n    /**\n      * retrieve the compiled contract name at the @arg vmTraceIndex (cached)\n      *\n      * @param {Int} vmTraceIndex  - index in the vm trave where to resolve the executed contract name\n      * @param {Function} cb  - callback returns (error, contractName)\n      */\n    contractObjectAt(vmTraceIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const address = this.getCurrentCalledAddressAt(vmTraceIndex);\n            if (this.cache.contractObjectByAddress[address]) {\n                return this.cache.contractObjectByAddress[address];\n            }\n            const code = yield this.getCode(address);\n            const contract = contractObjectFromCode(this.contracts, code.bytecode, address);\n            this.cache.contractObjectByAddress[address] = contract;\n            return contract;\n        });\n    }\n    /**\n      * extract the state variables of the given compiled @arg contractName (cached)\n      *\n      * @param {String} contractName  - name of the contract to retrieve state variables from\n      * @return {Object} - returns state variables of @args contractName\n      */\n    extractStatesDefinitions() {\n        if (!this.cache.contractDeclarations) {\n            this.cache.contractDeclarations = (0, astHelper_1.extractContractDefinitions)(this.sources);\n        }\n        if (!this.cache.statesDefinitions) {\n            this.cache.statesDefinitions = (0, astHelper_1.extractStatesDefinitions)(this.sources, this.cache.contractDeclarations);\n        }\n        return this.cache.statesDefinitions;\n    }\n    /**\n      * extract the state variables of the given compiled @arg contractName (cached)\n      *\n      * @param {String} contractName  - name of the contract to retrieve state variables from\n      * @return {Object} - returns state variables of @args contractName\n      */\n    extractStateVariables(contractName) {\n        if (!this.cache.stateVariablesByContractName[contractName]) {\n            this.cache.stateVariablesByContractName[contractName] = (0, stateDecoder_1.extractStateVariables)(contractName, this.sources);\n        }\n        return this.cache.stateVariablesByContractName[contractName];\n    }\n    /**\n      * extract the state variables of the given compiled @arg vmtraceIndex (cached)\n      *\n      * @param {Int} vmTraceIndex  - index in the vm trave where to resolve the state variables\n      * @return {Object} - returns state variables of @args vmTraceIndex\n      */\n    extractStateVariablesAt(vmtraceIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const contract = yield this.contractObjectAt(vmtraceIndex);\n            return this.extractStateVariables(contract.name);\n        });\n    }\n    /**\n      * get the AST of the file declare in the @arg sourceLocation\n      *\n      * @param {Object} sourceLocation  - source location containing the 'file' to retrieve the AST from\n      * @return {Object} - AST of the current file\n      */\n    ast(sourceLocation, generatedSources) {\n        const file = this.fileNameFromIndex(sourceLocation.file);\n        if (!file && generatedSources && generatedSources.length) {\n            for (const source of generatedSources) {\n                if (source.id === sourceLocation.file)\n                    return source.ast;\n            }\n        }\n        else if (this.sources[file]) {\n            return this.sources[file].ast;\n        }\n        return null;\n    }\n    /**\n     * get the filename refering to the index from the compilation result\n     *\n     * @param {Int} index  - index of the filename\n     * @return {String} - filename\n     */\n    fileNameFromIndex(index) {\n        return Object.keys(this.contracts)[index];\n    }\n}\nexports.SolidityProxy = SolidityProxy;\nfunction contractObjectFromCode(contracts, code, address) {\n    const isCreation = (0, traceHelper_1.isContractCreation)(address);\n    for (const file in contracts) {\n        for (const contract in contracts[file]) {\n            const bytecode = isCreation ? contracts[file][contract].evm.bytecode.object : contracts[file][contract].evm.deployedBytecode.object;\n            if (remix_lib_1.util.compareByteCode(code, '0x' + bytecode)) {\n                return { name: contract, contract: contracts[file][contract] };\n            }\n        }\n    }\n    return null;\n}\nclass Cache {\n    constructor() {\n        this.reset();\n    }\n    reset() {\n        this.contractObjectByAddress = {};\n        this.stateVariablesByContractName = {};\n        this.contractDeclarations = null;\n        this.statesDefinitions = null;\n    }\n}\n//# sourceMappingURL=solidityProxy.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.solidityState = exports.extractStateVariables = exports.decodeState = void 0;\nconst tslib_1 = require(\"tslib\");\nconst astHelper_1 = require(\"./astHelper\");\nconst decodeInfo_1 = require(\"./decodeInfo\");\n/**\n  * decode the contract state storage\n  *\n  * @param {Array} storage location  - location of all state variables\n  * @param {Object} storageResolver  - resolve storage queries\n  * @return {Map} - decoded state variable\n  */\nfunction decodeState(stateVars, storageResolver) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const ret = {};\n        for (var k in stateVars) {\n            var stateVar = stateVars[k];\n            try {\n                const decoded = yield stateVar.type.decodeFromStorage(stateVar.storagelocation, storageResolver);\n                decoded.constant = stateVar.constant;\n                decoded.immutable = stateVar.immutable;\n                if (decoded.constant) {\n                    decoded.value = '<constant>';\n                }\n                if (decoded.immutable) {\n                    decoded.value = '<immutable>';\n                }\n                ret[stateVar.name] = decoded;\n            }\n            catch (e) {\n                console.log(e);\n                ret[stateVar.name] = { error: '<decoding failed - ' + e.message + '>' };\n            }\n        }\n        return ret;\n    });\n}\nexports.decodeState = decodeState;\n/**\n  * return all storage location variables of the given @arg contractName\n  *\n  * @param {String} contractName  - name of the contract\n  * @param {Object} sourcesList  - sources list\n  * @return {Object} - return the location of all contract variables in the storage\n  */\nfunction extractStateVariables(contractName, sourcesList) {\n    const states = (0, astHelper_1.extractStatesDefinitions)(sourcesList, null);\n    if (!states[contractName]) {\n        return [];\n    }\n    const types = states[contractName].stateVariables;\n    const offsets = (0, decodeInfo_1.computeOffsets)(types, states, contractName, 'storage');\n    if (!offsets) {\n        return []; // TODO should maybe return an error\n    }\n    return offsets.typesOffsets;\n}\nexports.extractStateVariables = extractStateVariables;\n/**\n  * return the state of the given @a contractName as a json object\n  *\n  * @param {Object} storageResolver  - resolve storage queries\n  * @param {astList} astList  - AST nodes of all the sources\n  * @param {String} contractName  - contract for which state var should be resolved\n  * @return {Map} - return the state of the contract\n  */\nfunction solidityState(storageResolver, astList, contractName) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const stateVars = extractStateVariables(contractName, astList);\n        try {\n            return yield decodeState(stateVars, storageResolver);\n        }\n        catch (e) {\n            return { error: '<decoding failed - ' + e.message + '>' };\n        }\n    });\n}\nexports.solidityState = solidityState;\n//# sourceMappingURL=stateDecoder.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Address = void 0;\nconst util_1 = require(\"./util\");\nconst ValueType_1 = require(\"./ValueType\");\nclass Address extends ValueType_1.ValueType {\n    constructor() {\n        super(1, 20, 'address');\n    }\n    decodeValue(value) {\n        if (!value) {\n            return '0x0000000000000000000000000000000000000000';\n        }\n        return '0x' + (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0).toUpperCase();\n    }\n}\nexports.Address = Address;\n//# sourceMappingURL=Address.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst RefType_1 = require(\"./RefType\");\nconst sha3256 = remix_lib_1.util.sha3_256;\nclass ArrayType extends RefType_1.RefType {\n    constructor(underlyingType, arraySize, location) {\n        let storageSlots = null;\n        if (arraySize === 'dynamic') {\n            storageSlots = 1;\n        }\n        else {\n            if (underlyingType.storageBytes < 32) {\n                const itemPerSlot = Math.floor(32 / underlyingType.storageBytes);\n                storageSlots = Math.ceil(arraySize / itemPerSlot);\n            }\n            else {\n                storageSlots = arraySize * underlyingType.storageSlots;\n            }\n        }\n        const size = arraySize !== 'dynamic' ? arraySize : '';\n        super(storageSlots, 32, underlyingType.typeName + '[' + size + ']', location);\n        this.underlyingType = underlyingType;\n        this.arraySize = arraySize;\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const ret = [];\n            let size = null;\n            let slotValue;\n            try {\n                slotValue = yield (0, util_1.extractHexValue)(location, storageResolver, this.storageBytes);\n            }\n            catch (e) {\n                console.log(e);\n                return {\n                    error: '<decoding failed - ' + e.message + '>',\n                    type: this.typeName\n                };\n            }\n            const currentLocation = {\n                offset: 0,\n                slot: location.slot\n            };\n            if (this.arraySize === 'dynamic') {\n                size = (0, util_1.toBN)('0x' + slotValue);\n                currentLocation.slot = sha3256(location.slot);\n            }\n            else {\n                size = new ethereumjs_util_1.BN(this.arraySize);\n            }\n            var k = (0, util_1.toBN)(0);\n            for (; k.lt(size) && k.ltn(300); k.iaddn(1)) {\n                try {\n                    ret.push(yield this.underlyingType.decodeFromStorage(currentLocation, storageResolver));\n                }\n                catch (e) {\n                    return {\n                        error: '<decoding failed - ' + e.message + '>',\n                        type: this.typeName\n                    };\n                }\n                if (this.underlyingType.storageSlots === 1 && location.offset + this.underlyingType.storageBytes <= 32) {\n                    currentLocation.offset += this.underlyingType.storageBytes;\n                    if (currentLocation.offset + this.underlyingType.storageBytes > 32) {\n                        currentLocation.offset = 0;\n                        currentLocation.slot = '0x' + (0, util_1.add)(currentLocation.slot, 1).toString(16);\n                    }\n                }\n                else {\n                    currentLocation.slot = '0x' + (0, util_1.add)(currentLocation.slot, this.underlyingType.storageSlots).toString(16);\n                    currentLocation.offset = 0;\n                }\n            }\n            return { value: ret, length: '0x' + size.toString(16), type: this.typeName };\n        });\n    }\n    decodeFromMemoryInternal(offset, memory, skip) {\n        const ret = [];\n        let length = this.arraySize;\n        if (this.arraySize === 'dynamic') {\n            length = memory.substr(2 * offset, 64);\n            length = parseInt(length, 16);\n            offset = offset + 32;\n        }\n        if (isNaN(length)) {\n            return {\n                error: '<decoding failed - length is NaN>',\n                type: 'Error'\n            };\n        }\n        if (!skip)\n            skip = 0;\n        if (skip)\n            offset = offset + (32 * skip);\n        let limit = length - skip;\n        if (limit > 10)\n            limit = 10;\n        for (var k = 0; k < limit; k++) {\n            var contentOffset = offset;\n            ret.push(this.underlyingType.decodeFromMemory(contentOffset, memory));\n            offset += 32;\n        }\n        return {\n            value: ret,\n            length: '0x' + length.toString(16),\n            type: this.typeName,\n            cursor: skip + limit,\n            hasNext: length > (skip + limit)\n        };\n    }\n}\nexports.ArrayType = ArrayType;\n//# sourceMappingURL=ArrayType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bool = void 0;\nconst ValueType_1 = require(\"./ValueType\");\nconst util_1 = require(\"./util\");\nclass Bool extends ValueType_1.ValueType {\n    constructor() {\n        super(1, 1, 'bool');\n    }\n    decodeValue(value) {\n        if (!value) {\n            return false;\n        }\n        value = (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0);\n        return value !== '00';\n    }\n}\nexports.Bool = Bool;\n//# sourceMappingURL=Bool.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DynamicByteArray = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst RefType_1 = require(\"./RefType\");\nconst sha3256 = remix_lib_1.util.sha3_256;\nclass DynamicByteArray extends RefType_1.RefType {\n    constructor(location) {\n        super(1, 32, 'bytes', location);\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let value = '0x0';\n            try {\n                value = yield (0, util_1.extractHexValue)(location, storageResolver, this.storageBytes);\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n            }\n            const length = new ethereumjs_util_1.BN(value, 16);\n            if (length.testn(0)) {\n                let dataPos = new ethereumjs_util_1.BN(sha3256(location.slot).replace('0x', ''), 16);\n                let ret = '';\n                let currentSlot = '0x';\n                try {\n                    currentSlot = yield (0, util_1.readFromStorage)(dataPos, storageResolver);\n                }\n                catch (e) {\n                    console.log(e);\n                    return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n                }\n                while (length.gt(new ethereumjs_util_1.BN(ret.length)) && ret.length < 32000) {\n                    currentSlot = currentSlot.replace('0x', '');\n                    ret += currentSlot;\n                    dataPos = dataPos.add(new ethereumjs_util_1.BN(1));\n                    try {\n                        currentSlot = yield (0, util_1.readFromStorage)(dataPos, storageResolver);\n                    }\n                    catch (e) {\n                        console.log(e);\n                        return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n                    }\n                }\n                return { value: '0x' + ret.replace(/(00)+$/, ''), length: '0x' + length.toString(16), type: this.typeName };\n            }\n            else {\n                var size = parseInt(value.substr(value.length - 2, 2), 16) / 2;\n                return { value: '0x' + value.substr(0, size * 2), length: '0x' + size.toString(16), type: this.typeName };\n            }\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        offset = 2 * offset;\n        let length = memory.substr(offset, 64);\n        length = 2 * parseInt(length, 16);\n        return { length: '0x' + length.toString(16), value: '0x' + memory.substr(offset + 64, length), type: this.typeName };\n    }\n}\nexports.DynamicByteArray = DynamicByteArray;\n//# sourceMappingURL=DynamicByteArray.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Enum = void 0;\nconst ValueType_1 = require(\"./ValueType\");\nclass Enum extends ValueType_1.ValueType {\n    constructor(enumDef) {\n        let storageBytes = 0;\n        let length = enumDef.members.length;\n        while (length > 1) {\n            length = length / 256;\n            storageBytes++;\n        }\n        super(1, storageBytes, 'enum');\n        this.enumDef = enumDef;\n    }\n    decodeValue(value) {\n        if (!value) {\n            return this.enumDef.members[0].name;\n        }\n        value = parseInt(value, 16);\n        if (this.enumDef.members.length > value) {\n            return this.enumDef.members[value].name;\n        }\n        return 'INVALID_ENUM<' + value + '>';\n    }\n}\nexports.Enum = Enum;\n//# sourceMappingURL=Enum.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FixedByteArray = void 0;\nconst ValueType_1 = require(\"./ValueType\");\nclass FixedByteArray extends ValueType_1.ValueType {\n    constructor(storageBytes) {\n        super(1, storageBytes, 'bytes' + storageBytes);\n    }\n    decodeValue(value) {\n        return '0x' + value.substr(0, 2 * this.storageBytes).toUpperCase();\n    }\n}\nexports.FixedByteArray = FixedByteArray;\n//# sourceMappingURL=FixedByteArray.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Int = void 0;\nconst util_1 = require(\"./util\");\nconst ValueType_1 = require(\"./ValueType\");\nclass Int extends ValueType_1.ValueType {\n    constructor(storageBytes) {\n        super(1, storageBytes, 'int' + storageBytes * 8);\n    }\n    decodeValue(value) {\n        value = (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0);\n        return (0, util_1.decodeIntFromHex)(value, this.storageBytes, true);\n    }\n}\nexports.Int = Int;\n//# sourceMappingURL=Int.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mapping = void 0;\nconst tslib_1 = require(\"tslib\");\nconst RefType_1 = require(\"./RefType\");\nconst util_1 = require(\"./util\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nclass Mapping extends RefType_1.RefType {\n    constructor(underlyingTypes, location, fullType) {\n        super(1, 32, fullType, 'storage');\n        this.keyType = underlyingTypes.keyType;\n        this.valueType = underlyingTypes.valueType;\n        this.initialDecodedState = null;\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const corrections = this.valueType.members ? this.valueType.members.map((value) => { return value.storagelocation; }) : [];\n            if (!this.initialDecodedState) { // cache the decoded initial storage\n                let mappingsInitialPreimages;\n                try {\n                    mappingsInitialPreimages = yield storageResolver.initialMappingsLocation(corrections);\n                    this.initialDecodedState = yield this.decodeMappingsLocation(mappingsInitialPreimages, location, storageResolver);\n                }\n                catch (e) {\n                    return {\n                        value: e.message,\n                        type: this.typeName\n                    };\n                }\n            }\n            const mappingPreimages = yield storageResolver.mappingsLocation(corrections);\n            let ret = yield this.decodeMappingsLocation(mappingPreimages, location, storageResolver); // fetch mapping storage changes\n            ret = Object.assign({}, this.initialDecodedState, ret); // merge changes\n            return { value: ret, type: this.typeName };\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        // mappings can only exist in storage and not in memory\n        // so this should never be called\n        return { value: '', length: '0x0', type: this.typeName };\n    }\n    decodeMappingsLocation(preimages, location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const mapSlot = (0, util_1.normalizeHex)((0, ethereumjs_util_1.bufferToHex)(location.slot));\n            if (!preimages[mapSlot]) {\n                return {};\n            }\n            const ret = {};\n            for (const i in preimages[mapSlot]) {\n                const mapLocation = getMappingLocation(i, location.slot);\n                const globalLocation = {\n                    offset: location.offset,\n                    slot: mapLocation\n                };\n                ret[i] = yield this.valueType.decodeFromStorage(globalLocation, storageResolver);\n            }\n            return ret;\n        });\n    }\n}\nexports.Mapping = Mapping;\nfunction getMappingLocation(key, position) {\n    // mapping storage location decribed at http://solidity.readthedocs.io/en/develop/miscellaneous.html#layout-of-state-variables-in-storage\n    // > the value corresponding to a mapping key k is located at keccak256(k . p) where . is concatenation.\n    // key should be a hex string, and position an int\n    const mappingK = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(key));\n    let mappingP = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(position));\n    mappingP = (0, ethereumjs_util_1.setLengthLeft)(mappingP, 32);\n    const mappingKeyBuf = concatTypedArrays(mappingK, mappingP);\n    const mappingStorageLocation = (0, ethereumjs_util_1.keccak)(mappingKeyBuf);\n    const mappingStorageLocationinBn = new ethereumjs_util_1.BN(mappingStorageLocation, 16);\n    return mappingStorageLocationinBn;\n}\nfunction concatTypedArrays(a, b) {\n    const c = new (a.constructor)(a.length + b.length);\n    c.set(a, 0);\n    c.set(b, a.length);\n    return c;\n}\n//# sourceMappingURL=Mapping.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RefType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethers_1 = require(\"ethers\");\nconst util_1 = require(\"./util\");\nclass RefType {\n    constructor(storageSlots, storageBytes, typeName, location) {\n        this.location = location;\n        this.storageSlots = storageSlots;\n        this.storageBytes = storageBytes;\n        this.typeName = typeName;\n        this.basicType = 'RefType';\n    }\n    decodeFromStorage(input1, input2) {\n        throw new Error('This method is abstract');\n    }\n    decodeFromMemoryInternal(input1, input2, input3) {\n        throw new Error('This method is abstract');\n    }\n    /**\n      * decode the type from the stack\n      *\n      * @param {Int} stackDepth - position of the type in the stack\n      * @param {Array} stack - stack\n      * @param {String} - memory\n      * @param {Object} - storageResolver\n      * @return {Object} decoded value\n      */\n    decodeFromStack(stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (stack.length - 1 < stackDepth) {\n                return { error: '<decoding failed - stack underflow ' + stackDepth + '>', type: this.typeName };\n            }\n            let offset = stack[stack.length - 1 - stackDepth];\n            if (this.isInStorage()) {\n                offset = (0, util_1.toBN)(offset);\n                try {\n                    return yield this.decodeFromStorage({ offset: 0, slot: offset }, storageResolver);\n                }\n                catch (e) {\n                    console.log(e);\n                    return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n                }\n            }\n            else if (this.isInMemory()) {\n                offset = parseInt(offset, 16);\n                return this.decodeFromMemoryInternal(offset, memory, cursor);\n            }\n            else if (this.isInCallData()) {\n                return this._decodeFromCallData(variableDetails, calldata);\n            }\n            else {\n                return { error: '<decoding failed - no decoder for ' + this.location + '>', type: this.typeName };\n            }\n        });\n    }\n    _decodeFromCallData(variableDetails, calldata) {\n        calldata = calldata.length > 0 ? calldata[0] : '0x';\n        const ethersAbi = new ethers_1.ethers.utils.Interface(variableDetails.abi);\n        const fnSign = calldata.substr(0, 10);\n        const decodedData = ethersAbi.decodeFunctionData(ethersAbi.getFunction(fnSign), calldata);\n        const decodedValue = decodedData[variableDetails.name];\n        const isArray = Array.isArray(decodedValue);\n        if (isArray) {\n            return this._decodeCallDataArray(decodedValue, this);\n        }\n        return {\n            length: isArray ? '0x' + decodedValue.length.toString(16) : undefined,\n            value: decodedValue,\n            type: this.typeName\n        };\n    }\n    _decodeCallDataArray(value, type) {\n        const isArray = Array.isArray(value);\n        if (isArray) {\n            value = value.map((el) => {\n                return this._decodeCallDataArray(el, this.underlyingType);\n            });\n            return {\n                length: value.length.toString(16),\n                value: value,\n                type: type.typeName\n            };\n        }\n        else {\n            return {\n                value: value.toString(),\n                type: (type.underlyingType && type.underlyingType.typeName) || type.typeName\n            };\n        }\n    }\n    /**\n      * decode the type from the memory\n      *\n      * @param {Int} offset - position of the ref of the type in memory\n      * @param {String} memory - memory\n      * @return {Object} decoded value\n      */\n    decodeFromMemory(offset, memory) {\n        offset = memory.substr(2 * offset, 64);\n        offset = parseInt(offset, 16);\n        return this.decodeFromMemoryInternal(offset, memory);\n    }\n    /**\n      * current type defined in storage\n      *\n      * @return {Bool} - return true if the type is defined in the storage\n      */\n    isInStorage() {\n        return this.location.indexOf('storage') === 0;\n    }\n    /**\n      * current type defined in memory\n      *\n      * @return {Bool} - return true if the type is defined in the memory\n      */\n    isInMemory() {\n        return this.location.indexOf('memory') === 0;\n    }\n    /**\n      * current type defined in storage\n      *\n      * @return {Bool} - return true if the type is defined in the storage\n      */\n    isInCallData() {\n        return this.location.indexOf('calldata') === 0;\n    }\n}\nexports.RefType = RefType;\n//# sourceMappingURL=RefType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StringType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst DynamicByteArray_1 = require(\"./DynamicByteArray\");\nclass StringType extends DynamicByteArray_1.DynamicByteArray {\n    constructor(location) {\n        super(location);\n        this.typeName = 'string';\n    }\n    decodeFromStorage(location, storageResolver) {\n        const _super = Object.create(null, {\n            decodeFromStorage: { get: () => super.decodeFromStorage }\n        });\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let decoded = '0x';\n            try {\n                decoded = yield _super.decodeFromStorage.call(this, location, storageResolver);\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>' };\n            }\n            return format(decoded);\n        });\n    }\n    decodeFromStack(stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails) {\n        const _super = Object.create(null, {\n            decodeFromStack: { get: () => super.decodeFromStack }\n        });\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                return yield _super.decodeFromStack.call(this, stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails);\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>' };\n            }\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        const decoded = super.decodeFromMemoryInternal(offset, memory);\n        return format(decoded);\n    }\n}\nexports.StringType = StringType;\nfunction format(decoded) {\n    if (decoded.error) {\n        return decoded;\n    }\n    let value = decoded.value;\n    value = value.replace('0x', '').replace(/(..)/g, '%$1');\n    const ret = { length: decoded.length, raw: decoded.value, type: 'string' };\n    try {\n        ret['value'] = decodeURIComponent(value);\n    }\n    catch (e) {\n        ret['error'] = 'Invalid UTF8 encoding';\n        ret.raw = decoded.value;\n    }\n    return ret;\n}\n//# sourceMappingURL=StringType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Struct = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nconst RefType_1 = require(\"./RefType\");\nconst Mapping_1 = require(\"./Mapping\");\nclass Struct extends RefType_1.RefType {\n    constructor(memberDetails, location, fullType) {\n        super(memberDetails.storageSlots, 32, 'struct ' + fullType, location);\n        this.members = memberDetails.members;\n    }\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const ret = {};\n            for (var item of this.members) {\n                const globalLocation = {\n                    offset: location.offset + item.storagelocation.offset,\n                    slot: (0, util_1.add)(location.slot, item.storagelocation.slot)\n                };\n                try {\n                    ret[item.name] = yield item.type.decodeFromStorage(globalLocation, storageResolver);\n                }\n                catch (e) {\n                    console.log(e);\n                    ret[item.name] = { error: '<decoding failed - ' + e.message + '>' };\n                }\n            }\n            return { value: ret, type: this.typeName };\n        });\n    }\n    decodeFromMemoryInternal(offset, memory) {\n        const ret = {};\n        this.members.map((item, i) => {\n            var contentOffset = offset;\n            var member = item.type.decodeFromMemory(contentOffset, memory);\n            ret[item.name] = member;\n            if (!(item.type instanceof Mapping_1.Mapping))\n                offset += 32;\n        });\n        return { value: ret, type: this.typeName };\n    }\n}\nexports.Struct = Struct;\n//# sourceMappingURL=Struct.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uint = void 0;\nconst util_1 = require(\"./util\");\nconst ValueType_1 = require(\"./ValueType\");\nclass Uint extends ValueType_1.ValueType {\n    constructor(storageBytes) {\n        super(1, storageBytes, 'uint' + storageBytes * 8);\n    }\n    decodeValue(value) {\n        value = (0, util_1.extractHexByteSlice)(value, this.storageBytes, 0);\n        return (0, util_1.decodeIntFromHex)(value, this.storageBytes, false);\n    }\n}\nexports.Uint = Uint;\n//# sourceMappingURL=Uint.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueType = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"./util\");\nclass ValueType {\n    constructor(storageSlots, storageBytes, typeName) {\n        this.storageSlots = storageSlots;\n        this.storageBytes = storageBytes;\n        this.typeName = typeName;\n        this.basicType = 'ValueType';\n    }\n    decodeValue(input) {\n        throw new Error('This method is abstract');\n    }\n    /**\n      * decode the type with the @arg location from the storage\n      *\n      * @param {Object} location - containing offset and slot\n      * @param {Object} storageResolver  - resolve storage queries\n      * @return {Object} - decoded value\n      */\n    decodeFromStorage(location, storageResolver) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                var value = yield (0, util_1.extractHexValue)(location, storageResolver, this.storageBytes);\n                return { value: this.decodeValue(value), type: this.typeName };\n            }\n            catch (e) {\n                console.log(e);\n                return { error: '<decoding failed - ' + e.message + '>', type: this.typeName };\n            }\n        });\n    }\n    /**\n      * decode the type from the stack\n      *\n      * @param {Int} stackDepth - position of the type in the stack\n      * @param {Array} stack - stack\n      * @param {String} - memory\n      * @return {Object} - decoded value\n      */\n    decodeFromStack(stackDepth, stack, memory, storageResolver, calldata, cursor, variableDetails) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let value;\n            if (stackDepth >= stack.length) {\n                value = this.decodeValue('');\n            }\n            else {\n                value = this.decodeValue(stack[stack.length - 1 - stackDepth].replace('0x', ''));\n            }\n            return { value, type: this.typeName };\n        });\n    }\n    /**\n      * decode the type with the @arg offset location from the memory\n      *\n      * @param {Int} stackDepth - position of the type in the stack\n      * @return {String} - memory\n      * @return {Object} - decoded value\n      */\n    decodeFromMemory(offset, memory) {\n        const value = memory.substr(2 * offset, 64);\n        return { value: this.decodeValue(value), type: this.typeName };\n    }\n}\nexports.ValueType = ValueType;\n//# sourceMappingURL=ValueType.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeHex = exports.extractLocationFromAstVariable = exports.extractLocation = exports.removeLocation = exports.sub = exports.add = exports.toBN = exports.extractHexValue = exports.extractHexByteSlice = exports.readFromStorage = exports.decodeIntFromHex = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nfunction decodeIntFromHex(value, byteLength, signed) {\n    let bigNumber = new ethereumjs_util_1.BN(value, 16);\n    if (signed) {\n        bigNumber = bigNumber.fromTwos(8 * byteLength);\n    }\n    return bigNumber.toString(10);\n}\nexports.decodeIntFromHex = decodeIntFromHex;\nfunction readFromStorage(slot, storageResolver) {\n    const hexSlot = '0x' + normalizeHex((0, ethereumjs_util_1.bufferToHex)(slot));\n    return new Promise((resolve, reject) => {\n        storageResolver.storageSlot(hexSlot, (error, slot) => {\n            if (error) {\n                return reject(error);\n            }\n            if (!slot) {\n                slot = { key: slot, value: '' };\n            }\n            return resolve(normalizeHex(slot.value));\n        });\n    });\n}\nexports.readFromStorage = readFromStorage;\n/**\n * @returns a hex encoded byte slice of length @arg byteLength from inside @arg slotValue.\n *\n * @param {String} slotValue  - hex encoded value to extract the byte slice from\n * @param {Int} byteLength  - Length of the byte slice to extract\n * @param {Int} offsetFromLSB  - byte distance from the right end slot value to the right end of the byte slice\n */\nfunction extractHexByteSlice(slotValue, byteLength, offsetFromLSB) {\n    const offset = slotValue.length - 2 * offsetFromLSB - 2 * byteLength;\n    return slotValue.substr(offset, 2 * byteLength);\n}\nexports.extractHexByteSlice = extractHexByteSlice;\n/**\n * @returns a hex encoded storage content at the given @arg location. it does not have Ox prefix but always has the full length.\n *\n * @param {Object} location  - object containing the slot and offset of the data to extract.\n * @param {Object} storageResolver  - storage resolver\n * @param {Int} byteLength  - Length of the byte slice to extract\n */\nfunction extractHexValue(location, storageResolver, byteLength) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        let slotvalue;\n        try {\n            slotvalue = yield readFromStorage(location.slot, storageResolver);\n        }\n        catch (e) {\n            return '';\n        }\n        return extractHexByteSlice(slotvalue, byteLength, location.offset);\n    });\n}\nexports.extractHexValue = extractHexValue;\nfunction toBN(value) {\n    if (value instanceof ethereumjs_util_1.BN) {\n        return value;\n    }\n    else if (value.match && value.match(/^(0x)?([a-f0-9]*)$/)) {\n        value = (0, ethereumjs_util_1.unpadHexString)(value);\n        value = new ethereumjs_util_1.BN(value === '' ? '0' : value, 16);\n    }\n    else if (!isNaN(value)) {\n        value = new ethereumjs_util_1.BN(value);\n    }\n    return value;\n}\nexports.toBN = toBN;\nfunction add(value1, value2) {\n    return toBN(value1).add(toBN(value2));\n}\nexports.add = add;\nfunction sub(value1, value2) {\n    return toBN(value1).sub(toBN(value2));\n}\nexports.sub = sub;\nfunction removeLocation(type) {\n    return type.replace(/( storage ref| storage pointer| memory| calldata)/g, '');\n}\nexports.removeLocation = removeLocation;\nfunction extractLocation(type) {\n    const match = type.match(/( storage ref| storage pointer| memory| calldata)?$/);\n    if (match[1] !== '') {\n        return match[1].trim();\n    }\n    return null;\n}\nexports.extractLocation = extractLocation;\nfunction extractLocationFromAstVariable(node) {\n    if (node.storageLocation !== 'default') {\n        return node.storageLocation;\n    }\n    else if (node.stateVariable) {\n        return 'storage';\n    }\n    return 'default'; // local variables => storage, function parameters & return values => memory, state => storage\n}\nexports.extractLocationFromAstVariable = extractLocationFromAstVariable;\nfunction normalizeHex(hex) {\n    hex = hex.replace('0x', '');\n    if (hex.length < 64) {\n        return (new Array(64 - hex.length + 1).join('0')) + hex;\n    }\n    return hex;\n}\nexports.normalizeHex = normalizeHex;\n//# sourceMappingURL=util.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SourceLocationTracker = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst sourceMappingDecoder_1 = require(\"./sourceMappingDecoder\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * Process the source code location for the current executing bytecode\n */\nclass SourceLocationTracker {\n    constructor(_codeManager, { debugWithGeneratedSources }) {\n        this.opts = {\n            debugWithGeneratedSources: debugWithGeneratedSources || false\n        };\n        this.codeManager = _codeManager;\n        this.event = new eventManager_1.EventManager();\n        this.sourceMapByAddress = {};\n    }\n    /**\n     * Return the source location associated with the given @arg index (instruction index)\n     *\n     * @param {String} address - contract address from which the source location is retrieved\n     * @param {Int} index - index in the instruction list from where the source location is retrieved\n     * @param {Object} contractDetails - AST of compiled contracts\n     */\n    getSourceLocationFromInstructionIndex(address, index, contracts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const sourceMap = yield this.extractSourceMap(this, this.codeManager, address, contracts);\n            return (0, sourceMappingDecoder_1.atIndex)(index, sourceMap['map']);\n        });\n    }\n    /**\n     * Return the source location associated with the given @arg vmTraceIndex\n     *\n     * @param {String} address - contract address from which the source location is retrieved\n     * @param {Int} vmtraceStepIndex - index of the current code in the vmtrace\n     * @param {Object} contractDetails - AST of compiled contracts\n     */\n    getSourceLocationFromVMTraceIndex(address, vmtraceStepIndex, contracts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const sourceMap = yield this.extractSourceMap(this, this.codeManager, address, contracts);\n            const index = this.codeManager.getInstructionIndex(address, vmtraceStepIndex);\n            return (0, sourceMappingDecoder_1.atIndex)(index, sourceMap['map']);\n        });\n    }\n    /**\n     * Returns the generated sources from a specific @arg address\n     *\n     * @param {String} address - contract address from which has generated sources\n     * @param {Object} generatedSources - Object containing the sourceid, ast and the source code.\n     */\n    getGeneratedSourcesFromAddress(address) {\n        if (!this.opts.debugWithGeneratedSources)\n            return null;\n        if (this.sourceMapByAddress[address])\n            return this.sourceMapByAddress[address].generatedSources;\n        return null;\n    }\n    /**\n     * Returns the total amount of sources from a specific @arg address and @arg contracts\n     *\n     * @param {String} address - contract address from which has generated sources\n     * @param {Object} contracts - AST of compiled contracts\n     */\n    getTotalAmountOfSources(address, contracts) {\n        let sourcesLength = Object.keys(contracts).length;\n        const generatedSources = this.getGeneratedSourcesFromAddress(address);\n        if (generatedSources)\n            sourcesLength = sourcesLength + Object.keys(generatedSources).length;\n        return sourcesLength;\n    }\n    /**\n     * Return a valid source location associated with the given @arg vmTraceIndex\n     *\n     * @param {String} address - contract address from which the source location is retrieved\n     * @param {Int} vmtraceStepIndex - index of the current code in the vmtrace\n     * @param {Object} contractDetails - AST of compiled contracts\n     */\n    getValidSourceLocationFromVMTraceIndex(address, vmtraceStepIndex, contracts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const amountOfSources = this.getTotalAmountOfSources(address, contracts);\n            let map = { file: -1 };\n            /*\n              (map.file === -1) this indicates that it isn't associated with a known source code\n              (map.file > amountOfSources - 1) this indicates the current file index exceed the total number of files.\n                                                      this happens when generated sources should not be considered.\n            */\n            while (vmtraceStepIndex >= 0 && (map.file === -1 || map.file > amountOfSources - 1)) {\n                map = yield this.getSourceLocationFromVMTraceIndex(address, vmtraceStepIndex, contracts);\n                vmtraceStepIndex = vmtraceStepIndex - 1;\n            }\n            return map;\n        });\n    }\n    clearCache() {\n        this.sourceMapByAddress = {};\n    }\n    getSourceMap(address, code, contracts) {\n        const isCreation = (0, traceHelper_1.isContractCreation)(address);\n        let bytes;\n        for (const file in contracts) {\n            for (const contract in contracts[file]) {\n                const bytecode = contracts[file][contract].evm.bytecode;\n                const deployedBytecode = contracts[file][contract].evm.deployedBytecode;\n                if (!deployedBytecode)\n                    continue;\n                bytes = isCreation ? bytecode.object : deployedBytecode.object;\n                if (remix_lib_1.util.compareByteCode(code, '0x' + bytes)) {\n                    const generatedSources = isCreation ? bytecode.generatedSources : deployedBytecode.generatedSources;\n                    const map = isCreation ? bytecode.sourceMap : deployedBytecode.sourceMap;\n                    return { generatedSources, map };\n                }\n            }\n        }\n        return null;\n    }\n    extractSourceMap(self, codeManager, address, contracts) {\n        return new Promise((resolve, reject) => {\n            if (self.sourceMapByAddress[address])\n                return resolve(self.sourceMapByAddress[address]);\n            codeManager.getCode(address).then((result) => {\n                const sourceMap = this.getSourceMap(address, result.bytecode, contracts);\n                if (sourceMap) {\n                    if (!(0, traceHelper_1.isContractCreation)(address))\n                        self.sourceMapByAddress[address] = sourceMap;\n                    return resolve(sourceMap);\n                }\n                reject(new Error('no sourcemap associated with the code ' + address));\n            }).catch(reject);\n        });\n    }\n}\nexports.SourceLocationTracker = SourceLocationTracker;\n//# sourceMappingURL=sourceLocationTracker.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.atIndex = exports.nodesAtPosition = exports.findNodeAtInstructionIndex = exports.convertOffsetToLineColumn = exports.getLinebreakPositions = exports.decompressAll = exports.decode = void 0;\nconst remix_astwalker_1 = require(\"@remix-project/remix-astwalker\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * Decompress the source mapping given by solc-bin.js\n * s:l:f:j\n */\n/**\n * Decode the given @arg value\n *\n * @param {string} value      - source location to decode ( should be start:length:file )\n * @return {Object} returns the decompressed source mapping {start, length, file}\n */\nfunction decode(value) {\n    if (value) {\n        value = value.split(':');\n        return {\n            start: parseInt(value[0]),\n            length: parseInt(value[1]),\n            file: parseInt(value[2])\n        };\n    }\n}\nexports.decode = decode;\n/**\n * Decode the source mapping for the given compressed mapping\n *\n * @param {String} mapping     - compressed source mapping given by solc-bin\n * @return {Array} returns the decompressed source mapping. Array of {start, length, file, jump}\n */\nfunction decompressAll(mapping) {\n    const map = mapping.split(';');\n    const ret = [];\n    for (const k in map) {\n        const compressed = map[k].split(':');\n        const sourceMap = {\n            start: compressed[0] ? parseInt(compressed[0]) : ret[ret.length - 1].start,\n            length: compressed[1] ? parseInt(compressed[1]) : ret[ret.length - 1].length,\n            file: compressed[2] ? parseInt(compressed[2]) : ret[ret.length - 1].file,\n            jump: compressed[3] ? compressed[3] : ret[ret.length - 1].jump\n        };\n        ret.push(sourceMap);\n    }\n    return ret;\n}\nexports.decompressAll = decompressAll;\n/**\n  * Retrieve line/column position of each source char\n  *\n  * @param {String} source - contract source code\n  * @return {Array} returns an array containing offset of line breaks\n  */\nfunction getLinebreakPositions(source) {\n    const ret = [];\n    for (let pos = source.indexOf('\\n'); pos >= 0; pos = source.indexOf('\\n', pos + 1)) {\n        ret.push(pos);\n    }\n    return ret;\n}\nexports.getLinebreakPositions = getLinebreakPositions;\n/**\n * Retrieve the line/column position for the given source mapping\n *\n * @param {Object} sourceLocation - object containing attributes {source} and {length}\n * @param {Array} lineBreakPositions - array returned by the function 'getLinebreakPositions'\n * @return {Object} returns an object {start: {line, column}, end: {line, column}} (line/column count start at 0)\n */\nfunction convertOffsetToLineColumn(sourceLocation, lineBreakPositions) {\n    if (sourceLocation.start >= 0 && sourceLocation.length >= 0) {\n        return {\n            start: convertFromCharPosition(sourceLocation.start, lineBreakPositions),\n            end: convertFromCharPosition(sourceLocation.start + sourceLocation.length, lineBreakPositions)\n        };\n    }\n    return { start: null, end: null };\n}\nexports.convertOffsetToLineColumn = convertOffsetToLineColumn;\nfunction convertFromCharPosition(pos, lineBreakPositions) {\n    let line = remix_lib_1.util.findLowerBound(pos, lineBreakPositions);\n    if (lineBreakPositions[line] !== pos) {\n        line = line + 1;\n    }\n    const beginColumn = line === 0 ? 0 : (lineBreakPositions[line - 1] + 1);\n    const column = pos - beginColumn;\n    return { line, column };\n}\nfunction sourceLocationFromAstNode(astNode) {\n    if (astNode.src) {\n        const split = astNode.src.split(':');\n        return {\n            start: parseInt(split[0]),\n            length: parseInt(split[1]),\n            file: parseInt(split[2])\n        };\n    }\n    return null;\n}\n/**\n * Retrieve the first @arg astNodeType that include the source map at arg instIndex\n *\n * @param {String} astNodeType - node type that include the source map instIndex\n * @param {String} instIndex - instruction index used to retrieve the source map\n * @param {String} sourceMap - source map given by the compilation result\n * @param {Object} ast - ast given by the compilation result\n */\nfunction findNodeAtInstructionIndex(astNodeType, instIndex, sourceMap, ast) {\n    const sourceLocation = atIndex(instIndex, sourceMap);\n    return findNodeAtSourceLocation(astNodeType, sourceLocation, ast);\n}\nexports.findNodeAtInstructionIndex = findNodeAtInstructionIndex;\nfunction findNodeAtSourceLocation(astNodeType, sourceLocation, ast) {\n    const astWalker = new remix_astwalker_1.AstWalker();\n    let found = null;\n    const callback = function (node) {\n        const nodeLocation = sourceLocationFromAstNode(node);\n        if (!nodeLocation) {\n            return;\n        }\n        if (nodeLocation.start <= sourceLocation.start && nodeLocation.start + nodeLocation.length >= sourceLocation.start + sourceLocation.length) {\n            if (astNodeType === node.nodeType) {\n                found = node;\n            }\n        }\n    };\n    astWalker.walkFull(ast.ast, callback);\n    return found;\n}\n/**\n * get a list of nodes that are at the given @arg position\n *\n * @param {String} astNodeType      - type of node to return\n * @param {Int} position     - cursor position\n * @return {Object} ast object given by the compiler\n */\nfunction nodesAtPosition(astNodeType, position, ast) {\n    const astWalker = new remix_astwalker_1.AstWalker();\n    const found = [];\n    const callback = function (node) {\n        var nodeLocation = sourceLocationFromAstNode(node);\n        if (!nodeLocation) {\n            return;\n        }\n        if (nodeLocation.start <= position && nodeLocation.start + nodeLocation.length >= position) {\n            if (!astNodeType || astNodeType === node.nodeType) {\n                found.push(node);\n            }\n        }\n    };\n    astWalker.walkFull(ast.ast, callback);\n    return found;\n}\nexports.nodesAtPosition = nodesAtPosition;\n/**\n * starts with the given @arg index and move backward until it can find all the values for start, length, file, jump\n * if `file === -1` then the value of the sourcemap should be taken from the previous step,\n * because some steps are internal subroutine for the compiler and doesn't link to any high level code.\n *\n * Solidity source maps format is\n *  - start:length:file:jump\n *  - jump can be 'i', 'o' or '-' (jump 'in' or 'out' of a function)\n *  - if no value is specified ( e.g \"5:2\" - no mention of 'file' and 'jump' ), actual values are the one of the step before\n *  - if the file (3rd value) has -1, the source maps should be discarded\n *\n *  @param Int index - index in the bytecode to decode source mapping from\n *  @param Array mapping - source maps returned by the compiler. e.g 121:3741:0:-:0;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;121:3741:0;;;;;;;\n *  @return Object { start, length, file, jump }\n */\nfunction atIndex(index, mapping) {\n    const ret = {};\n    const map = mapping.split(';');\n    if (index >= map.length) {\n        index = map.length - 1;\n    }\n    for (let k = index; k >= 0; k--) {\n        let current = map[k];\n        if (!current.length) {\n            continue;\n        }\n        current = current.split(':');\n        if (ret['start'] === undefined && current[0] && current[0] !== '-1' && current[0].length) {\n            ret['start'] = parseInt(current[0]);\n        }\n        if (ret['length'] === undefined && current[1] && current[1] !== '-1' && current[1].length) {\n            ret['length'] = parseInt(current[1]);\n        }\n        if (ret['file'] === undefined && current[2] && current[2].length) {\n            ret['file'] = parseInt(current[2]);\n        }\n        if (ret['jump'] === undefined && current[3] && current[3].length) {\n            ret['jump'] = current[3];\n        }\n        if (ret['start'] !== undefined && ret['length'] !== undefined && ret['file'] !== undefined && ret['jump'] !== undefined) {\n            break;\n        }\n    }\n    return ret;\n}\nexports.atIndex = atIndex;\n//# sourceMappingURL=sourceMappingDecoder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeMappingsKeys = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"../solidity-decoder/types/util\");\n/**\n  * extract the mappings location from the storage\n  * like { \"<mapping_slot>\" : { \"<mapping-key1>\": preimageOf1 }, { \"<mapping-key2>\": preimageOf2 }, ... }\n  *\n  * @param {Object} storage  - storage given by storage Viewer (basically a mapping hashedkey : {key, value})\n  * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n  * @param {Function} callback  - calback\n  * @return {Map} - solidity mapping location (e.g { \"<mapping_slot>\" : { \"<mapping-key1>\": preimageOf1 }, { \"<mapping-key2>\": preimageOf2 }, ... })\n  */\nfunction decodeMappingsKeys(web3, storage, corrections) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        const ret = {};\n        if (!corrections.length)\n            corrections.push({ offset: 0, slot: 0 });\n        for (const hashedLoc in storage) {\n            var preimage;\n            try {\n                const key = storage[hashedLoc].key;\n                for (const k in corrections) {\n                    const corrected = (0, util_1.sub)(key, corrections[k].slot).toString(16);\n                    preimage = yield getPreimage(web3, '0x' + corrected);\n                    if (preimage)\n                        break;\n                }\n            }\n            catch (e) { } // eslint-disable-line no-empty\n            if (preimage) {\n                // got preimage!\n                // get mapping position (i.e. storage slot), its the last 32 bytes\n                const slotByteOffset = preimage.length - 64;\n                const mappingSlot = preimage.substr(slotByteOffset);\n                const mappingKey = preimage.substr(0, slotByteOffset);\n                if (!ret[mappingSlot]) {\n                    ret[mappingSlot] = {};\n                }\n                ret[mappingSlot][mappingKey] = preimage;\n            }\n        }\n        return ret;\n    });\n}\nexports.decodeMappingsKeys = decodeMappingsKeys;\n/**\n  * Uses web3 to return preimage of a key\n  *\n  * @param {String} key  - key to retrieve the preimage of\n  * @return {String} - preimage of the given key\n  */\nfunction getPreimage(web3, key) {\n    return new Promise((resolve, reject) => {\n        web3.debug.preimage(key.indexOf('0x') === 0 ? key : '0x' + key, (error, preimage) => {\n            if (error) {\n                return resolve(null);\n            }\n            resolve(preimage);\n        });\n    });\n}\n//# sourceMappingURL=mappingPreimages.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageResolver = void 0;\nconst tslib_1 = require(\"tslib\");\nconst traceHelper_1 = require(\"../trace/traceHelper\");\nconst mappingPreimages_1 = require(\"./mappingPreimages\");\n/**\n  * Basically one instance is created for one debugging session.\n  * (TODO: one instance need to be shared over all the components)\n  */\nclass StorageResolver {\n    constructor(options) {\n        this.storageByAddress = {};\n        this.preimagesMappingByAddress = {};\n        this.maxSize = 100;\n        this.web3 = options.web3;\n        this.zeroSlot = '0x0000000000000000000000000000000000000000000000000000000000000000';\n    }\n    /**\n     * returns the storage for the given context (address and vm trace index)\n     * returns the range 0x0 => this.maxSize\n     *\n     * @param {Object} - tx - transaction\n     * @param {Int} - stepIndex - Index of the stop in the vm trace\n     * @param {String} - address - lookup address\n     * @param {Function} - callback - contains a map: [hashedKey] = {key, hashedKey, value}\n     */\n    storageRange(tx, stepIndex, address) {\n        return this.storageRangeInternal(this, this.zeroSlot, tx, stepIndex, address);\n    }\n    /**\n     * compute the mappgings type locations for the current address (cached for a debugging session)\n     * note: that only retrieve the first 100 items.\n     *\n     * @param {Object} tx\n     * @param {Int} stepIndex\n     * @param {Object} address  - storage\n     * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n     * @return {Function} - callback\n     */\n    initialPreimagesMappings(tx, stepIndex, address, corrections) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this.preimagesMappingByAddress[address]) {\n                return this.preimagesMappingByAddress[address];\n            }\n            const storage = yield this.storageRange(tx, stepIndex, address);\n            const mappings = (0, mappingPreimages_1.decodeMappingsKeys)(this.web3, storage, corrections);\n            this.preimagesMappingByAddress[address] = mappings;\n            return mappings;\n        });\n    }\n    /**\n     * return a slot value for the given context (address and vm trace index)\n     *\n     * @param {String} - slot - slot key\n     * @param {Object} - tx - transaction\n     * @param {Int} - stepIndex - Index of the stop in the vm trace\n     * @param {String} - address - lookup address\n     * @param {Function} - callback - {key, hashedKey, value} -\n     */\n    storageSlot(slot, tx, stepIndex, address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const storage = yield this.storageRangeInternal(this, slot, tx, stepIndex, address);\n            return (storage[slot] !== undefined ? storage[slot] : null);\n        });\n    }\n    /**\n     * return True if the storage at @arg address is complete\n     *\n     * @param {String} address  - contract address\n     * @return {Bool} - return True if the storage at @arg address is complete\n     */\n    isComplete(address) {\n        return this.storageByAddress[address] && this.storageByAddress[address].complete;\n    }\n    /**\n     * retrieve the storage and ensure at least @arg slot is cached.\n     * - If @arg slot is already cached, the storage will be returned from the cache\n     *   even if the next 1000 items are not in the cache.\n     * - If @arg slot is not cached, the corresponding value will be resolved and the next 1000 slots.\n     */\n    storageRangeInternal(self, slotKey, tx, stepIndex, address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            var cached = this.fromCache(self, address);\n            if (cached && cached.storage[slotKey]) { // we have the current slot in the cache and maybe the next 1000...\n                return cached.storage;\n            }\n            const result = yield this.storageRangeWeb3Call(tx, address, slotKey, self.maxSize);\n            const [storage, nextKey] = result;\n            if (!storage[slotKey] && slotKey !== self.zeroSlot) { // we don't cache the zero slot (could lead to inconsistency)\n                storage[slotKey] = { key: slotKey, value: self.zeroSlot };\n            }\n            self.toCache(self, address, storage);\n            if (slotKey === self.zeroSlot && !nextKey) { // only working if keys are sorted !!\n                self.storageByAddress[address].complete = true;\n            }\n            return storage;\n        });\n    }\n    /**\n     * retrieve the storage from the cache. if @arg slot is defined, return only the desired slot, if not return the entire known storage\n     *\n     * @param {String} address  - contract address\n     * @return {String} - either the entire known storage or a single value\n     */\n    fromCache(self, address) {\n        if (!self.storageByAddress[address]) {\n            return null;\n        }\n        return self.storageByAddress[address];\n    }\n    /**\n     * store the result of `storageRangeAtInternal`\n     *\n     * @param {String} address  - contract address\n     * @param {Object} storage  - result of `storageRangeAtInternal`, contains {key, hashedKey, value}\n     */\n    toCache(self, address, storage) {\n        if (!self.storageByAddress[address]) {\n            self.storageByAddress[address] = {};\n        }\n        self.storageByAddress[address].storage = Object.assign(self.storageByAddress[address].storage || {}, storage);\n    }\n    storageRangeWeb3Call(tx, address, start, maxSize) {\n        return new Promise((resolve, reject) => {\n            if ((0, traceHelper_1.isContractCreation)(address)) {\n                resolve([{}, null]);\n            }\n            else {\n                this.web3.debug.storageRangeAt(tx.blockHash, tx.hash, address, start, maxSize, (error, result) => {\n                    if (error) {\n                        reject(error);\n                    }\n                    else if (result.storage) {\n                        resolve([result.storage, result.nextKey]);\n                    }\n                    else {\n                        reject(new Error('the storage has not been provided'));\n                    }\n                });\n            }\n        });\n    }\n}\nexports.StorageResolver = StorageResolver;\n//# sourceMappingURL=storageResolver.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageViewer = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst mappingPreimages_1 = require(\"./mappingPreimages\");\n/**\n   * easier access to the storage resolver\n   * Basically one instance is created foreach execution step and foreach component that need it.\n   * (TODO: one instance need to be shared over all the components)\n   */\nclass StorageViewer {\n    constructor(_context, _storageResolver, _traceManager) {\n        this.context = _context;\n        this.storageResolver = _storageResolver;\n        this.web3 = this.storageResolver.web3;\n        this.initialMappingsLocationPromise = null;\n        this.currentMappingsLocationPromise = null;\n        this.storageChanges = _traceManager.accumulateStorageChanges(this.context.stepIndex, this.context.address, {});\n    }\n    /**\n      * return the storage for the current context (address and vm trace index)\n      * by default now returns the range 0 => 1000\n      *\n      * @param {Function} - callback - contains a map: [hashedKey] = {key, hashedKey, value}\n      */\n    storageRange() {\n        return new Promise((resolve, reject) => {\n            this.storageResolver.storageRange(this.context.tx, this.context.stepIndex, this.context.address).then((storage) => {\n                resolve(Object.assign({}, storage, this.storageChanges));\n            }).catch(reject);\n        });\n    }\n    /**\n      * return a slot value for the current context (address and vm trace index)\n      * @param {String} - slot - slot key (not hashed key!)\n      * @param {Function} - callback - {key, hashedKey, value} -\n      */\n    storageSlot(slot, callback) {\n        const hashed = remix_lib_1.util.sha3_256(slot);\n        if (this.storageChanges[hashed]) {\n            return callback(null, this.storageChanges[hashed]);\n        }\n        this.storageResolver.storageSlot(hashed, this.context.tx, this.context.stepIndex, this.context.address).then((storage) => {\n            callback(null, storage);\n        }).catch(callback);\n    }\n    /**\n      * return True if the storage at @arg address is complete\n      *\n      * @param {String} address  - contract address\n      * @return {Bool} - return True if the storage at @arg address is complete\n      */\n    isComplete(address) {\n        return this.storageResolver.isComplete(address);\n    }\n    /**\n      * return all the possible mappings locations for the current context (cached) do not return state changes during the current transaction\n      *\n      * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n      */\n    initialMappingsLocation(corrections) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.initialMappingsLocationPromise) {\n                this.initialMappingsLocationPromise = this.storageResolver.initialPreimagesMappings(this.context.tx, this.context.stepIndex, this.context.address, corrections);\n            }\n            return this.initialMappingsLocationPromise;\n        });\n    }\n    /**\n      * return all the possible mappings locations for the current context (cached) and current mapping slot. returns state changes during the current transaction\n      *\n      * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n      */\n    mappingsLocation(corrections) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (!this.currentMappingsLocationPromise) {\n                this.currentMappingsLocationPromise = new Promise((resolve, reject) => {\n                    const mappingsLocationChanges = this.extractMappingsLocationChanges(this.storageChanges, corrections);\n                    return resolve(mappingsLocationChanges);\n                });\n            }\n            return this.currentMappingsLocationPromise;\n        });\n    }\n    /**\n      * retrieve mapping location changes from the storage changes.\n      * @param {Map} storageChanges\n      * @param {Array} corrections - used in case the calculated sha3 has been modifyed before SSTORE (notably used for struct in mapping).\n      */\n    extractMappingsLocationChanges(storageChanges, corrections) {\n        if (this.mappingsLocationChanges) {\n            return this.mappingsLocationChanges;\n        }\n        const mappings = (0, mappingPreimages_1.decodeMappingsKeys)(this.web3, storageChanges, corrections);\n        this.mappingsLocationChanges = mappings;\n        return this.mappingsLocationChanges;\n    }\n}\nexports.StorageViewer = StorageViewer;\n//# sourceMappingURL=storageViewer.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceAnalyser = void 0;\nconst tslib_1 = require(\"tslib\");\nconst traceHelper = (0, tslib_1.__importStar)(require(\"./traceHelper\"));\nclass TraceAnalyser {\n    constructor(_cache) {\n        this.traceCache = _cache;\n        this.trace = null;\n    }\n    analyse(trace, tx) {\n        this.trace = trace;\n        this.traceCache.pushStoreChanges(0, tx.to);\n        let context = {\n            storageContext: [tx.to],\n            currentCallIndex: 0,\n            lastCallIndex: 0\n        };\n        const callStack = [tx.to];\n        this.traceCache.pushCall(trace[0], 0, callStack[0], callStack.slice(0));\n        if (traceHelper.isContractCreation(tx.to)) {\n            this.traceCache.pushContractCreation(tx.to, tx.input);\n        }\n        this.buildCalldata(0, this.trace[0], tx, true);\n        for (let k = 0; k < this.trace.length; k++) {\n            const step = this.trace[k];\n            this.buildMemory(k, step);\n            context = this.buildDepth(k, step, tx, callStack, context);\n            context = this.buildStorage(k, step, context);\n            this.buildReturnValues(k, step);\n        }\n        return true;\n    }\n    buildReturnValues(index, step) {\n        if (traceHelper.isReturnInstruction(step)) {\n            let offset = 2 * parseInt(step.stack[step.stack.length - 1], 16);\n            const size = 2 * parseInt(step.stack[step.stack.length - 2], 16);\n            const memory = this.trace[this.traceCache.memoryChanges[this.traceCache.memoryChanges.length - 1]].memory;\n            const noOfReturnParams = size / 64;\n            const memoryInString = memory.join('');\n            const returnParamsObj = [];\n            for (let i = 0; i < noOfReturnParams; i++) {\n                returnParamsObj.push('0x' + memoryInString.substring(offset, offset + 64));\n                offset += 64;\n            }\n            this.traceCache.pushReturnValue(index, returnParamsObj);\n        }\n        if (traceHelper.isReturnInstruction(step) || traceHelper.isStopInstruction(step) || traceHelper.isRevertInstruction(step)) {\n            this.traceCache.pushStopIndex(index, this.traceCache.currentCall.call.address);\n        }\n        try {\n            if (parseInt(step.gas) - parseInt(step.gasCost) <= 0 || step.error === 'OutOfGas') {\n                this.traceCache.pushOutOfGasIndex(index, this.traceCache.currentCall.call.address);\n            }\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    buildCalldata(index, step, tx, newContext) {\n        let calldata = '';\n        if (index === 0) {\n            calldata = tx.input;\n            this.traceCache.pushCallDataChanges(index, calldata);\n        }\n        else if (!newContext) {\n            const lastCall = this.traceCache.callsData[this.traceCache.callDataChanges[this.traceCache.callDataChanges.length - 2]];\n            this.traceCache.pushCallDataChanges(index + 1, lastCall);\n        }\n        else {\n            const memory = this.trace[this.traceCache.memoryChanges[this.traceCache.memoryChanges.length - 1]].memory;\n            const callStep = this.trace[index];\n            const stack = callStep.stack;\n            let offset = 0;\n            let size = 0;\n            if (callStep.op === 'DELEGATECALL') {\n                offset = 2 * parseInt(stack[stack.length - 3], 16);\n                size = 2 * parseInt(stack[stack.length - 4], 16);\n            }\n            else {\n                offset = 2 * parseInt(stack[stack.length - 4], 16);\n                size = 2 * parseInt(stack[stack.length - 5], 16);\n            }\n            calldata = '0x' + memory.join('').substr(offset, size);\n            this.traceCache.pushCallDataChanges(index + 1, calldata);\n        }\n    }\n    buildMemory(index, step) {\n        if (step.memory) {\n            this.traceCache.pushMemoryChanges(index);\n        }\n    }\n    buildStorage(index, step, context) {\n        if (traceHelper.newContextStorage(step) && !traceHelper.isCallToPrecompiledContract(index, this.trace)) {\n            const calledAddress = traceHelper.resolveCalledAddress(index, this.trace);\n            if (calledAddress) {\n                context.storageContext.push(calledAddress);\n            }\n            else {\n                console.log('unable to build storage changes. ' + index + ' does not match with a CALL. storage changes will be corrupted');\n            }\n            this.traceCache.pushStoreChanges(index + 1, context.storageContext[context.storageContext.length - 1]);\n        }\n        else if (traceHelper.isSSTOREInstruction(step)) {\n            this.traceCache.pushStoreChanges(index + 1, context.storageContext[context.storageContext.length - 1], step.stack[step.stack.length - 1], step.stack[step.stack.length - 2]);\n        }\n        else if (traceHelper.isReturnInstruction(step) || traceHelper.isStopInstruction(step)) {\n            context.storageContext.pop();\n            this.traceCache.pushStoreChanges(index + 1, context.storageContext[context.storageContext.length - 1]);\n        }\n        else if (traceHelper.isRevertInstruction(step)) {\n            context.storageContext.pop();\n            this.traceCache.resetStoreChanges();\n        }\n        return context;\n    }\n    buildDepth(index, step, tx, callStack, context) {\n        if (traceHelper.isCallInstruction(step) && !traceHelper.isCallToPrecompiledContract(index, this.trace)) {\n            let newAddress;\n            if (traceHelper.isCreateInstruction(step)) {\n                newAddress = traceHelper.contractCreationToken(index);\n                callStack.push(newAddress);\n                const lastMemoryChange = this.traceCache.memoryChanges[this.traceCache.memoryChanges.length - 1];\n                this.traceCache.pushContractCreationFromMemory(index, newAddress, this.trace, lastMemoryChange);\n            }\n            else {\n                newAddress = traceHelper.resolveCalledAddress(index, this.trace);\n                if (newAddress) {\n                    callStack.push(newAddress);\n                }\n                else {\n                    console.log('unable to build depth changes. ' + index + ' does not match with a CALL. depth changes will be corrupted');\n                }\n            }\n            this.traceCache.pushCall(step, index + 1, newAddress, callStack.slice(0));\n            this.buildCalldata(index, step, tx, true);\n            this.traceCache.pushSteps(index, context.currentCallIndex);\n            context.lastCallIndex = context.currentCallIndex;\n            context.currentCallIndex = 0;\n        }\n        else if (traceHelper.isReturnInstruction(step) || traceHelper.isStopInstruction(step) || step.error || step.invalidDepthChange) {\n            if (index < this.trace.length) {\n                callStack.pop();\n                this.traceCache.pushCall(step, index + 1, null, callStack.slice(0), step.error || step.invalidDepthChange);\n                this.buildCalldata(index, step, tx, false);\n                this.traceCache.pushSteps(index, context.currentCallIndex);\n                context.currentCallIndex = context.lastCallIndex + 1;\n            }\n        }\n        else {\n            this.traceCache.pushSteps(index, context.currentCallIndex);\n            context.currentCallIndex++;\n        }\n        return context;\n    }\n}\nexports.TraceAnalyser = TraceAnalyser;\n//# sourceMappingURL=traceAnalyser.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceCache = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n// eslint-disable-next-line camelcase\nconst { sha3_256 } = remix_lib_1.util;\nclass TraceCache {\n    constructor() {\n        this.init();\n    }\n    init() {\n        // ...Changes contains index in the vmtrace of the corresponding changes\n        this.returnValues = {};\n        this.stopIndexes = [];\n        this.outofgasIndexes = [];\n        this.currentCall = null;\n        this.callsTree = null;\n        this.callsData = {};\n        this.contractCreation = {};\n        this.steps = {};\n        this.addresses = [];\n        this.callDataChanges = [];\n        this.memoryChanges = [];\n        this.storageChanges = [];\n        this.sstore = {}; // all sstore occurence in the trace\n    }\n    pushSteps(index, currentCallIndex) {\n        this.steps[index] = currentCallIndex;\n    }\n    pushCallDataChanges(value, calldata) {\n        this.callDataChanges.push(value);\n        this.callsData[value] = calldata;\n    }\n    pushMemoryChanges(value) {\n        this.memoryChanges.push(value);\n    }\n    // outOfGas has been removed because gas left logging is apparently made differently\n    // in the vm/geth/eth. TODO add the error property (with about the error in all clients)\n    pushCall(step, index, address, callStack, reverted) {\n        const validReturnStep = step.op === 'RETURN' || step.op === 'STOP';\n        if ((validReturnStep || reverted) && (this.currentCall)) {\n            this.currentCall.call.return = index - 1;\n            if (!validReturnStep) {\n                this.currentCall.call.reverted = reverted;\n            }\n            var parent = this.currentCall.parent;\n            if (parent)\n                this.currentCall = { call: parent.call, parent: parent.parent };\n            return;\n        }\n        const call = {\n            op: step.op,\n            address: address,\n            callStack: callStack,\n            calls: {},\n            start: index\n        };\n        this.addresses.push(address);\n        if (this.currentCall) {\n            this.currentCall.call.calls[index] = call;\n        }\n        else {\n            this.callsTree = { call: call };\n        }\n        this.currentCall = { call: call, parent: this.currentCall };\n    }\n    pushOutOfGasIndex(index, address) {\n        this.outofgasIndexes.push({ index, address });\n    }\n    pushStopIndex(index, address) {\n        this.stopIndexes.push({ index, address });\n    }\n    pushReturnValue(step, value) {\n        this.returnValues[step] = value;\n    }\n    pushContractCreationFromMemory(index, token, trace, lastMemoryChange) {\n        const memory = trace[lastMemoryChange].memory;\n        const stack = trace[index].stack;\n        const offset = 2 * parseInt(stack[stack.length - 2], 16);\n        const size = 2 * parseInt(stack[stack.length - 3], 16);\n        this.contractCreation[token] = '0x' + memory.join('').substr(offset, size);\n    }\n    pushContractCreation(token, code) {\n        this.contractCreation[token] = code;\n    }\n    resetStoreChanges(index, address, key, value) {\n        this.sstore = {};\n        this.storageChanges = [];\n    }\n    pushStoreChanges(index, address, key, value) {\n        this.sstore[index] = {\n            address: address,\n            key: key,\n            value: value,\n            hashedKey: key && sha3_256(key)\n        };\n        this.storageChanges.push(index);\n    }\n    accumulateStorageChanges(index, address, storage) {\n        const ret = Object.assign({}, storage);\n        for (var k in this.storageChanges) {\n            const changesIndex = this.storageChanges[k];\n            if (changesIndex > index) {\n                return ret;\n            }\n            var sstore = this.sstore[changesIndex];\n            if (sstore.address === address && sstore.key) {\n                ret[sstore.hashedKey] = {\n                    key: sstore.key,\n                    value: sstore.value\n                };\n            }\n        }\n        return ret;\n    }\n}\nexports.TraceCache = TraceCache;\n//# sourceMappingURL=traceCache.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isContractCreation = exports.contractCreationToken = exports.isCallToPrecompiledContract = exports.newContextStorage = exports.isSHA3Instruction = exports.isSSTOREInstruction = exports.isRevertInstruction = exports.isStopInstruction = exports.isJumpDestInstruction = exports.isReturnInstruction = exports.isCreateInstruction = exports.isCallInstruction = exports.resolveCalledAddress = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst { ui } = remix_lib_1.helpers;\n// vmTraceIndex has to point to a CALL, CODECALL, ...\nfunction resolveCalledAddress(vmTraceIndex, trace) {\n    const step = trace[vmTraceIndex];\n    if (isCreateInstruction(step)) {\n        return contractCreationToken(vmTraceIndex);\n    }\n    else if (isCallInstruction(step)) {\n        const stack = step.stack; // callcode, delegatecall, ...\n        return ui.normalizeHexAddress(stack[stack.length - 2]);\n    }\n    return undefined;\n}\nexports.resolveCalledAddress = resolveCalledAddress;\nfunction isCallInstruction(step) {\n    return ['CALL', 'STATICCALL', 'CALLCODE', 'CREATE', 'DELEGATECALL', 'CREATE2'].includes(step.op);\n}\nexports.isCallInstruction = isCallInstruction;\nfunction isCreateInstruction(step) {\n    return step.op === 'CREATE' || step.op === 'CREATE2';\n}\nexports.isCreateInstruction = isCreateInstruction;\nfunction isReturnInstruction(step) {\n    return step.op === 'RETURN';\n}\nexports.isReturnInstruction = isReturnInstruction;\nfunction isJumpDestInstruction(step) {\n    return step.op === 'JUMPDEST';\n}\nexports.isJumpDestInstruction = isJumpDestInstruction;\nfunction isStopInstruction(step) {\n    return step.op === 'STOP';\n}\nexports.isStopInstruction = isStopInstruction;\nfunction isRevertInstruction(step) {\n    return step.op === 'REVERT';\n}\nexports.isRevertInstruction = isRevertInstruction;\nfunction isSSTOREInstruction(step) {\n    return step.op === 'SSTORE';\n}\nexports.isSSTOREInstruction = isSSTOREInstruction;\nfunction isSHA3Instruction(step) {\n    return step.op === 'SHA3';\n}\nexports.isSHA3Instruction = isSHA3Instruction;\nfunction newContextStorage(step) {\n    return step.op === 'CREATE' || step.op === 'CALL' || step.op === 'CREATE2';\n}\nexports.newContextStorage = newContextStorage;\nfunction isCallToPrecompiledContract(index, trace) {\n    // if stack empty => this is not a precompiled contract\n    const step = trace[index];\n    if (isCallInstruction(step)) {\n        return index + 1 < trace.length && trace[index + 1].stack.length !== 0;\n    }\n    return false;\n}\nexports.isCallToPrecompiledContract = isCallToPrecompiledContract;\nfunction contractCreationToken(index) {\n    return '(Contract Creation - Step ' + index + ')';\n}\nexports.contractCreationToken = contractCreationToken;\nfunction isContractCreation(address) {\n    return address.indexOf('(Contract Creation - Step') !== -1;\n}\nexports.isContractCreation = isContractCreation;\n//# sourceMappingURL=traceHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst traceAnalyser_1 = require(\"./traceAnalyser\");\nconst traceCache_1 = require(\"./traceCache\");\nconst traceStepManager_1 = require(\"./traceStepManager\");\nconst traceHelper_1 = require(\"./traceHelper\");\nclass TraceManager {\n    constructor(options) {\n        this.web3 = options.web3;\n        this.isLoading = false;\n        this.trace = null;\n        this.traceCache = new traceCache_1.TraceCache();\n        this.traceAnalyser = new traceAnalyser_1.TraceAnalyser(this.traceCache);\n        this.traceStepManager = new traceStepManager_1.TraceStepManager(this.traceAnalyser);\n    }\n    // init section\n    resolveTrace(tx) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.tx = tx;\n            this.init();\n            if (!this.web3)\n                throw new Error('web3 not loaded');\n            this.isLoading = true;\n            const result = yield this.getTrace(tx.hash);\n            try {\n                if (result['structLogs'].length > 0) {\n                    this.trace = result['structLogs'];\n                    try {\n                        const networkId = yield this.web3.eth.net.getId();\n                        this.fork = remix_lib_1.execution.forkAt(networkId, tx.blockNumber);\n                    }\n                    catch (e) {\n                        this.fork = 'london';\n                        console.log(`unable to detect fork, defaulting to ${this.fork}..`);\n                        console.error(e);\n                    }\n                    this.traceAnalyser.analyse(result['structLogs'], tx);\n                    this.isLoading = false;\n                    return true;\n                }\n                var mes = tx.hash + ' is not a contract invocation or contract creation.';\n                console.log(mes);\n                this.isLoading = false;\n                throw new Error(mes);\n            }\n            catch (error) {\n                console.log(error);\n                this.isLoading = false;\n                throw new Error(error);\n            }\n        });\n    }\n    getTrace(txHash) {\n        return new Promise((resolve, reject) => {\n            const options = {\n                disableStorage: true,\n                disableMemory: false,\n                disableStack: false,\n                fullStorage: false\n            };\n            this.web3.debug.traceTransaction(txHash, options, function (error, result) {\n                if (error)\n                    return reject(error);\n                resolve(result);\n            });\n        });\n    }\n    init() {\n        this.trace = null;\n        this.traceCache.init();\n    }\n    getCurrentFork() {\n        return this.fork;\n    }\n    // API section\n    inRange(step) {\n        return this.isLoaded() && step >= 0 && step < this.trace.length;\n    }\n    isLoaded() {\n        return !this.isLoading && this.trace !== null;\n    }\n    getLength(callback) {\n        if (!this.trace) {\n            callback(new Error('no trace available'), null);\n        }\n        else {\n            callback(null, this.trace.length);\n        }\n    }\n    accumulateStorageChanges(index, address, storageOrigin) {\n        return this.traceCache.accumulateStorageChanges(index, address, storageOrigin);\n    }\n    getAddresses() {\n        return this.traceCache.addresses;\n    }\n    getCallDataAt(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        const callDataChange = remix_lib_1.util.findLowerBoundValue(stepIndex, this.traceCache.callDataChanges);\n        if (callDataChange === null) {\n            throw new Error('no calldata found');\n        }\n        return [this.traceCache.callsData[callDataChange]];\n    }\n    buildCallPath(stepIndex) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            try {\n                this.checkRequestedStep(stepIndex);\n            }\n            catch (check) {\n                throw new Error(check);\n            }\n            const callsPath = remix_lib_1.util.buildCallPath(stepIndex, this.traceCache.callsTree.call);\n            if (callsPath === null)\n                throw new Error('no call path built');\n            return callsPath;\n        });\n    }\n    getCallStackAt(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        const call = remix_lib_1.util.findCall(stepIndex, this.traceCache.callsTree.call);\n        if (call === null) {\n            throw new Error('no callstack found');\n        }\n        return call.callStack;\n    }\n    getStackAt(stepIndex) {\n        this.checkRequestedStep(stepIndex);\n        if (this.trace[stepIndex] && this.trace[stepIndex].stack) { // there's always a stack\n            const stack = this.trace[stepIndex].stack.slice(0);\n            stack.reverse();\n            return stack.map(el => el.startsWith('0x') ? el : '0x' + el);\n        }\n        else {\n            throw new Error('no stack found');\n        }\n    }\n    getLastCallChangeSince(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        const callChange = remix_lib_1.util.findCall(stepIndex, this.traceCache.callsTree.call);\n        if (callChange === null) {\n            return 0;\n        }\n        return callChange;\n    }\n    getCurrentCalledAddressAt(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n            const resp = this.getLastCallChangeSince(stepIndex);\n            if (!resp) {\n                throw new Error('unable to get current called address. ' + stepIndex + ' does not match with a CALL');\n            }\n            return resp.address;\n        }\n        catch (error) {\n            throw new Error(error);\n        }\n    }\n    getContractCreationCode(token) {\n        if (!this.traceCache.contractCreation[token]) {\n            throw new Error('no contract creation named ' + token);\n        }\n        return this.traceCache.contractCreation[token];\n    }\n    getMemoryAt(stepIndex) {\n        this.checkRequestedStep(stepIndex);\n        const lastChanges = remix_lib_1.util.findLowerBoundValue(stepIndex, this.traceCache.memoryChanges);\n        if (lastChanges === null) {\n            throw new Error('no memory found');\n        }\n        return this.trace[lastChanges].memory;\n    }\n    getCurrentPC(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        return this.trace[stepIndex].pc;\n    }\n    getAllStopIndexes() {\n        return this.traceCache.stopIndexes;\n    }\n    getAllOutofGasIndexes() {\n        return this.traceCache.outofgasIndexes;\n    }\n    getReturnValue(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        if (!this.traceCache.returnValues[stepIndex]) {\n            throw new Error('current step is not a return step');\n        }\n        return this.traceCache.returnValues[stepIndex];\n    }\n    getCurrentStep(stepIndex) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        return this.traceCache.steps[stepIndex];\n    }\n    getMemExpand(stepIndex) {\n        return (this.getStepProperty(stepIndex, 'memexpand') || '');\n    }\n    getStepCost(stepIndex) {\n        return this.getStepProperty(stepIndex, 'gasCost');\n    }\n    getRemainingGas(stepIndex) {\n        return this.getStepProperty(stepIndex, 'gas');\n    }\n    getStepProperty(stepIndex, property) {\n        try {\n            this.checkRequestedStep(stepIndex);\n        }\n        catch (check) {\n            throw new Error(check);\n        }\n        return this.trace[stepIndex][property];\n    }\n    isCreationStep(stepIndex) {\n        return (0, traceHelper_1.isCreateInstruction)(this.trace[stepIndex]);\n    }\n    // step section\n    findStepOverBack(currentStep) {\n        return this.traceStepManager.findStepOverBack(currentStep);\n    }\n    findStepOverForward(currentStep) {\n        return this.traceStepManager.findStepOverForward(currentStep);\n    }\n    findNextCall(currentStep) {\n        return this.traceStepManager.findNextCall(currentStep);\n    }\n    findStepOut(currentStep) {\n        return this.traceStepManager.findStepOut(currentStep);\n    }\n    checkRequestedStep(stepIndex) {\n        if (!this.trace) {\n            throw new Error('trace not loaded');\n        }\n        else if (stepIndex >= this.trace.length) {\n            throw new Error('trace smaller than requested');\n        }\n    }\n    waterfall(calls, stepindex, cb) {\n        const ret = [];\n        let retError = null;\n        for (var call in calls) {\n            calls[call].apply(this, [stepindex, function (error, result) {\n                    retError = error;\n                    ret.push({ error: error, value: result });\n                }]);\n        }\n        cb(retError, ret);\n    }\n}\nexports.TraceManager = TraceManager;\n//# sourceMappingURL=traceManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceStepManager = void 0;\nconst traceHelper_1 = require(\"./traceHelper\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nclass TraceStepManager {\n    constructor(_traceAnalyser) {\n        this.traceAnalyser = _traceAnalyser;\n    }\n    isCallInstruction(index) {\n        const state = this.traceAnalyser.trace[index];\n        return (0, traceHelper_1.isCallInstruction)(state) && !(0, traceHelper_1.isCallToPrecompiledContract)(index, this.traceAnalyser.trace);\n    }\n    isReturnInstruction(index) {\n        const state = this.traceAnalyser.trace[index];\n        return (0, traceHelper_1.isReturnInstruction)(state);\n    }\n    findStepOverBack(currentStep) {\n        if (this.isReturnInstruction(currentStep)) {\n            const call = remix_lib_1.util.findCall(currentStep, this.traceAnalyser.traceCache.callsTree.call);\n            return call.start > 0 ? call.start - 1 : 0;\n        }\n        return currentStep > 0 ? currentStep - 1 : 0;\n    }\n    findStepOverForward(currentStep) {\n        if (this.isCallInstruction(currentStep)) {\n            const call = remix_lib_1.util.findCall(currentStep + 1, this.traceAnalyser.traceCache.callsTree.call);\n            return call.return + 1 < this.traceAnalyser.trace.length ? call.return + 1 : this.traceAnalyser.trace.length - 1;\n        }\n        return this.traceAnalyser.trace.length >= currentStep + 1 ? currentStep + 1 : currentStep;\n    }\n    findNextCall(currentStep) {\n        const call = remix_lib_1.util.findCall(currentStep, this.traceAnalyser.traceCache.callsTree.call);\n        const subCalls = Object.keys(call.calls);\n        if (subCalls.length) {\n            var callStart = remix_lib_1.util.findLowerBound(currentStep, subCalls) + 1;\n            if (subCalls.length > callStart) {\n                return parseInt(subCalls[callStart]) - 1;\n            }\n            return currentStep;\n        }\n        return currentStep;\n    }\n    findStepOut(currentStep) {\n        const call = remix_lib_1.util.findCall(currentStep, this.traceAnalyser.traceCache.callsTree.call);\n        return call.return;\n    }\n}\nexports.TraceStepManager = TraceStepManager;\n//# sourceMappingURL=traceStepManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventManager = void 0;\nclass EventManager {\n    constructor() {\n        this.registered = {};\n        this.anonymous = {};\n    }\n    /*\n      * Unregister a listener.\n      * Note that if obj is a function. the unregistration will be applied to the dummy obj {}.\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    unregister(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        for (const reg in this.registered[eventName]) {\n            if ((this.registered[eventName][reg].obj === obj) && (this.registered[eventName][reg].func.toString() === func.toString())) {\n                this.registered[eventName].splice(reg, 1);\n            }\n        }\n    }\n    /*\n      * Register a new listener.\n      * Note that if obj is a function, the function registration will be associated with the dummy object {}\n      *\n      * @param {String} eventName  - the event name\n      * @param {Object or Func} obj - object that will listen on this event\n      * @param {Func} func         - function of the listeners that will be executed\n    */\n    register(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            this.registered[eventName] = [];\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        this.registered[eventName].push({ obj, func });\n    }\n    /*\n      * trigger event.\n      * Every listener have their associated function executed\n      *\n      * @param {String} eventName  - the event name\n      * @param {Array}j - argument that will be passed to the executed function.\n    */\n    trigger(eventName, args) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        for (const listener in this.registered[eventName]) {\n            const l = this.registered[eventName][listener];\n            if (l.func)\n                l.func.apply(l.obj === this.anonymous ? {} : l.obj, args);\n        }\n    }\n}\nexports.EventManager = EventManager;\n//# sourceMappingURL=eventManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventsDecoder = void 0;\nconst ethers_1 = require(\"ethers\");\nconst txHelper_1 = require(\"./txHelper\");\n/**\n  * Register to txListener and extract events\n  *\n  */\nclass EventsDecoder {\n    constructor({ resolveReceipt }) {\n        this.resolveReceipt = resolveReceipt;\n    }\n    /**\n    * use Transaction Receipt to decode logs. assume that the transaction as already been resolved by txListener.\n    * logs are decoded only if the contract if known by remix.\n    *\n    * @param {Object} tx - transaction object\n    * @param {Function} cb - callback\n    */\n    parseLogs(tx, contractName, compiledContracts, cb) {\n        if (tx.isCall)\n            return cb(null, { decoded: [], raw: [] });\n        this.resolveReceipt(tx, (error, receipt) => {\n            if (error)\n                return cb(error);\n            this._decodeLogs(tx, receipt, contractName, compiledContracts, cb);\n        });\n    }\n    _decodeLogs(tx, receipt, contract, contracts, cb) {\n        if (!contract || !receipt) {\n            return cb('cannot decode logs - contract or receipt not resolved ');\n        }\n        if (!receipt.logs) {\n            return cb(null, { decoded: [], raw: [] });\n        }\n        this._decodeEvents(tx, receipt.logs, contract, contracts, cb);\n    }\n    _eventABI(contract) {\n        const eventABI = {};\n        const abi = new ethers_1.ethers.utils.Interface(contract.abi);\n        for (const e in abi.events) {\n            const event = abi.getEvent(e);\n            eventABI[abi.getEventTopic(e).replace('0x', '')] = { event: event.name, inputs: event.inputs, object: event, abi: abi };\n        }\n        return eventABI;\n    }\n    _eventsABI(compiledContracts) {\n        const eventsABI = {};\n        (0, txHelper_1.visitContracts)(compiledContracts, (contract) => {\n            eventsABI[contract.name] = this._eventABI(contract.object);\n        });\n        return eventsABI;\n    }\n    _event(hash, eventsABI) {\n        for (const k in eventsABI) {\n            if (eventsABI[k][hash]) {\n                const event = eventsABI[k][hash];\n                for (const input of event.inputs) {\n                    if (input.type === 'function') {\n                        input.type = 'bytes24';\n                        input.baseType = 'bytes24';\n                    }\n                }\n                return event;\n            }\n        }\n        return null;\n    }\n    _stringifyBigNumber(value) {\n        return value._isBigNumber ? value.toString() : value;\n    }\n    _stringifyEvent(value) {\n        if (value === null || value === undefined)\n            return ' - ';\n        if (value._ethersType)\n            value.type = value._ethersType;\n        if (Array.isArray(value)) {\n            // for struct && array\n            return value.map((item) => { return this._stringifyEvent(item); });\n        }\n        else {\n            return this._stringifyBigNumber(value);\n        }\n    }\n    _decodeEvents(tx, logs, contractName, compiledContracts, cb) {\n        const eventsABI = this._eventsABI(compiledContracts);\n        const events = [];\n        for (const i in logs) {\n            // [address, topics, mem]\n            const log = logs[i];\n            const topicId = log.topics[0];\n            const eventAbi = this._event(topicId.replace('0x', ''), eventsABI);\n            if (eventAbi) {\n                const decodedlog = eventAbi.abi.parseLog(log);\n                const decoded = {};\n                for (const v in decodedlog.args) {\n                    decoded[v] = this._stringifyEvent(decodedlog.args[v]);\n                }\n                events.push({ from: log.address, topic: topicId, event: eventAbi.event, args: decoded });\n            }\n            else {\n                events.push({ from: log.address, data: log.data, topics: log.topics });\n            }\n        }\n        cb(null, { decoded: events, raw: logs });\n    }\n}\nexports.EventsDecoder = EventsDecoder;\n//# sourceMappingURL=eventsDecoder.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forkAt = void 0;\n/**\n  * returns the fork name for the @argument networkId and @argument blockNumber\n  *\n  * @param {Object} networkId - network Id (1 for VM, 3 for Ropsten, 4 for Rinkeby, 5 for Goerli)\n  * @param {Object} blockNumber - block number\n  * @return {String} - fork name (Berlin, Istanbul, ...)\n  */\nfunction forkAt(networkId, blockNumber) {\n    if (forks[networkId]) {\n        let currentForkName = forks[networkId][0].name;\n        for (const fork of forks[networkId]) {\n            if (blockNumber >= fork.number) {\n                currentForkName = fork.name;\n            }\n        }\n        return currentForkName;\n    }\n    return 'london';\n}\nexports.forkAt = forkAt;\n// see https://github.com/ethereum/go-ethereum/blob/master/params/config.go\nconst forks = {\n    1: [\n        {\n            number: 4370000,\n            name: 'byzantium'\n        },\n        {\n            number: 7280000,\n            name: 'constantinople'\n        },\n        {\n            number: 7280000,\n            name: 'petersburg'\n        },\n        {\n            number: 9069000,\n            name: 'istanbul'\n        },\n        {\n            number: 9200000,\n            name: 'muirglacier'\n        },\n        {\n            number: 12244000,\n            name: 'berlin'\n        },\n        {\n            number: 12965000,\n            name: 'london'\n        }\n    ],\n    3: [\n        {\n            number: 1700000,\n            name: 'byzantium'\n        },\n        {\n            number: 4230000,\n            name: 'constantinople'\n        },\n        {\n            number: 4939394,\n            name: 'petersburg'\n        },\n        {\n            number: 6485846,\n            name: 'istanbul'\n        },\n        {\n            number: 7117117,\n            name: 'muirglacier'\n        },\n        {\n            number: 9812189,\n            name: 'berlin'\n        },\n        {\n            number: 10499401,\n            name: 'london'\n        }\n    ],\n    4: [\n        {\n            number: 1035301,\n            name: 'byzantium'\n        },\n        {\n            number: 3660663,\n            name: 'constantinople'\n        },\n        {\n            number: 4321234,\n            name: 'petersburg'\n        },\n        {\n            number: 5435345,\n            name: 'istanbul'\n        },\n        {\n            number: 8290928,\n            name: 'berlin'\n        },\n        {\n            number: 8897988,\n            name: 'london'\n        }\n    ],\n    5: [\n        {\n            number: 1561651,\n            name: 'istanbul'\n        },\n        {\n            number: 4460644,\n            name: 'berlin'\n        },\n        {\n            number: 5062605,\n            name: 'london'\n        }\n    ]\n};\n//# sourceMappingURL=forkAt.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogsManager = void 0;\nconst async_1 = require(\"async\");\nconst crypto_1 = require(\"crypto\");\nclass LogsManager {\n    constructor() {\n        this.notificationCallbacks = [];\n        this.subscriptions = {};\n        this.filters = {};\n        this.filterTracking = {};\n        this.oldLogs = [];\n    }\n    checkBlock(blockNumber, block, web3) {\n        (0, async_1.eachOf)(block.transactions, (tx, i, next) => {\n            const txHash = '0x' + tx.hash().toString('hex');\n            web3.eth.getTransactionReceipt(txHash, (_error, receipt) => {\n                for (const log of receipt.logs) {\n                    this.oldLogs.push({ type: 'block', blockNumber, block, tx, log, txNumber: i });\n                    const subscriptions = this.getSubscriptionsFor({ type: 'block', blockNumber, block, tx, log });\n                    for (const subscriptionId of subscriptions) {\n                        const result = {\n                            logIndex: '0x1',\n                            blockNumber: blockNumber,\n                            blockHash: ('0x' + block.hash().toString('hex')),\n                            transactionHash: ('0x' + tx.hash().toString('hex')),\n                            transactionIndex: '0x' + i.toString(16),\n                            // TODO: if it's a contract deploy, it should be that address instead\n                            address: log.address,\n                            data: log.data,\n                            topics: log.topics\n                        };\n                        if (result.address === '0x') {\n                            delete result.address;\n                        }\n                        const response = { jsonrpc: '2.0', method: 'eth_subscription', params: { result: result, subscription: subscriptionId } };\n                        this.transmit(response);\n                    }\n                }\n            });\n        }, (_err) => {\n        });\n    }\n    eventMatchesFilter(changeEvent, queryType, queryFilter) {\n        if (queryFilter.topics.filter((logTopic) => changeEvent.log.topics.indexOf(logTopic) >= 0).length === 0)\n            return false;\n        if (queryType === 'logs') {\n            const fromBlock = queryFilter.fromBlock || '0x0';\n            const toBlock = queryFilter.toBlock || this.oldLogs.length ? this.oldLogs[this.oldLogs.length - 1].blockNumber : '0x0';\n            if ((queryFilter.address === (changeEvent.tx.to || '').toString()) || queryFilter.address === (changeEvent.tx.getSenderAddress().toString())) {\n                if ((parseInt(toBlock) >= parseInt(changeEvent.blockNumber)) && (parseInt(fromBlock) <= parseInt(changeEvent.blockNumber))) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    getSubscriptionsFor(changeEvent) {\n        const matchedSubscriptions = [];\n        for (const subscriptionId of Object.keys(this.subscriptions)) {\n            const subscriptionParams = this.subscriptions[subscriptionId];\n            const [queryType, queryFilter] = subscriptionParams;\n            if (this.eventMatchesFilter(changeEvent, queryType, queryFilter || { topics: [] })) {\n                matchedSubscriptions.push(subscriptionId);\n            }\n        }\n        return matchedSubscriptions;\n    }\n    getLogsForSubscription(subscriptionId) {\n        const subscriptionParams = this.subscriptions[subscriptionId];\n        const [_queryType, queryFilter] = subscriptionParams; // eslint-disable-line\n        return this.getLogsFor(queryFilter);\n    }\n    transmit(result) {\n        this.notificationCallbacks.forEach((callback) => {\n            if (result.params.result.raw) {\n                result.params.result.data = result.params.result.raw.data;\n                result.params.result.topics = result.params.result.raw.topics;\n            }\n            callback(result);\n        });\n    }\n    addListener(_type, cb) {\n        this.notificationCallbacks.push(cb);\n    }\n    subscribe(params) {\n        const subscriptionId = '0x' + (0, crypto_1.randomBytes)(16).toString('hex');\n        this.subscriptions[subscriptionId] = params;\n        return subscriptionId;\n    }\n    unsubscribe(subscriptionId) {\n        delete this.subscriptions[subscriptionId];\n    }\n    newFilter(filterType, params) {\n        const filterId = '0x' + (0, crypto_1.randomBytes)(16).toString('hex');\n        if (filterType === 'block' || filterType === 'pendingTransactions') {\n            this.filters[filterId] = { filterType };\n        }\n        if (filterType === 'filter') {\n            this.filters[filterId] = { filterType, params };\n        }\n        this.filterTracking[filterId] = {};\n        return filterId;\n    }\n    uninstallFilter(filterId) {\n        delete this.filters[filterId];\n    }\n    getLogsForFilter(filterId, logsOnly) {\n        const { filterType, params } = this.filters[filterId];\n        const tracking = this.filterTracking[filterId];\n        if (logsOnly || filterType === 'filter') {\n            return this.getLogsFor(params || { topics: [] });\n        }\n        if (filterType === 'block') {\n            const blocks = this.oldLogs.filter(x => x.type === 'block').filter(x => tracking.block === undefined || x.blockNumber >= tracking.block);\n            tracking.block = blocks[blocks.length - 1];\n            return blocks.map(block => ('0x' + block.hash().toString('hex')));\n        }\n        if (filterType === 'pendingTransactions') {\n            return [];\n        }\n    }\n    getLogsByTxHash(hash) {\n        return this.oldLogs.filter((log) => '0x' + log.tx.hash().toString('hex') === hash)\n            .map((log) => {\n            return {\n                logIndex: '0x1',\n                blockNumber: log.blockNumber,\n                blockHash: ('0x' + log.block.hash().toString('hex')),\n                transactionHash: ('0x' + log.tx.hash().toString('hex')),\n                transactionIndex: '0x' + log.txNumber.toString(16),\n                // TODO: if it's a contract deploy, it should be that address instead\n                address: log.log.address,\n                data: log.log.data,\n                topics: log.log.topics\n            };\n        });\n    }\n    getLogsFor(params) {\n        const results = [];\n        for (const log of this.oldLogs) {\n            if (this.eventMatchesFilter(log, 'logs', params)) {\n                results.push({\n                    logIndex: '0x1',\n                    blockNumber: log.blockNumber,\n                    blockHash: ('0x' + log.block.hash().toString('hex')),\n                    transactionHash: ('0x' + log.tx.hash().toString('hex')),\n                    transactionIndex: '0x' + log.txNumber.toString(16),\n                    // TODO: if it's a contract deploy, it should be that address instead\n                    address: log.log.address,\n                    data: log.log.data,\n                    topics: log.log.topics\n                });\n            }\n        }\n        return results;\n    }\n}\nexports.LogsManager = LogsManager;\n//# sourceMappingURL=logsManager.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkVMError = exports.callFunction = exports.createContract = void 0;\nconst ethers_1 = require(\"ethers\");\nconst txHelper_1 = require(\"./txHelper\");\n/**\n  * deploy the given contract\n  *\n  * @param {String} from    - sender address\n  * @param {String} data    - data to send with the transaction ( return of txFormat.buildData(...) ).\n  * @param {String} value    - decimal representation of value.\n  * @param {String} gasLimit    - decimal representation of gas limit.\n  * @param {Object} txRunner    - TxRunner.js instance\n  * @param {Object} callbacks    - { confirmationCb, gasEstimationForceSend, promptCb }\n  *     [validate transaction] confirmationCb (network, tx, gasEstimation, continueTxExecution, cancelCb)\n  *     [transaction failed, force send] gasEstimationForceSend (error, continueTxExecution, cancelCb)\n  *     [personal mode enabled, need password to continue] promptCb (okCb, cancelCb)\n  * @param {Function} finalCallback    - last callback.\n  */\nfunction createContract(from, data, value, gasLimit, txRunner, callbacks, finalCallback) {\n    if (!callbacks.confirmationCb || !callbacks.gasEstimationForceSend || !callbacks.promptCb) {\n        return finalCallback('all the callbacks must have been defined');\n    }\n    const tx = { from: from, to: null, data: data, useCall: false, value: value, gasLimit: gasLimit };\n    txRunner.rawRun(tx, callbacks.confirmationCb, callbacks.gasEstimationForceSend, callbacks.promptCb, (error, txResult) => {\n        // see universaldapp.js line 660 => 700 to check possible values of txResult (error case)\n        finalCallback(error, txResult);\n    });\n}\nexports.createContract = createContract;\n/**\n  * call the current given contract ! that will create a transaction !\n  *\n  * @param {String} from    - sender address\n  * @param {String} to    - recipient address\n  * @param {String} data    - data to send with the transaction ( return of txFormat.buildData(...) ).\n  * @param {String} value    - decimal representation of value.\n  * @param {String} gasLimit    - decimal representation of gas limit.\n  * @param {Object} txRunner    - TxRunner.js instance\n  * @param {Object} callbacks    - { confirmationCb, gasEstimationForceSend, promptCb }\n  *     [validate transaction] confirmationCb (network, tx, gasEstimation, continueTxExecution, cancelCb)\n  *     [transaction failed, force send] gasEstimationForceSend (error, continueTxExecution, cancelCb)\n  *     [personal mode enabled, need password to continue] promptCb (okCb, cancelCb)\n  * @param {Function} finalCallback    - last callback.\n  */\nfunction callFunction(from, to, data, value, gasLimit, funAbi, txRunner, callbacks, finalCallback) {\n    const useCall = funAbi.stateMutability === 'view' || funAbi.stateMutability === 'pure' || funAbi.constant;\n    const tx = { from, to, data, useCall, value, gasLimit };\n    txRunner.rawRun(tx, callbacks.confirmationCb, callbacks.gasEstimationForceSend, callbacks.promptCb, (error, txResult) => {\n        // see universaldapp.js line 660 => 700 to check possible values of txResult (error case)\n        finalCallback(error, txResult);\n    });\n}\nexports.callFunction = callFunction;\n/**\n  * check if the vm has errored\n  *\n  * @param {Object} execResult    - execution result given by the VM\n  * @return {Object} -  { error: true/false, message: DOMNode }\n  */\nfunction checkVMError(execResult, compiledContracts) {\n    const errorCode = {\n        OUT_OF_GAS: 'out of gas',\n        STACK_UNDERFLOW: 'stack underflow',\n        STACK_OVERFLOW: 'stack overflow',\n        INVALID_JUMP: 'invalid JUMP',\n        INVALID_OPCODE: 'invalid opcode',\n        REVERT: 'revert',\n        STATIC_STATE_CHANGE: 'static state change',\n        INTERNAL_ERROR: 'internal error',\n        CREATE_COLLISION: 'create collision',\n        STOP: 'stop',\n        REFUND_EXHAUSTED: 'refund exhausted'\n    };\n    const ret = {\n        error: false,\n        message: ''\n    };\n    if (!execResult.exceptionError) {\n        return ret;\n    }\n    const exceptionError = execResult.exceptionError.error || '';\n    const error = `VM error: ${exceptionError}.\\n`;\n    let msg;\n    if (exceptionError === errorCode.INVALID_OPCODE) {\n        msg = '\\t\\n\\tThe execution might have thrown.\\n';\n        ret.error = true;\n    }\n    else if (exceptionError === errorCode.OUT_OF_GAS) {\n        msg = '\\tThe transaction ran out of gas. Please increase the Gas Limit.\\n';\n        ret.error = true;\n    }\n    else if (exceptionError === errorCode.REVERT) {\n        const returnData = execResult.returnValue;\n        const returnDataHex = returnData.slice(0, 4).toString('hex');\n        let customError;\n        if (compiledContracts) {\n            let decodedCustomErrorInputsClean;\n            for (const file of Object.keys(compiledContracts)) {\n                for (const contractName of Object.keys(compiledContracts[file])) {\n                    const contract = compiledContracts[file][contractName];\n                    for (const item of contract.abi) {\n                        if (item.type === 'error') {\n                            // ethers doesn't crash anymore if \"error\" type is specified, but it doesn't extract the errors. see:\n                            // https://github.com/ethers-io/ethers.js/commit/bd05aed070ac9e1421a3e2bff2ceea150bedf9b7\n                            // we need here to fake the type, so the \"getSighash\" function works properly\n                            const fn = (0, txHelper_1.getFunctionFragment)(Object.assign(Object.assign({}, item), { type: 'function', stateMutability: 'nonpayable' }));\n                            if (!fn)\n                                continue;\n                            const sign = fn.getSighash(item.name);\n                            if (!sign)\n                                continue;\n                            if (returnDataHex === sign.replace('0x', '')) {\n                                customError = item.name;\n                                const functionDesc = fn.getFunction(item.name);\n                                // decoding error parameters\n                                const decodedCustomErrorInputs = fn.decodeFunctionData(functionDesc, returnData);\n                                decodedCustomErrorInputsClean = {};\n                                let devdoc = {};\n                                // \"contract\" reprensents the compilation result containing the NATSPEC documentation\n                                if (contract && fn.functions && Object.keys(fn.functions).length) {\n                                    const functionSignature = Object.keys(fn.functions)[0];\n                                    // we check in the 'devdoc' if there's a developer documentation for this error\n                                    try {\n                                        devdoc = (contract.devdoc.errors && contract.devdoc.errors[functionSignature][0]) || {};\n                                    }\n                                    catch (e) {\n                                        console.error(e.message);\n                                    }\n                                    // we check in the 'userdoc' if there's an user documentation for this error\n                                    try {\n                                        const userdoc = (contract.userdoc.errors && contract.userdoc.errors[functionSignature][0]) || {};\n                                        if (userdoc && userdoc.notice)\n                                            customError += ' : ' + userdoc.notice; // we append the user doc if any\n                                    }\n                                    catch (e) {\n                                        console.error(e.message);\n                                    }\n                                }\n                                let inputIndex = 0;\n                                for (const input of functionDesc.inputs) {\n                                    const inputKey = input.name || inputIndex;\n                                    const v = decodedCustomErrorInputs[inputKey];\n                                    decodedCustomErrorInputsClean[inputKey] = {\n                                        value: v.toString ? v.toString() : v\n                                    };\n                                    if (devdoc && devdoc.params) {\n                                        decodedCustomErrorInputsClean[input.name].documentation = devdoc.params[inputKey]; // we add the developer documentation for this input parameter if any\n                                    }\n                                    inputIndex++;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (decodedCustomErrorInputsClean) {\n                msg = '\\tThe transaction has been reverted to the initial state.\\nError provided by the contract:';\n                msg += `\\n${customError}`;\n                msg += '\\nParameters:';\n                msg += `\\n${JSON.stringify(decodedCustomErrorInputsClean, null, ' ')}`;\n            }\n        }\n        if (!customError) {\n            // It is the hash of Error(string)\n            if (returnData && (returnDataHex === '08c379a0')) {\n                const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n                const reason = abiCoder.decode(['string'], returnData.slice(4))[0];\n                msg = `\\tThe transaction has been reverted to the initial state.\\nReason provided by the contract: \"${reason}\".`;\n            }\n            else {\n                msg = '\\tThe transaction has been reverted to the initial state.\\nNote: The called function should be payable if you send value and the value you send should be less than your current balance.';\n            }\n        }\n        ret.error = true;\n    }\n    else if (exceptionError === errorCode.STATIC_STATE_CHANGE) {\n        msg = '\\tState changes is not allowed in Static Call context\\n';\n        ret.error = true;\n    }\n    ret.message = `${error}\\n${exceptionError}\\n${msg}\\nDebug the transaction to get more information.`;\n    return ret;\n}\nexports.checkVMError = checkVMError;\n//# sourceMappingURL=txExecution.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArrayOrStringStart = exports.parseFunctionParams = exports.decodeResponse = exports.linkLibrary = exports.setLibraryAddress = exports.linkLibraryStandard = exports.linkLibraryStandardFromlinkReferences = exports.deployLibrary = exports.linkBytecode = exports.linkBytecodeLegacy = exports.linkBytecodeStandard = exports.atAddress = exports.buildData = exports.encodeConstructorCallAndDeployLibraries = exports.encodeConstructorCallAndLinkLibraries = exports.encodeFunctionCall = exports.encodeParams = exports.encodeData = void 0;\nconst ethers_1 = require(\"ethers\");\nconst txHelper_1 = require(\"./txHelper\");\nconst async_1 = require(\"async\");\nconst linker_1 = require(\"solc/linker\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\n/**\n  * build the transaction data\n  *\n  * @param {Object} function abi\n  * @param {Object} values to encode\n  * @param {String} contractbyteCode\n  */\nfunction encodeData(funABI, values, contractbyteCode) {\n    let encoded;\n    let encodedHex;\n    try {\n        encoded = (0, txHelper_1.encodeParams)(funABI, values);\n        encodedHex = encoded.toString('hex');\n    }\n    catch (e) {\n        return { error: 'cannot encode arguments' };\n    }\n    if (contractbyteCode) {\n        return { data: '0x' + contractbyteCode + encodedHex.replace('0x', '') };\n    }\n    else {\n        return { data: (0, txHelper_1.encodeFunctionId)(funABI) + encodedHex.replace('0x', '') };\n    }\n}\nexports.encodeData = encodeData;\n/**\n* encode function / constructor parameters\n*\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n*/\nfunction encodeParams(params, funAbi, callback) {\n    let data = '';\n    let dataHex = '';\n    let funArgs;\n    if (params.indexOf('raw:0x') === 0) {\n        // in that case we consider that the input is already encoded and *does not* contain the method signature\n        dataHex = params.replace('raw:0x', '');\n        data = Buffer.from(dataHex, 'hex');\n    }\n    else {\n        try {\n            params = params.replace(/(^|,\\s+|,)(\\d+)(\\s+,|,|$)/g, '$1\"$2\"$3'); // replace non quoted number by quoted number\n            params = params.replace(/(^|,\\s+|,)(0[xX][0-9a-fA-F]+)(\\s+,|,|$)/g, '$1\"$2\"$3'); // replace non quoted hex string by quoted hex string\n            funArgs = JSON.parse('[' + params + ']');\n        }\n        catch (e) {\n            return callback('Error encoding arguments: ' + e);\n        }\n        if (funArgs.length > 0) {\n            try {\n                data = (0, txHelper_1.encodeParams)(funAbi, funArgs);\n                dataHex = data.toString();\n            }\n            catch (e) {\n                return callback('Error encoding arguments: ' + e);\n            }\n        }\n        if (data.slice(0, 9) === 'undefined') {\n            dataHex = data.slice(9);\n        }\n        if (data.slice(0, 2) === '0x') {\n            dataHex = data.slice(2);\n        }\n    }\n    callback(null, { data: data, dataHex: dataHex, funArgs: funArgs });\n}\nexports.encodeParams = encodeParams;\n/**\n* encode function call (function id + encoded parameters)\n*\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n*/\nfunction encodeFunctionCall(params, funAbi, callback) {\n    encodeParams(params, funAbi, (error, encodedParam) => {\n        if (error)\n            return callback(error);\n        callback(null, { dataHex: (0, txHelper_1.encodeFunctionId)(funAbi) + encodedParam.dataHex, funAbi, funArgs: encodedParam.funArgs });\n    });\n}\nexports.encodeFunctionCall = encodeFunctionCall;\n/**\n* encode constructor creation and link with provided libraries if needed\n*\n* @param {Object} contract    - input paramater of the function to call\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Object} linkLibraries    - contains {linkReferences} object which list all the addresses to be linked\n* @param {Object} linkReferences    - given by the compiler, contains the proper linkReferences\n* @param {Function} callback    - callback\n*/\nfunction encodeConstructorCallAndLinkLibraries(contract, params, funAbi, linkLibraries, linkReferences, callback) {\n    encodeParams(params, funAbi, (error, encodedParam) => {\n        if (error)\n            return callback(error);\n        let bytecodeToDeploy = contract.evm.bytecode.object;\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            if (linkLibraries && linkReferences) {\n                for (const libFile in linkLibraries) {\n                    for (const lib in linkLibraries[libFile]) {\n                        const address = linkLibraries[libFile][lib];\n                        if (!(0, ethereumjs_util_1.isValidAddress)(address))\n                            return callback(address + ' is not a valid address. Please check the provided address is valid.');\n                        bytecodeToDeploy = linkLibraryStandardFromlinkReferences(lib, address.replace('0x', ''), bytecodeToDeploy, linkReferences);\n                    }\n                }\n            }\n        }\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            return callback('Failed to link some libraries');\n        }\n        return callback(null, { dataHex: bytecodeToDeploy + encodedParam.dataHex, funAbi, funArgs: encodedParam.funArgs, contractBytecode: contract.evm.bytecode.object });\n    });\n}\nexports.encodeConstructorCallAndLinkLibraries = encodeConstructorCallAndLinkLibraries;\n/**\n* encode constructor creation and deploy librairies if needed\n*\n* @param {String} contractName    - current contract name\n* @param {Object} contract    - input paramater of the function to call\n* @param {Object} contracts    - map of all compiled contracts.\n* @param {Object} params    - input paramater of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n* @param {Function} callbackStep  - callbackStep\n* @param {Function} callbackDeployLibrary  - callbackDeployLibrary\n* @param {Function} callback    - callback\n*/\nfunction encodeConstructorCallAndDeployLibraries(contractName, contract, contracts, params, funAbi, callback, callbackStep, callbackDeployLibrary) {\n    encodeParams(params, funAbi, (error, encodedParam) => {\n        if (error)\n            return callback(error);\n        let dataHex = '';\n        const contractBytecode = contract.evm.bytecode.object;\n        let bytecodeToDeploy = contract.evm.bytecode.object;\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            linkBytecode(contract, contracts, (err, bytecode) => {\n                if (err) {\n                    callback('Error deploying required libraries: ' + err);\n                }\n                else {\n                    bytecodeToDeploy = bytecode + dataHex;\n                    return callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs: encodedParam.funArgs, contractBytecode, contractName: contractName });\n                }\n            }, callbackStep, callbackDeployLibrary);\n            return;\n        }\n        else {\n            dataHex = bytecodeToDeploy + encodedParam.dataHex;\n        }\n        callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs: encodedParam.funArgs, contractBytecode, contractName: contractName });\n    });\n}\nexports.encodeConstructorCallAndDeployLibraries = encodeConstructorCallAndDeployLibraries;\n/**\n* (DEPRECATED) build the transaction data\n*\n* @param {String} contractName\n* @param {Object} contract    - abi definition of the current contract.\n* @param {Object} contracts    - map of all compiled contracts.\n* @param {Bool} isConstructor    - isConstructor.\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Object} params    - input paramater of the function to call\n* @param {Function} callback    - callback\n* @param {Function} callbackStep  - callbackStep\n* @param {Function} callbackDeployLibrary  - callbackDeployLibrary\n*/\nfunction buildData(contractName, contract, contracts, isConstructor, funAbi, params, callback, callbackStep, callbackDeployLibrary) {\n    let funArgs = [];\n    let data = '';\n    let dataHex = '';\n    if (params.indexOf('raw:0x') === 0) {\n        // in that case we consider that the input is already encoded and *does not* contain the method signature\n        dataHex = params.replace('raw:0x', '');\n        data = Buffer.from(dataHex, 'hex');\n    }\n    else {\n        try {\n            if (params.length > 0) {\n                funArgs = parseFunctionParams(params);\n            }\n        }\n        catch (e) {\n            return callback('Error encoding arguments: ' + e);\n        }\n        try {\n            data = (0, txHelper_1.encodeParams)(funAbi, funArgs);\n            dataHex = data.toString();\n        }\n        catch (e) {\n            return callback('Error encoding arguments: ' + e);\n        }\n        if (data.slice(0, 9) === 'undefined') {\n            dataHex = data.slice(9);\n        }\n        if (data.slice(0, 2) === '0x') {\n            dataHex = data.slice(2);\n        }\n    }\n    let contractBytecode;\n    if (isConstructor) {\n        contractBytecode = contract.evm.bytecode.object;\n        let bytecodeToDeploy = contract.evm.bytecode.object;\n        if (bytecodeToDeploy.indexOf('_') >= 0) {\n            linkBytecode(contract, contracts, (err, bytecode) => {\n                if (err) {\n                    callback('Error deploying required libraries: ' + err);\n                }\n                else {\n                    bytecodeToDeploy = bytecode + dataHex;\n                    return callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs, contractBytecode, contractName: contractName });\n                }\n            }, callbackStep, callbackDeployLibrary);\n            return;\n        }\n        else {\n            dataHex = bytecodeToDeploy + dataHex;\n        }\n    }\n    else {\n        dataHex = (0, txHelper_1.encodeFunctionId)(funAbi) + dataHex;\n    }\n    callback(null, { dataHex, funAbi, funArgs, contractBytecode, contractName: contractName });\n}\nexports.buildData = buildData;\nfunction atAddress() { }\nexports.atAddress = atAddress;\nfunction linkBytecodeStandard(contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n    let contractBytecode = contract.evm.bytecode.object;\n    (0, async_1.eachOfSeries)(contract.evm.bytecode.linkReferences, (libs, file, cbFile) => {\n        (0, async_1.eachOfSeries)(contract.evm.bytecode.linkReferences[file], (libRef, libName, cbLibDeployed) => {\n            const library = contracts[file][libName];\n            if (library) {\n                deployLibrary(file + ':' + libName, libName, library, contracts, (error, address) => {\n                    if (error) {\n                        return cbLibDeployed(error);\n                    }\n                    let hexAddress = address.toString('hex');\n                    if (hexAddress.slice(0, 2) === '0x') {\n                        hexAddress = hexAddress.slice(2);\n                    }\n                    contractBytecode = linkLibraryStandard(libName, hexAddress, contractBytecode, contract);\n                    cbLibDeployed();\n                }, callbackStep, callbackDeployLibrary);\n            }\n            else {\n                cbLibDeployed('Cannot find compilation data of library ' + libName);\n            }\n        }, (error) => {\n            cbFile(error);\n        });\n    }, (error) => {\n        if (error) {\n            callbackStep(error);\n        }\n        callback(error, contractBytecode);\n    });\n}\nexports.linkBytecodeStandard = linkBytecodeStandard;\nfunction linkBytecodeLegacy(contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n    const libraryRefMatch = contract.evm.bytecode.object.match(/__([^_]{1,36})__/);\n    if (!libraryRefMatch) {\n        return callback('Invalid bytecode format.');\n    }\n    const libraryName = libraryRefMatch[1];\n    // file_name:library_name\n    const libRef = libraryName.match(/(.*):(.*)/);\n    if (!libRef) {\n        return callback('Cannot extract library reference ' + libraryName);\n    }\n    if (!contracts[libRef[1]] || !contracts[libRef[1]][libRef[2]]) {\n        return callback('Cannot find library reference ' + libraryName);\n    }\n    const libraryShortName = libRef[2];\n    const library = contracts[libRef[1]][libraryShortName];\n    if (!library) {\n        return callback('Library ' + libraryName + ' not found.');\n    }\n    deployLibrary(libraryName, libraryShortName, library, contracts, (err, address) => {\n        if (err) {\n            return callback(err);\n        }\n        let hexAddress = address.toString('hex');\n        if (hexAddress.slice(0, 2) === '0x') {\n            hexAddress = hexAddress.slice(2);\n        }\n        contract.evm.bytecode.object = linkLibrary(libraryName, hexAddress, contract.evm.bytecode.object);\n        linkBytecode(contract, contracts, callback, callbackStep, callbackDeployLibrary);\n    }, callbackStep, callbackDeployLibrary);\n}\nexports.linkBytecodeLegacy = linkBytecodeLegacy;\nfunction linkBytecode(contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n    if (contract.evm.bytecode.object.indexOf('_') < 0) {\n        return callback(null, contract.evm.bytecode.object);\n    }\n    if (contract.evm.bytecode.linkReferences && Object.keys(contract.evm.bytecode.linkReferences).length) {\n        linkBytecodeStandard(contract, contracts, callback, callbackStep, callbackDeployLibrary);\n    }\n    else {\n        linkBytecodeLegacy(contract, contracts, callback, callbackStep, callbackDeployLibrary);\n    }\n}\nexports.linkBytecode = linkBytecode;\nfunction deployLibrary(libraryName, libraryShortName, library, contracts, callback, callbackStep, callbackDeployLibrary) {\n    const address = library.address;\n    if (address) {\n        return callback(null, address);\n    }\n    const bytecode = library.evm.bytecode.object;\n    if (bytecode.indexOf('_') >= 0) {\n        linkBytecode(library, contracts, (err, bytecode) => {\n            if (err)\n                callback(err);\n            else {\n                library.evm.bytecode.object = bytecode;\n                deployLibrary(libraryName, libraryShortName, library, contracts, callback, callbackStep, callbackDeployLibrary);\n            }\n        }, callbackStep, callbackDeployLibrary);\n    }\n    else {\n        callbackStep(`creation of library ${libraryName} pending...`);\n        const data = { dataHex: bytecode, funAbi: { type: 'constructor' }, funArgs: [], contractBytecode: bytecode, contractName: libraryShortName, contractABI: library.abi };\n        callbackDeployLibrary({ data: data, useCall: false }, (err, txResult) => {\n            if (err) {\n                return callback(err);\n            }\n            const address = txResult.receipt.contractAddress;\n            library.address = address;\n            callback(err, address);\n        });\n    }\n}\nexports.deployLibrary = deployLibrary;\nfunction linkLibraryStandardFromlinkReferences(libraryName, address, bytecode, linkReferences) {\n    for (const file in linkReferences) {\n        for (const libName in linkReferences[file]) {\n            if (libraryName === libName) {\n                bytecode = setLibraryAddress(address, bytecode, linkReferences[file][libName]);\n            }\n        }\n    }\n    return bytecode;\n}\nexports.linkLibraryStandardFromlinkReferences = linkLibraryStandardFromlinkReferences;\nfunction linkLibraryStandard(libraryName, address, bytecode, contract) {\n    return linkLibraryStandardFromlinkReferences(libraryName, address, bytecode, contract.evm.bytecode.linkReferences);\n}\nexports.linkLibraryStandard = linkLibraryStandard;\nfunction setLibraryAddress(address, bytecodeToLink, positions) {\n    if (positions) {\n        for (const pos of positions) {\n            const regpos = bytecodeToLink.match(new RegExp(`(.{${2 * pos.start}})(.{${2 * pos.length}})(.*)`));\n            if (regpos) {\n                bytecodeToLink = regpos[1] + address + regpos[3];\n            }\n        }\n    }\n    return bytecodeToLink;\n}\nexports.setLibraryAddress = setLibraryAddress;\nfunction linkLibrary(libraryName, address, bytecodeToLink) {\n    return (0, linker_1.linkBytecode)(bytecodeToLink, { [libraryName]: (0, ethereumjs_util_1.addHexPrefix)(address) });\n}\nexports.linkLibrary = linkLibrary;\nfunction decodeResponse(response, fnabi) {\n    // Only decode if there supposed to be fields\n    if (fnabi.outputs && fnabi.outputs.length > 0) {\n        try {\n            let i;\n            const outputTypes = [];\n            for (i = 0; i < fnabi.outputs.length; i++) {\n                const type = fnabi.outputs[i].type;\n                outputTypes.push(type.indexOf('tuple') === 0 ? (0, txHelper_1.makeFullTypeDefinition)(fnabi.outputs[i]) : type);\n            }\n            if (!response || !response.length)\n                response = new Uint8Array(32 * fnabi.outputs.length); // ensuring the data is at least filled by 0 cause `AbiCoder` throws if there's not engouh data\n            // decode data\n            const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n            const decodedObj = abiCoder.decode(outputTypes, response);\n            const json = {};\n            for (i = 0; i < outputTypes.length; i++) {\n                const name = fnabi.outputs[i].name;\n                json[i] = outputTypes[i] + ': ' + (name ? name + ' ' + decodedObj[i] : decodedObj[i]);\n            }\n            return json;\n        }\n        catch (e) {\n            return { error: 'Failed to decode output: ' + e };\n        }\n    }\n    return {};\n}\nexports.decodeResponse = decodeResponse;\nfunction parseFunctionParams(params) {\n    let args = [];\n    // Check if parameter string starts with array or string\n    let startIndex = isArrayOrStringStart(params, 0) ? -1 : 0;\n    for (let i = 0; i < params.length; i++) {\n        // If a quote is received\n        if (params.charAt(i) === '\"') {\n            startIndex = -1;\n            let endQuoteIndex = false;\n            // look for closing quote. On success, push the complete string in arguments list\n            for (let j = i + 1; !endQuoteIndex; j++) {\n                if (params.charAt(j) === '\"') {\n                    args.push(params.substring(i + 1, j));\n                    endQuoteIndex = true;\n                    i = j;\n                }\n                // Throw error if end of params string is arrived but couldn't get end quote\n                if (!endQuoteIndex && j === params.length - 1) {\n                    throw new Error('invalid params');\n                }\n            }\n        }\n        else if (params.charAt(i) === '[') { // If an array/struct opening bracket is received\n            startIndex = -1;\n            let bracketCount = 1;\n            let j;\n            for (j = i + 1; bracketCount !== 0; j++) {\n                // Increase count if another array opening bracket is received (To handle nested array)\n                if (params.charAt(j) === '[') {\n                    bracketCount++;\n                }\n                else if (params.charAt(j) === ']') { // // Decrease count if an array closing bracket is received (To handle nested array)\n                    bracketCount--;\n                }\n                // Throw error if end of params string is arrived but couldn't get end of tuple\n                if (bracketCount !== 0 && j === params.length - 1) {\n                    throw new Error('invalid tuple params');\n                }\n            }\n            // If bracketCount = 0, it means complete array/nested array parsed, push it to the arguments list\n            args.push(JSON.parse(params.substring(i, j)));\n            i = j - 1;\n        }\n        else if (params.charAt(i) === ',') {\n            // if startIndex >= 0, it means a parameter was being parsed, it can be first or other parameter\n            if (startIndex >= 0) {\n                args.push(params.substring(startIndex, i));\n            }\n            // Register start index of a parameter to parse\n            startIndex = isArrayOrStringStart(params, i + 1) ? -1 : i + 1;\n        }\n        else if (startIndex >= 0 && i === params.length - 1) {\n            // If start index is registered and string is completed (To handle last parameter)\n            args.push(params.substring(startIndex, params.length));\n        }\n    }\n    args = args.map(e => {\n        if (!Array.isArray(e)) {\n            return e.trim();\n        }\n        else {\n            return e;\n        }\n    });\n    return args;\n}\nexports.parseFunctionParams = parseFunctionParams;\nfunction isArrayOrStringStart(str, index) {\n    return str.charAt(index) === '\"' || str.charAt(index) === '[';\n}\nexports.isArrayOrStringStart = isArrayOrStringStart;\n//# sourceMappingURL=txFormat.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inputParametersDeclarationToString = exports.visitContracts = exports.getContract = exports.getReceiveInterface = exports.getFallbackInterface = exports.getFunction = exports.extractSize = exports.serializeInputs = exports.getConstructorInterface = exports.sortAbiFunction = exports.getFunctionFragment = exports.encodeFunctionId = exports.encodeParams = exports.makeFullTypeDefinition = void 0;\nconst ethers_1 = require(\"ethers\");\nfunction makeFullTypeDefinition(typeDef) {\n    if (typeDef && typeDef.type.indexOf('tuple') === 0 && typeDef.components) {\n        const innerTypes = typeDef.components.map((innerType) => { return makeFullTypeDefinition(innerType); });\n        return `tuple(${innerTypes.join(',')})${extractSize(typeDef.type)}`;\n    }\n    return typeDef.type;\n}\nexports.makeFullTypeDefinition = makeFullTypeDefinition;\nfunction encodeParams(funABI, args) {\n    const types = [];\n    if (funABI.inputs && funABI.inputs.length) {\n        for (let i = 0; i < funABI.inputs.length; i++) {\n            const type = funABI.inputs[i].type;\n            // \"false\" will be converting to `false` and \"true\" will be working\n            // fine as abiCoder assume anything in quotes as `true`\n            if (type === 'bool' && args[i] === 'false') {\n                args[i] = false;\n            }\n            types.push(type.indexOf('tuple') === 0 ? makeFullTypeDefinition(funABI.inputs[i]) : type);\n            if (args.length < types.length) {\n                args.push('');\n            }\n        }\n    }\n    // NOTE: the caller will concatenate the bytecode and this\n    //       it could be done here too for consistency\n    const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n    return abiCoder.encode(types, args);\n}\nexports.encodeParams = encodeParams;\nfunction encodeFunctionId(funABI) {\n    if (funABI.type === 'fallback' || funABI.type === 'receive')\n        return '0x';\n    const abi = new ethers_1.ethers.utils.Interface([funABI]);\n    return abi.getSighash(funABI.name);\n}\nexports.encodeFunctionId = encodeFunctionId;\nfunction getFunctionFragment(funABI) {\n    if (funABI.type === 'fallback' || funABI.type === 'receive')\n        return null;\n    return new ethers_1.ethers.utils.Interface([funABI]);\n}\nexports.getFunctionFragment = getFunctionFragment;\nfunction sortAbiFunction(contractabi) {\n    // Check if function is constant (introduced with Solidity 0.6.0)\n    const isConstant = ({ stateMutability }) => stateMutability === 'view' || stateMutability === 'pure';\n    // Sorts the list of ABI entries. Constant functions will appear first,\n    // followed by non-constant functions. Within those t wo groupings, functions\n    // will be sorted by their names.\n    return contractabi.sort(function (a, b) {\n        if (isConstant(a) && !isConstant(b)) {\n            return 1;\n        }\n        else if (isConstant(b) && !isConstant(a)) {\n            return -1;\n        }\n        // If we reach here, either a and b are both constant or both not; sort by name then\n        // special case for fallback, receive and constructor function\n        if (a.type === 'function' && typeof a.name !== 'undefined') {\n            return a.name.localeCompare(b.name);\n        }\n        else if (a.type === 'constructor' || a.type === 'fallback' || a.type === 'receive') {\n            return 1;\n        }\n    });\n}\nexports.sortAbiFunction = sortAbiFunction;\nfunction getConstructorInterface(abi) {\n    const funABI = { name: '', inputs: [], type: 'constructor', payable: false, outputs: [] };\n    if (typeof abi === 'string') {\n        try {\n            abi = JSON.parse(abi);\n        }\n        catch (e) {\n            console.log('exception retrieving ctor abi ' + abi);\n            return funABI;\n        }\n    }\n    for (let i = 0; i < abi.length; i++) {\n        if (abi[i].type === 'constructor') {\n            funABI.inputs = abi[i].inputs || [];\n            funABI.payable = abi[i].payable;\n            funABI['stateMutability'] = abi[i].stateMutability;\n            break;\n        }\n    }\n    return funABI;\n}\nexports.getConstructorInterface = getConstructorInterface;\nfunction serializeInputs(fnAbi) {\n    let serialized = '(';\n    if (fnAbi.inputs && fnAbi.inputs.length) {\n        serialized += fnAbi.inputs.map((input) => { return input.type; }).join(',');\n    }\n    serialized += ')';\n    return serialized;\n}\nexports.serializeInputs = serializeInputs;\nfunction extractSize(type) {\n    const size = type.match(/([a-zA-Z0-9])(\\[.*\\])/);\n    return size ? size[2] : '';\n}\nexports.extractSize = extractSize;\nfunction getFunction(abi, fnName) {\n    for (let i = 0; i < abi.length; i++) {\n        const fn = abi[i];\n        if (fn.type === 'function' && fnName === fn.name + '(' + fn.inputs.map((value) => {\n            if (value.components) {\n                const fullType = makeFullTypeDefinition(value);\n                return fullType.replace(/tuple/g, ''); // return of makeFullTypeDefinition might contain `tuple`, need to remove it cause `methodIdentifier` (fnName) does not include `tuple` keyword\n            }\n            else {\n                return value.type;\n            }\n        }).join(',') + ')') {\n            return fn;\n        }\n    }\n    return null;\n}\nexports.getFunction = getFunction;\nfunction getFallbackInterface(abi) {\n    for (let i = 0; i < abi.length; i++) {\n        if (abi[i].type === 'fallback') {\n            return abi[i];\n        }\n    }\n}\nexports.getFallbackInterface = getFallbackInterface;\nfunction getReceiveInterface(abi) {\n    for (let i = 0; i < abi.length; i++) {\n        if (abi[i].type === 'receive') {\n            return abi[i];\n        }\n    }\n}\nexports.getReceiveInterface = getReceiveInterface;\n/**\n  * return the contract obj of the given @arg name. Uses last compilation result.\n  * return null if not found\n  * @param {String} name    - contract name\n  * @returns contract obj and associated file: { contract, file } or null\n  */\nfunction getContract(contractName, contracts) {\n    for (const file in contracts) {\n        if (contracts[file][contractName]) {\n            return { object: contracts[file][contractName], file: file };\n        }\n    }\n    return null;\n}\nexports.getContract = getContract;\n/**\n  * call the given @arg cb (function) for all the contracts. Uses last compilation result\n  * stop visiting when cb return true\n  * @param {Function} cb    - callback\n  */\nfunction visitContracts(contracts, cb) {\n    for (const file in contracts) {\n        for (const name in contracts[file]) {\n            if (cb({ name: name, object: contracts[file][name], file: file }))\n                return;\n        }\n    }\n}\nexports.visitContracts = visitContracts;\nfunction inputParametersDeclarationToString(abiinputs) {\n    const inputs = (abiinputs || []).map((inp) => inp.type + ' ' + inp.name);\n    return inputs.join(', ');\n}\nexports.inputParametersDeclarationToString = inputParametersDeclarationToString;\n//# sourceMappingURL=txHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxListener = void 0;\nconst tslib_1 = require(\"tslib\");\nconst async_1 = require(\"async\");\nconst ethers_1 = require(\"ethers\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst eventManager_1 = require(\"../eventManager\");\nconst util_1 = require(\"../util\");\nconst txFormat_1 = require(\"./txFormat\");\nconst txHelper_1 = require(\"./txHelper\");\nfunction addExecutionCosts(txResult, tx, execResult) {\n    if (txResult) {\n        if (execResult) {\n            tx.returnValue = execResult.returnValue;\n            if (execResult.gasUsed)\n                tx.executionCost = execResult.gasUsed.toString(10);\n        }\n        if (txResult.receipt && txResult.receipt.gasUsed)\n            tx.transactionCost = txResult.receipt.gasUsed.toString(10);\n    }\n}\n/**\n  * poll web3 each 2s if web3\n  * listen on transaction executed event if VM\n  * attention: blocks returned by the event `newBlock` have slightly different json properties whether web3 or the VM is used\n  * trigger 'newBlock'\n  *\n  */\nclass TxListener {\n    constructor(opt, executionContext) {\n        this.event = new eventManager_1.EventManager();\n        // has a default for now for backwards compatability\n        this.executionContext = executionContext;\n        this._api = opt.api;\n        this._resolvedTransactions = {};\n        this._resolvedContracts = {};\n        this._isListening = false;\n        this._listenOnNetwork = false;\n        this._loopId = null;\n        this.init();\n        this.executionContext.event.register('contextChanged', (context) => {\n            if (this._isListening) {\n                this.stopListening();\n                this.startListening();\n            }\n        });\n        opt.event.udapp.register('callExecuted', (error, from, to, data, lookupOnly, txResult) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (error)\n                return;\n            // we go for that case if\n            // in VM mode\n            // in web3 mode && listen remix txs only\n            if (!this._isListening)\n                return; // we don't listen\n            if (this._loopId && this.executionContext.getProvider() !== 'vm')\n                return; // we seems to already listen on a \"web3\" network\n            let returnValue;\n            let execResult;\n            if (this.executionContext.isVM()) {\n                execResult = yield this.executionContext.web3().eth.getExecutionResultFromSimulator(txResult.transactionHash);\n                returnValue = execResult.returnValue;\n            }\n            else {\n                returnValue = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(txResult.result));\n            }\n            const call = {\n                from: from,\n                to: to,\n                input: data,\n                hash: txResult.transactionHash ? txResult.transactionHash : 'call' + (from || '') + to + data,\n                isCall: true,\n                returnValue,\n                envMode: this.executionContext.getProvider()\n            };\n            addExecutionCosts(txResult, call, execResult);\n            this._resolveTx(call, call, (error, resolvedData) => {\n                if (!error) {\n                    this.event.trigger('newCall', [call]);\n                }\n            });\n        }));\n        opt.event.udapp.register('transactionExecuted', (error, from, to, data, lookupOnly, txResult) => {\n            if (error)\n                return;\n            if (lookupOnly)\n                return;\n            // we go for that case if\n            // in VM mode\n            // in web3 mode && listen remix txs only\n            if (!this._isListening)\n                return; // we don't listen\n            if (this._loopId && this.executionContext.getProvider() !== 'vm')\n                return; // we seems to already listen on a \"web3\" network\n            this.executionContext.web3().eth.getTransaction(txResult.transactionHash, (error, tx) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                if (error)\n                    return console.log(error);\n                let execResult;\n                if (this.executionContext.isVM()) {\n                    execResult = yield this.executionContext.web3().eth.getExecutionResultFromSimulator(txResult.transactionHash);\n                }\n                addExecutionCosts(txResult, tx, execResult);\n                tx.envMode = this.executionContext.getProvider();\n                tx.status = txResult.receipt.status; // 0x0 or 0x1\n                this._resolve([tx], () => {\n                });\n            }));\n        });\n    }\n    /**\n      * define if txlistener should listen on the network or if only tx created from remix are managed\n      *\n      * @param {Bool} type - true if listen on the network\n      */\n    setListenOnNetwork(listenOnNetwork) {\n        this._listenOnNetwork = listenOnNetwork;\n        if (this._loopId) {\n            clearInterval(this._loopId);\n        }\n        if (this._listenOnNetwork) {\n            this._startListenOnNetwork();\n        }\n    }\n    /**\n      * reset recorded transactions\n      */\n    init() {\n        this.blocks = [];\n        this.lastBlock = null;\n    }\n    /**\n      * start listening for incoming transactions\n      *\n      * @param {String} type - type/name of the provider to add\n      * @param {Object} obj  - provider\n      */\n    startListening() {\n        this.init();\n        this._isListening = true;\n        if (this._listenOnNetwork && this.executionContext.getProvider() !== 'vm') {\n            this._startListenOnNetwork();\n        }\n    }\n    /**\n      * stop listening for incoming transactions. do not reset the recorded pool.\n      *\n      * @param {String} type - type/name of the provider to add\n      * @param {Object} obj  - provider\n      */\n    stopListening() {\n        if (this._loopId) {\n            clearInterval(this._loopId);\n        }\n        this._loopId = null;\n        this._isListening = false;\n    }\n    _startListenOnNetwork() {\n        this._loopId = setInterval(() => {\n            const currentLoopId = this._loopId;\n            this.executionContext.web3().eth.getBlockNumber((error, blockNumber) => {\n                if (this._loopId === null)\n                    return;\n                if (error)\n                    return console.log(error);\n                if (currentLoopId === this._loopId && (!this.lastBlock || blockNumber > this.lastBlock)) {\n                    if (!this.lastBlock)\n                        this.lastBlock = blockNumber - 1;\n                    let current = this.lastBlock + 1;\n                    this.lastBlock = blockNumber;\n                    while (blockNumber >= current) {\n                        try {\n                            this._manageBlock(current);\n                        }\n                        catch (e) {\n                            console.log(e);\n                        }\n                        current++;\n                    }\n                }\n            });\n        }, 2000);\n    }\n    _manageBlock(blockNumber) {\n        this.executionContext.web3().eth.getBlock(blockNumber, true, (error, result) => {\n            if (!error) {\n                this._newBlock(Object.assign({ type: 'web3' }, result));\n            }\n        });\n    }\n    /**\n      * try to resolve the contract name from the given @arg address\n      *\n      * @param {String} address - contract address to resolve\n      * @return {String} - contract name\n      */\n    resolvedContract(address) {\n        if (this._resolvedContracts[address])\n            return this._resolvedContracts[address].name;\n        return null;\n    }\n    /**\n      * try to resolve the transaction from the given @arg txHash\n      *\n      * @param {String} txHash - contract address to resolve\n      * @return {String} - contract name\n      */\n    resolvedTransaction(txHash) {\n        return this._resolvedTransactions[txHash];\n    }\n    _newBlock(block) {\n        this.blocks.push(block);\n        this._resolve(block.transactions, () => {\n            this.event.trigger('newBlock', [block]);\n        });\n    }\n    _resolve(transactions, callback) {\n        (0, async_1.each)(transactions, (tx, cb) => {\n            this._api.resolveReceipt(tx, (error, receipt) => {\n                if (error)\n                    return cb(error);\n                this._resolveTx(tx, receipt, (error, resolvedData) => {\n                    if (error)\n                        cb(error);\n                    if (resolvedData) {\n                        this.event.trigger('txResolved', [tx, receipt, resolvedData]);\n                    }\n                    this.event.trigger('newTransaction', [tx, receipt]);\n                    cb();\n                });\n            });\n        }, () => {\n            callback();\n        });\n    }\n    _resolveTx(tx, receipt, cb) {\n        const contracts = this._api.contracts();\n        if (!contracts)\n            return cb();\n        let fun;\n        let contract;\n        if (!tx.to || tx.to === '0x0') { // testrpc returns 0x0 in that case\n            // contract creation / resolve using the creation bytes code\n            // if web3: we have to call getTransactionReceipt to get the created address\n            // if VM: created address already included\n            const code = tx.input;\n            contract = this._tryResolveContract(code, contracts, true);\n            if (contract) {\n                const address = receipt.contractAddress;\n                this._resolvedContracts[address] = contract;\n                fun = this._resolveFunction(contract, tx, true);\n                if (this._resolvedTransactions[tx.hash]) {\n                    this._resolvedTransactions[tx.hash].contractAddress = address;\n                }\n                return cb(null, { to: null, contractName: contract.name, function: fun, creationAddress: address });\n            }\n            return cb();\n        }\n        else {\n            // first check known contract, resolve against the `runtimeBytecode` if not known\n            contract = this._resolvedContracts[tx.to];\n            if (!contract) {\n                this.executionContext.web3().eth.getCode(tx.to, (error, code) => {\n                    if (error)\n                        return cb(error);\n                    if (code) {\n                        const contract = this._tryResolveContract(code, contracts, false);\n                        if (contract) {\n                            this._resolvedContracts[tx.to] = contract;\n                            const fun = this._resolveFunction(contract, tx, false);\n                            return cb(null, { to: tx.to, contractName: contract.name, function: fun });\n                        }\n                    }\n                    return cb();\n                });\n                return;\n            }\n            if (contract) {\n                fun = this._resolveFunction(contract, tx, false);\n                return cb(null, { to: tx.to, contractName: contract.name, function: fun });\n            }\n            return cb();\n        }\n    }\n    _resolveFunction(contract, tx, isCtor) {\n        if (!contract) {\n            console.log('txListener: cannot resolve contract - contract is null');\n            return;\n        }\n        const abi = contract.object.abi;\n        const inputData = tx.input.replace('0x', '');\n        if (!isCtor) {\n            const methodIdentifiers = contract.object.evm.methodIdentifiers;\n            for (const fn in methodIdentifiers) {\n                if (methodIdentifiers[fn] === inputData.substring(0, 8)) {\n                    const fnabi = (0, txHelper_1.getFunction)(abi, fn);\n                    this._resolvedTransactions[tx.hash] = {\n                        contractName: contract.name,\n                        to: tx.to,\n                        fn: fn,\n                        params: this._decodeInputParams(inputData.substring(8), fnabi)\n                    };\n                    if (tx.returnValue) {\n                        this._resolvedTransactions[tx.hash].decodedReturnValue = (0, txFormat_1.decodeResponse)(tx.returnValue, fnabi);\n                    }\n                    return this._resolvedTransactions[tx.hash];\n                }\n            }\n            // receive function\n            if (!inputData && (0, txHelper_1.getReceiveInterface)(abi)) {\n                this._resolvedTransactions[tx.hash] = {\n                    contractName: contract.name,\n                    to: tx.to,\n                    fn: '(receive)',\n                    params: null\n                };\n            }\n            else {\n                // fallback function\n                this._resolvedTransactions[tx.hash] = {\n                    contractName: contract.name,\n                    to: tx.to,\n                    fn: '(fallback)',\n                    params: null\n                };\n            }\n        }\n        else {\n            const bytecode = contract.object.evm.bytecode.object;\n            let params = null;\n            if (bytecode && bytecode.length) {\n                params = this._decodeInputParams(inputData.substring(bytecode.length), (0, txHelper_1.getConstructorInterface)(abi));\n            }\n            this._resolvedTransactions[tx.hash] = {\n                contractName: contract.name,\n                to: null,\n                fn: '(constructor)',\n                params: params\n            };\n        }\n        return this._resolvedTransactions[tx.hash];\n    }\n    _tryResolveContract(codeToResolve, compiledContracts, isCreation) {\n        let found = null;\n        (0, txHelper_1.visitContracts)(compiledContracts, (contract) => {\n            const bytes = isCreation ? contract.object.evm.bytecode.object : contract.object.evm.deployedBytecode.object;\n            if ((0, util_1.compareByteCode)(codeToResolve, '0x' + bytes)) {\n                found = contract;\n                return true;\n            }\n        });\n        return found;\n    }\n    _decodeInputParams(data, abi) {\n        data = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(data));\n        if (!data.length)\n            data = new Uint8Array(32 * abi.inputs.length); // ensuring the data is at least filled by 0 cause `AbiCoder` throws if there's not engouh data\n        const inputTypes = [];\n        for (let i = 0; i < abi.inputs.length; i++) {\n            const type = abi.inputs[i].type;\n            inputTypes.push(type.indexOf('tuple') === 0 ? (0, txHelper_1.makeFullTypeDefinition)(abi.inputs[i]) : type);\n        }\n        const abiCoder = new ethers_1.ethers.utils.AbiCoder();\n        const decoded = abiCoder.decode(inputTypes, data);\n        const ret = {};\n        for (var k in abi.inputs) {\n            ret[abi.inputs[k].type + ' ' + abi.inputs[k].name] = decoded[k];\n        }\n        return ret;\n    }\n}\nexports.TxListener = TxListener;\n//# sourceMappingURL=txListener.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxRunner = void 0;\nconst eventManager_1 = require(\"../eventManager\");\nclass TxRunner {\n    constructor(internalRunner, opt) {\n        this.opt = opt || {};\n        this.internalRunner = internalRunner;\n        this.event = new eventManager_1.EventManager();\n        this.runAsync = this.opt.runAsync || true; // We have to run like this cause the VM Event Manager does not support running multiple txs at the same time.\n        this.pendingTxs = {};\n        this.queusTxs = [];\n    }\n    rawRun(args, confirmationCb, gasEstimationForceSend, promptCb, cb) {\n        run(this, args, args.timestamp || Date.now(), confirmationCb, gasEstimationForceSend, promptCb, cb);\n    }\n    execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n        let data = args.data;\n        if (data.slice(0, 2) !== '0x') {\n            data = '0x' + data;\n        }\n        this.internalRunner.execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback);\n    }\n}\nexports.TxRunner = TxRunner;\nfunction run(self, tx, stamp, confirmationCb, gasEstimationForceSend = null, promptCb = null, callback = null) {\n    if (!self.runAsync && Object.keys(self.pendingTxs).length) {\n        return self.queusTxs.push({ tx, stamp, callback });\n    }\n    self.pendingTxs[stamp] = tx;\n    self.execute(tx, confirmationCb, gasEstimationForceSend, promptCb, function (error, result) {\n        delete self.pendingTxs[stamp];\n        if (callback && typeof callback === 'function')\n            callback(error, result);\n        if (self.queusTxs.length) {\n            const next = self.queusTxs.pop();\n            run(self, next.tx, next.stamp, next.callback);\n        }\n    });\n}\n//# sourceMappingURL=txRunner.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxRunnerVM = void 0;\nconst tx_1 = require(\"@ethereumjs/tx\");\nconst block_1 = require(\"@ethereumjs/block\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst eventManager_1 = require(\"../eventManager\");\nconst logsManager_1 = require(\"./logsManager\");\nclass TxRunnerVM {\n    constructor(vmaccounts, api, getVMObject) {\n        this.event = new eventManager_1.EventManager();\n        this.logsManager = new logsManager_1.LogsManager();\n        // has a default for now for backwards compatability\n        this.getVMObject = getVMObject;\n        this.commonContext = this.getVMObject().common;\n        this.blockNumber = 0;\n        this.runAsync = true;\n        this.blockNumber = 0; // The VM is running in Homestead mode, which started at this block.\n        this.runAsync = false; // We have to run like this cause the VM Event Manager does not support running multiple txs at the same time.\n        this.pendingTxs = {};\n        this.vmaccounts = vmaccounts;\n        this.queusTxs = [];\n        this.blocks = [];\n        /*\n          txHash is generated using the nonce,\n          in order to have unique transaction hash, we need to keep using different nonce (in case of a call)\n          so we increment this value after each call.\n          For this to function we also need to skip nonce validation, in the vm: `{ skipNonce: true }`\n        */\n        this.nextNonceForCall = 0;\n    }\n    execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n        let data = args.data;\n        if (data.slice(0, 2) !== '0x') {\n            data = '0x' + data;\n        }\n        try {\n            this.runInVm(args.from, args.to, data, args.value, args.gasLimit, args.useCall, args.timestamp, callback);\n        }\n        catch (e) {\n            callback(e, null);\n        }\n    }\n    runInVm(from, to, data, value, gasLimit, useCall, timestamp, callback) {\n        const self = this;\n        const account = self.vmaccounts[from];\n        if (!account) {\n            return callback('Invalid account selected');\n        }\n        if (Number.isInteger(gasLimit)) {\n            gasLimit = '0x' + gasLimit.toString(16);\n        }\n        this.getVMObject().stateManager.getAccount(ethereumjs_util_1.Address.fromString(from)).then((res) => {\n            // See https://github.com/ethereumjs/ethereumjs-tx/blob/master/docs/classes/transaction.md#constructor\n            // for initialization fields and their types\n            if (!value)\n                value = 0;\n            if (typeof value === 'string') {\n                if (value.startsWith('0x'))\n                    value = new ethereumjs_util_1.BN(value.replace('0x', ''), 'hex');\n                else {\n                    try {\n                        value = new ethereumjs_util_1.BN(value, 10);\n                    }\n                    catch (e) {\n                        return callback('Unable to parse the value ' + e.message);\n                    }\n                }\n            }\n            const EIP1559 = this.commonContext.hardfork() !== 'berlin'; // berlin is the only pre eip1559 fork that we handle.\n            let tx;\n            if (!EIP1559) {\n                tx = tx_1.Transaction.fromTxData({\n                    nonce: useCall ? this.nextNonceForCall : new ethereumjs_util_1.BN(res.nonce),\n                    gasPrice: '0x1',\n                    gasLimit: gasLimit,\n                    to: to,\n                    value: value,\n                    data: Buffer.from(data.slice(2), 'hex')\n                }, { common: this.commonContext }).sign(account.privateKey);\n            }\n            else {\n                tx = tx_1.FeeMarketEIP1559Transaction.fromTxData({\n                    nonce: useCall ? this.nextNonceForCall : new ethereumjs_util_1.BN(res.nonce),\n                    maxPriorityFeePerGas: '0x01',\n                    maxFeePerGas: '0x1',\n                    gasLimit: gasLimit,\n                    to: to,\n                    value: value,\n                    data: Buffer.from(data.slice(2), 'hex')\n                }).sign(account.privateKey);\n            }\n            if (useCall)\n                this.nextNonceForCall++;\n            const coinbases = ['0x0e9281e9c6a0808672eaba6bd1220e144c9bb07a', '0x8945a1288dc78a6d8952a92c77aee6730b414778', '0x94d76e24f818426ae84aa404140e8d5f60e10e7e'];\n            const difficulties = [new ethereumjs_util_1.BN('69762765929000', 10), new ethereumjs_util_1.BN('70762765929000', 10), new ethereumjs_util_1.BN('71762765929000', 10)];\n            var block = block_1.Block.fromBlockData({\n                header: {\n                    timestamp: timestamp || (new Date().getTime() / 1000 | 0),\n                    number: self.blockNumber,\n                    coinbase: coinbases[self.blockNumber % coinbases.length],\n                    difficulty: difficulties[self.blockNumber % difficulties.length],\n                    gasLimit: new ethereumjs_util_1.BN(gasLimit.replace('0x', ''), 16).imuln(2),\n                    baseFeePerGas: EIP1559 ? '0x1' : undefined\n                },\n                transactions: [tx]\n            }, { common: this.commonContext });\n            if (!useCall) {\n                ++self.blockNumber;\n                this.runBlockInVm(tx, block, callback);\n            }\n            else {\n                this.getVMObject().stateManager.checkpoint().then(() => {\n                    this.runBlockInVm(tx, block, (err, result) => {\n                        this.getVMObject().stateManager.revert().then(() => {\n                            callback(err, result);\n                        });\n                    });\n                });\n            }\n        }).catch((e) => {\n            callback(e);\n        });\n    }\n    runBlockInVm(tx, block, callback) {\n        this.getVMObject().vm.runBlock({ block: block, generate: true, skipBlockValidation: true, skipBalance: false, skipNonce: true }).then((results) => {\n            const result = results.results[0];\n            if (result) {\n                const status = result.execResult.exceptionError ? 0 : 1;\n                result.status = `0x${status}`;\n            }\n            callback(null, {\n                result: result,\n                transactionHash: (0, ethereumjs_util_1.bufferToHex)(Buffer.from(tx.hash())),\n                block,\n                tx\n            });\n        }).catch(function (err) {\n            callback(err);\n        });\n    }\n}\nexports.TxRunnerVM = TxRunnerVM;\n//# sourceMappingURL=txRunnerVM.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxRunnerWeb3 = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"../eventManager\");\nclass TxRunnerWeb3 {\n    constructor(api, getWeb3, currentblockGasLimit) {\n        this.event = new eventManager_1.EventManager();\n        this.getWeb3 = getWeb3;\n        this.currentblockGasLimit = currentblockGasLimit;\n        this._api = api;\n    }\n    _executeTx(tx, network, txFee, api, promptCb, callback) {\n        if (network && network.lastBlock && network.lastBlock.baseFeePerGas) {\n            // the sending stack (web3.js / metamask need to have the type defined)\n            // this is to avoid the following issue: https://github.com/MetaMask/metamask-extension/issues/11824\n            tx.type = '0x2';\n        }\n        if (txFee) {\n            if (txFee.baseFeePerGas) {\n                tx.maxPriorityFeePerGas = this.getWeb3().utils.toHex(this.getWeb3().utils.toWei(txFee.maxPriorityFee, 'gwei'));\n                tx.maxFeePerGas = this.getWeb3().utils.toHex(this.getWeb3().utils.toWei(txFee.maxFee, 'gwei'));\n                tx.type = '0x2';\n            }\n            else {\n                tx.gasPrice = this.getWeb3().utils.toHex(this.getWeb3().utils.toWei(txFee.gasPrice, 'gwei'));\n                tx.type = '0x1';\n            }\n        }\n        if (api.personalMode()) {\n            promptCb((value) => {\n                this._sendTransaction(this.getWeb3().personal.sendTransaction, tx, value, callback);\n            }, () => {\n                return callback('Canceled by user.');\n            });\n        }\n        else {\n            this._sendTransaction(this.getWeb3().eth.sendTransaction, tx, null, callback);\n        }\n    }\n    _sendTransaction(sendTx, tx, pass, callback) {\n        const cb = (err, resp) => {\n            if (err) {\n                return callback(err, resp);\n            }\n            this.event.trigger('transactionBroadcasted', [resp]);\n            var listenOnResponse = () => {\n                // eslint-disable-next-line no-async-promise-executor\n                return new Promise((resolve, reject) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                    const receipt = yield tryTillReceiptAvailable(resp, this.getWeb3());\n                    tx = yield tryTillTxAvailable(resp, this.getWeb3());\n                    resolve({\n                        receipt,\n                        tx,\n                        transactionHash: receipt ? receipt['transactionHash'] : null\n                    });\n                }));\n            };\n            listenOnResponse().then((txData) => { callback(null, txData); }).catch((error) => { callback(error); });\n        };\n        const args = pass !== null ? [tx, pass, cb] : [tx, cb];\n        try {\n            sendTx.apply({}, args);\n        }\n        catch (e) {\n            return callback(`Send transaction failed: ${e.message} . if you use an injected provider, please check it is properly unlocked. `);\n        }\n    }\n    execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n        let data = args.data;\n        if (data.slice(0, 2) !== '0x') {\n            data = '0x' + data;\n        }\n        return this.runInNode(args.from, args.to, data, args.value, args.gasLimit, args.useCall, args.timestamp, confirmationCb, gasEstimationForceSend, promptCb, callback);\n    }\n    runInNode(from, to, data, value, gasLimit, useCall, timestamp, confirmCb, gasEstimationForceSend, promptCb, callback) {\n        const tx = { from: from, to: to, data: data, value: value };\n        if (useCall) {\n            tx['gas'] = gasLimit;\n            if (this._api && this._api.isVM())\n                tx['timestamp'] = timestamp;\n            return this.getWeb3().eth.call(tx, function (error, result) {\n                if (error)\n                    return callback(error);\n                callback(null, {\n                    result: result\n                });\n            });\n        }\n        this.getWeb3().eth.estimateGas(tx, (err, gasEstimation) => {\n            if (err && err.message.indexOf('Invalid JSON RPC response') !== -1) {\n                // // @todo(#378) this should be removed when https://github.com/WalletConnect/walletconnect-monorepo/issues/334 is fixed\n                callback(new Error('Gas estimation failed because of an unknown internal error. This may indicated that the transaction will fail.'));\n            }\n            gasEstimationForceSend(err, () => {\n                // callback is called whenever no error\n                tx['gas'] = !gasEstimation ? gasLimit : gasEstimation;\n                this._api.detectNetwork((err, network) => {\n                    if (err) {\n                        console.log(err);\n                        return;\n                    }\n                    if (this._api.config.getUnpersistedProperty('doNotShowTransactionConfirmationAgain')) {\n                        return this._executeTx(tx, network, null, this._api, promptCb, callback);\n                    }\n                    confirmCb(network, tx, tx['gas'], (txFee) => {\n                        return this._executeTx(tx, network, txFee, this._api, promptCb, callback);\n                    }, (error) => {\n                        callback(error);\n                    });\n                });\n            }, () => {\n                const blockGasLimit = this.currentblockGasLimit();\n                // NOTE: estimateGas very likely will return a large limit if execution of the code failed\n                //       we want to be able to run the code in order to debug and find the cause for the failure\n                if (err)\n                    return callback(err);\n                let warnEstimation = ' An important gas estimation might also be the sign of a problem in the contract code. Please check loops and be sure you did not sent value to a non payable function (that\\'s also the reason of strong gas estimation). ';\n                warnEstimation += ' ' + err;\n                if (gasEstimation > gasLimit) {\n                    return callback('Gas required exceeds limit: ' + gasLimit + '. ' + warnEstimation);\n                }\n                if (gasEstimation > blockGasLimit) {\n                    return callback('Gas required exceeds block gas limit: ' + gasLimit + '. ' + warnEstimation);\n                }\n            });\n        });\n    }\n}\nexports.TxRunnerWeb3 = TxRunnerWeb3;\nfunction tryTillReceiptAvailable(txhash, web3) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        try {\n            const receipt = yield web3.eth.getTransactionReceipt(txhash);\n            if (receipt)\n                return receipt;\n        }\n        catch (e) { }\n        yield pause();\n        return yield tryTillReceiptAvailable(txhash, web3);\n    });\n}\nfunction tryTillTxAvailable(txhash, web3) {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n        try {\n            const tx = yield web3.eth.getTransaction(txhash);\n            if (tx)\n                return tx;\n        }\n        catch (e) { }\n        return yield tryTillTxAvailable(txhash, web3);\n    });\n}\nfunction pause() {\n    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () { return new Promise((resolve, reject) => { setTimeout(resolve, 500); }); });\n}\n//# sourceMappingURL=txRunnerWeb3.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.toInt = void 0;\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nfunction toInt(h) {\n    if (h.indexOf && h.indexOf('0x') === 0) {\n        return (new ethereumjs_util_1.BN(h.replace('0x', ''), 16)).toString(10);\n    }\n    else if ((h.constructor && h.constructor.name === 'BigNumber') || ethereumjs_util_1.BN.isBN(h)) {\n        return h.toString(10);\n    }\n    return h;\n}\nexports.toInt = toInt;\nexports.stringify = convertToString;\nfunction convertToString(v) {\n    try {\n        if (v instanceof Array) {\n            const ret = [];\n            for (var k in v) {\n                ret.push(convertToString(v[k]));\n            }\n            return ret;\n        }\n        else if (ethereumjs_util_1.BN.isBN(v) || (v.constructor && v.constructor.name === 'BigNumber')) {\n            return v.toString(10);\n        }\n        else if (v._isBuffer) {\n            return (0, ethereumjs_util_1.bufferToHex)(v);\n        }\n        else if (typeof v === 'object') {\n            const retObject = {};\n            for (const i in v) {\n                retObject[i] = convertToString(v[i]);\n            }\n            return retObject;\n        }\n        else {\n            return v;\n        }\n    }\n    catch (e) {\n        console.log(e);\n        return v;\n    }\n}\n//# sourceMappingURL=typeConversion.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compilerInput = void 0;\nfunction compilerInput(contracts) {\n    return JSON.stringify({\n        language: 'Solidity',\n        sources: {\n            'test.sol': {\n                content: contracts\n            }\n        },\n        settings: {\n            optimizer: {\n                enabled: false,\n                runs: 200\n            },\n            outputSelection: {\n                '*': {\n                    '': ['ast'],\n                    '*': ['abi', 'metadata', 'evm.legacyAssembly', 'evm.bytecode', 'evm.deployedBytecode', 'evm.methodIdentifiers', 'evm.gasEstimates']\n                }\n            }\n        }\n    });\n}\nexports.compilerInput = compilerInput;\n//# sourceMappingURL=compilerHelper.js.map","\"use strict\";\n// Fetched from https://github.com/nomiclabs/hardhat/blob/ee4969a0a8f746f4775d4018326056d161066869/packages/hardhat-core/src/internal/hardhat-network/stack-traces/logger.ts#L47\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsoleLogs = void 0;\nexports.ConsoleLogs = {\n    1368866505: '()',\n    1309416733: '(int)',\n    4122065833: '(uint)',\n    1093685164: '(string)',\n    843419373: '(bool)',\n    741264322: '(address)',\n    199720790: '(bytes)',\n    1847107880: '(bytes1)',\n    3921027734: '(bytes2)',\n    763578662: '(bytes3)',\n    3764340945: '(bytes4)',\n    2793701517: '(bytes5)',\n    2927928721: '(bytes6)',\n    1322614312: '(bytes7)',\n    1334060334: '(bytes8)',\n    2428341456: '(bytes9)',\n    20780939: '(bytes10)',\n    67127854: '(bytes11)',\n    2258660029: '(bytes12)',\n    2488442420: '(bytes13)',\n    2456219775: '(bytes14)',\n    3667227872: '(bytes15)',\n    1717330180: '(bytes16)',\n    866084666: '(bytes17)',\n    3302112666: '(bytes18)',\n    1584093747: '(bytes19)',\n    1367925737: '(bytes20)',\n    3923391840: '(bytes21)',\n    3589990556: '(bytes22)',\n    2879508237: '(bytes23)',\n    4055063348: '(bytes24)',\n    193248344: '(bytes25)',\n    4172368369: '(bytes26)',\n    976705501: '(bytes27)',\n    3358255854: '(bytes28)',\n    1265222613: '(bytes29)',\n    3994207469: '(bytes30)',\n    3263516050: '(bytes31)',\n    666357637: '(bytes32)',\n    1812949376: '(uint,uint)',\n    262402885: '(uint,string)',\n    510514412: '(uint,bool)',\n    1491830284: '(uint,address)',\n    2534451664: '(string,uint)',\n    1264337527: '(string,string)',\n    3283441205: '(string,bool)',\n    832238387: '(string,address)',\n    910912146: '(bool,uint)',\n    2414527781: '(bool,string)',\n    705760899: '(bool,bool)',\n    2235320393: '(bool,address)',\n    574869411: '(address,uint)',\n    1973388987: '(address,string)',\n    1974863315: '(address,bool)',\n    3673216170: '(address,address)',\n    3884059252: '(uint,uint,uint)',\n    2104037094: '(uint,uint,string)',\n    1733758967: '(uint,uint,bool)',\n    3191032091: '(uint,uint,address)',\n    1533929535: '(uint,string,uint)',\n    1062716053: '(uint,string,string)',\n    1185403086: '(uint,string,bool)',\n    529592906: '(uint,string,address)',\n    1515034914: '(uint,bool,uint)',\n    2332955902: '(uint,bool,string)',\n    3587091680: '(uint,bool,bool)',\n    1112473535: '(uint,bool,address)',\n    2286109610: '(uint,address,uint)',\n    3464692859: '(uint,address,string)',\n    2060456590: '(uint,address,bool)',\n    2104993307: '(uint,address,address)',\n    2526862595: '(string,uint,uint)',\n    2750793529: '(string,uint,string)',\n    4043501061: '(string,uint,bool)',\n    3817119609: '(string,uint,address)',\n    4083337817: '(string,string,uint)',\n    753761519: '(string,string,string)',\n    2967534005: '(string,string,bool)',\n    2515337621: '(string,string,address)',\n    689682896: '(string,bool,uint)',\n    3801674877: '(string,bool,string)',\n    2232122070: '(string,bool,bool)',\n    2469116728: '(string,bool,address)',\n    130552343: '(string,address,uint)',\n    3773410639: '(string,address,string)',\n    3374145236: '(string,address,bool)',\n    4243355104: '(string,address,address)',\n    995886048: '(bool,uint,uint)',\n    3359211184: '(bool,uint,string)',\n    464374251: '(bool,uint,bool)',\n    3302110471: '(bool,uint,address)',\n    3224906412: '(bool,string,uint)',\n    2960557183: '(bool,string,string)',\n    3686056519: '(bool,string,bool)',\n    2509355347: '(bool,string,address)',\n    2954061243: '(bool,bool,uint)',\n    626391622: '(bool,bool,string)',\n    1349555864: '(bool,bool,bool)',\n    276362893: '(bool,bool,address)',\n    3950005167: '(bool,address,uint)',\n    3734671984: '(bool,address,string)',\n    415876934: '(bool,address,bool)',\n    3530962535: '(bool,address,address)',\n    2273710942: '(address,uint,uint)',\n    3136907337: '(address,uint,string)',\n    3846889796: '(address,uint,bool)',\n    2548867988: '(address,uint,address)',\n    484110986: '(address,string,uint)',\n    4218888805: '(address,string,string)',\n    3473018801: '(address,string,bool)',\n    4035396840: '(address,string,address)',\n    742821141: '(address,bool,uint)',\n    555898316: '(address,bool,string)',\n    3951234194: '(address,bool,bool)',\n    4044790253: '(address,bool,address)',\n    1815506290: '(address,address,uint)',\n    7426238: '(address,address,string)',\n    4070990470: '(address,address,bool)',\n    25986242: '(address,address,address)',\n    1554033982: '(uint,uint,uint,uint)',\n    2024634892: '(uint,uint,uint,string)',\n    1683143115: '(uint,uint,uint,bool)',\n    3766828905: '(uint,uint,uint,address)',\n    949229117: '(uint,uint,string,uint)',\n    2080582194: '(uint,uint,string,string)',\n    2989403910: '(uint,uint,string,bool)',\n    1127384482: '(uint,uint,string,address)',\n    1818524812: '(uint,uint,bool,uint)',\n    4024028142: '(uint,uint,bool,string)',\n    2495495089: '(uint,uint,bool,bool)',\n    3776410703: '(uint,uint,bool,address)',\n    1628154048: '(uint,uint,address,uint)',\n    3600994782: '(uint,uint,address,string)',\n    2833785006: '(uint,uint,address,bool)',\n    3398671136: '(uint,uint,address,address)',\n    3221501959: '(uint,string,uint,uint)',\n    2730232985: '(uint,string,uint,string)',\n    2270850606: '(uint,string,uint,bool)',\n    2877020669: '(uint,string,uint,address)',\n    1995203422: '(uint,string,string,uint)',\n    1474103825: '(uint,string,string,string)',\n    310782872: '(uint,string,string,bool)',\n    3432549024: '(uint,string,string,address)',\n    2763295359: '(uint,string,bool,uint)',\n    2370346144: '(uint,string,bool,string)',\n    1371286465: '(uint,string,bool,bool)',\n    2037328032: '(uint,string,bool,address)',\n    2565338099: '(uint,string,address,uint)',\n    4170733439: '(uint,string,address,string)',\n    4181720887: '(uint,string,address,bool)',\n    2141537675: '(uint,string,address,address)',\n    1451396516: '(uint,bool,uint,uint)',\n    3906845782: '(uint,bool,uint,string)',\n    3534472445: '(uint,bool,uint,bool)',\n    1329595790: '(uint,bool,uint,address)',\n    2438978344: '(uint,bool,string,uint)',\n    2754870525: '(uint,bool,string,string)',\n    879671495: '(uint,bool,string,bool)',\n    1231956916: '(uint,bool,string,address)',\n    3173363033: '(uint,bool,bool,uint)',\n    831186331: '(uint,bool,bool,string)',\n    1315722005: '(uint,bool,bool,bool)',\n    1392910941: '(uint,bool,bool,address)',\n    1102442299: '(uint,bool,address,uint)',\n    2721084958: '(uint,bool,address,string)',\n    2449150530: '(uint,bool,address,bool)',\n    2263728396: '(uint,bool,address,address)',\n    3399106228: '(uint,address,uint,uint)',\n    1054063912: '(uint,address,uint,string)',\n    435581801: '(uint,address,uint,bool)',\n    4256361684: '(uint,address,uint,address)',\n    2697204968: '(uint,address,string,uint)',\n    2373420580: '(uint,address,string,string)',\n    581204390: '(uint,address,string,bool)',\n    3420819197: '(uint,address,string,address)',\n    2064181483: '(uint,address,bool,uint)',\n    1676730946: '(uint,address,bool,string)',\n    2116501773: '(uint,address,bool,bool)',\n    3056677012: '(uint,address,bool,address)',\n    2587672470: '(uint,address,address,uint)',\n    2034490470: '(uint,address,address,string)',\n    22350596: '(uint,address,address,bool)',\n    1430734329: '(uint,address,address,address)',\n    149837414: '(string,uint,uint,uint)',\n    2773406909: '(string,uint,uint,string)',\n    4147936829: '(string,uint,uint,bool)',\n    3201771711: '(string,uint,uint,address)',\n    2697245221: '(string,uint,string,uint)',\n    1821956834: '(string,uint,string,string)',\n    3919545039: '(string,uint,string,bool)',\n    3144824297: '(string,uint,string,address)',\n    1427009269: '(string,uint,bool,uint)',\n    1993105508: '(string,uint,bool,string)',\n    3816813520: '(string,uint,bool,bool)',\n    3847527825: '(string,uint,bool,address)',\n    1481210622: '(string,uint,address,uint)',\n    844415720: '(string,uint,address,string)',\n    285649143: '(string,uint,address,bool)',\n    3939013249: '(string,uint,address,address)',\n    3587119056: '(string,string,uint,uint)',\n    2366909661: '(string,string,uint,string)',\n    3864418506: '(string,string,uint,bool)',\n    1565476480: '(string,string,uint,address)',\n    2681211381: '(string,string,string,uint)',\n    3731419658: '(string,string,string,string)',\n    739726573: '(string,string,string,bool)',\n    1834430276: '(string,string,string,address)',\n    2256636538: '(string,string,bool,uint)',\n    1585754346: '(string,string,bool,string)',\n    1081628777: '(string,string,bool,bool)',\n    3279013851: '(string,string,bool,address)',\n    1250010474: '(string,string,address,uint)',\n    3944480640: '(string,string,address,string)',\n    1556958775: '(string,string,address,bool)',\n    1134328815: '(string,string,address,address)',\n    1572859960: '(string,bool,uint,uint)',\n    1119461927: '(string,bool,uint,string)',\n    1019590099: '(string,bool,uint,bool)',\n    1909687565: '(string,bool,uint,address)',\n    885731469: '(string,bool,string,uint)',\n    2821114603: '(string,bool,string,string)',\n    1066037277: '(string,bool,string,bool)',\n    3764542249: '(string,bool,string,address)',\n    2155164136: '(string,bool,bool,uint)',\n    2636305885: '(string,bool,bool,string)',\n    2304440517: '(string,bool,bool,bool)',\n    1905304873: '(string,bool,bool,address)',\n    685723286: '(string,bool,address,uint)',\n    764294052: '(string,bool,address,string)',\n    2508990662: '(string,bool,address,bool)',\n    870964509: '(string,bool,address,address)',\n    3668153533: '(string,address,uint,uint)',\n    1280700980: '(string,address,uint,string)',\n    1522647356: '(string,address,uint,bool)',\n    2741431424: '(string,address,uint,address)',\n    2405583849: '(string,address,string,uint)',\n    609847026: '(string,address,string,string)',\n    1595265676: '(string,address,string,bool)',\n    2864486961: '(string,address,string,address)',\n    3318856587: '(string,address,bool,uint)',\n    72663161: '(string,address,bool,string)',\n    2038975531: '(string,address,bool,bool)',\n    573965245: '(string,address,bool,address)',\n    1857524797: '(string,address,address,uint)',\n    2148146279: '(string,address,address,string)',\n    3047013728: '(string,address,address,bool)',\n    3985582326: '(string,address,address,address)',\n    853517604: '(bool,uint,uint,uint)',\n    3657852616: '(bool,uint,uint,string)',\n    2753397214: '(bool,uint,uint,bool)',\n    4049711649: '(bool,uint,uint,address)',\n    1098907931: '(bool,uint,string,uint)',\n    3542771016: '(bool,uint,string,string)',\n    2446522387: '(bool,uint,string,bool)',\n    2781285673: '(bool,uint,string,address)',\n    3554563475: '(bool,uint,bool,uint)',\n    3067439572: '(bool,uint,bool,string)',\n    2650928961: '(bool,uint,bool,bool)',\n    1114097656: '(bool,uint,bool,address)',\n    3399820138: '(bool,uint,address,uint)',\n    403247937: '(bool,uint,address,string)',\n    1705899016: '(bool,uint,address,bool)',\n    2318373034: '(bool,uint,address,address)',\n    2387273838: '(bool,string,uint,uint)',\n    2007084013: '(bool,string,uint,string)',\n    549177775: '(bool,string,uint,bool)',\n    1529002296: '(bool,string,uint,address)',\n    1574643090: '(bool,string,string,uint)',\n    392356650: '(bool,string,string,string)',\n    508266469: '(bool,string,string,bool)',\n    2547225816: '(bool,string,string,address)',\n    2372902053: '(bool,string,bool,uint)',\n    1211958294: '(bool,string,bool,string)',\n    3697185627: '(bool,string,bool,bool)',\n    1401816747: '(bool,string,bool,address)',\n    453743963: '(bool,string,address,uint)',\n    316065672: '(bool,string,address,string)',\n    1842623690: '(bool,string,address,bool)',\n    724244700: '(bool,string,address,address)',\n    1181212302: '(bool,bool,uint,uint)',\n    1348569399: '(bool,bool,uint,string)',\n    2874982852: '(bool,bool,uint,bool)',\n    201299213: '(bool,bool,uint,address)',\n    395003525: '(bool,bool,string,uint)',\n    1830717265: '(bool,bool,string,string)',\n    3092715066: '(bool,bool,string,bool)',\n    4188875657: '(bool,bool,string,address)',\n    3259532109: '(bool,bool,bool,uint)',\n    719587540: '(bool,bool,bool,string)',\n    992632032: '(bool,bool,bool,bool)',\n    2352126746: '(bool,bool,bool,address)',\n    1620281063: '(bool,bool,address,uint)',\n    2695133539: '(bool,bool,address,string)',\n    3231908568: '(bool,bool,address,bool)',\n    4102557348: '(bool,bool,address,address)',\n    2617143996: '(bool,address,uint,uint)',\n    2691192883: '(bool,address,uint,string)',\n    4002252402: '(bool,address,uint,bool)',\n    1760647349: '(bool,address,uint,address)',\n    194640930: '(bool,address,string,uint)',\n    2805734838: '(bool,address,string,string)',\n    3804222987: '(bool,address,string,bool)',\n    1870422078: '(bool,address,string,address)',\n    1287000017: '(bool,address,bool,uint)',\n    1248250676: '(bool,address,bool,string)',\n    1788626827: '(bool,address,bool,bool)',\n    474063670: '(bool,address,bool,address)',\n    1384430956: '(bool,address,address,uint)',\n    3625099623: '(bool,address,address,string)',\n    1180699616: '(bool,address,address,bool)',\n    487903233: '(bool,address,address,address)',\n    1024368100: '(address,uint,uint,uint)',\n    2301889963: '(address,uint,uint,string)',\n    3964381346: '(address,uint,uint,bool)',\n    519451700: '(address,uint,uint,address)',\n    4111650715: '(address,uint,string,uint)',\n    2119616147: '(address,uint,string,string)',\n    2751614737: '(address,uint,string,bool)',\n    3698927108: '(address,uint,string,address)',\n    1770996626: '(address,uint,bool,uint)',\n    2391690869: '(address,uint,bool,string)',\n    4272018778: '(address,uint,bool,bool)',\n    602229106: '(address,uint,bool,address)',\n    2782496616: '(address,uint,address,uint)',\n    1567749022: '(address,uint,address,string)',\n    4051804649: '(address,uint,address,bool)',\n    3961816175: '(address,uint,address,address)',\n    2764647008: '(address,string,uint,uint)',\n    1561552329: '(address,string,uint,string)',\n    2116357467: '(address,string,uint,bool)',\n    3755464715: '(address,string,uint,address)',\n    2706362425: '(address,string,string,uint)',\n    1560462603: '(address,string,string,string)',\n    900007711: '(address,string,string,bool)',\n    2689478535: '(address,string,string,address)',\n    3877655068: '(address,string,bool,uint)',\n    3154862590: '(address,string,bool,string)',\n    1595759775: '(address,string,bool,bool)',\n    542667202: '(address,string,bool,address)',\n    2350461865: '(address,string,address,uint)',\n    4158874181: '(address,string,address,string)',\n    233909110: '(address,string,address,bool)',\n    221706784: '(address,string,address,address)',\n    3255869470: '(address,bool,uint,uint)',\n    2606272204: '(address,bool,uint,string)',\n    2244855215: '(address,bool,uint,bool)',\n    227337758: '(address,bool,uint,address)',\n    2652011374: '(address,bool,string,uint)',\n    1197235251: '(address,bool,string,string)',\n    1353532957: '(address,bool,string,bool)',\n    436029782: '(address,bool,string,address)',\n    3484780374: '(address,bool,bool,uint)',\n    3754205928: '(address,bool,bool,string)',\n    3401856121: '(address,bool,bool,bool)',\n    3476636805: '(address,bool,bool,address)',\n    3698398930: '(address,bool,address,uint)',\n    769095910: '(address,bool,address,string)',\n    2801077007: '(address,bool,address,bool)',\n    1711502813: '(address,bool,address,address)',\n    1425929188: '(address,address,uint,uint)',\n    2647731885: '(address,address,uint,string)',\n    3270936812: '(address,address,uint,bool)',\n    3603321462: '(address,address,uint,address)',\n    69767936: '(address,address,string,uint)',\n    566079269: '(address,address,string,string)',\n    1863997774: '(address,address,string,bool)',\n    2406706454: '(address,address,string,address)',\n    2513854225: '(address,address,bool,uint)',\n    2858762440: '(address,address,bool,string)',\n    752096074: '(address,address,bool,bool)',\n    2669396846: '(address,address,bool,address)',\n    3982404743: '(address,address,address,uint)',\n    4161329696: '(address,address,address,string)',\n    238520724: '(address,address,address,bool)',\n    1717301556: '(address,address,address,address)'\n};\n//# sourceMappingURL=hhconsoleSigs.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resultToRemixTx = void 0;\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst ethjs_util_1 = require(\"ethjs-util\");\nfunction convertToPrefixedHex(input) {\n    if (input === undefined || input === null || (0, ethjs_util_1.isHexString)(input)) {\n        return input;\n    }\n    else if (Buffer.isBuffer(input)) {\n        return (0, ethereumjs_util_1.bufferToHex)(input);\n    }\n    return '0x' + input.toString(16);\n}\n/*\n txResult.result can be 3 different things:\n - VM call or tx: ethereumjs-vm result object\n - Node transaction: object returned from eth.getTransactionReceipt()\n - Node call: return value from function call (not an object)\n\n Also, VM results use BN and Buffers, Node results use hex strings/ints,\n So we need to normalize the values to prefixed hex strings\n*/\nfunction resultToRemixTx(txResult, execResult) {\n    const { receipt, transactionHash, result } = txResult;\n    const { status, gasUsed, contractAddress } = receipt;\n    let returnValue, errorMessage;\n    if ((0, ethjs_util_1.isHexString)(result)) {\n        returnValue = result;\n    }\n    else if (execResult !== undefined) {\n        returnValue = execResult.returnValue;\n        errorMessage = execResult.exceptionError;\n    }\n    return {\n        transactionHash,\n        status,\n        gasUsed: convertToPrefixedHex(gasUsed),\n        error: errorMessage,\n        return: convertToPrefixedHex(returnValue),\n        createdAddress: convertToPrefixedHex(contractAddress)\n    };\n}\nexports.resultToRemixTx = resultToRemixTx;\n//# sourceMappingURL=txResultHelper.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runInBrowser = exports.normalizeHexAddress = exports.normalizeHex = exports.formatCss = exports.tryConvertAsciiFormat = exports.formatMemory = void 0;\nfunction formatMemory(mem, width) {\n    const ret = {};\n    if (!mem) {\n        return ret;\n    }\n    if (!mem.substr) {\n        mem = mem.join(''); // geth returns an array, eth return raw string\n    }\n    for (let k = 0; k < mem.length; k += (width * 2)) {\n        const memory = mem.substr(k, width * 2);\n        const content = tryConvertAsciiFormat(memory);\n        ret['0x' + (k / 2).toString(16)] = content.raw + '\\t' + content.ascii;\n    }\n    return ret;\n}\nexports.formatMemory = formatMemory;\nfunction tryConvertAsciiFormat(memorySlot) {\n    const ret = { ascii: '', raw: '' };\n    for (let k = 0; k < memorySlot.length; k += 2) {\n        const raw = memorySlot.substr(k, 2);\n        let ascii = String.fromCharCode(parseInt(raw, 16));\n        ascii = ascii.replace(/[^\\w\\s]/, '?');\n        if (ascii === '') {\n            ascii = '?';\n        }\n        ret.ascii += ascii;\n        ret.raw += raw;\n    }\n    return ret;\n}\nexports.tryConvertAsciiFormat = tryConvertAsciiFormat;\n/**\n * format @args css1, css2, css3 to css inline style\n *\n * @param {Object} css1 - css inline declaration\n * @param {Object} css2 - css inline declaration\n * @param {Object} css3 - css inline declaration\n * @param {Object} ...\n * @return {String} css inline style\n *                  if the key start with * the value is direcly appended to the inline style (which should be already inline style formatted)\n *                  used if multiple occurences of the same key is needed\n */\nfunction formatCss(css1, css2) {\n    let ret = '';\n    for (const arg in arguments) {\n        for (const k in arguments[arg]) {\n            if (arguments[arg][k] && ret.indexOf(k) === -1) {\n                if (k.indexOf('*') === 0) {\n                    ret += arguments[arg][k];\n                }\n                else {\n                    ret += k + ':' + arguments[arg][k] + ';';\n                }\n            }\n        }\n    }\n    return ret;\n}\nexports.formatCss = formatCss;\nfunction normalizeHex(hex) {\n    if (hex.indexOf('0x') === 0) {\n        hex = hex.replace('0x', '');\n    }\n    hex = hex.replace(/^0+/, '');\n    return '0x' + hex;\n}\nexports.normalizeHex = normalizeHex;\nfunction normalizeHexAddress(hex) {\n    if (hex.indexOf('0x') === 0)\n        hex = hex.replace('0x', '');\n    if (hex.length >= 40) {\n        const reg = /(.{40})$/.exec(hex);\n        if (reg) {\n            return '0x' + reg[0];\n        }\n    }\n    else {\n        return '0x' + (new Array(40 - hex.length + 1).join('0')) + hex;\n    }\n}\nexports.normalizeHexAddress = normalizeHexAddress;\nfunction runInBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.runInBrowser = runInBrowser;\n//# sourceMappingURL=uiHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.execution = exports.util = exports.Storage = exports.vm = exports.helpers = exports.EventManager = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eventManager_1 = require(\"./eventManager\");\nObject.defineProperty(exports, \"EventManager\", { enumerable: true, get: function () { return eventManager_1.EventManager; } });\nconst uiHelper = (0, tslib_1.__importStar)(require(\"./helpers/uiHelper\"));\nconst compilerHelper = (0, tslib_1.__importStar)(require(\"./helpers/compilerHelper\"));\nconst util = (0, tslib_1.__importStar)(require(\"./util\"));\nexports.util = util;\nconst web3Providers_1 = require(\"./web3Provider/web3Providers\");\nconst dummyProvider_1 = require(\"./web3Provider/dummyProvider\");\nconst web3VmProvider_1 = require(\"./web3Provider/web3VmProvider\");\nconst storage_1 = require(\"./storage\");\nObject.defineProperty(exports, \"Storage\", { enumerable: true, get: function () { return storage_1.Storage; } });\nconst eventsDecoder_1 = require(\"./execution/eventsDecoder\");\nconst txExecution = (0, tslib_1.__importStar)(require(\"./execution/txExecution\"));\nconst txHelper = (0, tslib_1.__importStar)(require(\"./execution/txHelper\"));\nconst txFormat = (0, tslib_1.__importStar)(require(\"./execution/txFormat\"));\nconst txListener_1 = require(\"./execution/txListener\");\nconst txRunner_1 = require(\"./execution/txRunner\");\nconst logsManager_1 = require(\"./execution/logsManager\");\nconst forkAt_1 = require(\"./execution/forkAt\");\nconst typeConversion = (0, tslib_1.__importStar)(require(\"./execution/typeConversion\"));\nconst txRunnerVM_1 = require(\"./execution/txRunnerVM\");\nconst txRunnerWeb3_1 = require(\"./execution/txRunnerWeb3\");\nconst txResultHelper = (0, tslib_1.__importStar)(require(\"./helpers/txResultHelper\"));\nconst helpers = {\n    ui: uiHelper,\n    compiler: compilerHelper,\n    txResultHelper\n};\nexports.helpers = helpers;\nconst vm = {\n    Web3Providers: web3Providers_1.Web3Providers,\n    DummyProvider: dummyProvider_1.DummyProvider,\n    Web3VMProvider: web3VmProvider_1.Web3VmProvider\n};\nexports.vm = vm;\nconst execution = {\n    EventsDecoder: eventsDecoder_1.EventsDecoder,\n    txExecution: txExecution,\n    txHelper: txHelper,\n    txFormat: txFormat,\n    txListener: txListener_1.TxListener,\n    TxRunner: txRunner_1.TxRunner,\n    TxRunnerWeb3: txRunnerWeb3_1.TxRunnerWeb3,\n    TxRunnerVM: txRunnerVM_1.TxRunnerVM,\n    typeConversion: typeConversion,\n    LogsManager: logsManager_1.LogsManager,\n    forkAt: forkAt_1.forkAt\n};\nexports.execution = execution;\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extend = exports.extendWeb3 = exports.loadWeb3 = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nfunction loadWeb3(url = 'http://localhost:8545') {\n    const web3 = new web3_1.default();\n    web3.setProvider(new web3_1.default.providers.HttpProvider(url));\n    extend(web3);\n    return web3;\n}\nexports.loadWeb3 = loadWeb3;\nfunction extendWeb3(web3) {\n    extend(web3);\n}\nexports.extendWeb3 = extendWeb3;\nfunction extend(web3) {\n    if (!web3.extend) {\n        return;\n    }\n    // DEBUG\n    const methods = [];\n    if (!(web3.debug && web3.debug.preimage)) {\n        methods.push(new web3.extend.Method({\n            name: 'preimage',\n            call: 'debug_preimage',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (!(web3.debug && web3.debug.traceTransaction)) {\n        methods.push(new web3.extend.Method({\n            name: 'traceTransaction',\n            call: 'debug_traceTransaction',\n            inputFormatter: [null, null],\n            params: 2\n        }));\n    }\n    if (!(web3.debug && web3.debug.storageRangeAt)) {\n        methods.push(new web3.extend.Method({\n            name: 'storageRangeAt',\n            call: 'debug_storageRangeAt',\n            inputFormatter: [null, null, null, null, null],\n            params: 5\n        }));\n    }\n    if (methods.length > 0) {\n        web3.extend({\n            property: 'debug',\n            methods: methods,\n            properties: []\n        });\n    }\n}\nexports.extend = extend;\n//# sourceMappingURL=init.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nclass Storage {\n    constructor(prefix) {\n        this.prefix = prefix;\n        // on startup, upgrade the old storage layout\n        if (typeof window !== 'undefined') {\n            this.safeKeys().forEach(function (name) {\n                if (name.indexOf('sol-cache-file-', 0) === 0) {\n                    var content = window.localStorage.getItem(name);\n                    window.localStorage.setItem(name.replace(/^sol-cache-file-/, 'sol:'), content);\n                    window.localStorage.removeItem(name);\n                }\n            });\n        }\n        // remove obsolete key\n        if (typeof window !== 'undefined') {\n            window.localStorage.removeItem('editor-size-cache');\n        }\n    }\n    exists(name) {\n        if (typeof window !== 'undefined') {\n            return this.get(name) !== null;\n        }\n    }\n    get(name) {\n        if (typeof window !== 'undefined') {\n            return window.localStorage.getItem(this.prefix + name);\n        }\n    }\n    set(name, content) {\n        try {\n            if (typeof window !== 'undefined') {\n                window.localStorage.setItem(this.prefix + name, content);\n            }\n        }\n        catch (exception) {\n            return false;\n        }\n        return true;\n    }\n    remove(name) {\n        if (typeof window !== 'undefined') {\n            window.localStorage.removeItem(this.prefix + name);\n        }\n        return true;\n    }\n    rename(originalName, newName) {\n        const content = this.get(originalName);\n        if (!this.set(newName, content)) {\n            return false;\n        }\n        this.remove(originalName);\n        return true;\n    }\n    safeKeys() {\n        // NOTE: this is a workaround for some browsers\n        if (typeof window !== 'undefined') {\n            return Object.keys(window.localStorage).filter(function (item) { return item !== null && item !== undefined; });\n        }\n        return [];\n    }\n    keys() {\n        return this.safeKeys()\n            // filter any names not including the prefix\n            .filter(item => item.indexOf(this.prefix, 0) === 0)\n            // remove prefix from filename and add the 'browser' path\n            .map(item => item.substr(this.prefix.length));\n    }\n}\nexports.Storage = Storage;\n//# sourceMappingURL=storage.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeRegExp = exports.concatWithSeperator = exports.groupBy = exports.compareByteCode = exports.extractSwarmHash = exports.extractcborMetadata = exports.cborEncodedValueExtraction = exports.swarmHashExtractionPOC32 = exports.swarmHashExtractionPOC31 = exports.swarmHashExtraction = exports.sha3_256 = exports.buildCallPath = exports.findCall = exports.findClosestIndex = exports.findLowerBoundValue = exports.findLowerBound = exports.formatMemory = exports.hexListFromBNs = exports.hexToIntArray = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst string_similarity_1 = (0, tslib_1.__importDefault)(require(\"string-similarity\"));\n/*\n contains misc util: @TODO should be splitted\n  - hex conversion\n  - binary search\n  - CALL related look up\n  - sha3 calculation\n  - swarm hash extraction\n  - bytecode comparison\n*/\n/*\n    ints: IntArray\n  */\n/**\n   * Converts a hex string to an array of integers.\n   */\nfunction hexToIntArray(hexString) {\n    if (hexString.slice(0, 2) === '0x') {\n        hexString = hexString.slice(2);\n    }\n    const integers = [];\n    for (let i = 0; i < hexString.length; i += 2) {\n        integers.push(parseInt(hexString.slice(i, i + 2), 16));\n    }\n    return integers;\n}\nexports.hexToIntArray = hexToIntArray;\n/*\n    ints: list of BNs\n  */\nfunction hexListFromBNs(bnList) {\n    const ret = [];\n    for (const k in bnList) {\n        const v = bnList[k];\n        if (ethereumjs_util_1.BN.isBN(v)) {\n            ret.push('0x' + v.toString('hex', 64));\n        }\n        else {\n            ret.push('0x' + (new ethereumjs_util_1.BN(v)).toString('hex', 64)); // TEMP FIX TO REMOVE ONCE https://github.com/ethereumjs/ethereumjs-vm/pull/293 is released\n        }\n    }\n    return ret;\n}\nexports.hexListFromBNs = hexListFromBNs;\n/*\n  ints: ints: IntArray\n*/\nfunction formatMemory(mem) {\n    const hexMem = (0, ethereumjs_util_1.bufferToHex)(mem).substr(2);\n    const ret = [];\n    for (let k = 0; k < hexMem.length; k += 32) {\n        const row = hexMem.substr(k, 32);\n        ret.push(row);\n    }\n    return ret;\n}\nexports.formatMemory = formatMemory;\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return largest i such that array[i] <= target; return -1 if array[0] > target || array is empty\n*/\nfunction findLowerBound(target, array) {\n    let start = 0;\n    let length = array.length;\n    while (length > 0) {\n        const half = length >> 1;\n        const middle = start + half;\n        if (array[middle] <= target) {\n            length = length - 1 - half;\n            start = middle + 1;\n        }\n        else {\n            length = half;\n        }\n    }\n    return start - 1;\n}\nexports.findLowerBound = findLowerBound;\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return largest array[i] such that array[i] <= target; return null if array[0] > target || array is empty\n*/\nfunction findLowerBoundValue(target, array) {\n    const index = findLowerBound(target, array);\n    return index >= 0 ? array[index] : null;\n}\nexports.findLowerBoundValue = findLowerBoundValue;\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return Return i such that |array[i] - target| is smallest among all i and -1 for an empty array.\n  Returns the smallest i for multiple candidates.\n*/\nfunction findClosestIndex(target, array) {\n    if (array.length === 0) {\n        return -1;\n    }\n    const index = findLowerBound(target, array);\n    if (index < 0) {\n        return 0;\n    }\n    else if (index >= array.length - 1) {\n        return array.length - 1;\n    }\n    else {\n        const middle = (array[index] + array[index + 1]) / 2;\n        return target <= middle ? index : index + 1;\n    }\n}\nexports.findClosestIndex = findClosestIndex;\n/**\n  * Find the call from @args rootCall which contains @args index (recursive)\n  *\n  * @param {Int} index - index of the vmtrace\n  * @param {Object} rootCall  - call tree, built by the trace analyser\n  * @return {Object} - return the call which include the @args index\n  */\nfunction findCall(index, rootCall) {\n    const ret = buildCallPath(index, rootCall);\n    return ret[ret.length - 1];\n}\nexports.findCall = findCall;\n/**\n  * Find calls path from @args rootCall which leads to @args index (recursive)\n  *\n  * @param {Int} index - index of the vmtrace\n  * @param {Object} rootCall  - call tree, built by the trace analyser\n  * @return {Array} - return the calls path to @args index\n  */\nfunction buildCallPath(index, rootCall) {\n    const ret = [];\n    findCallInternal(index, rootCall, ret);\n    return ret;\n}\nexports.buildCallPath = buildCallPath;\n/**\n  * sha3 the given @arg value (left pad to 32 bytes)\n  *\n  * @param {String} value - value to sha3\n  * @return {Object} - return sha3ied value\n  */\n// eslint-disable-next-line camelcase\nfunction sha3_256(value) {\n    value = (0, ethereumjs_util_1.toBuffer)((0, ethereumjs_util_1.addHexPrefix)(value));\n    const retInBuffer = (0, ethereumjs_util_1.keccak)((0, ethereumjs_util_1.setLengthLeft)(value, 32));\n    return (0, ethereumjs_util_1.bufferToHex)(retInBuffer);\n}\nexports.sha3_256 = sha3_256;\n/**\n  * return a regex which extract the swarmhash from the bytecode.\n  *\n  * @return {RegEx}\n  */\nfunction swarmHashExtraction() {\n    return /a165627a7a72305820([0-9a-f]{64})0029$/;\n}\nexports.swarmHashExtraction = swarmHashExtraction;\n/**\n  * return a regex which extract the swarmhash from the bytecode, from POC 0.3\n  *\n  * @return {RegEx}\n  */\nfunction swarmHashExtractionPOC31() {\n    return /a265627a7a72315820([0-9a-f]{64})64736f6c6343([0-9a-f]{6})0032$/;\n}\nexports.swarmHashExtractionPOC31 = swarmHashExtractionPOC31;\n/**\n  * return a regex which extract the swarmhash from the bytecode, from POC 0.3\n  *\n  * @return {RegEx}\n  */\nfunction swarmHashExtractionPOC32() {\n    return /a265627a7a72305820([0-9a-f]{64})64736f6c6343([0-9a-f]{6})0032$/;\n}\nexports.swarmHashExtractionPOC32 = swarmHashExtractionPOC32;\n/**\n  * return a regex which extract the cbor encoded metadata : {\"ipfs\": <IPFS hash>, \"solc\": <compiler version>} from the bytecode.\n  * ref https://solidity.readthedocs.io/en/v0.6.6/metadata.html?highlight=ipfs#encoding-of-the-metadata-hash-in-the-bytecode\n  * @return {RegEx}\n  */\nfunction cborEncodedValueExtraction() {\n    return /64697066735822([0-9a-f]{68})64736f6c6343([0-9a-f]{6})0033$/;\n}\nexports.cborEncodedValueExtraction = cborEncodedValueExtraction;\nfunction extractcborMetadata(value) {\n    return value.replace(cborEncodedValueExtraction(), '');\n}\nexports.extractcborMetadata = extractcborMetadata;\nfunction extractSwarmHash(value) {\n    value = value.replace(swarmHashExtraction(), '');\n    value = value.replace(swarmHashExtractionPOC31(), '');\n    value = value.replace(swarmHashExtractionPOC32(), '');\n    return value;\n}\nexports.extractSwarmHash = extractSwarmHash;\n/**\n  * Compare bytecode. return true if the code is equal (handle swarm hash and library references)\n  * @param {String} code1 - the bytecode that is actually deployed (contains resolved library reference and a potentially different swarmhash)\n  * @param {String} code2 - the bytecode generated by the compiler (contains unresolved library reference and a potentially different swarmhash)\n                            this will return false if the generated bytecode is empty (asbtract contract cannot be deployed)\n  *\n  * @return {bool}\n  */\nfunction compareByteCode(code1, code2) {\n    if (code1 === code2)\n        return true;\n    if (code2 === '0x')\n        return false; // abstract contract. see comment\n    if (code2.substr(2, 46) === '7300000000000000000000000000000000000000003014') {\n        // testing the following signature: PUSH20 00..00 ADDRESS EQ\n        // in the context of a library, that slot contains the address of the library (pushed by the compiler to avoid calling library other than with a DELEGATECALL)\n        // if code2 is not a library, well we still suppose that the comparison remain relevant even if we remove some information from `code1`\n        code1 = replaceLibReference(code1, 4);\n    }\n    let pos = -1;\n    while ((pos = code2.search(/__(.*)__/)) !== -1) {\n        code2 = replaceLibReference(code2, pos);\n        code1 = replaceLibReference(code1, pos);\n    }\n    code1 = extractSwarmHash(code1);\n    code1 = extractcborMetadata(code1);\n    code2 = extractSwarmHash(code2);\n    code2 = extractcborMetadata(code2);\n    if (code1 && code2) {\n        const compare = string_similarity_1.default.compareTwoStrings(code1, code2);\n        return compare > 0.93;\n    }\n    return false;\n}\nexports.compareByteCode = compareByteCode;\n/* util extracted out from remix-ide. @TODO split this file, cause it mix real util fn with solidity related stuff ... */\nfunction groupBy(arr, key) {\n    return arr.reduce((sum, item) => {\n        const groupByVal = item[key];\n        const groupedItems = sum[groupByVal] || [];\n        groupedItems.push(item);\n        sum[groupByVal] = groupedItems;\n        return sum;\n    }, {});\n}\nexports.groupBy = groupBy;\nfunction concatWithSeperator(list, seperator) {\n    return list.reduce((sum, item) => sum + item + seperator, '').slice(0, -seperator.length);\n}\nexports.concatWithSeperator = concatWithSeperator;\nfunction escapeRegExp(str) {\n    return str.replace(/[-[\\]/{}()+?.\\\\^$|]/g, '\\\\$&');\n}\nexports.escapeRegExp = escapeRegExp;\nfunction replaceLibReference(code, pos) {\n    return code.substring(0, pos) + '0000000000000000000000000000000000000000' + code.substring(pos + 40);\n}\nfunction findCallInternal(index, rootCall, callsPath) {\n    const calls = Object.keys(rootCall.calls);\n    const ret = rootCall;\n    callsPath.push(rootCall);\n    for (const k in calls) {\n        const subCall = rootCall.calls[calls[k]];\n        if (index >= subCall.start && index <= subCall.return) {\n            findCallInternal(index, subCall, callsPath);\n            break;\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DummyProvider = void 0;\nclass DummyProvider {\n    constructor() {\n        this.eth = {};\n        this.debug = {};\n        this.eth.getCode = (address, cb) => { return this.getCode(address, cb); };\n        this.eth.getTransaction = (hash, cb) => { return this.getTransaction(hash, cb); };\n        this.eth.getTransactionFromBlock = (blockNumber, txIndex, cb) => { return this.getTransactionFromBlock(blockNumber, txIndex, cb); };\n        this.eth.getBlockNumber = (cb) => { return this.getBlockNumber(cb); };\n        this.debug.traceTransaction = (hash, options, cb) => { return this.traceTransaction(hash, options, cb); };\n        this.debug.storageRangeAt = (blockNumber, txIndex, address, start, end, maxLength, cb) => { return this.storageRangeAt(blockNumber, txIndex, address, start, end, maxLength, cb); };\n        this.providers = { HttpProvider: function (url) { } };\n        this.currentProvider = { host: '' };\n    }\n    getCode(address, cb) {\n        cb(null, '');\n    }\n    setProvider(provider) { }\n    traceTransaction(txHash, options, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n    storageRangeAt(blockNumber, txIndex, address, start, end, maxLength, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n    getBlockNumber(cb) { cb(null, ''); }\n    getTransaction(txHash, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n    getTransactionFromBlock(blockNumber, txIndex, cb) {\n        if (cb) {\n            cb(null, {});\n        }\n        return {};\n    }\n}\nexports.DummyProvider = DummyProvider;\n//# sourceMappingURL=dummyProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Providers = void 0;\nconst web3VmProvider_1 = require(\"./web3VmProvider\");\nconst init_1 = require(\"../init\");\nclass Web3Providers {\n    constructor() {\n        this.modes = {};\n    }\n    addProvider(type, obj) {\n        if (type === 'INTERNAL') {\n            const web3 = (0, init_1.loadWeb3)();\n            this.addWeb3(type, web3);\n        }\n        else if (type === 'vm') {\n            this.addVM(type, obj);\n        }\n        else {\n            (0, init_1.extendWeb3)(obj);\n            this.addWeb3(type, obj);\n        }\n    }\n    get(type, cb) {\n        if (this.modes[type]) {\n            return cb(null, this.modes[type]);\n        }\n        cb('error: this provider has not been setup (' + type + ')', null);\n    }\n    addWeb3(type, web3) {\n        this.modes[type] = web3;\n    }\n    addVM(type, vm) {\n        const vmProvider = new web3VmProvider_1.Web3VmProvider();\n        vmProvider.setVM(vm);\n        this.modes[type] = vmProvider;\n    }\n}\nexports.Web3Providers = Web3Providers;\n//# sourceMappingURL=web3Providers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3VmProvider = void 0;\nconst tslib_1 = require(\"tslib\");\nconst util_1 = require(\"../util\");\nconst uiHelper_1 = require(\"../helpers/uiHelper\");\nconst hhconsoleSigs_1 = require(\"../helpers/hhconsoleSigs\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst ethers_1 = require(\"ethers\");\nclass Web3VmProvider {\n    constructor() {\n        this.web3 = new web3_1.default();\n        this.vm = null;\n        this.vmTraces = {};\n        this.txs = {};\n        this.txsReceipt = {};\n        this.hhLogs = {};\n        this.processingHash = null;\n        this.processingAddress = null;\n        this.processingIndex = null;\n        this.previousDepth = 0;\n        this.incr = 0;\n        this.eth = {};\n        this.debug = {};\n        this.eth.getCode = (address, cb) => this.getCode(address, cb);\n        this.eth.getTransaction = (txHash, cb) => this.getTransaction(txHash, cb);\n        this.eth.getTransactionReceipt = (txHash, cb) => this.getTransactionReceipt(txHash, cb);\n        this.eth.getTransactionFromBlock = (blockNumber, txIndex, cb) => this.getTransactionFromBlock(blockNumber, txIndex, cb);\n        this.eth.getBlockNumber = (cb) => this.getBlockNumber(cb);\n        this.debug.traceTransaction = (txHash, options, cb) => this.traceTransaction(txHash, options, cb);\n        this.debug.storageRangeAt = (blockNumber, txIndex, address, start, maxLength, cb) => this.storageRangeAt(blockNumber, txIndex, address, start, maxLength, cb);\n        this.debug.preimage = (hashedKey, cb) => this.preimage(hashedKey, cb);\n        this.providers = { HttpProvider: function (url) { } };\n        this.currentProvider = { host: 'vm provider' };\n        this.storageCache = {};\n        this.lastProcessedStorageTxHash = {};\n        this.sha3Preimages = {};\n        // util\n        this.sha3 = (...args) => this.web3.utils.sha3(...args);\n        this.toHex = (...args) => this.web3.utils.toHex(...args);\n        this.toAscii = (...args) => this.web3.utils.hexToAscii(...args);\n        this.fromAscii = (...args) => this.web3.utils.asciiToHex(...args);\n        this.fromDecimal = (...args) => this.web3.utils.numberToHex(...args);\n        this.fromWei = (...args) => this.web3.utils.fromWei(...args);\n        this.toWei = (...args) => this.web3.utils.toWei(...args);\n        this.toBigNumber = (...args) => this.web3.utils.toBN(...args);\n        this.isAddress = (...args) => this.web3.utils.isAddress(...args);\n        this.utils = web3_1.default.utils || [];\n        this.txsMapBlock = {};\n        this.blocks = {};\n        this.latestBlockNumber = 0;\n    }\n    setVM(vm) {\n        if (this.vm === vm)\n            return;\n        this.vm = vm;\n        this.vm.on('step', (data, next) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this.pushTrace(data);\n            next();\n        }));\n        this.vm.on('afterTx', (data, next) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this.txProcessed(data);\n            next();\n        }));\n        this.vm.on('beforeTx', (data, next) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this.txWillProcess(data);\n            next();\n        }));\n    }\n    releaseCurrentHash() {\n        const ret = this.processingHash;\n        this.processingHash = undefined;\n        return ret;\n    }\n    txWillProcess(data) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.incr++;\n            this.processingHash = (0, ethereumjs_util_1.bufferToHex)(data.hash());\n            this.vmTraces[this.processingHash] = {\n                gas: '0x0',\n                return: '0x0',\n                structLogs: []\n            };\n            const tx = {};\n            tx['hash'] = this.processingHash;\n            tx['from'] = (0, ethereumjs_util_1.toChecksumAddress)(data.getSenderAddress().toString());\n            if (data.to) {\n                tx['to'] = (0, ethereumjs_util_1.toChecksumAddress)(data.to.toString());\n            }\n            this.processingAddress = tx['to'];\n            tx['input'] = (0, ethereumjs_util_1.bufferToHex)(data.data);\n            tx['gas'] = data.gasLimit.toString(10);\n            if (data.value) {\n                tx['value'] = data.value.toString(10);\n            }\n            this.txs[this.processingHash] = tx;\n            this.txsReceipt[this.processingHash] = tx;\n            this.storageCache[this.processingHash] = {};\n            if (data.to) {\n                try {\n                    const storage = yield this.vm.stateManager.dumpStorage(data.to);\n                    this.storageCache[this.processingHash][tx['to']] = storage;\n                    this.lastProcessedStorageTxHash[tx['to']] = this.processingHash;\n                }\n                catch (e) {\n                    console.log(e);\n                }\n            }\n            this.processingIndex = 0;\n        });\n    }\n    txProcessed(data) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const lastOp = this.vmTraces[this.processingHash].structLogs[this.processingIndex - 1];\n            if (lastOp) {\n                lastOp.error = lastOp.op !== 'RETURN' && lastOp.op !== 'STOP' && lastOp.op !== 'DESTRUCT';\n            }\n            const gasUsed = '0x' + data.gasUsed.toString(16);\n            this.vmTraces[this.processingHash].gas = gasUsed;\n            this.txsReceipt[this.processingHash].gasUsed = gasUsed;\n            const logs = [];\n            for (const l in data.execResult.logs) {\n                const log = data.execResult.logs[l];\n                const topics = [];\n                if (log[1].length > 0) {\n                    for (var k in log[1]) {\n                        topics.push('0x' + log[1][k].toString('hex'));\n                    }\n                }\n                else {\n                    topics.push('0x');\n                }\n                logs.push({\n                    address: '0x' + log[0].toString('hex'),\n                    data: '0x' + log[2].toString('hex'),\n                    topics: topics,\n                    rawVMResponse: log\n                });\n            }\n            this.txsReceipt[this.processingHash].logs = logs;\n            this.txsReceipt[this.processingHash].transactionHash = this.processingHash;\n            const status = data.execResult.exceptionError ? 0 : 1;\n            this.txsReceipt[this.processingHash].status = `0x${status}`;\n            if (data.createdAddress) {\n                const address = data.createdAddress.toString();\n                this.vmTraces[this.processingHash].return = (0, ethereumjs_util_1.toChecksumAddress)(address);\n                this.txsReceipt[this.processingHash].contractAddress = (0, ethereumjs_util_1.toChecksumAddress)(address);\n            }\n            else if (data.execResult.returnValue) {\n                this.vmTraces[this.processingHash].return = (0, ethereumjs_util_1.bufferToHex)(data.execResult.returnValue);\n            }\n            else {\n                this.vmTraces[this.processingHash].return = '0x';\n            }\n            this.processingIndex = null;\n            this.processingAddress = null;\n            this.previousDepth = 0;\n        });\n    }\n    pushTrace(data) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const depth = data.depth + 1; // geth starts the depth from 1\n            if (!this.processingHash) {\n                console.log('no tx processing');\n                return;\n            }\n            let previousopcode;\n            if (this.vmTraces[this.processingHash] && this.vmTraces[this.processingHash].structLogs[this.processingIndex - 1]) {\n                previousopcode = this.vmTraces[this.processingHash].structLogs[this.processingIndex - 1];\n            }\n            if (this.previousDepth > depth && previousopcode) {\n                // returning from context, set error it is not STOP, RETURN\n                previousopcode.invalidDepthChange = previousopcode.op !== 'RETURN' && previousopcode.op !== 'STOP';\n            }\n            const step = {\n                stack: (0, util_1.hexListFromBNs)(data.stack),\n                memory: (0, util_1.formatMemory)(data.memory),\n                storage: data.storage,\n                op: data.opcode.name,\n                pc: data.pc,\n                gasCost: data.opcode.fee.toString(),\n                gas: data.gasLeft.toString(),\n                depth: depth,\n                error: data.error === false ? undefined : data.error\n            };\n            this.vmTraces[this.processingHash].structLogs.push(step);\n            // Track hardhat console.log call\n            if (step.op === 'STATICCALL' && step.stack[step.stack.length - 2] === '0x000000000000000000000000000000000000000000636f6e736f6c652e6c6f67') {\n                const stackLength = step.stack.length;\n                const payloadStart = parseInt(step.stack[stackLength - 3], 16);\n                const memory = step.memory.join('');\n                let payload = memory.substring(payloadStart * 2, memory.length);\n                const fnselectorStr = payload.substring(0, 8);\n                const fnselectorStrInHex = '0x' + fnselectorStr;\n                const fnselector = parseInt(fnselectorStrInHex);\n                const fnArgs = hhconsoleSigs_1.ConsoleLogs[fnselector];\n                const iface = new ethers_1.ethers.utils.Interface([`function log${fnArgs} view`]);\n                const functionDesc = iface.getFunction(`log${fnArgs}`);\n                const sigHash = iface.getSighash(`log${fnArgs}`);\n                if (fnArgs.includes('uint') && sigHash !== fnselectorStrInHex) {\n                    payload = payload.replace(fnselectorStr, sigHash);\n                }\n                else {\n                    payload = '0x' + payload;\n                }\n                const consoleArgs = iface.decodeFunctionData(functionDesc, payload);\n                this.hhLogs[this.processingHash] = this.hhLogs[this.processingHash] ? this.hhLogs[this.processingHash] : [];\n                this.hhLogs[this.processingHash].push(consoleArgs);\n            }\n            if (step.op === 'CREATE' || step.op === 'CALL') {\n                if (step.op === 'CREATE') {\n                    this.processingAddress = '(Contract Creation - Step ' + this.processingIndex + ')';\n                    this.storageCache[this.processingHash][this.processingAddress] = {};\n                    this.lastProcessedStorageTxHash[this.processingAddress] = this.processingHash;\n                }\n                else {\n                    this.processingAddress = (0, uiHelper_1.normalizeHexAddress)(step.stack[step.stack.length - 2]);\n                    this.processingAddress = (0, ethereumjs_util_1.toChecksumAddress)(this.processingAddress);\n                    if (!this.storageCache[this.processingHash][this.processingAddress]) {\n                        const account = ethereumjs_util_1.Address.fromString(this.processingAddress);\n                        try {\n                            const storage = yield this.vm.stateManager.dumpStorage(account);\n                            this.storageCache[this.processingHash][this.processingAddress] = storage;\n                            this.lastProcessedStorageTxHash[this.processingAddress] = this.processingHash;\n                        }\n                        catch (e) {\n                            console.log(e);\n                        }\n                    }\n                }\n            }\n            if (previousopcode && previousopcode.op === 'SHA3') {\n                const preimage = this.getSha3Input(previousopcode.stack, previousopcode.memory);\n                const imageHash = step.stack[step.stack.length - 1].replace('0x', '');\n                this.sha3Preimages[imageHash] = {\n                    preimage: preimage\n                };\n            }\n            this.processingIndex++;\n            this.previousDepth = depth;\n        });\n    }\n    getCode(address, cb) {\n        address = (0, ethereumjs_util_1.toChecksumAddress)(address);\n        this.vm.stateManager.getContractCode(ethereumjs_util_1.Address.fromString(address)).then((result) => {\n            cb(null, (0, ethereumjs_util_1.bufferToHex)(result));\n        }).catch((error) => {\n            cb(error);\n        });\n    }\n    setProvider(provider) { }\n    traceTransaction(txHash, options, cb) {\n        if (this.vmTraces[txHash]) {\n            if (cb) {\n                cb(null, this.vmTraces[txHash]);\n            }\n            return this.vmTraces[txHash];\n        }\n        if (cb) {\n            cb('unable to retrieve traces ' + txHash, null);\n        }\n    }\n    storageRangeAt(blockNumber, txIndex, address, start, maxLength, cb) {\n        // we don't use the range params here\n        address = (0, ethereumjs_util_1.toChecksumAddress)(address);\n        if (txIndex === 'latest') {\n            txIndex = this.lastProcessedStorageTxHash[address];\n        }\n        if (this.storageCache[txIndex] && this.storageCache[txIndex][address]) {\n            const storage = this.storageCache[txIndex][address];\n            return cb(null, {\n                storage: JSON.parse(JSON.stringify(storage)),\n                nextKey: null\n            });\n        }\n        // Before https://github.com/ethereum/remix-project/pull/1703, it used to throw error as\n        // 'unable to retrieve storage ' + txIndex + ' ' + address\n        cb(null, { storage: {} });\n    }\n    getBlockNumber(cb) { cb(null, 'vm provider'); }\n    getTransaction(txHash, cb) {\n        if (this.txs[txHash]) {\n            if (cb) {\n                cb(null, this.txs[txHash]);\n            }\n            return this.txs[txHash];\n        }\n        if (cb) {\n            cb('unable to retrieve tx ' + txHash, null);\n        }\n    }\n    getTransactionReceipt(txHash, cb) {\n        // same as getTransaction but return the created address also\n        if (this.txsReceipt[txHash]) {\n            if (cb) {\n                cb(null, this.txsReceipt[txHash]);\n            }\n            return this.txsReceipt[txHash];\n        }\n        if (cb) {\n            cb('unable to retrieve txReceipt ' + txHash, null);\n        }\n    }\n    getTransactionFromBlock(blockNumber, txIndex, cb) {\n        const mes = 'not supposed to be needed by remix in vmmode';\n        console.log(mes);\n        if (cb) {\n            cb(mes, null);\n        }\n    }\n    preimage(hashedKey, cb) {\n        hashedKey = hashedKey.replace('0x', '');\n        cb(null, this.sha3Preimages[hashedKey] !== undefined ? this.sha3Preimages[hashedKey].preimage : null);\n    }\n    getSha3Input(stack, memory) {\n        let memoryStart = stack[stack.length - 1];\n        let memoryLength = stack[stack.length - 2];\n        const memStartDec = (new ethereumjs_util_1.BN(memoryStart.replace('0x', ''), 16)).toString(10);\n        memoryStart = parseInt(memStartDec) * 2;\n        const memLengthDec = (new ethereumjs_util_1.BN(memoryLength.replace('0x', ''), 16).toString(10));\n        memoryLength = parseInt(memLengthDec) * 2;\n        let i = Math.floor(memoryStart / 32);\n        const maxIndex = Math.floor(memoryLength / 32) + i;\n        if (!memory[i]) {\n            return this.emptyFill(memoryLength);\n        }\n        let sha3Input = memory[i].slice(memoryStart - 32 * i);\n        i++;\n        while (i < maxIndex) {\n            sha3Input += memory[i] ? memory[i] : this.emptyFill(32);\n            i++;\n        }\n        if (sha3Input.length < memoryLength) {\n            const leftSize = memoryLength - sha3Input.length;\n            sha3Input += memory[i] ? memory[i].slice(0, leftSize) : this.emptyFill(leftSize);\n        }\n        return sha3Input;\n    }\n    emptyFill(size) {\n        return (new Array(size)).join('0');\n    }\n}\nexports.Web3VmProvider = Web3VmProvider;\n//# sourceMappingURL=web3VmProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateBlock = void 0;\nconst block_1 = require(\"@ethereumjs/block\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nfunction generateBlock(vmContext) {\n    return new Promise((resolve, reject) => {\n        const block = block_1.Block.fromBlockData({\n            header: {\n                timestamp: (new Date().getTime() / 1000 | 0),\n                number: 0,\n                coinbase: '0x0e9281e9c6a0808672eaba6bd1220e144c9bb07a',\n                difficulty: new ethereumjs_util_1.BN('69762765929000', 10),\n                gasLimit: new ethereumjs_util_1.BN('8000000').imuln(1)\n            }\n        }, { common: vmContext.vmObject().common });\n        vmContext.vm().runBlock({ block: block, generate: true, skipBlockValidation: true, skipBalance: false }).then(() => {\n            vmContext.addBlock(block);\n            resolve({});\n        }).catch((e) => reject(e));\n    });\n}\nexports.generateBlock = generateBlock;\n//# sourceMappingURL=genesis.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extend = exports.Provider = void 0;\nvar provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"Provider\", { enumerable: true, get: function () { return provider_1.Provider; } });\nObject.defineProperty(exports, \"extend\", { enumerable: true, get: function () { return provider_1.extend; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Accounts = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst crypto = (0, tslib_1.__importStar)(require(\"crypto\"));\nclass Accounts {\n    constructor(vmContext) {\n        this.web3 = new web3_1.default();\n        this.vmContext = vmContext;\n        // TODO: make it random and/or use remix-libs\n        this.accounts = {};\n        this.accountsKeys = {};\n    }\n    resetAccounts() {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.accounts = {};\n            this.accountsKeys = {};\n            yield this._addAccount('503f38a9c967ed597e47fe25643985f032b072db8075426a92110f82df48dfcb', '0x56BC75E2D63100000');\n            yield this._addAccount('7e5bfb82febc4c2c8529167104271ceec190eafdca277314912eaabdb67c6e5f', '0x56BC75E2D63100000');\n            yield this._addAccount('cc6d63f85de8fef05446ebdd3c537c72152d0fc437fd7aa62b3019b79bd1fdd4', '0x56BC75E2D63100000');\n            yield this._addAccount('638b5c6c8c5903b15f0d3bf5d3f175c64e6e98a10bdb9768a2003bf773dcb86a', '0x56BC75E2D63100000');\n            yield this._addAccount('f49bf239b6e554fdd08694fde6c67dac4d01c04e0dda5ee11abee478983f3bc0', '0x56BC75E2D63100000');\n            yield this._addAccount('adeee250542d3790253046eee928d8058fd544294a5219bea152d1badbada395', '0x56BC75E2D63100000');\n            yield this._addAccount('097ffe12069dcb3c3d99e6771e2cbf491a9b8b2f93ff4d3468f550c5e8264755', '0x56BC75E2D63100000');\n            yield this._addAccount('5f58e8b9f1867ef00578b6f03e159428ab168f776aa445bc3ecdb02c7db8e865', '0x56BC75E2D63100000');\n            yield this._addAccount('290e721ac87c7b3f31bef7b70104b9280ed3fa1425a59451490c9c02bf50d08f', '0x56BC75E2D63100000');\n            yield this._addAccount('27efe944ff128cf510ab447b529eec28772f13bf65ebf1cbd504192c4f26e9d8', '0x56BC75E2D63100000');\n            yield this._addAccount('3cd7232cd6f3fc66a57a6bedc1a8ed6c228fff0a327e169c2bcc5e869ed49511', '0x56BC75E2D63100000');\n            yield this._addAccount('2ac6c190b09897cd8987869cc7b918cfea07ee82038d492abce033c75c1b1d0c', '0x56BC75E2D63100000');\n            yield this._addAccount('dae9801649ba2d95a21e688b56f77905e5667c44ce868ec83f82e838712a2c7a', '0x56BC75E2D63100000');\n            yield this._addAccount('d74aa6d18aa79a05f3473dd030a97d3305737cbc8337d940344345c1f6b72eea', '0x56BC75E2D63100000');\n            yield this._addAccount('71975fbf7fe448e004ac7ae54cad0a383c3906055a65468714156a07385e96ce', '0x56BC75E2D63100000');\n        });\n    }\n    _addAccount(privateKey, balance) {\n        return new Promise((resolve, reject) => {\n            privateKey = Buffer.from(privateKey, 'hex');\n            const address = (0, ethereumjs_util_1.privateToAddress)(privateKey);\n            const addressStr = (0, ethereumjs_util_1.toChecksumAddress)('0x' + address.toString('hex'));\n            this.accounts[addressStr] = { privateKey, nonce: 0 };\n            this.accountsKeys[addressStr] = '0x' + privateKey.toString('hex');\n            const stateManager = this.vmContext.vm().stateManager;\n            stateManager.getAccount(ethereumjs_util_1.Address.fromString(addressStr)).then((account) => {\n                account.balance = new ethereumjs_util_1.BN(balance.replace('0x', '') || 'f00000000000000001', 16);\n                stateManager.putAccount(ethereumjs_util_1.Address.fromString(addressStr), account).catch((error) => {\n                    reject(error);\n                }).then(() => {\n                    resolve({});\n                });\n            }).catch((error) => {\n                reject(error);\n            });\n        });\n    }\n    newAccount(cb) {\n        let privateKey;\n        do {\n            privateKey = crypto.randomBytes(32);\n        } while (!(0, ethereumjs_util_1.isValidPrivate)(privateKey));\n        this._addAccount(privateKey, '0x56BC75E2D63100000');\n        return cb(null, '0x' + (0, ethereumjs_util_1.privateToAddress)(privateKey).toString('hex'));\n    }\n    methods() {\n        return {\n            eth_accounts: this.eth_accounts.bind(this),\n            eth_getBalance: this.eth_getBalance.bind(this),\n            eth_sign: this.eth_sign.bind(this)\n        };\n    }\n    eth_accounts(_payload, cb) {\n        return cb(null, Object.keys(this.accounts));\n    }\n    eth_getBalance(payload, cb) {\n        const address = payload.params[0];\n        this.vmContext.vm().stateManager.getAccount(ethereumjs_util_1.Address.fromString(address)).then((account) => {\n            cb(null, new ethereumjs_util_1.BN(account.balance).toString(10));\n        }).catch((error) => {\n            cb(error);\n        });\n    }\n    eth_sign(payload, cb) {\n        const address = payload.params[0];\n        const message = payload.params[1];\n        const privateKey = this.accountsKeys[(0, ethereumjs_util_1.toChecksumAddress)(address)];\n        if (!privateKey) {\n            return cb(new Error('unknown account'));\n        }\n        const account = this.web3.eth.accounts.privateKeyToAccount(privateKey);\n        const data = account.sign(message);\n        cb(null, data.signature);\n    }\n}\nexports.Accounts = Accounts;\n//# sourceMappingURL=accounts.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Blocks = void 0;\nclass Blocks {\n    constructor(vmContext, _options) {\n        this.vmContext = vmContext;\n        const options = _options || {};\n        this.coinbase = options.coinbase || '0x0000000000000000000000000000000000000000';\n    }\n    methods() {\n        return {\n            eth_getBlockByNumber: this.eth_getBlockByNumber.bind(this),\n            eth_gasPrice: this.eth_gasPrice.bind(this),\n            eth_coinbase: this.eth_coinbase.bind(this),\n            eth_blockNumber: this.eth_blockNumber.bind(this),\n            eth_getBlockByHash: this.eth_getBlockByHash.bind(this),\n            eth_getBlockTransactionCountByHash: this.eth_getBlockTransactionCountByHash.bind(this),\n            eth_getBlockTransactionCountByNumber: this.eth_getBlockTransactionCountByNumber.bind(this),\n            eth_getUncleCountByBlockHash: this.eth_getUncleCountByBlockHash.bind(this),\n            eth_getUncleCountByBlockNumber: this.eth_getUncleCountByBlockNumber.bind(this),\n            eth_getStorageAt: this.eth_getStorageAt.bind(this)\n        };\n    }\n    eth_getBlockByNumber(payload, cb) {\n        let blockIndex = payload.params[0];\n        if (blockIndex === 'latest') {\n            blockIndex = this.vmContext.latestBlockNumber;\n        }\n        if (Number.isInteger(blockIndex)) {\n            blockIndex = '0x' + blockIndex.toString(16);\n        }\n        const block = this.vmContext.blocks[blockIndex];\n        if (!block) {\n            return cb(new Error('block not found'));\n        }\n        const b = {\n            baseFeePerGas: '0x01',\n            number: this.toHex(block.header.number),\n            hash: this.toHex(block.hash()),\n            parentHash: this.toHex(block.header.parentHash),\n            nonce: this.toHex(block.header.nonce),\n            sha3Uncles: '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',\n            logsBloom: '0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331',\n            transactionsRoot: '0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421',\n            stateRoot: this.toHex(block.header.stateRoot),\n            miner: this.coinbase,\n            difficulty: this.toHex(block.header.difficulty),\n            totalDifficulty: this.toHex(block.header.totalDifficulty),\n            extraData: this.toHex(block.header.extraData),\n            size: '0x027f07',\n            gasLimit: this.toHex(block.header.gasLimit),\n            gasUsed: this.toHex(block.header.gasUsed),\n            timestamp: this.toHex(block.header.timestamp),\n            transactions: block.transactions.map((t) => '0x' + t.hash().toString('hex')),\n            uncles: []\n        };\n        cb(null, b);\n    }\n    toHex(value) {\n        if (!value)\n            return '0x0';\n        const v = value.toString('hex');\n        return ((v === '0x' || v === '') ? '0x0' : ('0x' + v));\n    }\n    eth_getBlockByHash(payload, cb) {\n        const block = this.vmContext.blocks[payload.params[0]];\n        const b = {\n            baseFeePerGas: '0x01',\n            number: this.toHex(block.header.number),\n            hash: this.toHex(block.hash()),\n            parentHash: this.toHex(block.header.parentHash),\n            nonce: this.toHex(block.header.nonce),\n            sha3Uncles: '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',\n            logsBloom: '0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331',\n            transactionsRoot: '0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421',\n            stateRoot: this.toHex(block.header.stateRoot),\n            miner: this.coinbase,\n            difficulty: this.toHex(block.header.difficulty),\n            totalDifficulty: this.toHex(block.header.totalDifficulty),\n            extraData: this.toHex(block.header.extraData),\n            size: '0x027f07',\n            gasLimit: this.toHex(block.header.gasLimit),\n            gasUsed: this.toHex(block.header.gasUsed),\n            timestamp: this.toHex(block.header.timestamp),\n            transactions: block.transactions.map((t) => '0x' + t.hash().toString('hex')),\n            uncles: []\n        };\n        cb(null, b);\n    }\n    eth_gasPrice(payload, cb) {\n        cb(null, 1);\n    }\n    eth_coinbase(payload, cb) {\n        cb(null, this.coinbase);\n    }\n    eth_blockNumber(payload, cb) {\n        cb(null, parseInt(this.vmContext.latestBlockNumber));\n    }\n    eth_getBlockTransactionCountByHash(payload, cb) {\n        const block = this.vmContext.blocks[payload.params[0]];\n        cb(null, block.transactions.length);\n    }\n    eth_getBlockTransactionCountByNumber(payload, cb) {\n        const block = this.vmContext.blocks[payload.params[0]];\n        cb(null, block.transactions.length);\n    }\n    eth_getUncleCountByBlockHash(payload, cb) {\n        cb(null, 0);\n    }\n    eth_getUncleCountByBlockNumber(payload, cb) {\n        cb(null, 0);\n    }\n    eth_getStorageAt(payload, cb) {\n        const [address, position, blockNumber] = payload.params;\n        this.vmContext.web3().debug.storageRangeAt(blockNumber, 'latest', address.toLowerCase(), position, 1, (err, result) => {\n            if (err || (result.storage && Object.values(result.storage).length === 0)) {\n                return cb(err, '');\n            }\n            const value = Object.values(result.storage)[0]['value'];\n            cb(err, value);\n        });\n    }\n}\nexports.Blocks = Blocks;\n//# sourceMappingURL=blocks.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Debug = void 0;\nclass Debug {\n    constructor(vmContext) {\n        this.vmContext = vmContext;\n    }\n    methods() {\n        return {\n            debug_traceTransaction: this.debug_traceTransaction.bind(this),\n            debug_preimage: this.debug_preimage.bind(this),\n            debug_storageRangeAt: this.debug_storageRangeAt.bind(this)\n        };\n    }\n    debug_traceTransaction(payload, cb) {\n        this.vmContext.web3().debug.traceTransaction(payload.params[0], {}, cb);\n    }\n    debug_preimage(payload, cb) {\n        this.vmContext.web3().debug.preimage(payload.params[0], cb);\n    }\n    debug_storageRangeAt(payload, cb) {\n        this.vmContext.web3().debug.storageRangeAt(payload.params[0], payload.params[1], payload.params[2], payload.params[3], payload.params[4], cb);\n    }\n}\nexports.Debug = Debug;\n//# sourceMappingURL=debug.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Filters = void 0;\nclass Filters {\n    constructor(vmContext) {\n        this.vmContext = vmContext;\n    }\n    methods() {\n        return {\n            eth_getLogs: this.eth_getLogs.bind(this),\n            eth_subscribe: this.eth_subscribe.bind(this),\n            eth_unsubscribe: this.eth_unsubscribe.bind(this)\n        };\n    }\n    eth_getLogs(payload, cb) {\n        const results = this.vmContext.logsManager.getLogsFor(payload.params[0]);\n        cb(null, results);\n    }\n    eth_subscribe(payload, cb) {\n        const subscriptionId = this.vmContext.logsManager.subscribe(payload.params);\n        cb(null, subscriptionId);\n    }\n    eth_unsubscribe(payload, cb) {\n        this.vmContext.logsManager.unsubscribe(payload.params[0]);\n        cb(null, true);\n    }\n    eth_newFilter(payload, cb) {\n        const filterId = this.vmContext.logsManager.newFilter('filter', payload.params[0]);\n        cb(null, filterId);\n    }\n    eth_newBlockFilter(payload, cb) {\n        const filterId = this.vmContext.logsManager.newFilter('block');\n        cb(null, filterId);\n    }\n    eth_newPendingTransactionFilter(payload, cb) {\n        const filterId = this.vmContext.logsManager.newFilter('pendingTransactions');\n        cb(null, filterId);\n    }\n    eth_uninstallfilter(payload, cb) {\n        const result = this.vmContext.logsManager.uninstallFilter(payload.params[0]);\n        cb(null, result);\n    }\n    eth_getFilterChanges(payload, cb) {\n        const filterId = payload.params[0];\n        const results = this.vmContext.logsManager.getLogsForFilter(filterId);\n        cb(null, results);\n    }\n    eth_getFilterLogs(payload, cb) {\n        const filterId = payload.params[0];\n        const results = this.vmContext.logsManager.getLogsForFilter(filterId, true);\n        cb(null, results);\n    }\n}\nexports.Filters = Filters;\n//# sourceMappingURL=filters.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.eth_compileSerpent = exports.eth_compileLLL = exports.eth_compileSolidity = exports.eth_getCompilers = exports.web3_sha3 = exports.eth_hashrate = exports.eth_mining = exports.eth_syncing = exports.eth_protocolVersion = exports.web3_clientVersion = exports.methods = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst version = require('../../package.json').version;\nfunction methods() {\n    return {\n        web3_clientVersion: web3_clientVersion,\n        eth_protocolVersion: eth_protocolVersion,\n        eth_syncing: eth_syncing,\n        eth_mining: eth_mining,\n        eth_hashrate: eth_hashrate,\n        web3_sha3: web3_sha3,\n        eth_getCompilers: eth_getCompilers,\n        eth_compileSolidity: eth_compileSolidity,\n        eth_compileLLL: eth_compileLLL,\n        eth_compileSerpent: eth_compileSerpent\n    };\n}\nexports.methods = methods;\nfunction web3_clientVersion(payload, cb) {\n    cb(null, 'Remix Simulator/' + version);\n}\nexports.web3_clientVersion = web3_clientVersion;\nfunction eth_protocolVersion(payload, cb) {\n    cb(null, '0x3f');\n}\nexports.eth_protocolVersion = eth_protocolVersion;\nfunction eth_syncing(payload, cb) {\n    cb(null, false);\n}\nexports.eth_syncing = eth_syncing;\nfunction eth_mining(payload, cb) {\n    // TODO: should depend on the state\n    cb(null, false);\n}\nexports.eth_mining = eth_mining;\nfunction eth_hashrate(payload, cb) {\n    cb(null, '0x0');\n}\nexports.eth_hashrate = eth_hashrate;\nfunction web3_sha3(payload, cb) {\n    const str = payload.params[0];\n    cb(null, web3_1.default.utils.sha3(str));\n}\nexports.web3_sha3 = web3_sha3;\nfunction eth_getCompilers(payload, cb) {\n    cb(null, []);\n}\nexports.eth_getCompilers = eth_getCompilers;\nfunction eth_compileSolidity(payload, cb) {\n    cb(null, 'unsupported');\n}\nexports.eth_compileSolidity = eth_compileSolidity;\nfunction eth_compileLLL(payload, cb) {\n    cb(null, 'unsupported');\n}\nexports.eth_compileLLL = eth_compileLLL;\nfunction eth_compileSerpent(payload, cb) {\n    cb(null, 'unsupported');\n}\nexports.eth_compileSerpent = eth_compileSerpent;\n//# sourceMappingURL=misc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.net_peerCount = exports.net_listening = exports.net_version = exports.methods = void 0;\nfunction methods() {\n    return {\n        net_version: net_version,\n        net_listening: net_listening,\n        net_peerCount: net_peerCount\n    };\n}\nexports.methods = methods;\nfunction net_version(payload, cb) {\n    // should be configured networkId\n    cb(null, 1337);\n}\nexports.net_version = net_version;\nfunction net_listening(payload, cb) {\n    cb(null, true);\n}\nexports.net_listening = net_listening;\nfunction net_peerCount(payload, cb) {\n    cb(null, 0);\n}\nexports.net_peerCount = net_peerCount;\n//# sourceMappingURL=net.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transactions = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst txProcess_1 = require(\"./txProcess\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst TxRunnerVM = remix_lib_1.execution.TxRunnerVM;\nconst TxRunner = remix_lib_1.execution.TxRunner;\nclass Transactions {\n    constructor(vmContext) {\n        this.TX_INDEX = '0x0'; // currently there's always only 1 tx per block, so the transaction index will always be 0x0\n        this.vmContext = vmContext;\n        this.tags = {};\n    }\n    init(accounts) {\n        this.accounts = accounts;\n        const api = {\n            logMessage: (msg) => {\n            },\n            logHtmlMessage: (msg) => {\n            },\n            config: {\n                getUnpersistedProperty: (key) => {\n                    return true;\n                },\n                get: () => {\n                    return true;\n                }\n            },\n            detectNetwork: (cb) => {\n                cb();\n            },\n            personalMode: () => {\n                return false;\n            }\n        };\n        this.txRunnerVMInstance = new TxRunnerVM(accounts, api, _ => this.vmContext.vmObject());\n        this.txRunnerInstance = new TxRunner(this.txRunnerVMInstance, { runAsync: false });\n        this.txRunnerInstance.vmaccounts = accounts;\n    }\n    methods() {\n        return {\n            eth_sendTransaction: this.eth_sendTransaction.bind(this),\n            eth_getTransactionReceipt: this.eth_getTransactionReceipt.bind(this),\n            eth_getCode: this.eth_getCode.bind(this),\n            eth_call: this.eth_call.bind(this),\n            eth_estimateGas: this.eth_estimateGas.bind(this),\n            eth_getTransactionCount: this.eth_getTransactionCount.bind(this),\n            eth_getTransactionByHash: this.eth_getTransactionByHash.bind(this),\n            eth_getTransactionByBlockHashAndIndex: this.eth_getTransactionByBlockHashAndIndex.bind(this),\n            eth_getTransactionByBlockNumberAndIndex: this.eth_getTransactionByBlockNumberAndIndex.bind(this),\n            eth_getExecutionResultFromSimulator: this.eth_getExecutionResultFromSimulator.bind(this),\n            eth_getHHLogsForTx: this.eth_getHHLogsForTx.bind(this),\n            eth_getHashFromTagBySimulator: this.eth_getHashFromTagBySimulator.bind(this)\n        };\n    }\n    eth_sendTransaction(payload, cb) {\n        // from might be lowercased address (web3)\n        if (payload.params && payload.params.length > 0 && payload.params[0].from) {\n            payload.params[0].from = (0, ethereumjs_util_1.toChecksumAddress)(payload.params[0].from);\n        }\n        (0, txProcess_1.processTx)(this.txRunnerInstance, payload, false, (error, result) => {\n            if (!error && result) {\n                this.vmContext.addBlock(result.block);\n                const hash = '0x' + result.tx.hash().toString('hex');\n                this.vmContext.trackTx(hash, result.block, result.tx);\n                this.vmContext.trackExecResult(hash, result.result.execResult);\n                return cb(null, result.transactionHash);\n            }\n            cb(error);\n        });\n    }\n    eth_getExecutionResultFromSimulator(payload, cb) {\n        const txHash = payload.params[0];\n        cb(null, this.vmContext.exeResults[txHash]);\n    }\n    eth_getHHLogsForTx(payload, cb) {\n        const txHash = payload.params[0];\n        cb(null, this.vmContext.currentVm.web3vm.hhLogs[txHash] ? this.vmContext.currentVm.web3vm.hhLogs[txHash] : []);\n    }\n    eth_getTransactionReceipt(payload, cb) {\n        this.vmContext.web3().eth.getTransactionReceipt(payload.params[0], (error, receipt) => {\n            if (error) {\n                return cb(error);\n            }\n            const txBlock = this.vmContext.blockByTxHash[receipt.hash];\n            const logs = this.vmContext.logsManager.getLogsByTxHash(receipt.hash);\n            const r = {\n                transactionHash: receipt.hash,\n                transactionIndex: this.TX_INDEX,\n                blockHash: '0x' + txBlock.hash().toString('hex'),\n                blockNumber: '0x' + txBlock.header.number.toString('hex'),\n                gasUsed: receipt.gasUsed,\n                cumulativeGasUsed: receipt.gasUsed,\n                contractAddress: receipt.contractAddress,\n                logs,\n                status: receipt.status,\n                to: receipt.to\n            };\n            if (r.blockNumber === '0x') {\n                r.blockNumber = '0x0';\n            }\n            cb(null, r);\n        });\n    }\n    eth_estimateGas(payload, cb) {\n        cb(null, 10000000 * 8);\n    }\n    eth_getCode(payload, cb) {\n        const address = payload.params[0];\n        this.vmContext.web3().eth.getCode(address, (error, result) => {\n            if (error) {\n                console.dir('error getting code');\n                console.dir(error);\n            }\n            cb(error, result);\n        });\n    }\n    eth_call(payload, cb) {\n        // from might be lowercased address (web3)\n        if (payload.params && payload.params.length > 0 && payload.params[0].from) {\n            payload.params[0].from = (0, ethereumjs_util_1.toChecksumAddress)(payload.params[0].from);\n        }\n        if (payload.params && payload.params.length > 0 && payload.params[0].to) {\n            payload.params[0].to = (0, ethereumjs_util_1.toChecksumAddress)(payload.params[0].to);\n        }\n        payload.params[0].value = undefined;\n        const tag = payload.params[0].timestamp; // e2e reference\n        (0, txProcess_1.processTx)(this.txRunnerInstance, payload, true, (error, result) => {\n            if (!error && result) {\n                this.vmContext.addBlock(result.block);\n                const hash = '0x' + result.tx.hash().toString('hex');\n                this.vmContext.trackTx(hash, result.block, result.tx);\n                this.vmContext.trackExecResult(hash, result.result.execResult);\n                this.tags[tag] = result.transactionHash;\n                // calls are not supposed to return a transaction hash. we do this for keeping track of it and allowing debugging calls.\n                const returnValue = `0x${result.result.execResult.returnValue.toString('hex') || '0'}`;\n                return cb(null, returnValue);\n            }\n            cb(error);\n        });\n    }\n    eth_getHashFromTagBySimulator(payload, cb) {\n        return cb(null, this.tags[payload.params[0]]);\n    }\n    eth_getTransactionCount(payload, cb) {\n        const address = payload.params[0];\n        this.vmContext.vm().stateManager.getAccount(ethereumjs_util_1.Address.fromString(address)).then((account) => {\n            const nonce = new ethereumjs_util_1.BN(account.nonce).toString(10);\n            cb(null, nonce);\n        }).catch((error) => {\n            cb(error);\n        });\n    }\n    eth_getTransactionByHash(payload, cb) {\n        const address = payload.params[0];\n        this.vmContext.web3().eth.getTransactionReceipt(address, (error, receipt) => {\n            if (error) {\n                return cb(error);\n            }\n            const txBlock = this.vmContext.blockByTxHash[receipt.transactionHash];\n            const tx = this.vmContext.txByHash[receipt.transactionHash];\n            // TODO: params to add later\n            const r = {\n                blockHash: '0x' + txBlock.hash().toString('hex'),\n                blockNumber: '0x' + txBlock.header.number.toString('hex'),\n                from: receipt.from,\n                gas: web3_1.default.utils.toHex(receipt.gas),\n                chainId: '0xd05',\n                // 'gasPrice': '2000000000000', // 0x123\n                gasPrice: '0x4a817c800',\n                hash: receipt.transactionHash,\n                input: receipt.input,\n                nonce: '0x' + tx.nonce.toString('hex'),\n                transactionIndex: this.TX_INDEX,\n                value: receipt.value\n                // \"value\":\"0xf3dbb76162000\" // 4290000000000000\n                // \"v\": \"0x25\", // 37\n                // \"r\": \"0x1b5e176d927f8e9ab405058b2d2457392da3e20f328b16ddabcebc33eaac5fea\",\n                // \"s\": \"0x4ba69724e8f69de52f0125ad8b3c5c2cef33019bac3249e2c0a2192766d1721c\"\n            };\n            if (receipt.to) {\n                r['to'] = receipt.to;\n            }\n            if (r.value === '0x') {\n                r.value = '0x0';\n            }\n            if (r.blockNumber === '0x') {\n                r.blockNumber = '0x0';\n            }\n            cb(null, r);\n        });\n    }\n    eth_getTransactionByBlockHashAndIndex(payload, cb) {\n        const txIndex = payload.params[1];\n        const txBlock = this.vmContext.blocks[payload.params[0]];\n        const txHash = '0x' + txBlock.transactions[web3_1.default.utils.toDecimal(txIndex)].hash().toString('hex');\n        this.vmContext.web3().eth.getTransactionReceipt(txHash, (error, receipt) => {\n            if (error) {\n                return cb(error);\n            }\n            const tx = this.vmContext.txByHash[receipt.transactionHash];\n            // TODO: params to add later\n            const r = {\n                blockHash: '0x' + txBlock.hash().toString('hex'),\n                blockNumber: '0x' + txBlock.header.number.toString('hex'),\n                from: receipt.from,\n                gas: web3_1.default.utils.toHex(receipt.gas),\n                chainId: '0xd05',\n                // 'gasPrice': '2000000000000', // 0x123\n                gasPrice: '0x4a817c800',\n                hash: receipt.transactionHash,\n                input: receipt.input,\n                nonce: '0x' + tx.nonce.toString('hex'),\n                transactionIndex: this.TX_INDEX,\n                value: receipt.value\n                // \"value\":\"0xf3dbb76162000\" // 4290000000000000\n                // \"v\": \"0x25\", // 37\n                // \"r\": \"0x1b5e176d927f8e9ab405058b2d2457392da3e20f328b16ddabcebc33eaac5fea\",\n                // \"s\": \"0x4ba69724e8f69de52f0125ad8b3c5c2cef33019bac3249e2c0a2192766d1721c\"\n            };\n            if (receipt.to) {\n                r['to'] = receipt.to;\n            }\n            if (r.value === '0x') {\n                r.value = '0x0';\n            }\n            cb(null, r);\n        });\n    }\n    eth_getTransactionByBlockNumberAndIndex(payload, cb) {\n        const txIndex = payload.params[1];\n        const txBlock = this.vmContext.blocks[payload.params[0]];\n        const txHash = '0x' + txBlock.transactions[web3_1.default.utils.toDecimal(txIndex)].hash().toString('hex');\n        this.vmContext.web3().eth.getTransactionReceipt(txHash, (error, receipt) => {\n            if (error) {\n                return cb(error);\n            }\n            const tx = this.vmContext.txByHash[receipt.transactionHash];\n            // TODO: params to add later\n            const r = {\n                blockHash: '0x' + txBlock.hash().toString('hex'),\n                blockNumber: '0x' + txBlock.header.number.toString('hex'),\n                from: receipt.from,\n                gas: web3_1.default.utils.toHex(receipt.gas),\n                // 'gasPrice': '2000000000000', // 0x123\n                chainId: '0xd05',\n                gasPrice: '0x4a817c800',\n                hash: receipt.transactionHash,\n                input: receipt.input,\n                nonce: '0x' + tx.nonce.toString('hex'),\n                transactionIndex: this.TX_INDEX,\n                value: receipt.value\n                // \"value\":\"0xf3dbb76162000\" // 4290000000000000\n                // \"v\": \"0x25\", // 37\n                // \"r\": \"0x1b5e176d927f8e9ab405058b2d2457392da3e20f328b16ddabcebc33eaac5fea\",\n                // \"s\": \"0x4ba69724e8f69de52f0125ad8b3c5c2cef33019bac3249e2c0a2192766d1721c\"\n            };\n            if (receipt.to) {\n                r['to'] = receipt.to;\n            }\n            if (r.value === '0x') {\n                r.value = '0x0';\n            }\n            cb(null, r);\n        });\n    }\n}\nexports.Transactions = Transactions;\n//# sourceMappingURL=transactions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.processTx = void 0;\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst TxExecution = remix_lib_1.execution.txExecution;\nfunction runCall(payload, from, to, data, value, gasLimit, txRunner, callbacks, callback) {\n    const finalCallback = function (err, result) {\n        if (err) {\n            return callback(err);\n        }\n        return callback(null, result);\n    };\n    TxExecution.callFunction(from, to, data, value, gasLimit, { constant: true }, txRunner, callbacks, finalCallback);\n}\nfunction runTx(payload, from, to, data, value, gasLimit, txRunner, callbacks, callback) {\n    const finalCallback = function (err, result) {\n        if (err) {\n            return callback(err);\n        }\n        callback(null, result);\n    };\n    TxExecution.callFunction(from, to, data, value, gasLimit, { constant: false }, txRunner, callbacks, finalCallback);\n}\nfunction createContract(payload, from, data, value, gasLimit, txRunner, callbacks, callback) {\n    const finalCallback = function (err, result) {\n        if (err) {\n            return callback(err);\n        }\n        callback(null, result);\n    };\n    TxExecution.createContract(from, data, value, gasLimit, txRunner, callbacks, finalCallback);\n}\nfunction processTx(txRunnerInstance, payload, isCall, callback) {\n    let { from, to, data, value, gas } = payload.params[0];\n    gas = gas || 3000000;\n    const callbacks = {\n        confirmationCb: (network, tx, gasEstimation, continueTxExecution, cancelCb) => {\n            continueTxExecution(null);\n        },\n        gasEstimationForceSend: (error, continueTxExecution, cancelCb) => {\n            if (error) {\n                continueTxExecution(error);\n            }\n            continueTxExecution();\n        },\n        promptCb: (okCb, cancelCb) => {\n            okCb();\n        }\n    };\n    if (isCall) {\n        runCall(payload, from, to, data, value, gas, txRunnerInstance, callbacks, callback);\n    }\n    else if (to) {\n        runTx(payload, from, to, data, value, gas, txRunnerInstance, callbacks, callback);\n    }\n    else {\n        createContract(payload, from, data, value, gas, txRunnerInstance, callbacks, callback);\n    }\n}\nexports.processTx = processTx;\n//# sourceMappingURL=txProcess.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extend = exports.Provider = void 0;\nconst tslib_1 = require(\"tslib\");\nconst blocks_1 = require(\"./methods/blocks\");\nconst logs_1 = require(\"./utils/logs\");\nconst merge_1 = (0, tslib_1.__importDefault)(require(\"merge\"));\nconst accounts_1 = require(\"./methods/accounts\");\nconst filters_1 = require(\"./methods/filters\");\nconst misc_1 = require(\"./methods/misc\");\nconst net_1 = require(\"./methods/net\");\nconst transactions_1 = require(\"./methods/transactions\");\nconst debug_1 = require(\"./methods/debug\");\nconst genesis_1 = require(\"./genesis\");\nconst vm_context_1 = require(\"./vm-context\");\nclass Provider {\n    constructor(options = {}) {\n        this.options = options;\n        this.connected = true;\n        this.vmContext = new vm_context_1.VMContext(options['fork']);\n        this.Accounts = new accounts_1.Accounts(this.vmContext);\n        this.Transactions = new transactions_1.Transactions(this.vmContext);\n        this.methods = {};\n        this.methods = (0, merge_1.default)(this.methods, this.Accounts.methods());\n        this.methods = (0, merge_1.default)(this.methods, (new blocks_1.Blocks(this.vmContext, options)).methods());\n        this.methods = (0, merge_1.default)(this.methods, (0, misc_1.methods)());\n        this.methods = (0, merge_1.default)(this.methods, (new filters_1.Filters(this.vmContext)).methods());\n        this.methods = (0, merge_1.default)(this.methods, (0, net_1.methods)());\n        this.methods = (0, merge_1.default)(this.methods, this.Transactions.methods());\n        this.methods = (0, merge_1.default)(this.methods, (new debug_1.Debug(this.vmContext)).methods());\n    }\n    init() {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield (0, genesis_1.generateBlock)(this.vmContext);\n            yield this.Accounts.resetAccounts();\n            this.Transactions.init(this.Accounts.accounts);\n        });\n    }\n    sendAsync(payload, callback) {\n        // log.info('payload method is ', payload.method) // commented because, this floods the IDE console\n        const method = this.methods[payload.method];\n        if (this.options.logDetails) {\n            (0, logs_1.info)(payload);\n        }\n        if (method) {\n            return method.call(method, payload, (err, result) => {\n                if (this.options.logDetails) {\n                    (0, logs_1.info)(err);\n                    (0, logs_1.info)(result);\n                }\n                if (err) {\n                    return callback(err);\n                }\n                const response = { id: payload.id, jsonrpc: '2.0', result: result };\n                callback(null, response);\n            });\n        }\n        callback(new Error('unknown method ' + payload.method));\n    }\n    send(payload, callback) {\n        this.sendAsync(payload, callback || function () { });\n    }\n    isConnected() {\n        return true;\n    }\n    disconnect() {\n        return false;\n    }\n    ;\n    supportsSubscriptions() {\n        return true;\n    }\n    ;\n    on(type, cb) {\n        this.vmContext.logsManager.addListener(type, cb);\n    }\n}\nexports.Provider = Provider;\nfunction extend(web3) {\n    if (!web3.extend) {\n        return;\n    }\n    // DEBUG\n    const methods = [];\n    if (!(web3.eth && web3.eth.getExecutionResultFromSimulator)) {\n        methods.push(new web3.extend.Method({\n            name: 'getExecutionResultFromSimulator',\n            call: 'eth_getExecutionResultFromSimulator',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (!(web3.eth && web3.eth.getHHLogsForTx)) {\n        methods.push(new web3.extend.Method({\n            name: 'getHHLogsForTx',\n            call: 'eth_getHHLogsForTx',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (!(web3.eth && web3.eth.getHashFromTagBySimulator)) {\n        methods.push(new web3.extend.Method({\n            name: 'getHashFromTagBySimulator',\n            call: 'eth_getHashFromTagBySimulator',\n            inputFormatter: [null],\n            params: 1\n        }));\n    }\n    if (methods.length > 0) {\n        web3.extend({\n            property: 'eth',\n            methods: methods,\n            properties: []\n        });\n    }\n}\nexports.extend = extend;\n//# sourceMappingURL=provider.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.error = exports.warn = exports.dir = exports.info = exports.log = void 0;\nconst tslib_1 = require(\"tslib\");\nconst ansi_gray_1 = (0, tslib_1.__importDefault)(require(\"ansi-gray\"));\nconst time_stamp_1 = (0, tslib_1.__importDefault)(require(\"time-stamp\"));\nconst color_support_1 = (0, tslib_1.__importDefault)(require(\"color-support\"));\nfunction hasFlag(flag) {\n    return ((typeof (process) !== 'undefined') && (process.argv.indexOf('--' + flag) !== -1));\n}\nfunction addColor(str) {\n    if (hasFlag('no-color')) {\n        return str;\n    }\n    if (hasFlag('color')) {\n        return (0, ansi_gray_1.default)(str);\n    }\n    if ((0, color_support_1.default)()) {\n        return (0, ansi_gray_1.default)(str);\n    }\n    return str;\n}\nfunction stdout(arg) {\n    if (typeof (process) === 'undefined' || !process.stdout)\n        return;\n    process.stdout.write(arg);\n}\nfunction stderr(arg) {\n    if (typeof (process) === 'undefined' || process.stderr)\n        return;\n    process.stderr.write(arg);\n}\nfunction getTimestamp() {\n    const coloredTimestamp = addColor((0, time_stamp_1.default)('HH:mm:ss'));\n    return '[' + coloredTimestamp + ']';\n}\nfunction log(...args) {\n    const time = getTimestamp();\n    stdout(time + ' ');\n    console.log(args);\n}\nexports.log = log;\nfunction info(...args) {\n    const time = getTimestamp();\n    stdout(time + ' ');\n    console.info(args);\n}\nexports.info = info;\nfunction dir(...args) {\n    const time = getTimestamp();\n    stdout(time + ' ');\n    console.dir(args);\n}\nexports.dir = dir;\nfunction warn(...args) {\n    const time = getTimestamp();\n    stderr(time + ' ');\n    console.warn(args);\n}\nexports.warn = warn;\nfunction error(...args) {\n    const time = getTimestamp();\n    stderr(time + ' ');\n    console.error(args);\n}\nexports.error = error;\n//# sourceMappingURL=logs.js.map","/* global ethereum */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VMContext = void 0;\nconst tslib_1 = require(\"tslib\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\nconst vm_1 = (0, tslib_1.__importDefault)(require(\"@ethereumjs/vm\"));\nconst common_1 = (0, tslib_1.__importDefault)(require(\"@ethereumjs/common\"));\nconst stateManager_1 = (0, tslib_1.__importDefault)(require(\"@ethereumjs/vm/dist/state/stateManager\"));\n/*\n  extend vm state manager and instanciate VM\n*/\nclass StateManagerCommonStorageDump extends stateManager_1.default {\n    constructor() {\n        super();\n        this.keyHashes = {};\n    }\n    putContractStorage(address, key, value) {\n        this.keyHashes[(0, ethereumjs_util_1.keccak)(key).toString('hex')] = (0, ethereumjs_util_1.bufferToHex)(key);\n        return super.putContractStorage(address, key, value);\n    }\n    dumpStorage(address) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this._getStorageTrie(address)\n                    .then((trie) => {\n                    const storage = {};\n                    const stream = trie.createReadStream();\n                    stream.on('data', (val) => {\n                        const value = ethereumjs_util_1.rlp.decode(val.value);\n                        storage['0x' + val.key.toString('hex')] = {\n                            key: this.keyHashes[val.key.toString('hex')],\n                            value: '0x' + value.toString('hex')\n                        };\n                    });\n                    stream.on('end', () => {\n                        resolve(storage);\n                    });\n                })\n                    .catch((e) => {\n                    reject(e);\n                });\n            });\n        });\n    }\n    getStateRoot(force = false) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            yield this._cache.flush();\n            const stateRoot = this._trie.root;\n            return stateRoot;\n        });\n    }\n    setStateRoot(stateRoot) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            if (this._checkpointCount !== 0) {\n                throw new Error('Cannot set state root with uncommitted checkpoints');\n            }\n            yield this._cache.flush();\n            if (!stateRoot.equals(this._trie.EMPTY_TRIE_ROOT)) {\n                const hasRoot = yield this._trie.checkRoot(stateRoot);\n                if (!hasRoot) {\n                    throw new Error('State trie does not contain state root');\n                }\n            }\n            this._trie.root = stateRoot;\n            this._cache.clear();\n            this._storageTries = {};\n        });\n    }\n}\n/*\n  trigger contextChanged, web3EndpointChanged\n*/\nclass VMContext {\n    constructor(fork) {\n        this.blockGasLimitDefault = 4300000;\n        this.blockGasLimit = this.blockGasLimitDefault;\n        this.currentFork = fork || 'london';\n        this.currentVm = this.createVm(this.currentFork);\n        this.blocks = {};\n        this.latestBlockNumber = 0;\n        this.blockByTxHash = {};\n        this.txByHash = {};\n        this.exeResults = {};\n        this.logsManager = new remix_lib_1.execution.LogsManager();\n    }\n    createVm(hardfork) {\n        const stateManager = new StateManagerCommonStorageDump();\n        const common = new common_1.default({ chain: 'mainnet', hardfork });\n        const vm = new vm_1.default({\n            common,\n            activatePrecompiles: true,\n            stateManager,\n            allowUnlimitedContractSize: true\n        });\n        const web3vm = new remix_lib_1.vm.Web3VMProvider();\n        web3vm.setVM(vm);\n        return { vm, web3vm, stateManager, common };\n    }\n    getCurrentFork() {\n        return this.currentFork;\n    }\n    web3() {\n        return this.currentVm.web3vm;\n    }\n    blankWeb3() {\n        return new web3_1.default();\n    }\n    vm() {\n        return this.currentVm.vm;\n    }\n    vmObject() {\n        return this.currentVm;\n    }\n    addBlock(block) {\n        let blockNumber = '0x' + block.header.number.toString('hex');\n        if (blockNumber === '0x') {\n            blockNumber = '0x0';\n        }\n        this.blocks['0x' + block.hash().toString('hex')] = block;\n        this.blocks[blockNumber] = block;\n        this.latestBlockNumber = blockNumber;\n        this.logsManager.checkBlock(blockNumber, block, this.web3());\n    }\n    trackTx(txHash, block, tx) {\n        this.blockByTxHash[txHash] = block;\n        this.txByHash[txHash] = tx;\n    }\n    trackExecResult(tx, execReult) {\n        this.exeResults[tx] = execReult;\n    }\n}\nexports.VMContext = VMContext;\n//# sourceMappingURL=vm-context.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompilerAbstract = void 0;\nconst txHelper_1 = require(\"./txHelper\");\nclass CompilerAbstract {\n    constructor(languageversion, data, source) {\n        this.languageversion = languageversion;\n        this.data = data;\n        this.source = source; // source code\n    }\n    getContracts() {\n        return this.data.contracts;\n    }\n    getContract(name) {\n        return txHelper_1.default.getContract(name, this.data.contracts);\n    }\n    visitContracts(calllback) {\n        return txHelper_1.default.visitContracts(this.data.contracts, calllback);\n    }\n    getData() {\n        return this.data;\n    }\n    getAsts() {\n        return this.data.sources; // ast\n    }\n    getSourceName(fileIndex) {\n        if (this.data && this.data.sources) {\n            return Object.keys(this.data.sources)[fileIndex];\n        }\n        else if (Object.keys(this.source.sources).length === 1) {\n            // if we don't have ast, we return the only one filename present.\n            const sourcesArray = Object.keys(this.source.sources);\n            return sourcesArray[0];\n        }\n        return null;\n    }\n    getSourceCode() {\n        return this.source;\n    }\n}\nexports.CompilerAbstract = CompilerAbstract;\n//# sourceMappingURL=compiler-abstract.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compile = void 0;\nconst tslib_1 = require(\"tslib\");\nconst compiler_utils_1 = require(\"./compiler-utils\");\nconst compiler_abstract_1 = require(\"./compiler-abstract\");\nconst compiler_1 = require(\"./compiler\");\nconst compile = (compilationTargets, settings, contentResolverCallback) => (0, tslib_1.__awaiter)(void 0, void 0, void 0, function* () {\n    const res = yield (() => {\n        return new Promise((resolve, reject) => {\n            const compiler = new compiler_1.Compiler(contentResolverCallback);\n            compiler.set('evmVersion', settings.evmVersion);\n            compiler.set('optimize', settings.optimize);\n            compiler.set('language', settings.language);\n            compiler.set('runs', settings.runs);\n            compiler.loadVersion((0, compiler_utils_1.canUseWorker)(settings.version), (0, compiler_utils_1.urlFromVersion)(settings.version));\n            compiler.event.register('compilationFinished', (success, compilationData, source) => {\n                resolve(new compiler_abstract_1.CompilerAbstract(settings.version, compilationData, source));\n            });\n            compiler.event.register('compilerLoaded', _ => compiler.compile(compilationTargets, ''));\n        });\n    })();\n    return res;\n});\nexports.compile = compile;\n//# sourceMappingURL=compiler-helpers.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (sources, opts) => {\n    const o = {\n        language: 'Solidity',\n        sources: sources,\n        settings: {\n            optimizer: {\n                enabled: opts.optimize === true || opts.optimize === 1,\n                runs: opts.runs || 200\n            },\n            libraries: opts.libraries,\n            outputSelection: {\n                '*': {\n                    '': ['ast'],\n                    '*': ['abi', 'metadata', 'devdoc', 'userdoc', 'evm.legacyAssembly', 'evm.bytecode', 'evm.deployedBytecode', 'evm.methodIdentifiers', 'evm.gasEstimates', 'evm.assembly']\n                }\n            }\n        }\n    };\n    if (opts.evmVersion) {\n        o.settings.evmVersion = opts.evmVersion;\n    }\n    if (opts.language) {\n        o.language = opts.language;\n    }\n    if (opts.language === 'Yul' && o.settings.optimizer.enabled) {\n        if (!o.settings.optimizer.details) {\n            o.settings.optimizer.details = {};\n        }\n        o.settings.optimizer.details.yul = true;\n    }\n    return JSON.stringify(o);\n};\n//# sourceMappingURL=compiler-input.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.promisedMiniXhr = exports.canUseWorker = exports.urlFromVersion = exports.pathToURL = exports.baseURLWasm = exports.baseURLBin = void 0;\nconst semver = require('semver');\nconst minixhr = require('minixhr');\n/* global Worker */\nexports.baseURLBin = 'https://binaries.soliditylang.org/bin';\nexports.baseURLWasm = 'https://binaries.soliditylang.org/wasm';\nexports.pathToURL = {};\n/**\n * Retrieves the URL of the given compiler version\n * @param version is the version of compiler with or without 'soljson-v' prefix and .js postfix\n */\nfunction urlFromVersion(version) {\n    let url;\n    if (version === 'builtin') {\n        let location = window.document.location;\n        let path = location.pathname;\n        if (!path.startsWith('/'))\n            path = '/' + path;\n        location = `${location.protocol}//${location.host}${path}assets/js`;\n        if (location.endsWith('index.html'))\n            location = location.substring(0, location.length - 10);\n        if (!location.endsWith('/'))\n            location += '/';\n        url = `${location}soljson.js`;\n    }\n    else {\n        version = version.replace('.Emscripten.clang', '');\n        if (!version.startsWith('soljson-v'))\n            version = 'soljson-v' + version;\n        if (!version.endsWith('.js'))\n            version = version + '.js';\n        url = `${exports.pathToURL[version]}/${version}`;\n    }\n    return url;\n}\nexports.urlFromVersion = urlFromVersion;\n/**\n * Checks if the worker can be used to load a compiler.\n * checks a compiler whitelist, browser support and OS.\n */\nfunction canUseWorker(selectedVersion) {\n    if (selectedVersion.startsWith('http')) {\n        return browserSupportWorker();\n    }\n    const version = semver.coerce(selectedVersion);\n    if (!version) {\n        return browserSupportWorker();\n    }\n    const isNightly = selectedVersion.includes('nightly');\n    return browserSupportWorker() && (\n    // All compiler versions (including nightlies) after 0.6.3 are wasm compiled\n    semver.gt(version, '0.6.3') ||\n        // Only releases are wasm compiled starting with 0.3.6\n        (semver.gte(version, '0.3.6') && !isNightly));\n}\nexports.canUseWorker = canUseWorker;\nfunction browserSupportWorker() {\n    return document.location.protocol !== 'file:' && Worker !== undefined;\n}\n// returns a promise for minixhr\nfunction promisedMiniXhr(url) {\n    return new Promise((resolve, reject) => {\n        minixhr(url, (json, event) => {\n            resolve({ json, event });\n        });\n    });\n}\nexports.promisedMiniXhr = promisedMiniXhr;\n//# sourceMappingURL=compiler-utils.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst solc = require(\"solc/wrapper\");\nlet compileJSON = (input) => { return ''; };\nconst missingInputs = [];\n// 'DedicatedWorkerGlobalScope' object (the Worker global scope) is accessible through the self keyword\n// 'dom' and 'webworker' library files can't be included together https://github.com/microsoft/TypeScript/issues/20595\nfunction default_1(self) {\n    self.addEventListener('message', (e) => {\n        const data = e.data;\n        switch (data.cmd) {\n            case 'loadVersion':\n                {\n                    delete self.Module;\n                    // NOTE: workaround some browsers?\n                    self.Module = undefined;\n                    compileJSON = null;\n                    // importScripts() method of synchronously imports one or more scripts into the worker's scope\n                    self.importScripts(data.data);\n                    const compiler = solc(self.Module);\n                    compileJSON = (input) => {\n                        try {\n                            const missingInputsCallback = (path) => {\n                                missingInputs.push(path);\n                                return { error: 'Deferred import' };\n                            };\n                            return compiler.compile(input, { import: missingInputsCallback });\n                        }\n                        catch (exception) {\n                            return JSON.stringify({ error: 'Uncaught JavaScript exception:\\n' + exception });\n                        }\n                    };\n                    self.postMessage({\n                        cmd: 'versionLoaded',\n                        data: compiler.version()\n                    });\n                    break;\n                }\n            case 'compile':\n                missingInputs.length = 0;\n                if (data.input && compileJSON) {\n                    self.postMessage({\n                        cmd: 'compiled',\n                        job: data.job,\n                        data: compileJSON(data.input),\n                        missingInputs: missingInputs\n                    });\n                }\n                break;\n        }\n    }, false);\n}\nexports.default = default_1;\n//# sourceMappingURL=compiler-worker.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Compiler = void 0;\nconst abi_1 = require(\"solc/abi\");\nconst webworkify = require(\"webworkify-webpack\");\nconst compiler_input_1 = require(\"./compiler-input\");\nconst eventManager_1 = require(\"../lib/eventManager\");\nconst txHelper_1 = require(\"./txHelper\");\nconst types_1 = require(\"./types\");\n/*\n  trigger compilationFinished, compilerLoaded, compilationStarted, compilationDuration\n*/\nclass Compiler {\n    constructor(handleImportCall) {\n        this.handleImportCall = handleImportCall;\n        this.event = new eventManager_1.default();\n        this.state = {\n            compileJSON: null,\n            worker: null,\n            currentVersion: null,\n            optimize: false,\n            runs: 200,\n            evmVersion: null,\n            language: 'Solidity',\n            compilationStartTime: null,\n            target: null,\n            lastCompilationResult: {\n                data: null,\n                source: null\n            }\n        };\n        this.event.register('compilationFinished', (success, data, source) => {\n            if (success && this.state.compilationStartTime) {\n                this.event.trigger('compilationDuration', [(new Date().getTime()) - this.state.compilationStartTime]);\n            }\n            this.state.compilationStartTime = null;\n        });\n        this.event.register('compilationStarted', () => {\n            this.state.compilationStartTime = new Date().getTime();\n        });\n    }\n    /**\n     * @dev Setter function for CompilerState's properties (used by IDE)\n     * @param key key\n     * @param value value of key in CompilerState\n     */\n    set(key, value) {\n        this.state[key] = value;\n        if (key === 'runs')\n            this.state['runs'] = parseInt(value);\n    }\n    /**\n     * @dev Internal function to compile the contract after gathering imports\n     * @param files source file\n     * @param missingInputs missing import file path list\n     */\n    internalCompile(files, missingInputs) {\n        this.gatherImports(files, missingInputs, (error, input) => {\n            if (error) {\n                this.state.lastCompilationResult = null;\n                this.event.trigger('compilationFinished', [false, { error: { formattedMessage: error, severity: 'error' } }, files]);\n            }\n            else if (this.state.compileJSON && input) {\n                this.state.compileJSON(input);\n            }\n        });\n    }\n    /**\n     * @dev Compile source files (used by IDE)\n     * @param files source files\n     * @param target target file name (This is passed as it is to IDE)\n     */\n    compile(files, target) {\n        this.state.target = target;\n        this.event.trigger('compilationStarted', []);\n        this.internalCompile(files);\n    }\n    /**\n     * @dev Called when compiler is loaded, set current compiler version\n     * @param version compiler version\n     */\n    onCompilerLoaded(version) {\n        this.state.currentVersion = version;\n        this.event.trigger('compilerLoaded', [version]);\n    }\n    /**\n     * @dev Called when compiler is loaded internally (without worker)\n     */\n    onInternalCompilerLoaded() {\n        if (this.state.worker === null) {\n            const compiler = typeof (window) !== 'undefined' && window['Module'] ? require('solc/wrapper')(window['Module']) : require('solc');\n            this.state.compileJSON = (source) => {\n                const missingInputs = [];\n                const missingInputsCallback = (path) => {\n                    missingInputs.push(path);\n                    return { error: 'Deferred import' };\n                };\n                let result = {};\n                try {\n                    if (source && source.sources) {\n                        const { optimize, runs, evmVersion, language } = this.state;\n                        const input = (0, compiler_input_1.default)(source.sources, { optimize, runs, evmVersion, language });\n                        result = JSON.parse(compiler.compile(input, { import: missingInputsCallback }));\n                    }\n                }\n                catch (exception) {\n                    result = { error: { formattedMessage: 'Uncaught JavaScript exception:\\n' + exception, severity: 'error', mode: 'panic' } };\n                }\n                this.onCompilationFinished(result, missingInputs, source);\n            };\n            this.onCompilerLoaded(compiler.version());\n        }\n    }\n    /**\n     * @dev Called when compilation is finished\n     * @param data compilation result data\n     * @param missingInputs missing imports\n     * @param source Source\n     */\n    onCompilationFinished(data, missingInputs, source) {\n        let noFatalErrors = true; // ie warnings are ok\n        const checkIfFatalError = (error) => {\n            // Ignore warnings and the 'Deferred import' error as those are generated by us as a workaround\n            const isValidError = (error.message && error.message.includes('Deferred import')) ? false : error.severity !== 'warning';\n            if (isValidError)\n                noFatalErrors = false;\n        };\n        if (data.error)\n            checkIfFatalError(data.error);\n        if (data.errors)\n            data.errors.forEach((err) => checkIfFatalError(err));\n        if (!noFatalErrors) {\n            // There are fatal errors, abort here\n            this.state.lastCompilationResult = null;\n            this.event.trigger('compilationFinished', [false, data, source]);\n        }\n        else if (missingInputs !== undefined && missingInputs.length > 0 && source && source.sources) {\n            // try compiling again with the new set of inputs\n            this.internalCompile(source.sources, missingInputs);\n        }\n        else {\n            data = this.updateInterface(data);\n            if (source) {\n                source.target = this.state.target;\n                this.state.lastCompilationResult = {\n                    data: data,\n                    source: source\n                };\n            }\n            this.event.trigger('compilationFinished', [true, data, source]);\n        }\n    }\n    /**\n     * @dev Load compiler using given version (used by remix-tests CLI)\n     * @param version compiler version\n     */\n    loadRemoteVersion(version) {\n        console.log(`Loading remote solc version ${version} ...`);\n        const compiler = require('solc');\n        compiler.loadRemoteVersion(version, (err, remoteCompiler) => {\n            if (err) {\n                console.error('Error in loading remote solc compiler: ', err);\n            }\n            else {\n                this.state.compileJSON = (source) => {\n                    const missingInputs = [];\n                    const missingInputsCallback = (path) => {\n                        missingInputs.push(path);\n                        return { error: 'Deferred import' };\n                    };\n                    let result = {};\n                    try {\n                        if (source && source.sources) {\n                            const { optimize, runs, evmVersion, language } = this.state;\n                            const input = (0, compiler_input_1.default)(source.sources, { optimize, runs, evmVersion, language });\n                            result = JSON.parse(remoteCompiler.compile(input, { import: missingInputsCallback }));\n                        }\n                    }\n                    catch (exception) {\n                        result = { error: { formattedMessage: 'Uncaught JavaScript exception:\\n' + exception, severity: 'error', mode: 'panic' } };\n                    }\n                    this.onCompilationFinished(result, missingInputs, source);\n                };\n                this.onCompilerLoaded(version);\n            }\n        });\n    }\n    /**\n     * @dev Load compiler using given URL (used by IDE)\n     * @param usingWorker if true, load compiler using worker\n     * @param url URL to load compiler from\n     */\n    loadVersion(usingWorker, url) {\n        console.log('Loading ' + url + ' ' + (usingWorker ? 'with worker' : 'without worker'));\n        this.event.trigger('loadingCompiler', [url, usingWorker]);\n        if (this.state.worker) {\n            this.state.worker.terminate();\n            this.state.worker = null;\n        }\n        if (usingWorker) {\n            this.loadWorker(url);\n        }\n        else {\n            this.loadInternal(url);\n        }\n    }\n    /**\n     * @dev Load compiler using 'script' element (without worker)\n     * @param url URL to load compiler from\n     */\n    loadInternal(url) {\n        delete window['Module'];\n        // NOTE: workaround some browsers?\n        window['Module'] = undefined;\n        // Set a safe fallback until the new one is loaded\n        this.state.compileJSON = (source) => {\n            this.onCompilationFinished({ error: { formattedMessage: 'Compiler not yet loaded.' } });\n        };\n        const newScript = document.createElement('script');\n        newScript.type = 'text/javascript';\n        newScript.src = url;\n        document.getElementsByTagName('head')[0].appendChild(newScript);\n        const check = window.setInterval(() => {\n            if (!window['Module']) {\n                return;\n            }\n            window.clearInterval(check);\n            this.onInternalCompilerLoaded();\n        }, 200);\n    }\n    /**\n     * @dev Load compiler using web worker\n     * @param url URL to load compiler from\n     */\n    loadWorker(url) {\n        this.state.worker = webworkify(require.resolve('./compiler-worker'));\n        const jobs = [];\n        this.state.worker.addEventListener('message', (msg) => {\n            const data = msg.data;\n            switch (data.cmd) {\n                case 'versionLoaded':\n                    if (data.data)\n                        this.onCompilerLoaded(data.data);\n                    break;\n                case 'compiled':\n                    {\n                        let result;\n                        if (data.data && data.job !== undefined && data.job >= 0) {\n                            try {\n                                result = JSON.parse(data.data);\n                            }\n                            catch (exception) {\n                                result = { error: { formattedMessage: 'Invalid JSON output from the compiler: ' + exception } };\n                            }\n                            let sources = {};\n                            if (data.job in jobs !== undefined) {\n                                sources = jobs[data.job].sources;\n                                delete jobs[data.job];\n                            }\n                            this.onCompilationFinished(result, data.missingInputs, sources);\n                        }\n                        break;\n                    }\n            }\n        });\n        this.state.worker.addEventListener('error', (msg) => {\n            const formattedMessage = `Worker error: ${msg.data && msg.data !== undefined ? msg.data : msg['message']}`;\n            this.onCompilationFinished({ error: { formattedMessage } });\n        });\n        this.state.compileJSON = (source) => {\n            if (source && source.sources) {\n                const { optimize, runs, evmVersion, language } = this.state;\n                jobs.push({ sources: source });\n                this.state.worker.postMessage({\n                    cmd: 'compile',\n                    job: jobs.length - 1,\n                    input: (0, compiler_input_1.default)(source.sources, { optimize, runs, evmVersion, language })\n                });\n            }\n        };\n        this.state.worker.postMessage({\n            cmd: 'loadVersion',\n            data: url\n        });\n    }\n    /**\n     * @dev Gather imports for compilation\n     * @param files file sources\n     * @param importHints import file list\n     * @param cb callback\n     */\n    gatherImports(files, importHints, cb) {\n        importHints = importHints || [];\n        // FIXME: This will only match imports if the file begins with one '.'\n        // It should tokenize by lines and check each.\n        const importRegex = /^\\s*import\\s*['\"]([^'\"]+)['\"];/g;\n        for (const fileName in files) {\n            let match;\n            while ((match = importRegex.exec(files[fileName].content))) {\n                let importFilePath = match[1];\n                if (importFilePath.startsWith('./')) {\n                    const path = /(.*\\/).*/.exec(fileName);\n                    importFilePath = path ? importFilePath.replace('./', path[1]) : importFilePath.slice(2);\n                }\n                if (!importHints.includes(importFilePath))\n                    importHints.push(importFilePath);\n            }\n        }\n        while (importHints.length > 0) {\n            const m = importHints.pop();\n            if (m && m in files)\n                continue;\n            if (this.handleImportCall) {\n                this.handleImportCall(m, (err, content) => {\n                    if (err && cb)\n                        cb(err);\n                    else {\n                        files[m] = { content };\n                        this.gatherImports(files, importHints, cb);\n                    }\n                });\n            }\n            return;\n        }\n        if (cb) {\n            cb(null, { sources: files });\n        }\n    }\n    /**\n     * @dev Truncate version string\n     * @param version version\n     */\n    truncateVersion(version) {\n        const tmp = /^(\\d+.\\d+.\\d+)/.exec(version);\n        return tmp ? tmp[1] : version;\n    }\n    /**\n     * @dev Update ABI according to current compiler version\n     * @param data Compilation result\n     */\n    updateInterface(data) {\n        txHelper_1.default.visitContracts(data.contracts, (contract) => {\n            if (!contract.object.abi)\n                contract.object.abi = [];\n            if (this.state.language === 'Yul' && contract.object.abi.length === 0) {\n                // yul compiler does not return any abi,\n                // we default to accept the fallback function (which expect raw data as argument).\n                contract.object.abi.push({\n                    payable: true,\n                    stateMutability: 'payable',\n                    type: 'fallback'\n                });\n            }\n            if (data && data.contracts && this.state.currentVersion) {\n                const version = this.truncateVersion(this.state.currentVersion);\n                data.contracts[contract.file][contract.name].abi = (0, abi_1.update)(version, contract.object.abi);\n                // if \"constant\" , payable must not be true and stateMutability must be view.\n                // see https://github.com/ethereum/solc-js/issues/500\n                for (const item of data.contracts[contract.file][contract.name].abi) {\n                    if ((0, types_1.isFunctionDescription)(item) && item.constant) {\n                        item.payable = false;\n                        item.stateMutability = 'view';\n                    }\n                }\n            }\n        });\n        return data;\n    }\n    /**\n     * @dev Get contract obj of the given contract name from last compilation result.\n     * @param name contract name\n     */\n    getContract(name) {\n        if (this.state.lastCompilationResult && this.state.lastCompilationResult.data && this.state.lastCompilationResult.data.contracts) {\n            return txHelper_1.default.getContract(name, this.state.lastCompilationResult.data.contracts);\n        }\n        return null;\n    }\n    /**\n     * @dev Call the given callback for all the contracts from last compilation result\n     * @param cb callback\n     */\n    visitContracts(cb) {\n        if (this.state.lastCompilationResult && this.state.lastCompilationResult.data && this.state.lastCompilationResult.data.contracts) {\n            return txHelper_1.default.visitContracts(this.state.lastCompilationResult.data.contracts, cb);\n        }\n        return null;\n    }\n    /**\n     * @dev Get the compiled contracts data from last compilation result\n     */\n    getContracts() {\n        if (this.state.lastCompilationResult && this.state.lastCompilationResult.data && this.state.lastCompilationResult.data.contracts) {\n            return this.state.lastCompilationResult.data.contracts;\n        }\n        return null;\n    }\n    /**\n     * @dev Get sources from last compilation result\n     */\n    getSources() {\n        if (this.state.lastCompilationResult && this.state.lastCompilationResult.source) {\n            return this.state.lastCompilationResult.source.sources;\n        }\n        return null;\n    }\n    /**\n     * @dev Get sources of passed file name from last compilation result\n     * @param fileName file name\n     */\n    getSource(fileName) {\n        if (this.state.lastCompilationResult && this.state.lastCompilationResult.source && this.state.lastCompilationResult.source.sources) {\n            return this.state.lastCompilationResult.source.sources[fileName];\n        }\n        return null;\n    }\n    /**\n     * @dev Get source name at passed index from last compilation result\n     * @param index    - index of the source\n     */\n    getSourceName(index) {\n        if (this.state.lastCompilationResult && this.state.lastCompilationResult.data && this.state.lastCompilationResult.data.sources) {\n            return Object.keys(this.state.lastCompilationResult.data.sources)[index];\n        }\n        return null;\n    }\n}\nexports.Compiler = Compiler;\n//# sourceMappingURL=compiler.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    /**\n     * @dev Get contract obj of given contract name from last compilation result.\n     * @param name contract name\n     * @param contracts 'contracts' object from last compilation result\n     */\n    getContract: (contractName, contracts) => {\n        for (const file in contracts) {\n            if (contracts[file][contractName]) {\n                return { object: contracts[file][contractName], file: file };\n            }\n        }\n        return null;\n    },\n    /**\n     * @dev call the given callback for all contracts from last compilation result, stop visiting when cb return true\n     * @param contracts - 'contracts' object from last compilation result\n     * @param cb    - callback\n     */\n    visitContracts: (contracts, cb) => {\n        for (const file in contracts) {\n            for (const name in contracts[file]) {\n                const param = {\n                    name: name,\n                    object: contracts[file][name],\n                    file: file\n                };\n                if (cb(param))\n                    return;\n            }\n        }\n    }\n};\n//# sourceMappingURL=txHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEventDescription = exports.isFunctionDescription = void 0;\nconst isFunctionDescription = (item) => item.stateMutability !== undefined;\nexports.isFunctionDescription = isFunctionDescription;\nconst isEventDescription = (item) => item.type === 'event';\nexports.isEventDescription = isEventDescription;\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.urlFromVersion = exports.canUseWorker = exports.baseURLWasm = exports.baseURLBin = exports.pathToURL = exports.promisedMiniXhr = exports.CompilerAbstract = exports.CompilerInput = exports.compile = exports.Compiler = void 0;\nconst tslib_1 = require(\"tslib\");\nvar compiler_1 = require(\"./compiler/compiler\");\nObject.defineProperty(exports, \"Compiler\", { enumerable: true, get: function () { return compiler_1.Compiler; } });\nvar compiler_helpers_1 = require(\"./compiler/compiler-helpers\");\nObject.defineProperty(exports, \"compile\", { enumerable: true, get: function () { return compiler_helpers_1.compile; } });\nvar compiler_input_1 = require(\"./compiler/compiler-input\");\nObject.defineProperty(exports, \"CompilerInput\", { enumerable: true, get: function () { return compiler_input_1.default; } });\nvar compiler_abstract_1 = require(\"./compiler/compiler-abstract\");\nObject.defineProperty(exports, \"CompilerAbstract\", { enumerable: true, get: function () { return compiler_abstract_1.CompilerAbstract; } });\n(0, tslib_1.__exportStar)(require(\"./compiler/types\"), exports);\nvar compiler_utils_1 = require(\"./compiler/compiler-utils\");\nObject.defineProperty(exports, \"promisedMiniXhr\", { enumerable: true, get: function () { return compiler_utils_1.promisedMiniXhr; } });\nObject.defineProperty(exports, \"pathToURL\", { enumerable: true, get: function () { return compiler_utils_1.pathToURL; } });\nObject.defineProperty(exports, \"baseURLBin\", { enumerable: true, get: function () { return compiler_utils_1.baseURLBin; } });\nObject.defineProperty(exports, \"baseURLWasm\", { enumerable: true, get: function () { return compiler_utils_1.baseURLWasm; } });\nObject.defineProperty(exports, \"canUseWorker\", { enumerable: true, get: function () { return compiler_utils_1.canUseWorker; } });\nObject.defineProperty(exports, \"urlFromVersion\", { enumerable: true, get: function () { return compiler_utils_1.urlFromVersion; } });\n//# sourceMappingURL=index.js.map","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass EventManager {\n    constructor() {\n        this.registered = {}; // eslint-disable-line\n        this.anonymous = {}; // eslint-disable-line\n    }\n    /*\n     * Unregister a listener.\n     * Note that if obj is a function. the unregistration will be applied to the dummy obj {}.\n     *\n     * @param {String} eventName  - the event name\n     * @param {Object or Func} obj - object that will listen on this event\n     * @param {Func} func         - function of the listeners that will be executed\n   */\n    unregister(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        for (const reg in this.registered[eventName]) {\n            if (this.registered[eventName][reg].obj === obj && this.registered[eventName][reg].func === func) {\n                this.registered[eventName].splice(reg, 1);\n            }\n        }\n    }\n    /*\n     * Register a new listener.\n     * Note that if obj is a function, the function registration will be associated with the dummy object {}\n     *\n     * @param {String} eventName  - the event name\n     * @param {Object or Func} obj - object that will listen on this event\n     * @param {Func} func         - function of the listeners that will be executed\n    */\n    register(eventName, obj, func) {\n        if (!this.registered[eventName]) {\n            this.registered[eventName] = [];\n        }\n        if (obj instanceof Function) {\n            func = obj;\n            obj = this.anonymous;\n        }\n        this.registered[eventName].push({\n            obj: obj,\n            func: func\n        });\n    }\n    /*\n     * trigger event.\n     * Every listener have their associated function executed\n     *\n     * @param {String} eventName  - the event name\n     * @param {Array}j - argument that will be passed to the executed function.\n    */\n    trigger(eventName, args) {\n        if (!this.registered[eventName]) {\n            return;\n        }\n        for (const listener in this.registered[eventName]) {\n            const l = this.registered[eventName][listener];\n            if (l.func)\n                l.func.apply(l.obj === this.anonymous ? {} : l.obj, args);\n        }\n    }\n}\nexports.default = EventManager;\n//# sourceMappingURL=eventManager.js.map","module.exports = `// SPDX-License-Identifier: GPL-3.0\n\npragma solidity >=0.4.22 <0.9.0;\n\nlibrary Assert {\n\n  event AssertionEvent(\n    bool passed,\n    string message,\n    string methodName\n  );\n\n  event AssertionEventUint(\n    bool passed,\n    string message,\n    string methodName,\n    uint256 returned,\n    uint256 expected\n  );\n\n  event AssertionEventInt(\n    bool passed,\n    string message,\n    string methodName,\n    int256 returned,\n    int256 expected\n  );\n\n  event AssertionEventBool(\n    bool passed,\n    string message,\n    string methodName,\n    bool returned,\n    bool expected\n  );\n\n  event AssertionEventAddress(\n    bool passed,\n    string message,\n    string methodName,\n    address returned,\n    address expected\n  );\n\n  event AssertionEventBytes32(\n    bool passed,\n    string message,\n    string methodName,\n    bytes32 returned,\n    bytes32 expected\n  );\n\n  event AssertionEventString(\n    bool passed,\n    string message,\n    string methodName,\n    string returned,\n    string expected\n  );\n\n  event AssertionEventUintInt(\n    bool passed,\n    string message,\n    string methodName,\n    uint256 returned,\n    int256 expected\n  );\n\n  event AssertionEventIntUint(\n    bool passed,\n    string message,\n    string methodName,\n    int256 returned,\n    uint256 expected\n  );\n\n  function ok(bool a, string memory message) public returns (bool result) {\n    result = a;\n    emit AssertionEvent(result, message, \"ok\");\n  }\n\n  function equal(uint256 a, uint256 b, string memory message) public returns (bool result) {\n    result = (a == b);\n    emit AssertionEventUint(result, message, \"equal\", a, b);\n  }\n\n  function equal(int256 a, int256 b, string memory message) public returns (bool result) {\n    result = (a == b);\n    emit AssertionEventInt(result, message, \"equal\", a, b);\n  }\n\n  function equal(bool a, bool b, string memory message) public returns (bool result) {\n    result = (a == b);\n    emit AssertionEventBool(result, message, \"equal\", a, b);\n  }\n\n  // TODO: only for certain versions of solc\n  //function equal(fixed a, fixed b, string message) public returns (bool result) {\n  //  result = (a == b);\n  //  emit AssertionEvent(result, message);\n  //}\n\n  // TODO: only for certain versions of solc\n  //function equal(ufixed a, ufixed b, string message) public returns (bool result) {\n  //  result = (a == b);\n  //  emit AssertionEvent(result, message);\n  //}\n\n  function equal(address a, address b, string memory message) public returns (bool result) {\n    result = (a == b);\n    emit AssertionEventAddress(result, message, \"equal\", a, b);\n  }\n\n  function equal(bytes32 a, bytes32 b, string memory message) public returns (bool result) {\n    result = (a == b);\n    emit AssertionEventBytes32(result, message, \"equal\", a, b);\n  }\n\n  function equal(string memory a, string memory b, string memory message) public returns (bool result) {\n     result = (keccak256(abi.encodePacked(a)) == keccak256(abi.encodePacked(b)));\n     emit AssertionEventString(result, message, \"equal\", a, b);\n  }\n\n  function notEqual(uint256 a, uint256 b, string memory message) public returns (bool result) {\n    result = (a != b);\n    emit AssertionEventUint(result, message, \"notEqual\", a, b);\n  }\n\n  function notEqual(int256 a, int256 b, string memory message) public returns (bool result) {\n    result = (a != b);\n    emit AssertionEventInt(result, message, \"notEqual\", a, b);\n  }\n\n  function notEqual(bool a, bool b, string memory message) public returns (bool result) {\n    result = (a != b);\n    emit AssertionEventBool(result, message, \"notEqual\", a, b);\n  }\n\n  // TODO: only for certain versions of solc\n  //function notEqual(fixed a, fixed b, string message) public returns (bool result) {\n  //  result = (a != b);\n  //  emit AssertionEvent(result, message);\n  //}\n\n  // TODO: only for certain versions of solc\n  //function notEqual(ufixed a, ufixed b, string message) public returns (bool result) {\n  //  result = (a != b);\n  //  emit AssertionEvent(result, message);\n  //}\n\n  function notEqual(address a, address b, string memory message) public returns (bool result) {\n    result = (a != b);\n    emit AssertionEventAddress(result, message, \"notEqual\", a, b);\n  }\n\n  function notEqual(bytes32 a, bytes32 b, string memory message) public returns (bool result) {\n    result = (a != b);\n    emit AssertionEventBytes32(result, message, \"notEqual\", a, b);\n  }\n\n  function notEqual(string memory a, string memory b, string memory message) public returns (bool result) {\n    result = (keccak256(abi.encodePacked(a)) != keccak256(abi.encodePacked(b)));\n    emit AssertionEventString(result, message, \"notEqual\", a, b);\n  }\n\n  /*----------------- Greater than --------------------*/\n  function greaterThan(uint256 a, uint256 b, string memory message) public returns (bool result) {\n    result = (a > b);\n    emit AssertionEventUint(result, message, \"greaterThan\", a, b);\n  }\n\n  function greaterThan(int256 a, int256 b, string memory message) public returns (bool result) {\n    result = (a > b);\n    emit AssertionEventInt(result, message, \"greaterThan\", a, b);\n  }\n  // TODO: safely compare between uint and int\n  function greaterThan(uint256 a, int256 b, string memory message) public returns (bool result) {\n    if(b < int(0)) {\n      // int is negative uint \"a\" always greater\n      result = true;\n    } else {\n      result = (a > uint(b));\n    }\n    emit AssertionEventUintInt(result, message, \"greaterThan\", a, b);\n  }\n  function greaterThan(int256 a, uint256 b, string memory message) public returns (bool result) {\n    if(a < int(0)) {\n      // int is negative uint \"b\" always greater\n      result = false;\n    } else {\n      result = (uint(a) > b);\n    }\n    emit AssertionEventIntUint(result, message, \"greaterThan\", a, b);\n  }\n  /*----------------- Lesser than --------------------*/\n  function lesserThan(uint256 a, uint256 b, string memory message) public returns (bool result) {\n    result = (a < b);\n    emit AssertionEventUint(result, message, \"lesserThan\", a, b);\n  }\n\n  function lesserThan(int256 a, int256 b, string memory message) public returns (bool result) {\n    result = (a < b);\n    emit AssertionEventInt(result, message, \"lesserThan\", a, b);\n  }\n  // TODO: safely compare between uint and int\n  function lesserThan(uint256 a, int256 b, string memory message) public returns (bool result) {\n    if(b < int(0)) {\n      // int is negative int \"b\" always lesser\n      result = false;\n    } else {\n      result = (a < uint(b));\n    }\n    emit AssertionEventUintInt(result, message, \"lesserThan\", a, b);\n  }\n\n  function lesserThan(int256 a, uint256 b, string memory message) public returns (bool result) {\n    if(a < int(0)) {\n      // int is negative int \"a\" always lesser\n      result = true;\n    } else {\n      result = (uint(a) < b);\n    }\n    emit AssertionEventIntUint(result, message, \"lesserThan\", a, b);\n  }\n}\n`;\n//# sourceMappingURL=tests.sol.js.map","module.exports = `// SPDX-License-Identifier: GPL-3.0\n\npragma solidity >=0.4.22 <0.9.0;\n\nlibrary TestsAccounts {\n    function getAccount(uint index) pure public returns (address) {\n        >accounts<\n        return accounts[index];\n    }\n}\n`;\n//# sourceMappingURL=tests_accounts.sol.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst assertionEvents = [\n    {\n        name: 'AssertionEvent',\n        params: ['bool', 'string', 'string']\n    },\n    {\n        name: 'AssertionEventUint',\n        params: ['bool', 'string', 'string', 'uint256', 'uint256']\n    },\n    {\n        name: 'AssertionEventInt',\n        params: ['bool', 'string', 'string', 'int256', 'int256']\n    },\n    {\n        name: 'AssertionEventBool',\n        params: ['bool', 'string', 'string', 'bool', 'bool']\n    },\n    {\n        name: 'AssertionEventAddress',\n        params: ['bool', 'string', 'string', 'address', 'address']\n    },\n    {\n        name: 'AssertionEventBytes32',\n        params: ['bool', 'string', 'string', 'bytes32', 'bytes32']\n    },\n    {\n        name: 'AssertionEventString',\n        params: ['bool', 'string', 'string', 'string', 'string']\n    },\n    {\n        name: 'AssertionEventUintInt',\n        params: ['bool', 'string', 'string', 'uint256', 'int256']\n    },\n    {\n        name: 'AssertionEventIntUint',\n        params: ['bool', 'string', 'string', 'int256', 'uint256']\n    }\n];\nexports.default = assertionEvents;\n//# sourceMappingURL=assertionEvents.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileContractSources = exports.compileFileOrFiles = exports.writeTestAccountsContract = void 0;\nconst tslib_1 = require(\"tslib\");\nconst fileSystem_1 = (0, tslib_1.__importDefault)(require(\"./fileSystem\"));\nconst async_1 = (0, tslib_1.__importDefault)(require(\"async\"));\nconst path_1 = (0, tslib_1.__importDefault)(require(\"path\"));\nconst logger_1 = (0, tslib_1.__importDefault)(require(\"./logger\"));\nconst remix_solidity_1 = require(\"@remix-project/remix-solidity\");\nconst types_1 = require(\"./types\");\nconst logger = new logger_1.default();\nconst log = logger.logger;\nfunction regexIndexOf(inputString, regex, startpos = 0) {\n    const indexOf = inputString.substring(startpos).search(regex);\n    return (indexOf >= 0) ? (indexOf + (startpos)) : indexOf;\n}\nfunction writeTestAccountsContract(accounts) {\n    const testAccountContract = require('../sol/tests_accounts.sol');\n    let body = `address[${accounts.length}] memory accounts;`;\n    if (!accounts.length)\n        body += ';';\n    else {\n        accounts.map((address, index) => {\n            body += `\\n\\t\\taccounts[${index}] = ${address};\\n`;\n        });\n    }\n    return testAccountContract.replace('>accounts<', body);\n}\nexports.writeTestAccountsContract = writeTestAccountsContract;\n/**\n * @dev Check if path includes name of a remix test file\n * @param path file path to check\n */\nfunction isRemixTestFile(path) {\n    return ['tests.sol', 'remix_tests.sol', 'remix_accounts.sol'].some(name => path.includes(name));\n}\n/**\n * @dev Process file to prepare sources object to be passed in solc compiler input\n *\n * See: https://solidity.readthedocs.io/en/latest/using-the-compiler.html#input-description\n *\n * @param filePath path of file to process\n * @param sources existing 'sources' object in which keys are the \"global\" names of the source files and\n *                value is object containing content of corresponding file with under key 'content'\n * @param isRoot True, If file is a root test contract file which is getting processed, not an imported file\n */\nfunction processFile(filePath, sources, isRoot = false) {\n    const importRegEx = /import ['\"](.+?)['\"];/g;\n    let group = null;\n    const isFileAlreadyInSources = Object.keys(sources).includes(filePath);\n    // Return if file is a remix test file or already processed\n    if (isRemixTestFile(filePath) || isFileAlreadyInSources) {\n        return;\n    }\n    let content = fileSystem_1.default.readFileSync(filePath, { encoding: 'utf-8' });\n    const testFileImportRegEx = /^(import)\\s['\"](remix_tests.sol|tests.sol)['\"];/gm;\n    // import 'remix_tests.sol', if file is a root test contract file and doesn't already have it\n    if (isRoot && filePath.endsWith('_test.sol') && regexIndexOf(content, testFileImportRegEx) < 0) {\n        const includeTestLibs = '\\nimport \\'remix_tests.sol\\';\\n';\n        content = includeTestLibs.concat(content);\n    }\n    sources[filePath] = { content };\n    importRegEx.exec(''); // Resetting state of RegEx\n    // Process each 'import' in file content\n    while ((group = importRegEx.exec(content))) {\n        const importedFile = group[1];\n        const importedFilePath = path_1.default.join(path_1.default.dirname(filePath), importedFile);\n        processFile(importedFilePath, sources);\n    }\n}\nconst userAgent = (typeof (navigator) !== 'undefined') && navigator.userAgent ? navigator.userAgent.toLowerCase() : '-';\nconst isBrowser = !(typeof (window) === 'undefined' || userAgent.indexOf(' electron/') > -1);\n/**\n * @dev Compile file or files before running tests (used for CLI execution)\n * @param filename Name of file\n * @param isDirectory True, if path is a directory\n * @param opts Options\n * @param cb Callback\n *\n * TODO: replace this with remix's own compiler code\n */\nfunction compileFileOrFiles(filename, isDirectory, opts, compilerConfig, cb) {\n    let compiler;\n    const accounts = opts.accounts || [];\n    const sources = {\n        'tests.sol': { content: require('../sol/tests.sol') },\n        'remix_tests.sol': { content: require('../sol/tests.sol') },\n        'remix_accounts.sol': { content: writeTestAccountsContract(accounts) }\n    };\n    const filepath = (isDirectory ? filename : path_1.default.dirname(filename));\n    try {\n        if (!isDirectory && fileSystem_1.default.existsSync(filename)) {\n            if (filename.split('.').pop() === 'sol') {\n                processFile(filename, sources, true);\n            }\n            else {\n                throw new Error('Not a solidity file');\n            }\n        }\n        else {\n            // walkSync only if it is a directory\n            let testFileCount = 0;\n            fileSystem_1.default.walkSync(filepath, (foundpath) => {\n                // only process .sol files\n                if (foundpath.split('.').pop() === 'sol' && foundpath.endsWith('_test.sol')) {\n                    testFileCount++;\n                    processFile(foundpath, sources, true);\n                }\n            });\n            if (testFileCount > 0) {\n                log.info(`${testFileCount} Solidity test file${testFileCount === 1 ? '' : 's'} found`);\n            }\n            else {\n                log.error('No Solidity test file found. Make sure your test file ends with \\'_test.sol\\'');\n                process.exit();\n            }\n        }\n    }\n    catch (e) { // eslint-disable-line no-useless-catch\n        throw e;\n    }\n    finally {\n        async_1.default.waterfall([\n            function loadCompiler(next) {\n                compiler = new remix_solidity_1.Compiler();\n                if (compilerConfig) {\n                    const { currentCompilerUrl, evmVersion, optimize, runs } = compilerConfig;\n                    if (evmVersion)\n                        compiler.set('evmVersion', evmVersion);\n                    if (optimize)\n                        compiler.set('optimize', optimize);\n                    if (runs)\n                        compiler.set('runs', runs);\n                    if (currentCompilerUrl) {\n                        compiler.loadRemoteVersion(currentCompilerUrl);\n                        compiler.event.register('compilerLoaded', this, function (version) {\n                            next();\n                        });\n                    }\n                    else {\n                        compiler.onInternalCompilerLoaded();\n                        next();\n                    }\n                }\n                else {\n                    compiler.onInternalCompilerLoaded();\n                    next();\n                }\n            },\n            function doCompilation(next) {\n                // @ts-ignore\n                compiler.event.register('compilationFinished', this, (success, data, source) => {\n                    next(null, data);\n                });\n                compiler.compile(sources, filepath);\n            }\n        ], function (err, result) {\n            const error = [];\n            if (result.error)\n                error.push(result.error);\n            const errors = (result.errors || error).filter((e) => e.type === 'Error' || e.severity === 'error');\n            if (errors.length > 0) {\n                if (!isBrowser)\n                    require('signale').fatal(errors);\n                return cb(new types_1.CompilationErrors(errors));\n            }\n            cb(err, result.contracts, result.sources); // return callback with contract details & ASTs\n        });\n    }\n}\nexports.compileFileOrFiles = compileFileOrFiles;\n/**\n * @dev Compile contract source before running tests (used for IDE tests execution)\n * @param sources sources\n * @param compilerConfig current compiler configuration\n * @param importFileCb Import file callback\n * @param opts Options\n * @param cb Callback\n */\nfunction compileContractSources(sources, compilerConfig, importFileCb, opts, cb) {\n    let compiler;\n    const filepath = opts.testFilePath || '';\n    const testFileImportRegEx = /^(import)\\s['\"](remix_tests.sol|tests.sol)['\"];/gm;\n    const includeTestLibs = '\\nimport \\'remix_tests.sol\\';\\n';\n    for (const file in sources) {\n        const c = sources[file].content;\n        if (file.endsWith('_test.sol') && c && regexIndexOf(c, testFileImportRegEx) < 0) {\n            sources[file].content = includeTestLibs.concat(c);\n        }\n    }\n    async_1.default.waterfall([\n        function loadCompiler(next) {\n            const { currentCompilerUrl, evmVersion, optimize, runs, usingWorker } = compilerConfig;\n            compiler = new remix_solidity_1.Compiler(importFileCb);\n            compiler.set('evmVersion', evmVersion);\n            compiler.set('optimize', optimize);\n            compiler.set('runs', runs);\n            compiler.loadVersion(usingWorker, currentCompilerUrl);\n            // @ts-ignore\n            compiler.event.register('compilerLoaded', this, (version) => {\n                next();\n            });\n        },\n        function doCompilation(next) {\n            // @ts-ignore\n            compiler.event.register('compilationFinished', this, (success, data, source) => {\n                if (opts && opts.event)\n                    opts.event.emit('compilationFinished', success, data, source);\n                next(null, data);\n            });\n            compiler.compile(sources, filepath);\n        }\n    ], function (err, result) {\n        const error = [];\n        if (result.error)\n            error.push(result.error);\n        const errors = (result.errors || error).filter((e) => e.type === 'Error' || e.severity === 'error');\n        if (errors.length > 0) {\n            if (!isBrowser)\n                require('signale').fatal(errors);\n            return cb(new types_1.CompilationErrors(errors));\n        }\n        cb(err, result.contracts, result.sources); // return callback with contract details & ASTs\n    });\n}\nexports.compileContractSources = compileContractSources;\n//# sourceMappingURL=compiler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deployAll = void 0;\nconst tslib_1 = require(\"tslib\");\nconst async_1 = (0, tslib_1.__importDefault)(require(\"async\"));\nconst remix_lib_1 = require(\"@remix-project/remix-lib\");\n/**\n * @dev Deploy all contracts from compilation result\n * @param compileResult compilation result\n * @param web3 web3 object\n * @param withDoubleGas If true, try deployment with gas double of estimation (used for Out-of-gas error only)\n * @param callback Callback\n */\nfunction deployAll(compileResult, web3, testsAccounts, withDoubleGas, deployCb, callback) {\n    const compiledObject = {};\n    const contracts = {};\n    const accounts = testsAccounts;\n    async_1.default.waterfall([\n        function getContractData(next) {\n            for (const contractFile in compileResult) {\n                for (const contractName in compileResult[contractFile]) {\n                    const contract = compileResult[contractFile][contractName];\n                    const className = contractName;\n                    const filename = contractFile;\n                    const abi = contract.abi;\n                    const code = contract.evm.bytecode.object;\n                    compiledObject[className] = {};\n                    compiledObject[className].abi = abi;\n                    compiledObject[className].code = code;\n                    compiledObject[className].filename = filename;\n                    compiledObject[className].className = className;\n                    compiledObject[className].raw = contract;\n                    if (contractFile.endsWith('_test.sol')) {\n                        compiledObject[className].isTest = true;\n                    }\n                }\n            }\n            next();\n        },\n        function determineContractsToDeploy(next) {\n            const contractsToDeploy = ['Assert'];\n            const allContracts = Object.keys(compiledObject);\n            for (const contractName of allContracts) {\n                if (contractName === 'Assert') {\n                    continue;\n                }\n                if (compiledObject[contractName].isTest) {\n                    contractsToDeploy.push(contractName);\n                }\n            }\n            next(null, contractsToDeploy);\n        },\n        function deployContracts(contractsToDeploy, next) {\n            const deployRunner = (deployObject, contractObject, contractName, filename, callback) => {\n                deployObject.estimateGas().then((gasValue) => {\n                    const gasBase = Math.ceil(gasValue * 1.2);\n                    const gas = withDoubleGas ? gasBase * 2 : gasBase;\n                    deployObject.send({\n                        from: accounts[0],\n                        gas: gas\n                    }).on('receipt', function (receipt) {\n                        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                            contractObject.options.address = receipt.contractAddress;\n                            contractObject.options.from = accounts[0];\n                            contractObject.options.gas = 5000 * 1000;\n                            compiledObject[contractName].deployedAddress = receipt.contractAddress;\n                            contracts[contractName] = contractObject;\n                            contracts[contractName].filename = filename;\n                            if (deployCb)\n                                yield deployCb(filename, receipt.contractAddress);\n                            callback(null, { receipt: { contractAddress: receipt.contractAddress } }); // TODO this will only work with JavaScriptV VM\n                        });\n                    }).on('error', function (err) {\n                        console.error(err);\n                        callback(err);\n                    });\n                });\n            };\n            async_1.default.eachOfLimit(contractsToDeploy, 1, function (contractName, index, nextEach) {\n                const contract = compiledObject[contractName];\n                const encodeDataFinalCallback = (error, contractDeployData) => {\n                    if (error)\n                        return nextEach(error);\n                    const contractObject = new web3.eth.Contract(contract.abi);\n                    const deployObject = contractObject.deploy({ arguments: [], data: '0x' + contractDeployData.dataHex });\n                    deployRunner(deployObject, contractObject, contractName, contract.filename, (error) => { nextEach(error); });\n                };\n                const encodeDataStepCallback = (msg) => { console.dir(msg); };\n                const encodeDataDeployLibraryCallback = (libData, callback) => {\n                    const abi = compiledObject[libData.data.contractName].abi;\n                    const code = compiledObject[libData.data.contractName].code;\n                    const libraryObject = new web3.eth.Contract(abi);\n                    const deployObject = libraryObject.deploy({ arguments: [], data: '0x' + code });\n                    deployRunner(deployObject, libraryObject, libData.data.contractName, contract.filename, callback);\n                };\n                const funAbi = null; // no need to set the abi for encoding the constructor\n                const params = ''; // we suppose that the test contract does not have any param in the constructor\n                remix_lib_1.execution.txFormat.encodeConstructorCallAndDeployLibraries(contractName, contract.raw, compileResult, params, funAbi, encodeDataFinalCallback, encodeDataStepCallback, encodeDataDeployLibraryCallback);\n            }, function (err) {\n                if (err)\n                    return next(err);\n                next(null, contracts);\n            });\n        }\n    ], callback);\n}\nexports.deployAll = deployAll;\n//# sourceMappingURL=deployer.js.map","\"use strict\";\nconst tslib_1 = require(\"tslib\");\n// Extend fs\nconst path_1 = (0, tslib_1.__importDefault)(require(\"path\"));\nconst fs = require('fs');\n// https://github.com/mikeal/node-utils/blob/master/file/lib/main.js\nfs.walkSync = function (start, callback) {\n    fs.readdirSync(start).forEach((name) => {\n        if (name === 'node_modules') {\n            return; // hack\n        }\n        const abspath = path_1.default.join(start, name);\n        if (fs.statSync(abspath).isDirectory()) {\n            fs.walkSync(abspath, callback);\n        }\n        else {\n            callback(abspath);\n        }\n    });\n};\nmodule.exports = fs;\n//# sourceMappingURL=fileSystem.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.writeTestAccountsContract = exports.assertLibCode = exports.runTest = exports.UnitTestRunner = exports.runTestFiles = void 0;\nconst tslib_1 = require(\"tslib\");\nvar runTestFiles_1 = require(\"./runTestFiles\");\nObject.defineProperty(exports, \"runTestFiles\", { enumerable: true, get: function () { return runTestFiles_1.runTestFiles; } });\nvar runTestSources_1 = require(\"./runTestSources\");\nObject.defineProperty(exports, \"UnitTestRunner\", { enumerable: true, get: function () { return runTestSources_1.UnitTestRunner; } });\nvar testRunner_1 = require(\"./testRunner\");\nObject.defineProperty(exports, \"runTest\", { enumerable: true, get: function () { return testRunner_1.runTest; } });\n(0, tslib_1.__exportStar)(require(\"./types\"), exports);\nexports.assertLibCode = require('../sol/tests.sol');\nvar compiler_1 = require(\"./compiler\");\nObject.defineProperty(exports, \"writeTestAccountsContract\", { enumerable: true, get: function () { return compiler_1.writeTestAccountsContract; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nconst tslib_1 = require(\"tslib\");\nconst colors_1 = (0, tslib_1.__importDefault)(require(\"colors\"));\nconst winston_1 = (0, tslib_1.__importDefault)(require(\"winston\"));\nconst time_stamp_1 = (0, tslib_1.__importDefault)(require(\"time-stamp\"));\nconst color_support_1 = (0, tslib_1.__importDefault)(require(\"color-support\"));\nfunction hasFlag(flag) {\n    return ((typeof (process) !== 'undefined') && (process.argv.indexOf('--' + flag) !== -1));\n}\nfunction addColor(str) {\n    if (hasFlag('no-color')) {\n        return str;\n    }\n    if (hasFlag('color')) {\n        return colors_1.default.gray(str);\n    }\n    if ((0, color_support_1.default)()) {\n        return colors_1.default.gray(str);\n    }\n    return str;\n}\nfunction getTimestamp() {\n    return '[' + addColor((0, time_stamp_1.default)('HH:mm:ss')) + ']';\n}\n// create winston logger format\nconst logFmt = winston_1.default.format.printf((info) => {\n    return `${getTimestamp()} ${info.level}: ${info.message}`;\n});\nclass Log {\n    constructor() {\n        this.logger = winston_1.default.createLogger({\n            level: 'info',\n            transports: [new winston_1.default.transports.Console()],\n            format: winston_1.default.format.combine(winston_1.default.format.colorize({ all: true }), logFmt)\n        });\n    }\n    setVerbosity(v) {\n        this.logger.configure({\n            level: v,\n            transports: [new winston_1.default.transports.Console()],\n            format: winston_1.default.format.combine(winston_1.default.format.colorize({ all: true }), logFmt)\n        });\n    }\n}\nmodule.exports = Log;\n//# sourceMappingURL=logger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runTestFiles = void 0;\nconst tslib_1 = require(\"tslib\");\nconst async_1 = (0, tslib_1.__importDefault)(require(\"async\"));\nconst fileSystem_1 = (0, tslib_1.__importDefault)(require(\"./fileSystem\"));\nconst testRunner_1 = require(\"./testRunner\");\nconst colors_1 = (0, tslib_1.__importDefault)(require(\"colors\"));\nconst compiler_1 = require(\"./compiler\");\nconst deployer_1 = require(\"./deployer\");\n/**\n * @dev run test contract files (used for CLI)\n * @param filepath Path of file\n * @param isDirectory True, if path is a directory\n * @param web3 Web3\n * @param finalCallback optional callback to run finally\n * @param opts Options\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction runTestFiles(filepath, isDirectory, web3, compilerConfig, finalCallback = () => { }, opts) {\n    opts = opts || {};\n    compilerConfig = compilerConfig || {};\n    const sourceASTs = {};\n    const { Signale } = require('signale');\n    // signale configuration\n    const options = {\n        types: {\n            result: {\n                badge: '\\t',\n                label: '',\n                color: 'greenBright'\n            },\n            name: {\n                badge: '\\n\\t',\n                label: '',\n                color: 'white'\n            },\n            error: {\n                badge: '\\t',\n                label: '',\n                color: 'redBright'\n            }\n        }\n    };\n    const signale = new Signale(options);\n    let accounts = opts['accounts'] || null;\n    async_1.default.waterfall([\n        function getAccountList(next) {\n            if (accounts)\n                return next(null);\n            web3.eth.getAccounts((_err, _accounts) => {\n                accounts = _accounts;\n                next(null);\n            });\n        },\n        function compile(next) {\n            (0, compiler_1.compileFileOrFiles)(filepath, isDirectory, { accounts }, compilerConfig, next);\n        },\n        function deployAllContracts(compilationResult, asts, next) {\n            // Extract AST of test contract file source\n            for (const filename in asts) {\n                if (filename.endsWith('_test.sol')) {\n                    sourceASTs[filename] = asts[filename].ast;\n                }\n            }\n            (0, deployer_1.deployAll)(compilationResult, web3, accounts, false, null, (err, contracts) => {\n                if (err) {\n                    // If contract deployment fails because of 'Out of Gas' error, try again with double gas\n                    // This is temporary, should be removed when remix-tests will have a dedicated UI to\n                    // accept deployment params from UI\n                    if (err.message.includes('The contract code couldn\\'t be stored, please check your gas limit')) {\n                        (0, deployer_1.deployAll)(compilationResult, web3, accounts, true, null, (error, contracts) => {\n                            if (error)\n                                next([{ message: 'contract deployment failed after trying twice: ' + error.message, severity: 'error' }]); // IDE expects errors in array\n                            else\n                                next(null, compilationResult, contracts);\n                        });\n                    }\n                    else {\n                        next([{ message: 'contract deployment failed: ' + err.message, severity: 'error' }]);\n                    } // IDE expects errors in array\n                }\n                else {\n                    next(null, compilationResult, contracts);\n                }\n            });\n        },\n        function determineTestContractsToRun(compilationResult, contracts, next) {\n            const contractsToTest = [];\n            const contractsToTestDetails = [];\n            const gatherContractsFrom = function (filename) {\n                if (!filename.endsWith('_test.sol')) {\n                    return;\n                }\n                try {\n                    Object.keys(compilationResult[filename]).forEach(contractName => {\n                        contractsToTest.push(contractName);\n                        contractsToTestDetails.push(compilationResult[filename][contractName]);\n                    });\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            };\n            if (isDirectory) {\n                fileSystem_1.default.walkSync(filepath, (foundpath) => {\n                    gatherContractsFrom(foundpath);\n                });\n            }\n            else {\n                gatherContractsFrom(filepath);\n            }\n            next(null, contractsToTest, contractsToTestDetails, contracts);\n        },\n        function runTests(contractsToTest, contractsToTestDetails, contracts, next) {\n            let totalPassing = 0;\n            let totalFailing = 0;\n            let totalTime = 0;\n            const errors = [];\n            const _testCallback = function (err, result) {\n                if (err)\n                    throw err;\n                if (result.type === 'contract') {\n                    signale.name(result.value.white);\n                }\n                else if (result.type === 'testPass') {\n                    signale.result(result.value);\n                }\n                else if (result.type === 'testFailure') {\n                    signale.error(result.value.red);\n                    errors.push(result);\n                }\n            };\n            const _resultsCallback = (_err, result, cb) => {\n                totalPassing += result.passingNum;\n                totalFailing += result.failureNum;\n                totalTime += result.timePassed;\n                cb();\n            };\n            async_1.default.eachOfLimit(contractsToTest, 1, (contractName, index, cb) => {\n                try {\n                    const fileAST = sourceASTs[contracts[contractName]['filename']];\n                    (0, testRunner_1.runTest)(contractName, contracts[contractName], contractsToTestDetails[index], fileAST, { accounts }, _testCallback, (err, result) => {\n                        if (err) {\n                            console.log(err);\n                            return cb(err);\n                        }\n                        _resultsCallback(null, result, cb);\n                    });\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }, function (err) {\n                if (err) {\n                    return next(err);\n                }\n                console.log('\\n');\n                if (totalPassing > 0) {\n                    console.log(colors_1.default.green(totalPassing + ' passing ') + colors_1.default.grey('(' + totalTime + 's)'));\n                }\n                if (totalFailing > 0) {\n                    console.log(colors_1.default.red(totalFailing + ' failing'));\n                }\n                console.log('');\n                errors.forEach((error, index) => {\n                    console.log('  ' + (index + 1) + ') ' + colors_1.default.bold(error.context + ': ') + error.value);\n                    console.log('');\n                    console.log(colors_1.default.red('\\t error: ' + error.errMsg));\n                    console.log(colors_1.default.green('\\t expected value to be ' + error.assertMethod + ' to: ' + error.expected));\n                    console.log(colors_1.default.red('\\t returned: ' + error.returned));\n                });\n                console.log('');\n                next();\n            });\n        }\n    ], finalCallback);\n}\nexports.runTestFiles = runTestFiles;\n//# sourceMappingURL=runTestFiles.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnitTestRunner = void 0;\nconst tslib_1 = require(\"tslib\");\nconst async_1 = (0, tslib_1.__importDefault)(require(\"async\"));\nconst compiler_1 = require(\"./compiler\");\nconst deployer_1 = require(\"./deployer\");\nconst testRunner_1 = require(\"./testRunner\");\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst events_1 = require(\"events\");\nconst remix_simulator_1 = require(\"@remix-project/remix-simulator\");\nrequire('colors');\nclass UnitTestRunner {\n    constructor() {\n        this.event = new events_1.EventEmitter();\n    }\n    init(web3 = null, accounts = null) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.web3 = yield this.createWeb3Provider(web3);\n            this.testsAccounts = accounts || (yield this.web3.eth.getAccounts());\n            this.accountsLibCode = (0, compiler_1.writeTestAccountsContract)(this.testsAccounts);\n        });\n    }\n    createWeb3Provider(optWeb3) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const web3 = optWeb3 || new web3_1.default();\n            const provider = new remix_simulator_1.Provider();\n            yield provider.init();\n            web3.setProvider(provider);\n            (0, remix_simulator_1.extend)(web3);\n            return web3;\n        });\n    }\n    /**\n     * @dev Run tests from source of a test contract file (used for IDE)\n     * @param contractSources Sources of contract\n     * @param compilerConfig current compiler configuration\n     * @param testCallback Test callback\n     * @param resultCallback Result Callback\n     * @param finalCallback Final Callback\n     * @param importFileCb Import file callback\n     * @param opts Options\n     */\n    runTestSources(contractSources, compilerConfig, testCallback, resultCallback, deployCb, finalCallback, importFileCb, opts) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            opts = opts || {};\n            const sourceASTs = {};\n            if (opts.web3 || opts.accounts)\n                this.init(opts.web3, opts.accounts);\n            async_1.default.waterfall([\n                (next) => {\n                    (0, compiler_1.compileContractSources)(contractSources, compilerConfig, importFileCb, { accounts: this.testsAccounts, testFilePath: opts.testFilePath, event: this.event }, next);\n                },\n                (compilationResult, asts, next) => {\n                    for (const filename in asts) {\n                        if (filename.endsWith('_test.sol')) {\n                            sourceASTs[filename] = asts[filename].ast;\n                        }\n                    }\n                    (0, deployer_1.deployAll)(compilationResult, this.web3, this.testsAccounts, false, deployCb, (err, contracts) => {\n                        if (err) {\n                            // If contract deployment fails because of 'Out of Gas' error, try again with double gas\n                            // This is temporary, should be removed when remix-tests will have a dedicated UI to\n                            // accept deployment params from UI\n                            if (err.message.includes('The contract code couldn\\'t be stored, please check your gas limit')) {\n                                (0, deployer_1.deployAll)(compilationResult, this.web3, this.testsAccounts, true, deployCb, (error, contracts) => {\n                                    if (error)\n                                        next([{ message: 'contract deployment failed after trying twice: ' + error.message, severity: 'error' }]); // IDE expects errors in array\n                                    else\n                                        next(null, compilationResult, contracts);\n                                });\n                            }\n                            else {\n                                next([{ message: 'contract deployment failed: ' + err.message, severity: 'error' }]);\n                            } // IDE expects errors in array\n                        }\n                        else {\n                            next(null, compilationResult, contracts);\n                        }\n                    });\n                },\n                function determineTestContractsToRun(compilationResult, contracts, next) {\n                    const contractsToTest = [];\n                    const contractsToTestDetails = [];\n                    for (const filename in compilationResult) {\n                        if (!filename.endsWith('_test.sol')) {\n                            continue;\n                        }\n                        Object.keys(compilationResult[filename]).forEach(contractName => {\n                            contractsToTestDetails.push(compilationResult[filename][contractName]);\n                            contractsToTest.push(contractName);\n                        });\n                    }\n                    next(null, contractsToTest, contractsToTestDetails, contracts);\n                },\n                (contractsToTest, contractsToTestDetails, contracts, next) => {\n                    let totalPassing = 0;\n                    let totalFailing = 0;\n                    let totalTime = 0;\n                    const errors = [];\n                    // eslint-disable-next-line handle-callback-err\n                    const _testCallback = function (err, result) {\n                        if (result.type === 'testFailure') {\n                            errors.push(result);\n                        }\n                        testCallback(result);\n                    };\n                    const _resultsCallback = function (_err, result, cb) {\n                        resultCallback(_err, result, () => { }); // eslint-disable-line @typescript-eslint/no-empty-function\n                        totalPassing += result.passingNum;\n                        totalFailing += result.failureNum;\n                        totalTime += result.timePassed;\n                        cb();\n                    };\n                    async_1.default.eachOfLimit(contractsToTest, 1, (contractName, index, cb) => {\n                        const fileAST = sourceASTs[contracts[contractName]['filename']];\n                        (0, testRunner_1.runTest)(contractName, contracts[contractName], contractsToTestDetails[index], fileAST, { accounts: this.testsAccounts, web3: this.web3 }, _testCallback, (err, result) => {\n                            if (err) {\n                                return cb(err);\n                            }\n                            _resultsCallback(null, result, cb);\n                        });\n                    }, function (err) {\n                        if (err) {\n                            return next(err);\n                        }\n                        const finalResults = {\n                            totalPassing: 0,\n                            totalFailing: 0,\n                            totalTime: 0,\n                            errors: []\n                        };\n                        finalResults.totalPassing = totalPassing || 0;\n                        finalResults.totalFailing = totalFailing || 0;\n                        finalResults.totalTime = totalTime || 0;\n                        finalResults.errors = [];\n                        errors.forEach((error, _index) => {\n                            finalResults.errors.push({ context: error.context, value: error.value, message: error.errMsg });\n                        });\n                        next(null, finalResults);\n                    });\n                }\n            ], finalCallback);\n        });\n    }\n}\nexports.UnitTestRunner = UnitTestRunner;\n//# sourceMappingURL=runTestSources.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runTest = void 0;\nconst tslib_1 = require(\"tslib\");\nconst async_1 = (0, tslib_1.__importDefault)(require(\"async\"));\nconst changeCase = (0, tslib_1.__importStar)(require(\"change-case\"));\nconst web3_1 = (0, tslib_1.__importDefault)(require(\"web3\"));\nconst assertionEvents_1 = (0, tslib_1.__importDefault)(require(\"./assertionEvents\"));\n/**\n * @dev Get function name using method signature\n * @param signature siganture\n * @param methodIdentifiers Object containing all methods identifier\n */\nfunction getFunctionFullName(signature, methodIdentifiers) {\n    for (const method in methodIdentifiers) {\n        if (signature.replace('0x', '') === methodIdentifiers[method].replace('0x', '')) {\n            return method;\n        }\n    }\n    return null;\n}\n/**\n * @dev Check if function is constant using function ABI\n * @param funcABI function ABI\n */\nfunction isConstant(funcABI) {\n    return (funcABI.constant || funcABI.stateMutability === 'view' || funcABI.stateMutability === 'pure');\n}\n/**\n * @dev Check if function is payable using function ABI\n * @param funcABI function ABI\n */\nfunction isPayable(funcABI) {\n    return (funcABI.payable || funcABI.stateMutability === 'payable');\n}\n/**\n * @dev Check node name\n * @param node AST node\n * @param name name\n */\nfunction isNodeName(node, name) {\n    return node.name === name;\n}\n/**\n * @dev Check node type\n * @param node AST node\n * @param type type\n */\nfunction isNodeType(node, type) {\n    return node.nodeType === type;\n}\n/**\n * @dev Check if node type is from the typesList\n * @param node AST node to be checked\n * @param typesList list of types\n */\nfunction isNodeTypeIn(node, typesList) {\n    return typesList.includes(node.nodeType);\n}\n/**\n * @dev Get overrided sender provided using natspec\n * @param userdoc method user documentaion\n * @param signature signature\n * @param methodIdentifiers Object containing all methods identifier\n */\nfunction getOverridedSender(userdoc, signature, methodIdentifiers) {\n    const fullName = getFunctionFullName(signature, methodIdentifiers);\n    const senderRegex = /#sender: account-+(\\d)/g;\n    const accountIndex = fullName && userdoc.methods[fullName] ? senderRegex.exec(userdoc.methods[fullName].notice) : null;\n    return fullName && accountIndex ? accountIndex[1] : null;\n}\n/**\n * @dev Get value provided using natspec\n * @param userdoc method user documentaion\n * @param signature signature\n * @param methodIdentifiers Object containing all methods identifier\n */\nfunction getProvidedValue(userdoc, signature, methodIdentifiers) {\n    const fullName = getFunctionFullName(signature, methodIdentifiers);\n    const valueRegex = /#value: (\\d+)/g;\n    const value = fullName && userdoc.methods[fullName] ? valueRegex.exec(userdoc.methods[fullName].notice) : null;\n    return fullName && value ? value[1] : null;\n}\n/**\n * @dev returns functions of a test contract file in same sequence they appear in file (using passed AST)\n * @param fileAST AST of test contract file source\n * @param testContractName Name of test contract\n */\nfunction getAvailableFunctions(fileAST, testContractName) {\n    let funcList = [];\n    if (fileAST.nodes && fileAST.nodes.length > 0) {\n        const contractAST = fileAST.nodes.filter(node => isNodeName(node, testContractName) && isNodeType(node, 'ContractDefinition'));\n        if (contractAST.length > 0 && contractAST[0].nodes) {\n            const funcNodes = contractAST[0].nodes.filter(node => ((node.kind === 'function' && isNodeType(node, 'FunctionDefinition')) || isNodeType(node, 'FunctionDefinition')));\n            funcList = funcNodes.map(node => node.name);\n        }\n    }\n    return funcList;\n}\nfunction getAssertMethodLocation(fileAST, testContractName, functionName, assertMethod) {\n    var _a, _b, _c;\n    if ((_a = fileAST.nodes) === null || _a === void 0 ? void 0 : _a.length) {\n        const contractAST = fileAST.nodes.find(node => isNodeName(node, testContractName) && isNodeType(node, 'ContractDefinition'));\n        if ((_b = contractAST === null || contractAST === void 0 ? void 0 : contractAST.nodes) === null || _b === void 0 ? void 0 : _b.length) {\n            const funcNode = contractAST.nodes.find(node => isNodeName(node, functionName) && isNodeType(node, 'FunctionDefinition'));\n            // Check if statement nodeType is 'ExpressionStatement' or 'Return', for examples:\n            // Assert.equal(foo.get(), 100, \"initial value is not correct\");\n            // return Assert.equal(foo.get(), 100, \"initial value is not correct\");\n            const expressions = funcNode.body.statements.filter(s => isNodeTypeIn(s, ['ExpressionStatement', 'Return']) &&\n                isNodeType(s.expression, 'FunctionCall'));\n            const assetExpression = expressions.find(e => e.expression.expression &&\n                isNodeType(e.expression.expression, 'MemberAccess') &&\n                e.expression.expression.memberName === assertMethod &&\n                isNodeName(e.expression.expression.expression, 'Assert'));\n            return (_c = assetExpression === null || assetExpression === void 0 ? void 0 : assetExpression.expression) === null || _c === void 0 ? void 0 : _c.src;\n        }\n    }\n}\n/**\n * @dev returns ABI of passed method list from passed interface\n * @param jsonInterface Json Interface\n * @param funcList Methods to extract the interface of\n */\nfunction getTestFunctionsInterface(jsonInterface, funcList) {\n    const functionsInterface = [];\n    const specialFunctions = ['beforeAll', 'beforeEach', 'afterAll', 'afterEach'];\n    for (const func of funcList) {\n        if (!specialFunctions.includes(func)) {\n            const funcInterface = jsonInterface.find(node => node.type === 'function' && node.name === func);\n            if (funcInterface)\n                functionsInterface.push(funcInterface);\n        }\n    }\n    return functionsInterface;\n}\n/**\n * @dev returns ABI of special functions from passed interface\n * @param jsonInterface Json Interface\n */\nfunction getSpecialFunctionsInterface(jsonInterface) {\n    const specialFunctionsInterface = {};\n    const funcList = ['beforeAll', 'beforeEach', 'afterAll', 'afterEach'];\n    for (const func of funcList) {\n        const funcInterface = jsonInterface.find(node => node.type === 'function' && node.name === func);\n        if (funcInterface) {\n            specialFunctionsInterface[func] = funcInterface;\n        }\n    }\n    return specialFunctionsInterface;\n}\n/**\n * @dev Prepare a list of tests to run using test contract file ABI, AST & contract name\n * @param jsonInterface File JSON interface\n * @param fileAST File AST\n * @param testContractName Test contract name\n */\nfunction createRunList(jsonInterface, fileAST, testContractName) {\n    const availableFunctions = getAvailableFunctions(fileAST, testContractName);\n    const testFunctionsInterface = getTestFunctionsInterface(jsonInterface, availableFunctions);\n    const specialFunctionsInterface = getSpecialFunctionsInterface(jsonInterface);\n    const runList = [];\n    if (availableFunctions.includes('beforeAll')) {\n        const func = specialFunctionsInterface['beforeAll'];\n        runList.push({ name: 'beforeAll', inputs: func.inputs, signature: func.signature, type: 'internal', constant: isConstant(func), payable: isPayable(func) });\n    }\n    for (const func of testFunctionsInterface) {\n        if (availableFunctions.includes('beforeEach')) {\n            const func = specialFunctionsInterface['beforeEach'];\n            runList.push({ name: 'beforeEach', inputs: func.inputs, signature: func.signature, type: 'internal', constant: isConstant(func), payable: isPayable(func) });\n        }\n        if (func.name && func.inputs)\n            runList.push({ name: func.name, inputs: func.inputs, signature: func.signature, type: 'test', constant: isConstant(func), payable: isPayable(func) });\n        if (availableFunctions.indexOf('afterEach') >= 0) {\n            const func = specialFunctionsInterface['afterEach'];\n            runList.push({ name: 'afterEach', inputs: func.inputs, signature: func.signature, type: 'internal', constant: isConstant(func), payable: isPayable(func) });\n        }\n    }\n    if (availableFunctions.indexOf('afterAll') >= 0) {\n        const func = specialFunctionsInterface['afterAll'];\n        runList.push({ name: 'afterAll', inputs: func.inputs, signature: func.signature, type: 'internal', constant: isConstant(func), payable: isPayable(func) });\n    }\n    return runList;\n}\nfunction runTest(testName, testObject, contractDetails, fileAST, opts, testCallback, resultsCallback) {\n    let passingNum = 0;\n    let failureNum = 0;\n    let timePassed = 0;\n    const isJSONInterfaceAvailable = testObject && testObject.options && testObject.options.jsonInterface;\n    if (!isJSONInterfaceAvailable) {\n        return resultsCallback(new Error('Contract interface not available'), { passingNum, failureNum, timePassed });\n    }\n    const runList = createRunList(testObject.options.jsonInterface, fileAST, testName);\n    const web3 = opts.web3 || new web3_1.default();\n    const accts = {\n        type: 'accountList',\n        value: opts.accounts\n    };\n    testCallback(undefined, accts);\n    const resp = {\n        type: 'contract',\n        value: testName,\n        filename: testObject.filename\n    };\n    testCallback(undefined, resp);\n    async_1.default.eachOfLimit(runList, 1, function (func, index, next) {\n        let sender = null;\n        let hhLogs;\n        if (func.signature) {\n            sender = getOverridedSender(contractDetails.userdoc, func.signature, contractDetails.evm.methodIdentifiers);\n            if (opts.accounts && sender) {\n                sender = opts.accounts[sender];\n            }\n        }\n        let sendParams = null;\n        if (sender)\n            sendParams = { from: sender };\n        if (func.inputs && func.inputs.length > 0) {\n            return resultsCallback(new Error(`Method '${func.name}' can not have parameters inside a test contract`), { passingNum, failureNum, timePassed });\n        }\n        const method = testObject.methods[func.name].apply(testObject.methods[func.name], []);\n        const startTime = Date.now();\n        let debugTxHash;\n        if (func.constant) {\n            sendParams = {};\n            const tagTimestamp = 'remix_tests_tag' + Date.now();\n            sendParams.timestamp = tagTimestamp;\n            method.call(sendParams).then((result) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                const time = (Date.now() - startTime) / 1000.0;\n                let tagTxHash;\n                if (web3.eth && web3.eth.getHashFromTagBySimulator)\n                    tagTxHash = yield web3.eth.getHashFromTagBySimulator(tagTimestamp);\n                if (web3.eth && web3.eth.getHHLogsForTx)\n                    hhLogs = yield web3.eth.getHHLogsForTx(tagTxHash);\n                debugTxHash = tagTxHash;\n                if (result) {\n                    const resp = {\n                        type: 'testPass',\n                        value: changeCase.sentenceCase(func.name),\n                        filename: testObject.filename,\n                        time: time,\n                        context: testName,\n                        web3,\n                        debugTxHash\n                    };\n                    if (hhLogs && hhLogs.length)\n                        resp.hhLogs = hhLogs;\n                    testCallback(undefined, resp);\n                    passingNum += 1;\n                    timePassed += time;\n                }\n                else {\n                    const resp = {\n                        type: 'testFailure',\n                        value: changeCase.sentenceCase(func.name),\n                        filename: testObject.filename,\n                        time: time,\n                        errMsg: 'function returned false',\n                        context: testName,\n                        web3,\n                        debugTxHash\n                    };\n                    if (hhLogs && hhLogs.length)\n                        resp.hhLogs = hhLogs;\n                    testCallback(undefined, resp);\n                    failureNum += 1;\n                    timePassed += time;\n                }\n                next();\n            }));\n        }\n        else {\n            if (func.payable) {\n                const value = getProvidedValue(contractDetails.userdoc, func.signature, contractDetails.evm.methodIdentifiers);\n                if (value) {\n                    if (sendParams)\n                        sendParams.value = value;\n                    else\n                        sendParams = { value };\n                }\n            }\n            if (!sendParams)\n                sendParams = {};\n            sendParams.gas = 10000000 * 8;\n            method.send(sendParams).on('receipt', (receipt) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                try {\n                    debugTxHash = receipt.transactionHash;\n                    if (web3.eth && web3.eth.getHHLogsForTx)\n                        hhLogs = yield web3.eth.getHHLogsForTx(receipt.transactionHash);\n                    const time = (Date.now() - startTime) / 1000.0;\n                    const assertionEventHashes = assertionEvents_1.default.map(e => web3_1.default.utils.sha3(e.name + '(' + e.params.join() + ')'));\n                    let testPassed = false;\n                    for (const i in receipt.events) {\n                        let events = receipt.events[i];\n                        if (!Array.isArray(events))\n                            events = [events];\n                        for (const event of events) {\n                            const eIndex = assertionEventHashes.indexOf(event.raw.topics[0]); // event name topic will always be at index 0\n                            if (eIndex >= 0) {\n                                const testEvent = web3.eth.abi.decodeParameters(assertionEvents_1.default[eIndex].params, event.raw.data);\n                                if (!testEvent[0]) {\n                                    const assertMethod = testEvent[2];\n                                    if (assertMethod === 'ok') { // for 'Assert.ok' method\n                                        testEvent[3] = 'false';\n                                        testEvent[4] = 'true';\n                                    }\n                                    const location = getAssertMethodLocation(fileAST, testName, func.name, assertMethod);\n                                    const resp = {\n                                        type: 'testFailure',\n                                        value: changeCase.sentenceCase(func.name),\n                                        filename: testObject.filename,\n                                        time: time,\n                                        errMsg: testEvent[1],\n                                        context: testName,\n                                        assertMethod,\n                                        returned: testEvent[3],\n                                        expected: testEvent[4],\n                                        location,\n                                        web3,\n                                        debugTxHash\n                                    };\n                                    if (hhLogs && hhLogs.length)\n                                        resp.hhLogs = hhLogs;\n                                    testCallback(undefined, resp);\n                                    failureNum += 1;\n                                    timePassed += time;\n                                    return next();\n                                }\n                                testPassed = true;\n                            }\n                        }\n                    }\n                    if (testPassed) {\n                        const resp = {\n                            type: 'testPass',\n                            value: changeCase.sentenceCase(func.name),\n                            filename: testObject.filename,\n                            time: time,\n                            context: testName,\n                            web3,\n                            debugTxHash\n                        };\n                        if (hhLogs && hhLogs.length)\n                            resp.hhLogs = hhLogs;\n                        testCallback(undefined, resp);\n                        passingNum += 1;\n                        timePassed += time;\n                    }\n                    else if (hhLogs && hhLogs.length) {\n                        const resp = {\n                            type: 'logOnly',\n                            value: changeCase.sentenceCase(func.name),\n                            filename: testObject.filename,\n                            time: time,\n                            context: testName,\n                            hhLogs\n                        };\n                        testCallback(undefined, resp);\n                        timePassed += time;\n                    }\n                    return next();\n                }\n                catch (err) {\n                    console.error(err);\n                    return next(err);\n                }\n            })).on('error', (err) => (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n                const time = (Date.now() - startTime) / 1000.0;\n                const resp = {\n                    type: 'testFailure',\n                    value: changeCase.sentenceCase(func.name),\n                    filename: testObject.filename,\n                    time: time,\n                    errMsg: err.message,\n                    context: testName,\n                    web3\n                };\n                if (err.message.includes('Transaction has been reverted by the EVM')) {\n                    const txHash = JSON.parse(err.message.replace('Transaction has been reverted by the EVM:', '')).transactionHash;\n                    if (web3.eth && web3.eth.getHHLogsForTx)\n                        hhLogs = yield web3.eth.getHHLogsForTx(txHash);\n                    if (hhLogs && hhLogs.length)\n                        resp.hhLogs = hhLogs;\n                    resp.debugTxHash = txHash;\n                }\n                testCallback(undefined, resp);\n                failureNum += 1;\n                timePassed += time;\n                return next();\n            }));\n        }\n    }, function (error) {\n        resultsCallback(error, { passingNum, failureNum, timePassed });\n    });\n}\nexports.runTest = runTest;\n//# sourceMappingURL=testRunner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompilationErrors = void 0;\n// eslint-disable-next-line no-redeclare\nclass CompilationErrors extends Error {\n    constructor(errors) {\n        const mapError = errors.map((e) => { return e.formattedMessage || e.message; });\n        super(mapError.join('\\n'));\n        this.errors = errors;\n        this.name = 'CompilationErrors';\n    }\n}\nexports.CompilationErrors = CompilationErrors;\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemixURLResolver = void 0;\nvar resolve_1 = require(\"./resolve\");\nObject.defineProperty(exports, \"RemixURLResolver\", { enumerable: true, get: function () { return resolve_1.RemixURLResolver; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemixURLResolver = void 0;\nconst tslib_1 = require(\"tslib\");\n// eslint-disable-next-line no-unused-vars\nconst axios_1 = (0, tslib_1.__importDefault)(require(\"axios\"));\nconst bzz_node_1 = require(\"@erebos/bzz-node\");\nclass RemixURLResolver {\n    constructor(gistToken, protocol = 'http:') {\n        this.previouslyHandled = {};\n        this.setGistToken(gistToken, protocol);\n    }\n    setGistToken(gistToken, protocol = 'http:') {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            this.gistAccessToken = gistToken || '';\n            this.protocol = protocol;\n        });\n    }\n    /**\n    * Handle an import statement based on github\n    * @param root The root of the github import statement\n    * @param filePath path of the file in github\n    */\n    handleGithubCall(root, filePath) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            const regex = filePath.match(/blob\\/([^/]+)\\/(.*)/);\n            let reference = 'master';\n            if (regex) {\n                // if we have /blob/master/+path we extract the branch name \"master\" and add it as a parameter to the github api\n                // the ref can be branch name, tag, commit id\n                reference = regex[1];\n                filePath = filePath.replace(`blob/${reference}/`, '');\n            }\n            // eslint-disable-next-line no-useless-catch\n            try {\n                const req = `https://raw.githubusercontent.com/${root}/${reference}/${filePath}`;\n                const response = yield axios_1.default.get(req);\n                return { content: response.data, cleanUrl: root + '/' + filePath };\n            }\n            catch (e) {\n                throw e;\n            }\n        });\n    }\n    /**\n    * Handle an import statement based on http\n    * @param url The url of the import statement\n    * @param cleanUrl\n    */\n    handleHttp(url, cleanUrl) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // eslint-disable-next-line no-useless-catch\n            try {\n                const response = yield axios_1.default.get(url);\n                return { content: response.data, cleanUrl };\n            }\n            catch (e) {\n                throw e;\n            }\n        });\n    }\n    /**\n    * Handle an import statement based on https\n    * @param url The url of the import statement\n    * @param cleanUrl\n    */\n    handleHttps(url, cleanUrl) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // eslint-disable-next-line no-useless-catch\n            try {\n                const response = yield axios_1.default.get(url);\n                return { content: response.data, cleanUrl };\n            }\n            catch (e) {\n                throw e;\n            }\n        });\n    }\n    handleSwarm(url, cleanUrl) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // eslint-disable-next-line no-useless-catch\n            try {\n                const bzz = new bzz_node_1.BzzNode({ url: this.protocol + '//swarm-gateways.net' });\n                const url = bzz.getDownloadURL(cleanUrl, { mode: 'raw' });\n                const response = yield axios_1.default.get(url);\n                return { content: response.data, cleanUrl };\n            }\n            catch (e) {\n                throw e;\n            }\n        });\n    }\n    /**\n    * Handle an import statement based on IPFS\n    * @param url The url of the IPFS import statement\n    */\n    handleIPFS(url) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // replace ipfs:// with /ipfs/\n            url = url.replace(/^ipfs:\\/\\/?/, 'ipfs/');\n            // eslint-disable-next-line no-useless-catch\n            try {\n                const req = 'https://ipfs.remixproject.org/' + url;\n                // If you don't find greeter.sol on ipfs gateway use local\n                // const req = 'http://localhost:8080/' + url\n                const response = yield axios_1.default.get(req);\n                return { content: response.data, cleanUrl: url };\n            }\n            catch (e) {\n                throw e;\n            }\n        });\n    }\n    /**\n    * Handle an import statement based on NPM\n    * @param url The url of the NPM import statement\n    */\n    handleNpmImport(url) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            // eslint-disable-next-line no-useless-catch\n            try {\n                const req = 'https://unpkg.com/' + url;\n                const response = yield axios_1.default.get(req);\n                return { content: response.data, cleanUrl: url };\n            }\n            catch (e) {\n                throw e;\n            }\n        });\n    }\n    getHandlers() {\n        return [\n            {\n                type: 'github',\n                match: (url) => { return /^(https?:\\/\\/)?(www.)?github.com\\/([^/]*\\/[^/]*)\\/(.*)/.exec(url); },\n                handle: (match) => this.handleGithubCall(match[3], match[4])\n            },\n            {\n                type: 'http',\n                match: (url) => { return /^(http?:\\/\\/?(.*))$/.exec(url); },\n                handle: (match) => this.handleHttp(match[1], match[2])\n            },\n            {\n                type: 'https',\n                match: (url) => { return /^(https?:\\/\\/?(.*))$/.exec(url); },\n                handle: (match) => this.handleHttps(match[1], match[2])\n            },\n            {\n                type: 'swarm',\n                match: (url) => { return /^(bzz-raw?:\\/\\/?(.*))$/.exec(url); },\n                handle: (match) => this.handleSwarm(match[1], match[2])\n            },\n            {\n                type: 'ipfs',\n                match: (url) => { return /^(ipfs:\\/\\/?.+)/.exec(url); },\n                handle: (match) => this.handleIPFS(match[1])\n            },\n            {\n                type: 'npm',\n                match: (url) => { return /^[^/][^\\n\"?:*<>|]*$/g.exec(url); },\n                handle: (match) => this.handleNpmImport(match[0])\n            }\n        ];\n    }\n    resolve(filePath, customHandlers) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {\n            let imported = this.previouslyHandled[filePath];\n            if (imported) {\n                return imported;\n            }\n            const builtinHandlers = this.getHandlers();\n            const handlers = customHandlers ? [...builtinHandlers, ...customHandlers] : [...builtinHandlers];\n            const matchedHandler = handlers.filter(handler => handler.match(filePath));\n            const handler = matchedHandler[0];\n            const match = handler.match(filePath);\n            const { content, cleanUrl } = yield handler.handle(match);\n            imported = {\n                content,\n                cleanUrl: cleanUrl || filePath,\n                type: handler.type\n            };\n            this.previouslyHandled[filePath] = imported;\n            return imported;\n        });\n    }\n}\nexports.RemixURLResolver = RemixURLResolver;\n//# sourceMappingURL=resolve.js.map","export { OffsetToLineColumnConverter } from './lib/offset-line-to-column-converter'\nexport { CompilerMetadata } from './lib/compiler-metadata'\nexport { FetchAndCompile } from './lib/compiler-fetch-and-compile'\nexport { CompilerImports } from './lib/compiler-content-imports'\nexport { CompilerArtefacts } from './lib/compiler-artefacts'\n","'use strict'\nimport { Plugin } from '@remixproject/engine'\nimport { CompilerAbstract } from '@remix-project/remix-solidity'\n\nconst profile = {\n  name: 'compilerArtefacts',\n  methods: ['get', 'addResolvedContract', 'getCompilerAbstract', 'getAllContractDatas'],\n  events: [],\n  version: '0.0.1'\n}\n\nexport class CompilerArtefacts extends Plugin {\n  compilersArtefactsPerFile: any\n  compilersArtefacts: any\n  constructor () {\n    super(profile)\n    this.compilersArtefacts = {}\n    this.compilersArtefactsPerFile = {}\n  }\n\n  clear () {\n    this.compilersArtefacts = {}\n    this.compilersArtefactsPerFile = {}\n  }\n\n  onActivation () {\n    const saveCompilationPerFileResult = (file, source, languageVersion, data) => {\n      this.compilersArtefactsPerFile[file] = new CompilerAbstract(languageVersion, data, source)\n    }\n\n    this.on('solidity', 'compilationFinished', (file, source, languageVersion, data) => {\n      this.compilersArtefacts.__last = new CompilerAbstract(languageVersion, data, source)\n      saveCompilationPerFileResult(file, source, languageVersion, data)\n    })\n\n    this.on('vyper', 'compilationFinished', (file, source, languageVersion, data) => {\n      this.compilersArtefacts.__last = new CompilerAbstract(languageVersion, data, source)\n      saveCompilationPerFileResult(file, source, languageVersion, data)\n    })\n\n    this.on('lexon', 'compilationFinished', (file, source, languageVersion, data) => {\n      this.compilersArtefacts.__last = new CompilerAbstract(languageVersion, data, source)\n      saveCompilationPerFileResult(file, source, languageVersion, data)\n    })\n\n    this.on('yulp', 'compilationFinished', (file, source, languageVersion, data) => {\n      this.compilersArtefacts.__last = new CompilerAbstract(languageVersion, data, source)\n      saveCompilationPerFileResult(file, source, languageVersion, data)\n    })\n\n    this.on('optimism-compiler', 'compilationFinished', (file, source, languageVersion, data) => {\n      this.compilersArtefacts.__last = new CompilerAbstract(languageVersion, data, source)\n      saveCompilationPerFileResult(file, source, languageVersion, data)\n    })\n\n    this.on('solidityUnitTesting', 'compilationFinished', (file, source, languageVersion, data) => {\n      this.compilersArtefacts.__last = new CompilerAbstract(languageVersion, data, source)\n      saveCompilationPerFileResult(file, source, languageVersion, data)\n    })\n  }\n\n  getAllContractDatas () {\n    const contractsData = {}\n    Object.keys(this.compilersArtefactsPerFile).map((targetFile) => {\n      const contracts = this.compilersArtefactsPerFile[targetFile].getContracts()\n      Object.keys(contracts).map((file) => { contractsData[file] = contracts[file] })\n    })\n    // making sure we save last compilation result in there\n    if (this.compilersArtefacts.__last) {\n      const contracts = this.compilersArtefacts.__last.getContracts()\n      Object.keys(contracts).map((file) => { contractsData[file] = contracts[file] })\n    }\n    return contractsData\n  }\n\n  getCompilerAbstract (file) {\n    return this.compilersArtefactsPerFile[file]\n  }\n\n  // compilerData is a CompilerAbstract object\n  addResolvedContract (address, compilerData) {\n    this.compilersArtefacts[address] = compilerData\n  }\n\n  isResolved (address) {\n    return this.compilersArtefacts[address] !== undefined\n  }\n\n  get (key) {\n    return this.compilersArtefacts[key]\n  }\n}\n","'use strict'\nimport { Plugin } from '@remixproject/engine'\nimport { RemixURLResolver } from '@remix-project/remix-url-resolver'\n\nconst profile = {\n  name: 'contentImport',\n  displayName: 'content import',\n  version: '0.0.1',\n  methods: ['resolve', 'resolveAndSave', 'isExternalUrl']\n}\n\nexport class CompilerImports extends Plugin {\n  previouslyHandled: {}\n  urlResolver: any\n  constructor () {\n    super(profile)\n    this.urlResolver = new RemixURLResolver()\n    this.previouslyHandled = {} // cache import so we don't make the request at each compilation.\n  }\n\n  async setToken () {\n    try {\n      const protocol = typeof window !== 'undefined' && window.location.protocol\n      const token = await this.call('settings', 'get', 'settings/gist-access-token')\n\n      this.urlResolver.setGistToken(token, protocol)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  isRelativeImport (url) {\n    return /^([^/]+)/.exec(url)\n  }\n\n  isExternalUrl (url) {\n    const handlers = this.urlResolver.getHandlers()\n    return handlers.some(handler => handler.match(url))\n  }\n\n  /**\n    * resolve the content of @arg url. This only resolves external URLs.\n    *\n    * @param {String} url  - external URL of the content. can be basically anything like raw HTTP, ipfs URL, github address etc...\n    * @returns {Promise} - { content, cleanUrl, type, url }\n    */\n  resolve (url) {\n    return new Promise((resolve, reject) => {\n      this.import(url, null, (error, content, cleanUrl, type, url) => {\n        if (error) return reject(error)\n        resolve({ content, cleanUrl, type, url })\n      }, null)\n    })\n  }\n\n  async import (url, force, loadingCb, cb) {\n    if (typeof force !== 'boolean') {\n      const temp = loadingCb\n      loadingCb = force\n      cb = temp\n      force = false\n    }\n    if (!loadingCb) loadingCb = () => {}\n    if (!cb) cb = () => {}\n\n    var self = this\n    if (force) delete this.previouslyHandled[url]\n    var imported = this.previouslyHandled[url]\n    if (imported) {\n      return cb(null, imported.content, imported.cleanUrl, imported.type, url)\n    }\n\n    let resolved\n    try {\n      await this.setToken()\n      resolved = await this.urlResolver.resolve(url)\n      const { content, cleanUrl, type } = resolved\n      self.previouslyHandled[url] = {\n        content,\n        cleanUrl,\n        type\n      }\n      cb(null, content, cleanUrl, type, url)\n    } catch (e) {\n      return cb(new Error('not found ' + url))\n    }\n  }\n\n  importExternal (url, targetPath) {\n    return new Promise((resolve, reject) => {\n      this.import(url,\n        // TODO: handle this event\n        (loadingMsg) => { this.emit('message', loadingMsg) },\n        async (error, content, cleanUrl, type, url) => {\n          if (error) return reject(error)\n          try {\n            const provider = await this.call('fileManager', 'getProviderOf', null)\n            const path = targetPath || type + '/' + cleanUrl\n            if (provider) provider.addExternal('.deps/' + path, content, url)\n          } catch (err) {\n            console.error(err)\n          }\n          resolve(content)\n        }, null)\n    })\n  }\n\n  /**\n    * import the content of @arg url.\n    * first look in the browser localstorage (browser explorer) or locahost explorer. if the url start with `browser/*` or  `localhost/*`\n    * then check if the @arg url is located in the localhost, in the node_modules or installed_contracts folder\n    * then check if the @arg url match any external url\n    *\n    * @param {String} url - URL of the content. can be basically anything like file located in the browser explorer, in the localhost explorer, raw HTTP, github address etc...\n    * @param {String} targetPath - (optional) internal path where the content should be saved to\n    * @returns {Promise} - string content\n    */\n  async resolveAndSave (url, targetPath) {\n    try {\n      const provider = await this.call('fileManager', 'getProviderOf', url)\n      if (provider) {\n        if (provider.type === 'localhost' && !provider.isConnected()) {\n          throw new Error(`file provider ${provider.type} not available while trying to resolve ${url}`)\n        }\n        const exist = await provider.exists(url)\n        /*\n          if the path is absolute and the file does not exist, we can stop here\n          Doesn't make sense to try to resolve \"localhost/node_modules/localhost/node_modules/<path>\" and we'll end in an infinite loop.\n        */\n        if (!exist && url.startsWith('browser/')) throw new Error(`not found ${url}`)\n        if (!exist && url.startsWith('localhost/')) throw new Error(`not found ${url}`)\n\n        if (exist) {\n          const content = await (() => {\n            return new Promise((resolve, reject) => {\n              provider.get(url, (error, content) => {\n                if (error) return reject(error)\n                resolve(content)\n              })\n            })\n          })()\n          return content\n        } else {\n          const localhostProvider = await this.call('fileManager', 'getProviderByName', 'localhost')\n          if (localhostProvider.isConnected()) {\n            const splitted = /([^/]+)\\/(.*)$/g.exec(url)\n\n            const possiblePaths = ['localhost/installed_contracts/' + url]\n            if (splitted) possiblePaths.push('localhost/installed_contracts/' + splitted[1] + '/contracts/' + splitted[2])\n            possiblePaths.push('localhost/node_modules/' + url)\n            if (splitted) possiblePaths.push('localhost/node_modules/' + splitted[1] + '/contracts/' + splitted[2])\n\n            for (const path of possiblePaths) {\n              try {\n                const content = await this.resolveAndSave(path, null)\n                if (content) {\n                  localhostProvider.addNormalizedName(path.replace('localhost/', ''), url)\n                  return content\n                }\n              } catch (e) {}\n            }\n            return await this.importExternal(url, targetPath)\n          }\n          return await this.importExternal(url, targetPath)\n        }\n      }\n    } catch (e) {\n      throw new Error(`not found ${url}`)\n    }\n  }\n}\n","\nimport { Plugin } from '@remixproject/engine'\nimport { compile } from '@remix-project/remix-solidity'\nimport { util } from '@remix-project/remix-lib'\n\nconst ethutil = require('ethereumjs-util')\n\nconst profile = {\n  name: 'fetchAndCompile',\n  methods: ['resolve'],\n  version: '0.0.1'\n}\n\nexport class FetchAndCompile extends Plugin {\n  unresolvedAddresses: any[]\n  sourceVerifierNetWork: string[]\n  constructor () {\n    super(profile)\n    this.unresolvedAddresses = []\n    this.sourceVerifierNetWork = ['Main', 'Rinkeby', 'Ropsten', 'Goerli']\n  }\n\n  /**\n   * Fetch compiliation metadata from source-Verify from a given @arg contractAddress - https://github.com/ethereum/source-verify\n   * Put the artifacts in the file explorer\n   * Compile the code using Solidity compiler\n   * Returns compilation data\n   *\n   * @param {string} contractAddress - Address of the contrac to resolve\n   * @param {string} deployedBytecode - deployedBytecode of the contract\n   * @param {string} targetPath - Folder where to save the compilation arfefacts\n   * @return {CompilerAbstract} - compilation data targeting the given @arg contractAddress\n   */\n  async resolve (contractAddress, codeAtAddress, targetPath) {\n    contractAddress = ethutil.toChecksumAddress(contractAddress)\n\n    const localCompilation = async () => await this.call('compilerArtefacts', 'get', contractAddress) ? await this.call('compilerArtefacts', 'get', contractAddress) : await this.call('compilerArtefacts', 'get', '__last') ? await this.call('compilerArtefacts', 'get', '__last') : null\n\n    const resolved = await this.call('compilerArtefacts', 'get', contractAddress)\n    if (resolved) return resolved\n    if (this.unresolvedAddresses.includes(contractAddress)) return localCompilation()\n\n    // sometimes when doing an internal call, the only available artifact is the Solidity interface.\n    // resolving addresses of internal call would allow to step over the source code, even if the declaration was made using an Interface.\n\n    let network\n    try {\n      network = await this.call('network', 'detectNetwork')\n    } catch (e) {\n      return localCompilation()\n    }\n    if (!network) return localCompilation()\n    if (!this.sourceVerifierNetWork.includes(network.name)) return localCompilation()\n\n    // check if the contract if part of the local compilation result\n    const compilation = await localCompilation()\n    if (compilation) {\n      let found = false\n      compilation.visitContracts((contract) => {\n        found = util.compareByteCode('0x' + contract.object.evm.deployedBytecode.object, codeAtAddress)\n        return found\n      })\n      if (found) {\n        await this.call('compilerArtefacts', 'addResolvedContract', contractAddress, compilation)\n        setTimeout(_ => this.emit('usingLocalCompilation', contractAddress), 0)\n        return compilation\n      }\n    }\n\n    let data\n    try {\n      data = await this.call('source-verification', 'fetchByNetwork', contractAddress, network.id)\n    } catch (e) {\n      setTimeout(_ => this.emit('notFound', contractAddress), 0) // plugin framework returns a time out error although it actually didn't find the source...\n      this.unresolvedAddresses.push(contractAddress)\n      return localCompilation()\n    }\n    if (!data || !data.metadata) {\n      setTimeout(_ => this.emit('notFound', contractAddress), 0)\n      this.unresolvedAddresses.push(contractAddress)\n      return localCompilation()\n    }\n\n    // set the solidity contract code using metadata\n    await this.call('fileManager', 'setFile', `${targetPath}/${network.id}/${contractAddress}/metadata.json`, JSON.stringify(data.metadata, null, '\\t'))\n    const compilationTargets = {}\n    for (let file in data.metadata.sources) {\n      const urls = data.metadata.sources[file].urls\n      for (const url of urls) {\n        if (url.includes('ipfs')) {\n          const stdUrl = `ipfs://${url.split('/')[2]}`\n          const source = await this.call('contentImport', 'resolve', stdUrl)\n          if (await this.call('contentImport', 'isExternalUrl', file)) {\n            // nothing to do, the compiler callback will handle those\n          } else {\n            file = file.replace('browser/', '') // should be fixed in the remix IDE end.\n            const path = `${targetPath}/${network.id}/${contractAddress}/${file}`\n            await this.call('fileManager', 'setFile', path, source.content)\n            compilationTargets[path] = { content: source.content }\n          }\n          break\n        }\n      }\n    }\n\n    // compile\n    const settings = {\n      version: data.metadata.compiler.version,\n      language: data.metadata.language,\n      evmVersion: data.metadata.settings.evmVersion,\n      optimize: data.metadata.settings.optimizer.enabled,\n      runs: data.metadata.settings.runs\n    }\n    try {\n      setTimeout(_ => this.emit('compiling', settings), 0)\n      const compData = await compile(\n        compilationTargets,\n        settings,\n        async (url, cb) => await this.call('contentImport', 'resolveAndSave', url).then((result) => cb(null, result)).catch((error) => cb(error.message)))\n      await this.call('compilerArtefacts', 'addResolvedContract', contractAddress, compData)\n      return compData\n    } catch (e) {\n      this.unresolvedAddresses.push(contractAddress)\n      setTimeout(_ => this.emit('compilationFailed'), 0)\n      return localCompilation()\n    }\n  }\n}\n","'use strict'\nimport { Plugin } from '@remixproject/engine'\nimport { CompilerAbstract } from '@remix-project/remix-solidity'\n\nconst profile = {\n  name: 'compilerMetadata',\n  methods: ['deployMetadataOf'],\n  events: [],\n  version: '0.0.1'\n}\n\nexport class CompilerMetadata extends Plugin {\n  networks: string[]\n  innerPath: string\n  constructor () {\n    super(profile)\n    this.networks = ['VM:-', 'main:1', 'ropsten:3', 'rinkeby:4', 'kovan:42', 'grli:5', 'Custom']\n    this.innerPath = 'artifacts'\n  }\n\n  _JSONFileName (path, contractName) {\n    return this.joinPath(path, this.innerPath, contractName + '.json')\n  }\n\n  _MetadataFileName (path, contractName) {\n    return this.joinPath(path, this.innerPath, contractName + '_metadata.json')\n  }\n\n  onActivation () {\n    var self = this\n    this.on('solidity', 'compilationFinished', async (file, source, languageVersion, data) => {\n      if (!await this.call('settings', 'get', 'settings/generate-contract-metadata')) return\n      const compiler = new CompilerAbstract(languageVersion, data, source)\n      var path = self._extractPathOf(source.target)\n      compiler.visitContracts((contract) => {\n        if (contract.file !== source.target) return\n        (async () => {\n          const fileName = self._JSONFileName(path, contract.name)\n          const content = await this.call('fileManager', 'exists', fileName) ? await this.call('fileManager', 'readFile', fileName) : null\n          await this._setArtefacts(content, contract, path)\n        })()\n      })\n    })\n  }\n\n  _extractPathOf (file) {\n    var reg = /(.*)(\\/).*/\n    var path = reg.exec(file)\n    return path ? path[1] : '/'\n  }\n\n  async _setArtefacts (content, contract, path) {\n    content = content || '{}'\n    var metadata\n    try {\n      metadata = JSON.parse(content)\n    } catch (e) {\n      console.log(e)\n    }\n    var fileName = this._JSONFileName(path, contract.name)\n    var metadataFileName = this._MetadataFileName(path, contract.name)\n\n    var deploy = metadata.deploy || {}\n    this.networks.forEach((network) => {\n      deploy[network] = this._syncContext(contract, deploy[network] || {})\n    })\n\n    let parsedMetadata\n    try {\n      parsedMetadata = JSON.parse(contract.object.metadata)\n    } catch (e) {\n      console.log(e)\n    }\n    if (parsedMetadata) await this.call('fileManager', 'writeFile', metadataFileName, JSON.stringify(parsedMetadata, null, '\\t'))\n\n    var data = {\n      deploy,\n      data: {\n        bytecode: contract.object.evm.bytecode,\n        deployedBytecode: contract.object.evm.deployedBytecode,\n        gasEstimates: contract.object.evm.gasEstimates,\n        methodIdentifiers: contract.object.evm.methodIdentifiers\n      },\n      abi: contract.object.abi\n    }\n    await this.call('fileManager', 'writeFile', fileName, JSON.stringify(data, null, '\\t'))\n  }\n\n  _syncContext (contract, metadata) {\n    var linkReferences = metadata.linkReferences\n    var autoDeployLib = metadata.autoDeployLib\n    if (!linkReferences) linkReferences = {}\n    if (autoDeployLib === undefined) autoDeployLib = true\n\n    for (var libFile in contract.object.evm.bytecode.linkReferences) {\n      if (!linkReferences[libFile]) linkReferences[libFile] = {}\n      for (var lib in contract.object.evm.bytecode.linkReferences[libFile]) {\n        if (!linkReferences[libFile][lib]) {\n          linkReferences[libFile][lib] = '<address>'\n        }\n      }\n    }\n    metadata.linkReferences = linkReferences\n    metadata.autoDeployLib = autoDeployLib\n    return metadata\n  }\n\n  async deployMetadataOf (contractName, fileLocation) {\n    let path\n    if (fileLocation) {\n      path = fileLocation.split('/')\n      path.pop()\n      path = path.join('/')\n    } else {\n      try {\n        path = this._extractPathOf(await this.call('fileManager', 'getCurrentFile'))\n      } catch (err) {\n        console.log(err)\n        throw new Error(err)\n      }\n    }\n    try {\n      const { id, name } = await this.call('network', 'detectNetwork')\n      const fileName = this._JSONFileName(path, contractName)\n      try {\n        const content = await this.call('fileManager', 'readFile', fileName)\n        if (!content) return null\n        let metadata = JSON.parse(content)\n        metadata = metadata.deploy || {}\n        return metadata[name + ':' + id] || metadata[name] || metadata[id] || metadata[name.toLowerCase() + ':' + id] || metadata[name.toLowerCase()]\n      } catch (err) {\n        return null\n      }\n    } catch (err) {\n      console.log(err)\n      throw new Error(err)\n    }\n  }\n\n  joinPath (...paths) {\n    paths = paths.filter((value) => value !== '').map((path) => path.replace(/^\\/|\\/$/g, '')) // remove first and last slash)\n    if (paths.length === 1) return paths[0]\n    return paths.join('/')\n  }\n}\n","'use strict'\nimport { Plugin } from '@remixproject/engine'\n\nimport { sourceMappingDecoder } from '@remix-project/remix-debug'\n\nconst profile = {\n  name: 'offsetToLineColumnConverter',\n  methods: ['offsetToLineColumn'],\n  events: [],\n  version: '0.0.1'\n}\n\nexport class OffsetToLineColumnConverter extends Plugin {\n  lineBreakPositionsByContent: {}\n  sourceMappingDecoder: any\n  constructor () {\n    super(profile)\n    this.lineBreakPositionsByContent = {}\n    this.sourceMappingDecoder = sourceMappingDecoder\n  }\n\n  /**\n   * Convert offset representation with line/column representation.\n   * This is also used to resolve the content:\n   * @arg file is the index of the file in the content sources array and content sources array does have filename as key and not index.\n   * So we use the asts (which references both index and filename) to look up the actual content targeted by the @arg file index.\n   * @param {{start, length}} rawLocation - offset location\n   * @param {number} file - The index where to find the source in the sources parameters\n   * @param {Object.<string, {content}>} sources - Map of content sources\n   * @param {Object.<string, {ast, id}>} asts - Map of content sources\n   */\n  offsetToLineColumn (rawLocation, file, sources, asts) {\n    if (!this.lineBreakPositionsByContent[file]) {\n      const sourcesArray = Object.keys(sources)\n      if (!asts || (file === 0 && sourcesArray.length === 1)) {\n        // if we don't have ast, we process the only one available content (applicable also for compiler older than 0.4.12)\n        this.lineBreakPositionsByContent[file] = this.sourceMappingDecoder.getLinebreakPositions(sources[sourcesArray[0]].content)\n      } else {\n        for (var filename in asts) {\n          const source = asts[filename]\n          if (source.id === file) {\n            this.lineBreakPositionsByContent[file] = this.sourceMappingDecoder.getLinebreakPositions(sources[filename].content)\n            break\n          }\n        }\n      }\n    }\n    return this.sourceMappingDecoder.convertOffsetToLineColumn(rawLocation, this.lineBreakPositionsByContent[file])\n  }\n\n  /**\n   * Convert offset representation with line/column representation.\n   * @param {{start, length}} rawLocation - offset location\n   * @param {number} file - The index where to find the source in the sources parameters\n   * @param {string} content - source\n   */\n  offsetToLineColumnWithContent (rawLocation, file, content) {\n    this.lineBreakPositionsByContent[file] = this.sourceMappingDecoder.getLinebreakPositions(content)\n    return this.sourceMappingDecoder.convertOffsetToLineColumn(rawLocation, this.lineBreakPositionsByContent[file])\n  }\n\n  /**\n   * Clear the cache\n   */\n  clear () {\n    this.lineBreakPositionsByContent = {}\n  }\n\n  /**\n   * called by plugin API\n   */\n  activate () {\n    this.on('solidity', 'compilationFinished', () => {\n      this.clear()\n    })\n  }\n}\n","export * from './lib/remix-ui-checkbox'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-checkbox.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { CSSProperties } from 'react'  //eslint-disable-line\nimport './remix-ui-checkbox.css'\n\n/* eslint-disable-next-line */\nexport interface RemixUiCheckboxProps {\n  onClick?: (event) => void\n  onChange?: (event) => void\n  label?: string\n  inputType?: string\n  name?: string\n  checked?: boolean\n  id?: string\n  itemName?: string\n  categoryId?: string\n  visibility?: string\n  display?: string\n}\n\nexport const RemixUiCheckbox = ({\n  id,\n  label,\n  onClick,\n  inputType,\n  name,\n  checked,\n  onChange,\n  itemName,\n  categoryId,\n  visibility,\n  display = 'flex'\n}: RemixUiCheckboxProps) => {\n  return (\n    <div className=\"listenOnNetwork_2A0YE0 custom-control custom-checkbox\" style={{ display: display, alignItems: 'center', visibility: visibility } as CSSProperties } onClick={onClick}>\n      <input\n        id={id}\n        type={inputType}\n        onChange={onChange}\n        style={{ verticalAlign: 'bottom' }}\n        name={name}\n        className=\"custom-control-input\"\n        checked={checked}\n      />\n      <label className=\"form-check-label custom-control-label\" id={`heading${categoryId}`} style={{ paddingTop: '0.15rem' }}>\n        {name ? <div className=\"font-weight-bold\">{itemName}</div> : ''}\n        {label}\n      </label>\n    </div>\n  )\n}\n\nexport default RemixUiCheckbox\n","export * from './lib/copy-to-clipboard/copy-to-clipboard'\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./copy-to-clipboard.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState } from 'react'\nimport copy from 'copy-to-clipboard'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport { Placement } from 'react-bootstrap/esm/Overlay'\n\nimport './copy-to-clipboard.css'\n\ninterface ICopyToClipboard {\n  content: any,\n  tip?: string,\n  icon?: string,\n  direction?: Placement,\n  className?: string,\n  title?: string,\n  children?: JSX.Element\n}\nexport const CopyToClipboard = (props: ICopyToClipboard) => {\n  let { content, tip = 'Copy', icon = 'fa-copy', direction = 'right', children, ...otherProps } = props\n  const [message, setMessage] = useState(tip)\n  const handleClick = (e) => {\n    if (content && content !== '') { // module `copy` keeps last copied thing in the memory, so don't show tooltip if nothing is copied, because nothing was added to memory\n      try {\n        if (typeof content !== 'string') {\n          content = JSON.stringify(content, null, '\\t')\n        }\n        copy(content)\n        setMessage('Copied')\n      } catch (e) {\n        console.error(e)\n      }\n    } else {\n      setMessage('Cannot copy empty content!')\n    }\n    e.preventDefault()\n    return false\n  }\n\n  const reset = () => {\n    setTimeout(() => setMessage('Copy'), 500)\n  }\n\n  return (\n    // eslint-disable-next-line jsx-a11y/anchor-is-valid\n    <a href='#' onClick={handleClick} onMouseLeave={reset}>\n      <OverlayTrigger placement={direction} overlay={\n        <Tooltip id=\"overlay-tooltip\">\n          { message }\n        </Tooltip>\n      }>\n        {\n          children || (<i className={`far ${icon} ml-1 p-2`} aria-hidden=\"true\"\n            {...otherProps}\n          ></i>)\n        }\n      </OverlayTrigger>\n    </a>\n  )\n}\n\nexport default CopyToClipboard\n","export * from './lib/debugger-ui'\nexport * from './lib/idebugger-api'\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./button-navigator.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport './button-navigator.css'\n\nexport const ButtonNavigation = ({ stepOverBack, stepIntoBack, stepIntoForward, stepOverForward, jumpOut, jumpPreviousBreakpoint, jumpNextBreakpoint, jumpToException, revertedReason, stepState, jumpOutDisabled }) => {\n  const [state, setState] = useState({\n    intoBackDisabled: true,\n    overBackDisabled: true,\n    intoForwardDisabled: true,\n    overForwardDisabled: true,\n    jumpOutDisabled: true,\n    jumpNextBreakpointDisabled: true,\n    jumpPreviousBreakpointDisabled: true\n  })\n\n  useEffect(() => {\n    stepChanged(stepState, jumpOutDisabled)\n  }, [stepState, jumpOutDisabled])\n\n  const reset = () => {\n    setState(() => {\n      return {\n        intoBackDisabled: true,\n        overBackDisabled: true,\n        intoForwardDisabled: true,\n        overForwardDisabled: true,\n        jumpOutDisabled: true,\n        jumpNextBreakpointDisabled: true,\n        jumpPreviousBreakpointDisabled: true\n      }\n    })\n  }\n\n  const stepChanged = (stepState, jumpOutDisabled) => {\n    if (stepState === 'invalid') {\n      // TODO: probably not necessary, already implicit done in the next steps\n      reset()\n      return\n    }\n\n    setState(() => {\n      return {\n        intoBackDisabled: stepState === 'initial',\n        overBackDisabled: stepState === 'initial',\n        jumpPreviousBreakpointDisabled: stepState === 'initial',\n        intoForwardDisabled: stepState === 'end',\n        overForwardDisabled: stepState === 'end',\n        jumpNextBreakpointDisabled: stepState === 'end',\n        jumpOutDisabled: (jumpOutDisabled !== null) && (jumpOutDisabled !== undefined) ? jumpOutDisabled : true\n      }\n    })\n  }\n\n  return (\n    <div className=\"buttons\">\n      <div className=\"stepButtons btn-group py-1\">\n        <button id='overback' className='btn btn-primary btn-sm navigator stepButton fas fa-reply' title='Step over back' onClick={() => { stepOverBack && stepOverBack() }} disabled={state.overBackDisabled} ></button>\n        <button id='intoback' data-id=\"buttonNavigatorIntoBack\" className='btn btn-primary btn-sm navigator stepButton fas fa-level-up-alt' title='Step back' onClick={() => { stepIntoBack && stepIntoBack() }} disabled={state.intoBackDisabled}></button>\n        <button id='intoforward' data-id=\"buttonNavigatorIntoForward\" className='btn btn-primary btn-sm navigator stepButton fas fa-level-down-alt' title='Step into' onClick={() => { stepIntoForward && stepIntoForward() }} disabled={state.intoForwardDisabled}></button>\n        <button id='overforward' className='btn btn-primary btn-sm navigator stepButton fas fa-share' title='Step over forward' onClick={() => { stepOverForward && stepOverForward() }} disabled={state.overForwardDisabled}></button>\n      </div>\n\n      <div className=\"jumpButtons btn-group py-1\">\n        <button className='btn btn-primary btn-sm navigator jumpButton fas fa-step-backward' id='jumppreviousbreakpoint' data-id=\"buttonNavigatorJumpPreviousBreakpoint\" title='Jump to the previous breakpoint' onClick={() => { jumpPreviousBreakpoint && jumpPreviousBreakpoint() }} disabled={state.jumpPreviousBreakpointDisabled}></button>\n        <button className='btn btn-primary btn-sm navigator jumpButton fas fa-eject' id='jumpout' title='Jump out' onClick={() => { jumpOut && jumpOut() }} disabled={state.jumpOutDisabled}></button>\n        <button className='btn btn-primary btn-sm navigator jumpButton fas fa-step-forward' id='jumpnextbreakpoint' data-id=\"buttonNavigatorJumpNextBreakpoint\" title='Jump to the next breakpoint' onClick={() => { jumpNextBreakpoint && jumpNextBreakpoint() }} disabled={state.jumpNextBreakpointDisabled}></button>\n      </div>\n      <div id='reverted' style={{ display: revertedReason === '' ? 'none' : 'block' }}>\n        <button id='jumptoexception' title='Jump to exception' className='btn btn-danger btn-sm navigator button fas fa-exclamation-triangle' onClick={() => { jumpToException && jumpToException() }} disabled={state.jumpOutDisabled}>\n        </button>\n        <span>State changes made during this call will be reverted.</span>\n        <span id='outofgas' style={{ display: revertedReason === 'outofgas' ? 'inline' : 'none' }}>This call will run out of gas.</span>\n        <span id='parenthasthrown' style={{ display: revertedReason === 'parenthasthrown' ? 'inline' : 'none' }}>The parent call will throw an exception</span>\n      </div>\n    </div>\n  )\n}\n\nexport default ButtonNavigation\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./debugger-ui.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport TxBrowser from './tx-browser/tx-browser' // eslint-disable-line\nimport StepManager from './step-manager/step-manager' // eslint-disable-line\nimport VmDebugger from './vm-debugger/vm-debugger' // eslint-disable-line\nimport VmDebuggerHead from './vm-debugger/vm-debugger-head' // eslint-disable-line\nimport { TransactionDebugger as Debugger } from '@remix-project/remix-debug' // eslint-disable-line\nimport { DebuggerUIProps } from './idebugger-api' // eslint-disable-line\nimport { Toaster } from '@remix-ui/toaster' // eslint-disable-line\n/* eslint-disable-next-line */\nimport './debugger-ui.css'\nconst helper = require('../../../../../apps/remix-ide/src/lib/helper')\nconst _paq = (window as any)._paq = (window as any)._paq || []\n\nexport const DebuggerUI = (props: DebuggerUIProps) => {\n  const debuggerModule = props.debuggerAPI\n  const [state, setState] = useState({\n    isActive: false,\n    debugger: null,\n    currentReceipt: {\n      contractAddress: null,\n      to: null\n    },\n    currentBlock: null,\n    currentTransaction: null,\n    blockNumber: null,\n    txNumber: '',\n    debugging: false,\n    opt: {\n      debugWithGeneratedSources: false,\n      debugWithLocalNode: false\n    },\n    toastMessage: '',\n    validationError: '',\n    txNumberIsEmpty: true,\n    isLocalNodeUsed: false\n  })\n\n  useEffect(() => {\n    return unLoad()\n  }, [])\n\n  debuggerModule.onDebugRequested((hash, web3?) => {\n    if (hash) debug(hash, web3)\n  })\n\n  debuggerModule.onRemoveHighlights(async () => {\n    await debuggerModule.discardHighlight()\n  })\n\n  useEffect(() => {\n    const setEditor = () => {\n      debuggerModule.onBreakpointCleared((fileName, row) => {\n        if (state.debugger) state.debugger.breakPointManager.remove({ fileName: fileName, row: row })\n      })\n\n      debuggerModule.onBreakpointAdded((fileName, row) => {\n        if (state.debugger) state.debugger.breakPointManager.add({ fileName: fileName, row: row })\n      })\n\n      debuggerModule.onEditorContentChanged(() => {\n        if (state.debugger) unLoad()\n      })\n    }\n\n    setEditor()\n\n    const providerChanged = () => {\n      debuggerModule.onEnvChanged((provider) => {\n        setState(prevState => {\n          const isLocalNodeUsed = provider !== 'vm' && provider !== 'injected'\n          return { ...prevState, isLocalNodeUsed: isLocalNodeUsed }\n        })\n      })\n    }\n\n    providerChanged()\n  }, [state.debugger])\n\n  const listenToEvents = (debuggerInstance, currentReceipt) => {\n    if (!debuggerInstance) return\n\n    debuggerInstance.event.register('debuggerStatus', async (isActive) => {\n      await debuggerModule.discardHighlight()\n      setState(prevState => {\n        return { ...prevState, isActive }\n      })\n    })\n\n    debuggerInstance.event.register('newSourceLocation', async (lineColumnPos, rawLocation, generatedSources, address) => {\n      if (!lineColumnPos) return\n      const contracts = await debuggerModule.fetchContractAndCompile(\n        address || currentReceipt.contractAddress || currentReceipt.to,\n        currentReceipt)\n      if (contracts) {\n        let path = contracts.getSourceName(rawLocation.file)\n        if (!path) {\n          // check in generated sources\n          for (const source of generatedSources) {\n            if (source.id === rawLocation.file) {\n              path = `browser/.debugger/generated-sources/${source.name}`\n              let content\n              try {\n                content = await debuggerModule.getFile(path)\n              } catch (e) {\n                const message = 'Unable to fetch generated sources, the file probably doesn\\'t exist yet.'\n                console.log(message, ' ', e)\n              }\n              if (content !== source.contents) {\n                await debuggerModule.setFile(path, source.contents)\n              }\n              break\n            }\n          }\n        }\n        if (path) {\n          await debuggerModule.discardHighlight()\n          await debuggerModule.highlight(lineColumnPos, path)\n        }\n      }\n    })\n\n    debuggerInstance.event.register('debuggerUnloaded', () => unLoad())\n  }\n\n  const requestDebug = (blockNumber, txNumber, tx) => {\n    startDebugging(blockNumber, txNumber, tx)\n  }\n\n  const updateTxNumberFlag = (empty: boolean) => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumberIsEmpty: empty,\n        validationError: ''\n      }\n    })\n  }\n\n  const unloadRequested = (blockNumber, txIndex, tx) => {\n    unLoad()\n  }\n\n  const unLoad = () => {\n    if (state.debugger) state.debugger.unload()\n    setState(prevState => {\n      return {\n        ...prevState,\n        isActive: false,\n        debugger: null,\n        currentReceipt: {\n          contractAddress: null,\n          to: null\n        },\n        currentBlock: null,\n        currentTransaction: null,\n        blockNumber: null,\n        ready: {\n          vmDebugger: false,\n          vmDebuggerHead: false\n        },\n        debugging: false\n      }\n    })\n  }\n  const startDebugging = async (blockNumber, txNumber, tx, optWeb3?) => {\n    if (state.debugger) unLoad()\n    if (!txNumber) return\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumber: txNumber\n      }\n    })\n    if (!helper.isValidHash(txNumber)) {\n      setState(prevState => {\n        return {\n          ...prevState,\n          validationError: 'Invalid transaction hash.'\n        }\n      })\n      return\n    }\n\n    const web3 = optWeb3 || (state.opt.debugWithLocalNode ? await debuggerModule.web3() : await debuggerModule.getDebugWeb3())\n    try {\n      const networkId = await web3.eth.net.getId()\n      _paq.push(['trackEvent', 'debugger', 'startDebugging', networkId])\n      if (networkId === 42) {\n        setState(prevState => {\n          return {\n            ...prevState,\n            validationError: 'Unfortunately, the Kovan network is not supported.'\n          }\n        })\n        return\n      }\n    } catch (e) {\n      console.error(e)\n    }\n    let currentReceipt\n    let currentBlock\n    let currentTransaction\n    try {\n      currentReceipt = await web3.eth.getTransactionReceipt(txNumber)\n      currentBlock = await web3.eth.getBlock(currentReceipt.blockHash)\n      currentTransaction = await web3.eth.getTransaction(txNumber)\n    } catch (e) {\n      setState(prevState => {\n        return {\n          ...prevState,\n          validationError: e.message\n        }\n      })\n      console.log(e.message)\n    }\n\n    const debuggerInstance = new Debugger({\n      web3,\n      offsetToLineColumnConverter: debuggerModule.offsetToLineColumnConverter,\n      compilationResult: async (address) => {\n        try {\n          const ret = await debuggerModule.fetchContractAndCompile(address, currentReceipt)\n          return ret\n        } catch (e) {\n          // debuggerModule.showMessage('Debugging error', 'Unable to fetch a transaction.')\n          console.error(e)\n        }\n        return null\n      },\n      debugWithGeneratedSources: state.opt.debugWithGeneratedSources\n    })\n\n    try {\n      await debuggerInstance.debug(blockNumber, txNumber, tx, () => {\n        listenToEvents(debuggerInstance, currentReceipt)\n        setState(prevState => {\n          return {\n            ...prevState,\n            blockNumber,\n            txNumber,\n            debugging: true,\n            currentReceipt,\n            currentBlock,\n            currentTransaction,\n            debugger: debuggerInstance,\n            toastMessage: `debugging ${txNumber}`,\n            validationError: ''\n          }\n        })\n      })\n    } catch (error) {\n      unLoad()\n      setState(prevState => {\n        return {\n          ...prevState,\n          validationError: error.message || error\n        }\n      })\n    }\n  }\n\n  const debug = (txHash, web3?) => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        validationError: '',\n        txNumber: txHash\n      }\n    })\n    startDebugging(null, txHash, null, web3)\n  }\n\n  const stepManager = {\n    jumpTo: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpTo.bind(state.debugger.step_manager) : null,\n    stepOverBack: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepOverBack.bind(state.debugger.step_manager) : null,\n    stepIntoBack: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepIntoBack.bind(state.debugger.step_manager) : null,\n    stepIntoForward: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepIntoForward.bind(state.debugger.step_manager) : null,\n    stepOverForward: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.stepOverForward.bind(state.debugger.step_manager) : null,\n    jumpOut: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpOut.bind(state.debugger.step_manager) : null,\n    jumpPreviousBreakpoint: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpPreviousBreakpoint.bind(state.debugger.step_manager) : null,\n    jumpNextBreakpoint: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpNextBreakpoint.bind(state.debugger.step_manager) : null,\n    jumpToException: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.jumpToException.bind(state.debugger.step_manager) : null,\n    traceLength: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.traceLength : null,\n    registerEvent: state.debugger && state.debugger.step_manager ? state.debugger.step_manager.event.register.bind(state.debugger.step_manager.event) : null\n  }\n  const vmDebugger = {\n    registerEvent: state.debugger && state.debugger.vmDebuggerLogic ? state.debugger.vmDebuggerLogic.event.register.bind(state.debugger.vmDebuggerLogic.event) : null,\n    triggerEvent: state.debugger && state.debugger.vmDebuggerLogic ? state.debugger.vmDebuggerLogic.event.trigger.bind(state.debugger.vmDebuggerLogic.event) : null\n  }\n  return (\n    <div>\n      <Toaster message={state.toastMessage} />\n      <div className=\"px-2\">\n        <div>\n          <p className=\"my-2 debuggerLabel\">Debugger Configuration</p>\n          <div className=\"mt-2 mb-2 debuggerConfig custom-control custom-checkbox\">\n            <input className=\"custom-control-input\" id=\"debugGeneratedSourcesInput\" onChange={({ target: { checked } }) => {\n              setState(prevState => {\n                return { ...prevState, opt: { ...prevState.opt, debugWithGeneratedSources: checked } }\n              })\n            }} type=\"checkbox\" title=\"Debug with generated sources\" />\n            <label data-id=\"debugGeneratedSourcesLabel\" className=\"form-check-label custom-control-label\" htmlFor=\"debugGeneratedSourcesInput\">Use generated sources (from Solidity v0.7.2)</label>\n          </div>\n          { state.isLocalNodeUsed && <div className=\"mt-2 mb-2 debuggerConfig custom-control custom-checkbox\">\n            <input className=\"custom-control-input\" id=\"debugWithLocalNodeInput\" onChange={({ target: { checked } }) => {\n              setState(prevState => {\n                return { ...prevState, opt: { ...prevState.opt, debugWithLocalNode: checked } }\n              })\n            }} type=\"checkbox\" title=\"Force the debugger to use the current local node\" />\n            <label data-id=\"debugLocaNodeLabel\" className=\"form-check-label custom-control-label\" htmlFor=\"debugWithLocalNodeInput\">Force using local node</label>\n          </div>\n          }\n          { state.validationError && <span className=\"w-100 py-1 text-danger validationError\">{state.validationError}</span> }\n        </div>\n        <TxBrowser requestDebug={ requestDebug } unloadRequested={ unloadRequested } updateTxNumberFlag={ updateTxNumberFlag } transactionNumber={ state.txNumber } debugging={ state.debugging } />\n        { state.debugging && <StepManager stepManager={ stepManager } /> }\n        { state.debugging && <VmDebuggerHead vmDebugger={ vmDebugger } /> }\n      </div>\n      { state.debugging && <VmDebugger vmDebugger={ vmDebugger } currentBlock={ state.currentBlock } currentReceipt={ state.currentReceipt } currentTransaction={ state.currentTransaction } /> }\n    </div>\n  )\n}\n\nexport default DebuggerUI\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\n\nexport const Slider = ({ jumpTo, sliderValue, traceLength }) => {\n  const [state, setState] = useState({\n    currentValue: 0\n  })\n\n  useEffect(() => {\n    setValue(sliderValue)\n  }, [sliderValue])\n\n  const setValue = (value) => {\n    if (value === state.currentValue) return\n    setState(prevState => {\n      return { ...prevState, currentValue: value }\n    })\n    jumpTo && jumpTo(value)\n  }\n\n  const handleChange = (e) => {\n    const value = parseInt(e.target.value)\n\n    setValue(value)\n  }\n\n  return (\n    <div>\n      <input id='slider'\n        data-id=\"slider\"\n        className='w-100 my-0'\n        type='range'\n        min={0}\n        max={traceLength ? traceLength - 1 : 0}\n        value={state.currentValue}\n        onChange={handleChange}\n        disabled={traceLength ? traceLength === 0 : true}\n      />\n    </div>\n  )\n}\n\nexport default Slider\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport Slider from '../slider/slider' // eslint-disable-line\nimport ButtonNavigator from '../button-navigator/button-navigator' // eslint-disable-line\n\nexport const StepManager = ({ stepManager: { jumpTo, traceLength, stepIntoBack, stepIntoForward, stepOverBack, stepOverForward, jumpOut, jumpNextBreakpoint, jumpPreviousBreakpoint, jumpToException, registerEvent } }) => {\n  const [state, setState] = useState({\n    sliderValue: 0,\n    revertWarning: '',\n    stepState: '',\n    jumpOutDisabled: true\n  })\n\n  useEffect(() => {\n    registerEvent && registerEvent('revertWarning', setRevertWarning)\n    registerEvent && registerEvent('stepChanged', updateStep)\n  }, [registerEvent])\n\n  const setRevertWarning = (warning) => {\n    setState(prevState => {\n      return { ...prevState, revertWarning: warning }\n    })\n  }\n\n  const updateStep = (step, stepState, jumpOutDisabled) => {\n    setState(prevState => {\n      return { ...prevState, sliderValue: step, stepState, jumpOutDisabled }\n    })\n  }\n  const { sliderValue, revertWarning, stepState, jumpOutDisabled } = state\n\n  return (\n    <div className=\"py-1\">\n      <Slider jumpTo={jumpTo} sliderValue={sliderValue} traceLength={traceLength} />\n      <ButtonNavigator\n        stepIntoBack={stepIntoBack}\n        stepIntoForward={stepIntoForward}\n        stepOverBack={stepOverBack}\n        stepOverForward={stepOverForward}\n        revertedReason={revertWarning}\n        stepState={stepState}\n        jumpOutDisabled={jumpOutDisabled}\n        jumpOut={jumpOut}\n        jumpNextBreakpoint={jumpNextBreakpoint}\n        jumpPreviousBreakpoint={jumpPreviousBreakpoint}\n        jumpToException={jumpToException}\n      />\n    </div>\n  )\n}\n\nexport default StepManager\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./tx-browser.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect, useRef } from 'react'  //eslint-disable-line\nimport './tx-browser.css'\n\nexport const TxBrowser = ({ requestDebug, updateTxNumberFlag, unloadRequested, transactionNumber, debugging }) => {\n  const [state, setState] = useState({\n    txNumber: ''\n  })\n\n  const inputValue = useRef(null)\n  useEffect(() => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumber: transactionNumber\n      }\n    })\n  }, [transactionNumber])\n\n  const handleSubmit = () => {\n    if (debugging) {\n      unload()\n    } else {\n      requestDebug(undefined, state.txNumber)\n    }\n  }\n\n  const unload = () => {\n    unloadRequested()\n  }\n\n  const txInputChanged = (value) => {\n    // todo check validation of txnumber in the input element, use\n    // required\n    // oninvalid=\"setCustomValidity('Please provide a valid transaction number, must start with 0x and have length of 22')\"\n    // pattern=\"^0[x,X]+[0-9a-fA-F]{22}\"\n    // this.state.txNumberInput.setCustomValidity('')\n    setState(prevState => {\n      return {\n        ...prevState,\n        txNumber: value\n      }\n    })\n  }\n\n  const txInputOnInput = () => {\n    updateTxNumberFlag(!inputValue.current.value)\n  }\n\n  return (\n    <div className='container px-0'>\n      <div className='txContainer'>\n        <div className='py-1 d-flex justify-content-center w-100 input-group'>\n          <input\n            ref={inputValue}\n            value={state.txNumber}\n            className='form-control m-0 txinput'\n            id='txinput'\n            type='text'\n            onChange={({ target: { value } }) => txInputChanged(value)}\n            onInput={txInputOnInput}\n            placeholder={'Transaction hash, should start with 0x'}\n            data-id='debuggerTransactionInput'\n            disabled={debugging}\n          />\n        </div>\n        <div className='d-flex justify-content-center w-100 btn-group py-1'>\n          <button\n            className='btn btn-primary btn-sm txbutton'\n            id='load'\n            title={debugging ? 'Stop debugging' : 'Start debugging'}\n            onClick={handleSubmit}\n            data-id='debuggerTransactionStartButton'\n            disabled={!state.txNumber }\n          >\n            { debugging ? 'Stop' : 'Start' } debugging\n          </button>\n        </div>\n      </div>\n      <span id='error' />\n    </div>\n  )\n}\n\nexport default TxBrowser\n","import React, { useState, useRef, useEffect, useReducer } from 'react' // eslint-disable-line\nimport { initialState, reducer } from '../../reducers/assembly-items'\nimport './styles/assembly-items.css'\n\nexport const AssemblyItems = ({ registerEvent }) => {\n  const [assemblyItems, dispatch] = useReducer(reducer, initialState)\n  const [absoluteSelectedIndex, setAbsoluteSelectedIndex] = useState(0)\n  const [selectedItem, setSelectedItem] = useState(0)\n  const [nextSelectedItems, setNextSelectedItems] = useState([1])\n  const [returnInstructionIndexes, setReturnInstructionIndexes] = useState([])\n  const [outOfGasInstructionIndexes, setOutOfGasInstructionIndexes] = useState([])\n  const refs = useRef({})\n  const asmItemsRef = useRef(null)\n\n  useEffect(() => {\n    registerEvent && registerEvent('codeManagerChanged', (code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes) => {\n      dispatch({ type: 'FETCH_OPCODES_SUCCESS', payload: { code, address, index, nextIndexes, returnInstructionIndexes, outOfGasInstructionIndexes } })\n    })\n  }, [])\n\n  useEffect(() => {\n    if (absoluteSelectedIndex !== assemblyItems.index) {\n      clearItems()\n      indexChanged(assemblyItems.index)\n      nextIndexesChanged(assemblyItems.nextIndexes)\n      returnIndexes(assemblyItems.returnInstructionIndexes)\n      outOfGasIndexes(assemblyItems.outOfGasInstructionIndexes)\n    }\n  }, [assemblyItems.opCodes.index])\n\n  const clearItem = (currentItem) => {\n    if (currentItem) {\n      currentItem.removeAttribute('selected')\n      currentItem.removeAttribute('style')\n      if (currentItem.firstChild) {\n        currentItem.firstChild.removeAttribute('style')\n      }\n    }\n  }\n\n  const clearItems = () => {\n    clearItem(refs.current[selectedItem] ? refs.current[selectedItem] : null)\n    if (nextSelectedItems) {\n      nextSelectedItems.map((index) => {\n        clearItem(refs.current[index] ? refs.current[index] : null)\n      })\n    }\n\n    returnInstructionIndexes.map((index) => {\n      if (index < 0) return\n      clearItem(refs.current[index] ? refs.current[index] : null)\n    })\n\n    outOfGasInstructionIndexes.map((index) => {\n      if (index < 0) return\n      clearItem(refs.current[index] ? refs.current[index] : null)\n    })\n  }\n\n  const indexChanged = (index: number) => {\n    if (index < 0) return\n\n    const codeView = asmItemsRef.current\n\n    const currentItem = codeView.children[index]\n    if (currentItem) {\n      currentItem.style.setProperty('background-color', 'var(--primary)')\n      currentItem.style.setProperty('color', 'var(--light)')\n      currentItem.setAttribute('selected', 'selected')\n      codeView.scrollTop = currentItem.offsetTop - parseInt(codeView.offsetTop)\n    }\n\n    setSelectedItem(index)\n    setAbsoluteSelectedIndex(assemblyItems.opCodes.index)\n  }\n\n  const nextIndexesChanged = (indexes: Array<number>) => {\n    indexes.map((index) => {\n      if (index < 0) return\n\n      const codeView = asmItemsRef.current\n\n      const currentItem = codeView.children[index]\n      if (currentItem) {\n        currentItem.style.setProperty('color', 'var(--primary)')\n        currentItem.style.setProperty('font-weight', 'bold')\n        currentItem.setAttribute('selected', 'selected')\n      }\n    })\n    setNextSelectedItems(indexes)\n  }\n\n  const returnIndexes = (indexes) => {\n    indexes.map((index) => {\n      if (index < 0) return\n\n      const codeView = asmItemsRef.current\n\n      const currentItem = codeView.children[index]\n      if (currentItem) {\n        currentItem.style.setProperty('border-style', 'dotted')\n        currentItem.setAttribute('selected', 'selected')\n      }\n    })\n    setReturnInstructionIndexes(indexes)\n  }\n\n  const outOfGasIndexes = (indexes) => {\n    indexes.map((index) => {\n      if (index < 0) return\n\n      const codeView = asmItemsRef.current\n\n      const currentItem = codeView.children[index]\n      if (currentItem) {\n        currentItem.style.setProperty('border-color', 'var(--danger)')\n        currentItem.style.setProperty('border-style', 'dotted')\n        currentItem.setAttribute('selected', 'selected')\n      }\n    })\n    setOutOfGasInstructionIndexes(indexes)\n  }\n\n  return (\n    <div className=\"border rounded px-1 mt-1 bg-light\">\n      <div className='dropdownpanel'>\n        <div className='dropdowncontent'>\n          <div className=\"pl-2 my-1 small instructions\" id='asmitems' ref={asmItemsRef}>\n            {\n              assemblyItems.display.map((item, i) => {\n                return <div className=\"px-1\" key={i} ref={ref => { refs.current[i] = ref }}><span>{item}</span></div>\n              })\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AssemblyItems\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const CalldataPanel = ({ calldata }) => {\n  return (\n    <div id='calldatapanel'>\n      <DropdownPanel dropdownName='Call Data' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default CalldataPanel\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const CallstackPanel = ({ calldata }) => {\n  return (\n    <div id='callstackpanel'>\n      <DropdownPanel dropdownName='Call Stack' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default CallstackPanel\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport AssemblyItems from './assembly-items' // eslint-disable-line\n\nexport const CodeListView = ({ registerEvent }) => {\n  return (\n    <div id='asmcodes'>\n      <AssemblyItems registerEvent={registerEvent} />\n    </div>\n  )\n}\n\nexport default CodeListView\n","import React, { useState, useEffect, useReducer } from 'react' // eslint-disable-line\nimport { TreeView, TreeViewItem } from '@remix-ui/tree-view' // eslint-disable-line\nimport { DropdownPanelProps, ExtractData, ExtractFunc } from '../../types' // eslint-disable-line\nimport { CopyToClipboard } from '@remix-ui/clipboard' // eslint-disable-line\nimport { initialState, reducer } from '../../reducers/calldata'\nimport './styles/dropdown-panel.css'\n\nexport const DropdownPanel = (props: DropdownPanelProps) => {\n  const [calldataObj, dispatch] = useReducer(reducer, initialState)\n  const { dropdownName, dropdownMessage, calldata, header, loading, extractFunc, formatSelfFunc, registerEvent, triggerEvent, loadMoreEvent, loadMoreCompletedEvent, headStyle, bodyStyle, hexHighlight } = props\n  const extractDataDefault: ExtractFunc = (item, parent?) => {\n    const ret: ExtractData = {}\n\n    if (item instanceof Array) {\n      ret.children = item.map((item, index) => {\n        return { key: index, value: item }\n      })\n      ret.self = 'Array'\n      ret.isNode = true\n      ret.isLeaf = false\n    } else if (item instanceof Object) {\n      ret.children = Object.keys(item).map((key) => {\n        return { key: key, value: item[key] }\n      })\n      ret.self = 'Object'\n      ret.isNode = true\n      ret.isLeaf = false\n    } else {\n      ret.self = item\n      ret.children = null\n      ret.isNode = false\n      ret.isLeaf = true\n    }\n    return ret\n  }\n  const formatSelfDefault = (key: string | number, data: ExtractData) => {\n    let value\n    if (hexHighlight && typeof (data.self) === 'string') {\n      const isHex = data.self.startsWith('0x') || hexHighlight\n      if (isHex) {\n        const regex = /^(0+)(.*)/g\n        const split = regex.exec(data.self.replace('0x', ''))\n        if (split && split[1]) {\n          value = (<span><span className=\"m-0 label_value\">0x</span><span className=\"m-0 label_value\">{split[1]}</span>{ split[2] && <span className=\"m-0 label_value font-weight-bold text-dark\">{split[2]}</span> }</span>)\n        } else value = (<span><span className=\"m-0 label_value\">0x</span><span className=\"m-0 label_value font-weight-bold text-dark\">{data.self.replace('0x', '')}</span></span>)\n      } else value = <span className=\"m-0 label_value\">{data.self}</span>\n    } else value = <span className=\"m-0 label_value\">{data.self}</span>\n    return (\n      <div className=\"d-flex mr-1 flex-row label_item\">\n        <label className=\"small font-weight-bold mb-0 pr-1 label_key\">{key}:</label>\n        <label className=\"m-0 label_value\">{value}</label>\n      </div>\n    )\n  }\n  const [state, setState] = useState({\n    header: '',\n    toggleDropdown: false,\n    message: {\n      innerText: 'No data available.',\n      display: 'block'\n    },\n    dropdownContent: {\n      innerText: '',\n      display: 'none'\n    },\n    title: {\n      innerText: '',\n      display: 'none'\n    },\n    copiableContent: '',\n    updating: false,\n    expandPath: [],\n    data: null\n  })\n\n  useEffect(() => {\n    registerEvent && registerEvent(loadMoreCompletedEvent, (updatedCalldata) => {\n      dispatch({ type: 'UPDATE_CALLDATA_SUCCESS', payload: updatedCalldata })\n    })\n  }, [])\n\n  useEffect(() => {\n    dispatch({ type: 'FETCH_CALLDATA_SUCCESS', payload: calldata })\n  }, [calldata])\n\n  useEffect(() => {\n    update(calldata)\n  }, [calldataObj.calldata])\n\n  useEffect(() => {\n    message(dropdownMessage)\n  }, [dropdownMessage])\n\n  useEffect(() => {\n    if (loading && !state.updating) setLoading()\n  }, [loading])\n\n  const handleToggle = () => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        toggleDropdown: !prevState.toggleDropdown\n      }\n    })\n  }\n\n  const handleExpand = (keyPath) => {\n    if (!state.expandPath.includes(keyPath)) {\n      state.expandPath.push(keyPath)\n    } else {\n      state.expandPath = state.expandPath.filter(path => !path.startsWith(keyPath))\n    }\n  }\n\n  const message = (message) => {\n    if (message === state.message.innerText) return\n    setState(prevState => {\n      return {\n        ...prevState,\n        message: {\n          innerText: message,\n          display: message ? 'block' : ''\n        },\n        updating: false\n      }\n    })\n  }\n\n  const setLoading = () => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        message: {\n          innerText: '',\n          display: 'none'\n        },\n        dropdownContent: {\n          ...prevState.dropdownContent,\n          display: 'none'\n        },\n        copiableContent: '',\n        updating: true\n      }\n    })\n  }\n\n  const update = function (calldata) {\n    let isEmpty = !calldata\n\n    if (calldata && Array.isArray(calldata) && calldata.length === 0) isEmpty = true\n    else if (calldata && Object.keys(calldata).length === 0 && calldata.constructor === Object) isEmpty = true\n\n    setState(prevState => {\n      return {\n        ...prevState,\n        dropdownContent: {\n          ...prevState.dropdownContent,\n          display: 'block'\n        },\n        copiableContent: JSON.stringify(calldata, null, '\\t'),\n        message: {\n          innerText: isEmpty ? 'No data available' : '',\n          display: isEmpty ? 'block' : 'none'\n        },\n        updating: false,\n        toggleDropdown: !isEmpty,\n        data: calldata\n      }\n    })\n  }\n\n  const renderData = (item: ExtractData, parent, key: string | number, keyPath: string) => {\n    const data = extractFunc ? extractFunc(item, parent) : extractDataDefault(item, parent)\n    const children = (data.children || []).map((child) => {\n      return (\n        renderData(child.value, data, child.key, keyPath + '/' + child.key)\n      )\n    })\n\n    if (children && children.length > 0) {\n      return (\n        <TreeViewItem id={`treeViewItem${key}`} key={keyPath} label={formatSelfFunc ? formatSelfFunc(key, data) : formatSelfDefault(key, data)} onClick={() => handleExpand(keyPath)} expand={state.expandPath.includes(keyPath)}>\n          <TreeView id={`treeView${key}`} key={keyPath}>\n            {children}\n            {data.hasNext && <TreeViewItem id={'treeViewLoadMore'} data-id={'treeViewLoadMore'} className=\"cursor_pointer\" label=\"Load more\" onClick={() => { triggerEvent(loadMoreEvent, [data.cursor]) }} />}\n          </TreeView>\n        </TreeViewItem>\n      )\n    } else {\n      return <TreeViewItem id={key.toString()} key={keyPath} label={formatSelfFunc ? formatSelfFunc(key, data) : formatSelfDefault(key, data)} onClick={() => handleExpand(keyPath)} expand={state.expandPath.includes(keyPath)} />\n    }\n  }\n\n  const uniquePanelName = dropdownName.split(' ').join('')\n\n  return (\n    <div className=\"border rounded px-1 mt-1 bg-light\">\n      <div className=\"py-0 px-1 title\" style={headStyle}>\n        <div className={state.toggleDropdown ? 'icon fas fa-caret-down' : 'icon fas fa-caret-right'} onClick={handleToggle}></div>\n        <div className=\"name\" data-id={`dropdownPanel${uniquePanelName}`} onClick={handleToggle}>{dropdownName}</div><span className=\"nameDetail\" onClick={handleToggle}>{header}</span>\n        <CopyToClipboard content={state.copiableContent} data-id={`dropdownPanelCopyToClipboard${uniquePanelName}`} />\n      </div>\n      <div className='dropdownpanel' style={{ display: state.toggleDropdown ? 'block' : 'none' }}>\n        <i className=\"refresh fas fa-sync\" style={{ display: state.updating ? 'inline-block' : 'none' }} aria-hidden=\"true\"></i>\n        <div className='dropdowncontent' style={{ display: state.dropdownContent.display, ...bodyStyle }}>\n          {\n            state.data &&\n            <TreeView id=\"treeView\">\n              {\n                Object.keys(state.data).map((innerkey) => renderData(state.data[innerkey], state.data, innerkey, innerkey))\n              }\n            </TreeView>\n          }\n        </div>\n        <div className='dropdownrawcontent' hidden={true}>{state.copiableContent}</div>\n        <div className='message' style={{ display: state.message.display }}>{state.message.innerText}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default DropdownPanel\n","import React from 'react' // eslint-disable-line\nimport { DropdownPanel } from './dropdown-panel' // eslint-disable-line\n\nexport const FullStoragesChanges = ({ calldata }) => {\n  return (\n    <div id='fullstorageschangespanel'>\n      <DropdownPanel dropdownName='Full Storage Changes' calldata={ calldata || {}} />\n    </div>\n  )\n}\n\nexport default FullStoragesChanges\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { default as deepequal } from 'deep-equal' // eslint-disable-line\n\nexport const FunctionPanel = ({ data }) => {\n  const [calldata, setCalldata] = useState(null)\n\n  useEffect(() => {\n    if (!deepequal(calldata, data)) setCalldata(data)\n  }, [data])\n\n  return (\n    <div id='FunctionPanel' data-id='functionPanel'>\n      <DropdownPanel dropdownName='Function Stack' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default FunctionPanel\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { BN } from 'ethereumjs-util'\n\nexport const GlobalVariables = ({ block, receipt, tx }) => {\n  // see https://docs.soliditylang.org/en/latest/units-and-global-variables.html#block-and-transaction-properties\n  const globals = {\n    'block.chainid': tx.chainId,\n    'block.coinbase': block.miner,\n    'block.difficulty': block.difficulty,\n    'block.gaslimit': block.gasLimit,\n    'block.number': block.number,\n    'block.timestamp': block.timestamp,\n    'msg.sender': tx.from,\n    'msg.sig': tx.input.substring(0, 10),\n    'msg.value': tx.value + ' Wei',\n    'tx.origin': tx.from\n  }\n  if (block.baseFeePerGas) {\n    globals['block.basefee'] = (new BN(block.baseFeePerGas.replace('0x', ''), 'hex')).toString(10) + ` Wei (${block.baseFeePerGas})`\n  }\n\n  return (\n    <div id='globalvariable' data-id='globalvariable'>\n      <DropdownPanel hexHighlight={false} bodyStyle={{ fontFamily: 'monospace' }} dropdownName='Global Variables' calldata={globals || {}} />\n    </div>\n  )\n}\n\nexport default GlobalVariables\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const MemoryPanel = ({ calldata }) => {\n  return (\n    <DropdownPanel hexHighlight={true} bodyStyle={{ fontFamily: 'monospace' }} dropdownName='Memory' calldata={calldata || {}} />\n  )\n}\n\nexport default MemoryPanel\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { extractData } from '../../utils/solidityTypeFormatter' // eslint-disable-line\nimport { ExtractData } from '../../types' // eslint-disable-line\n\nexport const SolidityLocals = ({ data, message, registerEvent, triggerEvent }) => {\n  const [calldata, setCalldata] = useState(null)\n\n  useEffect(() => {\n    data && setCalldata(data)\n  }, [data])\n\n  const formatSelf = (key: string, data: ExtractData) => {\n    let color = 'var(--primary)'\n    if (data.isArray || data.isStruct || data.isMapping) {\n      color = 'var(--info)'\n    } else if (\n      data.type.indexOf('uint') === 0 ||\n      data.type.indexOf('int') === 0 ||\n      data.type.indexOf('bool') === 0 ||\n      data.type.indexOf('enum') === 0\n    ) {\n      color = 'var(--green)'\n    } else if (data.type === 'string') {\n      color = 'var(--teal)'\n    } else if (data.self == 0x0) { // eslint-disable-line\n      color = 'var(--gray)'\n    }\n    if (data.type === 'string') {\n      data.self = JSON.stringify(data.self)\n    }\n    return (\n      <label className='mb-0' style={{ color: data.isProperty ? 'var(--info)' : '', whiteSpace: 'pre-wrap' }}>\n        {' ' + key}:\n        <label className='mb-0' style={{ color }}>\n          {' ' + data.self}\n        </label>\n        <label style={{ fontStyle: 'italic' }}>\n          {data.isProperty || !data.type ? '' : ' ' + data.type}\n        </label>\n      </label>\n    )\n  }\n\n  return (\n    <div id='soliditylocals' data-id=\"solidityLocals\">\n      <DropdownPanel\n        dropdownName='Solidity Locals'\n        dropdownMessage={message}\n        calldata={calldata || {}}\n        extractFunc={extractData}\n        formatSelfFunc={formatSelf}\n        registerEvent={registerEvent}\n        triggerEvent={triggerEvent}\n        loadMoreEvent='solidityLocalsLoadMore'\n        loadMoreCompletedEvent='solidityLocalsLoadMoreCompleted'\n      />\n    </div>\n  )\n}\n\nexport default SolidityLocals\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\nimport { extractData } from '../../utils/solidityTypeFormatter'\nimport { ExtractData } from '../../types' // eslint-disable-line\n\nexport const SolidityState = ({ calldata, message }) => {\n  const formatSelf = (key: string, data: ExtractData) => {\n    try {\n      let color = 'var(--primary)'\n      if (data.isArray || data.isStruct || data.isMapping) {\n        color = 'var(--info)'\n      } else if (\n        data.type.indexOf('uint') === 0 ||\n            data.type.indexOf('int') === 0 ||\n            data.type.indexOf('bool') === 0 ||\n            data.type.indexOf('enum') === 0\n      ) {\n        color = 'var(--green)'\n      } else if (data.type === 'string') {\n        color = 'var(--teal)'\n        } else if (data.self == 0x0) { // eslint-disable-line\n        color = 'var(--gray)'\n      }\n      return (\n        <label className='mb-0' style={{ color: data.isProperty ? 'var(--info)' : '', whiteSpace: 'pre-wrap' }}>\n          {' ' + key}:\n          <label className='mb-0' style={{ color }}>\n            {' ' + data.self}\n          </label>\n          <label style={{ fontStyle: 'italic' }}>\n            {data.isProperty || !data.type ? '' : ' ' + data.type}\n          </label>\n        </label>\n      )\n    } catch (e) {\n      return (<></>)\n    }\n  }\n\n  return (\n    <div id='soliditystate' data-id='soliditystate'>\n      {\n        <DropdownPanel dropdownName='Solidity State' calldata={calldata || {}} formatSelfFunc={formatSelf} extractFunc={extractData} />\n      }\n    </div>\n  )\n}\n\nexport default SolidityState\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const StackPanel = ({ calldata }) => {\n  return (\n    <div id='stackpanel'>\n      <DropdownPanel hexHighlight={true} bodyStyle={{ fontFamily: 'monospace' }} dropdownName='Stack' calldata={calldata || {}} />\n    </div>\n  )\n}\n\nexport default StackPanel\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const StepDetail = ({ stepDetail }) => {\n  return (\n    <div id='stepdetail' data-id='stepdetail'>\n      <DropdownPanel hexHighlight={false} dropdownName='Step details' calldata={stepDetail || {}} />\n    </div>\n  )\n}\n\nexport default StepDetail\n","import React from 'react' // eslint-disable-line\nimport DropdownPanel from './dropdown-panel' // eslint-disable-line\n\nexport const StoragePanel = ({ calldata, header }) => {\n  return (\n    <div id='storagepanel'>\n      <DropdownPanel dropdownName='Storage' calldata={calldata || {}} header={header} />\n    </div>\n  )\n}\n\nexport default StoragePanel\n","var content = require(\"!!../../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./assembly-items.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","var content = require(\"!!../../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./dropdown-panel.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport CodeListView from './code-list-view' // eslint-disable-line\nimport FunctionPanel from './function-panel' // eslint-disable-line\nimport StepDetail from './step-detail' // eslint-disable-line\nimport SolidityState from './solidity-state' // eslint-disable-line\nimport SolidityLocals from './solidity-locals' // eslint-disable-line\n\nexport const VmDebuggerHead = ({ vmDebugger: { registerEvent, triggerEvent } }) => {\n  const [functionPanel, setFunctionPanel] = useState(null)\n  const [stepDetail, setStepDetail] = useState({\n    'vm trace step': '-',\n    'execution step': '-',\n    'add memory': '',\n    gas: '',\n    'remaining gas': '-',\n    'loaded address': '-'\n  })\n\n  const [solidityState, setSolidityState] = useState({\n    calldata: null,\n    message: null\n  })\n  const [solidityLocals, setSolidityLocals] = useState({\n    calldata: null,\n    message: null\n  })\n\n  useEffect(() => {\n    registerEvent && registerEvent('functionsStackUpdate', (stack) => {\n      if (stack === null || stack.length === 0) return\n      const functions = []\n\n      for (const func of stack) {\n        functions.push(func.functionDefinition.name + '(' + func.inputs.join(', ') + ')')\n      }\n      setFunctionPanel(() => functions)\n    })\n    registerEvent && registerEvent('traceUnloaded', () => {\n      setStepDetail(() => {\n        return { 'vm trace step': '-', 'execution step': '-', 'add memory': '', gas: '', 'remaining gas': '-', 'loaded address': '-' }\n      })\n    })\n    registerEvent && registerEvent('newTraceLoaded', () => {\n      setStepDetail(() => {\n        return { 'vm trace step': '-', 'execution step': '-', 'add memory': '', gas: '', 'remaining gas': '-', 'loaded address': '-' }\n      })\n    })\n    registerEvent && registerEvent('traceCurrentStepUpdate', (error, step) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'execution step': (error ? '-' : step) }\n      })\n    })\n    registerEvent && registerEvent('traceMemExpandUpdate', (error, addmem) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'add memory': (error ? '-' : addmem) }\n      })\n    })\n    registerEvent && registerEvent('traceStepCostUpdate', (error, gas) => {\n      setStepDetail(prevState => {\n        return { ...prevState, gas: (error ? '-' : gas) }\n      })\n    })\n    registerEvent && registerEvent('traceCurrentCalledAddressAtUpdate', (error, address) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'loaded address': (error ? '-' : address) }\n      })\n    })\n    registerEvent && registerEvent('traceRemainingGasUpdate', (error, remainingGas) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'remaining gas': (error ? '-' : remainingGas) }\n      })\n    })\n    registerEvent && registerEvent('indexUpdate', (index) => {\n      setStepDetail(prevState => {\n        return { ...prevState, 'vm trace step': index }\n      })\n    })\n    registerEvent && registerEvent('solidityState', (calldata) => {\n      setSolidityState(() => {\n        return { ...solidityState, calldata }\n      })\n    })\n    registerEvent && registerEvent('solidityStateMessage', (message) => {\n      setSolidityState(() => {\n        return { ...solidityState, message }\n      })\n    })\n    registerEvent && registerEvent('solidityLocals', (calldata) => {\n      setSolidityLocals(() => {\n        return { ...solidityLocals, calldata }\n      })\n    })\n    registerEvent && registerEvent('solidityLocalsMessage', (message) => {\n      setSolidityLocals(() => {\n        return { ...solidityLocals, message }\n      })\n    })\n  }, [registerEvent])\n\n  return (\n    <div id='vmheadView' className=\"mt-1 px-0\">\n      <div className='d-flex flex-column'>\n        <div className='w-100'>\n          <FunctionPanel data={functionPanel} />\n          <SolidityLocals data={solidityLocals.calldata} message={solidityLocals.message} registerEvent={registerEvent} triggerEvent={triggerEvent} />\n          <SolidityState calldata={solidityState.calldata} message={solidityState.message} />\n        </div>\n        <div className='w-100'><CodeListView registerEvent={registerEvent} /></div>\n        <div className='w-100'><StepDetail stepDetail={stepDetail} /></div>\n      </div>\n    </div>\n  )\n}\n\nexport default VmDebuggerHead\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport CalldataPanel from './calldata-panel' // eslint-disable-line\nimport MemoryPanel from './memory-panel' // eslint-disable-line\nimport CallstackPanel from './callstack-panel' // eslint-disable-line\nimport StackPanel from './stack-panel' // eslint-disable-line\nimport StoragePanel from './storage-panel' // eslint-disable-line\nimport ReturnValuesPanel from './dropdown-panel' // eslint-disable-line\nimport FullStoragesChangesPanel from './full-storages-changes' // eslint-disable-line\nimport GlobalVariables from './global-variables' // eslint-disable-line\n\nexport const VmDebugger = ({ vmDebugger: { registerEvent }, currentBlock, currentReceipt, currentTransaction }) => {\n  const [calldataPanel, setCalldataPanel] = useState(null)\n  const [memoryPanel, setMemoryPanel] = useState(null)\n  const [callStackPanel, setCallStackPanel] = useState(null)\n  const [stackPanel, setStackPanel] = useState(null)\n  const [storagePanel, setStoragePanel] = useState({\n    calldata: null,\n    header: null\n  })\n  const [returnValuesPanel, setReturnValuesPanel] = useState(null)\n  const [fullStoragesChangesPanel, setFullStoragesChangesPanel] = useState(null)\n\n  useEffect(() => {\n    registerEvent && registerEvent('traceManagerCallDataUpdate', (calldata) => {\n      setCalldataPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerMemoryUpdate', (calldata) => {\n      setMemoryPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerCallStackUpdate', (calldata) => {\n      setCallStackPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerStackUpdate', (calldata) => {\n      setStackPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceManagerStorageUpdate', (calldata, header) => {\n      setStoragePanel(() => {\n        return { calldata, header }\n      })\n    })\n    registerEvent && registerEvent('traceReturnValueUpdate', (calldata) => {\n      setReturnValuesPanel(() => calldata)\n    })\n    registerEvent && registerEvent('traceAddressesUpdate', (calldata) => {\n      setFullStoragesChangesPanel(() => {\n        return {}\n      })\n    })\n    registerEvent && registerEvent('traceStorageUpdate', (calldata) => {\n      setFullStoragesChangesPanel(() => calldata)\n    })\n  }, [registerEvent])\n\n  return (\n    <div id='vmdebugger' className=\"px-2\">\n      <div>\n        <StackPanel calldata={stackPanel} />\n        <MemoryPanel calldata={memoryPanel} />\n        <StoragePanel calldata={storagePanel.calldata} header={storagePanel.header} />\n        <CallstackPanel calldata={callStackPanel} />\n        <CalldataPanel calldata={calldataPanel} />\n        <GlobalVariables block={currentBlock} receipt={currentReceipt} tx={currentTransaction} />\n        <ReturnValuesPanel dropdownName='Return Value' calldata={returnValuesPanel || {}} />\n        <FullStoragesChangesPanel calldata={fullStoragesChangesPanel} />\n      </div>\n    </div>\n  )\n}\n\nexport default VmDebugger\n","import { default as deepEqual } from 'deep-equal' // eslint-disable-line\n\ninterface Action {\n    type: string;\n    payload: { [key: string]: any };\n}\n\nexport const initialState = {\n  opCodes: {\n    code: [],\n    index: 0,\n    address: ''\n  },\n  display: [],\n  index: 0,\n  nextIndexes: [-1],\n  returnInstructionIndexes: [],\n  outOfGasInstructionIndexes: [],\n  top: 0,\n  bottom: 0,\n  isRequesting: false,\n  isSuccessful: false,\n  hasError: null\n}\n\nconst reducedOpcode = (opCodes, payload) => {\n  const length = 100\n  let bottom = opCodes.index - 10\n  bottom = bottom < 0 ? 0 : bottom\n  const top = bottom + length\n  return {\n    index: opCodes.index - bottom,\n    nextIndexes: opCodes.nextIndexes.map(index => index - bottom),\n    display: opCodes.code.slice(bottom, top),\n    returnInstructionIndexes: payload.returnInstructionIndexes.map((index) => index.instructionIndex - bottom),\n    outOfGasInstructionIndexes: payload.outOfGasInstructionIndexes.map((index) => index.instructionIndex - bottom)\n  }\n}\n\nexport const reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'FETCH_OPCODES_REQUEST': {\n      return {\n        ...state,\n        isRequesting: true,\n        isSuccessful: false,\n        hasError: null\n      }\n    }\n    case 'FETCH_OPCODES_SUCCESS': {\n      const opCodes = action.payload.address === state.opCodes.address ? {\n        ...state.opCodes, index: action.payload.index, nextIndexes: action.payload.nextIndexes\n      } : deepEqual(action.payload.code, state.opCodes.code) ? state.opCodes : action.payload\n\n      const reduced = reducedOpcode(opCodes, action.payload)\n      return {\n        opCodes,\n        display: reduced.display,\n        index: reduced.index,\n        nextIndexes: reduced.nextIndexes,\n        isRequesting: false,\n        isSuccessful: true,\n        hasError: null,\n        returnInstructionIndexes: reduced.returnInstructionIndexes,\n        outOfGasInstructionIndexes: reduced.outOfGasInstructionIndexes\n      }\n    }\n    case 'FETCH_OPCODES_ERROR': {\n      return {\n        ...state,\n        isRequesting: false,\n        isSuccessful: false,\n        hasError: action.payload\n      }\n    }\n    default:\n      throw new Error()\n  }\n}\n","interface Action {\n    type: string;\n    payload: { [key: string]: any };\n}\n\nexport const initialState = {\n  calldata: {},\n  isRequesting: false,\n  isSuccessful: false,\n  hasError: null\n}\n\nexport const reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'FETCH_CALLDATA_REQUEST':\n      return {\n        ...state,\n        isRequesting: true,\n        isSuccessful: false,\n        hasError: null\n      }\n    case 'FETCH_CALLDATA_SUCCESS':\n      return {\n        calldata: action.payload,\n        isRequesting: false,\n        isSuccessful: true,\n        hasError: null\n      }\n    case 'FETCH_CALLDATA_ERROR':\n      return {\n        ...state,\n        isRequesting: false,\n        isSuccessful: false,\n        hasError: action.payload\n      }\n    case 'UPDATE_CALLDATA_REQUEST':\n      return {\n        ...state,\n        isRequesting: true,\n        isSuccessful: false,\n        hasError: null\n      }\n    case 'UPDATE_CALLDATA_SUCCESS':\n      return {\n        calldata: mergeLocals(action.payload, state.calldata),\n        isRequesting: false,\n        isSuccessful: true,\n        hasError: null\n      }\n    case 'UPDATE_CALLDATA_ERROR':\n      return {\n        ...state,\n        isRequesting: false,\n        isSuccessful: false,\n        hasError: action.payload\n      }\n    default:\n      throw new Error()\n  }\n}\n\nfunction mergeLocals (locals1, locals2) {\n  Object.keys(locals2).map(item => {\n    if (locals2[item].cursor && (parseInt(locals2[item].cursor) < parseInt(locals1[item].cursor))) {\n      locals2[item] = {\n        ...locals1[item],\n        value: [...locals2[item].value, ...locals1[item].value]\n      }\n    }\n  })\n  return locals2\n}\n","import { BN } from 'ethereumjs-util'\nimport { ExtractData } from '../types' // eslint-disable-line\n\nexport function extractData (item, parent): ExtractData {\n  const ret: ExtractData = {}\n\n  if (item.isProperty || !item.type) {\n    return item\n  }\n  try {\n    if (item.type.lastIndexOf(']') === item.type.length - 1) {\n      ret.children = (item.value || []).map(function (item, index) {\n        return { key: index, value: item }\n      })\n      ret.children.unshift({\n        key: 'length',\n        value: {\n          self: (new BN(item.length.replace('0x', ''), 16)).toString(10),\n          type: 'uint',\n          isProperty: true\n        }\n      })\n      ret.isArray = true\n      ret.self = parent.isArray ? '' : item.type\n      ret.cursor = item.cursor\n      ret.hasNext = item.hasNext\n    } else if (item.type.indexOf('struct') === 0) {\n      ret.children = Object.keys((item.value || {})).map(function (key) {\n        return { key: key, value: item.value[key] }\n      })\n      ret.self = item.type\n      ret.isStruct = true\n    } else if (item.type.indexOf('mapping') === 0) {\n      ret.children = Object.keys((item.value || {})).map(function (key) {\n        return { key: key, value: item.value[key] }\n      })\n      ret.isMapping = true\n      ret.self = item.type\n    } else {\n      ret.children = null\n      ret.self = item.value\n      ret.type = item.type\n    }\n  } catch (e) {\n    console.log(e)\n  }\n  return ret\n}\n","export * from './lib/remix-ui-editor'\n","export interface Action {\n  type: string;\n  payload: Record<string, any>\n  monaco: any,\n  editor: any\n}\n\nexport const initialState = {}\n\nexport const reducerActions = (models = initialState, action: Action) => {\n  const monaco = action.monaco\n  const editor = action.editor\n  switch (action.type) {\n    case 'ADD_MODEL': {\n      if (!editor) return models\n      const uri = action.payload.uri\n      const value = action.payload.value\n      const language = action.payload.language\n      const readOnly = action.payload.readOnly\n      if (models[uri]) return models // already existing\n      models[uri] = { language, uri, readOnly }\n      const model = monaco.editor.createModel(value, language, monaco.Uri.parse(uri))\n      models[uri].model = model\n      model.onDidChangeContent(() => action.payload.events.onDidChangeContent(uri))\n      return models\n    }\n    case 'DISPOSE_MODEL': {\n      const uri = action.payload.uri\n      const model = models[uri]?.model\n      if (model) model.dispose()\n      delete models[uri]\n      return models\n    }\n    case 'SET_VALUE': {\n      if (!editor) return models\n      const uri = action.payload.uri\n      const value = action.payload.value\n      const model = models[uri]?.model\n      if (model) {\n        model.setValue(value)\n      }\n      return models\n    }\n    case 'REVEAL_LINE': {\n      if (!editor) return models\n      const line = action.payload.line\n      const column = action.payload.column\n      editor.revealLine(line)\n      editor.setPosition({ column, lineNumber: line })\n      return models\n    }\n    case 'FOCUS': {\n      if (!editor) return models\n      editor.focus()\n      return models\n    }\n    case 'SET_FONTSIZE': {\n      if (!editor) return models\n      const size = action.payload.size\n      editor.updateOptions({ fontSize: size })\n      return models\n    }\n    case 'SET_WORDWRAP': {\n      if (!editor) return models\n      const wrap = action.payload.wrap\n      editor.updateOptions({ wordWrap: wrap ? 'on' : 'off' })\n      return models\n    }\n  }\n}\n\nexport const reducerListener = (plugin, dispatch, monaco, editor, events) => {\n  plugin.on('editor', 'addModel', (value, language, uri, readOnly) => {\n    dispatch({\n      type: 'ADD_MODEL',\n      payload: { uri, value, language, readOnly, events },\n      monaco,\n      editor\n    })\n  })\n\n  plugin.on('editor', 'disposeModel', (uri) => {\n    dispatch({\n      type: 'DISPOSE_MODEL',\n      payload: { uri },\n      monaco,\n      editor\n    })\n  })\n\n  plugin.on('editor', 'setValue', (uri, value) => {\n    dispatch({\n      type: 'SET_VALUE',\n      payload: { uri, value },\n      monaco,\n      editor\n    })\n  })\n\n  plugin.on('editor', 'revealLine', (line, column) => {\n    dispatch({\n      type: 'REVEAL_LINE',\n      payload: { line, column },\n      monaco,\n      editor\n    })\n  })\n\n  plugin.on('editor', 'focus', () => {\n    dispatch({\n      type: 'FOCUS',\n      payload: {},\n      monaco,\n      editor\n    })\n  })\n\n  plugin.on('editor', 'setFontSize', (size) => {\n    dispatch({\n      type: 'SET_FONTSIZE',\n      payload: { size },\n      monaco,\n      editor\n    })\n  })\n\n  plugin.on('editor', 'setWordWrap', (wrap) => {\n    dispatch({\n      type: 'SET_WORDWRAP',\n      payload: { wrap },\n      monaco,\n      editor\n    })\n  })\n}\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-editor.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useRef, useEffect, useReducer } from 'react' // eslint-disable-line\nimport Editor, { loader } from '@monaco-editor/react'\nimport { reducerActions, reducerListener, initialState } from './actions/editor'\nimport { language, conf } from './syntax'\n\nimport './remix-ui-editor.css'\n\ntype cursorPosition = {\n  startLineNumber: number,\n  startColumn: number,\n  endLineNumber: number,\n  endColumn: number\n}\n\ntype sourceAnnotation = {\n  row: number,\n  column: number,\n  text: string,\n  type: 'error' | 'warning' | 'info'\n  hide: boolean\n  from: string // plugin name\n}\n\ntype sourceMarker = {\n  position: {\n    start: {\n      line: number\n      column: number\n    },\n    end: {\n      line: number\n      column: number\n    }\n  },\n  from: string // plugin name\n  hide: boolean\n}\n\ntype sourceAnnotationMap = {\n  [key: string]: [sourceAnnotation];\n}\n\ntype sourceMarkerMap = {\n  [key: string]: [sourceMarker];\n}\n\nloader.config({ paths: { vs: 'assets/js/monaco-editor/dev/vs' } })\n\n/* eslint-disable-next-line */\nexport interface EditorUIProps {\n  activated: boolean\n  themeType: string\n  currentFile: string\n  sourceAnnotationsPerFile: sourceAnnotationMap\n  markerPerFile: sourceMarkerMap\n  events: {\n    onBreakPointAdded: (file: string, line: number) => void\n    onBreakPointCleared: (file: string, line: number) => void\n    onDidChangeContent: (file: string) => void\n    onEditorMounted: () => void\n  }\n  plugin: {\n    on: (plugin: string, event: string, listener: any) => void\n  }\n  editorAPI: {\n    findMatches: (uri: string, value: string) => any\n    getFontSize: () => number,\n    getValue: (uri: string) => string\n    getCursorPosition: () => cursorPosition\n  }\n}\n\nexport const EditorUI = (props: EditorUIProps) => {\n  const [, setCurrentBreakpoints] = useState({})\n  const [currentAnnotations, setCurrentAnnotations] = useState({})\n  const [currentMarkers, setCurrentMarkers] = useState({})\n  const editorRef = useRef(null)\n  const monacoRef = useRef(null)\n  const currentFileRef = useRef('')\n\n  const [editorModelsState, dispatch] = useReducer(reducerActions, initialState)\n\n  const formatColor = (name) => {\n    let color = window.getComputedStyle(document.documentElement).getPropertyValue(name).trim()\n    if (color.length === 4) {\n      color = color.concat(color.substr(1))\n    }\n    return color\n  }\n  const defineAndSetTheme = (monaco) => {\n    const themeType = props.themeType === 'dark' ? 'vs-dark' : 'vs'\n    const themeName = props.themeType === 'dark' ? 'remix-dark' : 'remix-light'\n    // see https://microsoft.github.io/monaco-editor/playground.html#customizing-the-appearence-exposed-colors\n    const lightColor = formatColor('--light')\n    const infoColor = formatColor('--info')\n    const darkColor = formatColor('--dark')\n    const secondaryColor = formatColor('--secondary')\n    const textColor = formatColor('--text') || darkColor\n    const textbackground = formatColor('--text-background') || lightColor\n\n    const blueColor = formatColor('--blue')\n    const successColor = formatColor('--success')\n    const warningColor = formatColor('--warning')\n    const yellowColor = formatColor('--yellow')\n    const pinkColor = formatColor('--pink')\n    const locationColor = '#9e7e08'\n    // const purpleColor = formatColor('--purple')\n    const dangerColor = formatColor('--danger')\n    const greenColor = formatColor('--green')\n    const orangeColor = formatColor('--orange')\n    const grayColor = formatColor('--gray')\n\n    monaco.editor.defineTheme(themeName, {\n      base: themeType,\n      inherit: true, // can also be false to completely replace the builtin rules\n      rules: [\n        { background: darkColor.replace('#', '') },\n        { foreground: textColor.replace('#', '') },\n\n        // global variables\n        { token: 'keyword.abi', foreground: blueColor },\n        { token: 'keyword.block', foreground: blueColor },\n        { token: 'keyword.bytes', foreground: blueColor },\n        { token: 'keyword.msg', foreground: blueColor },\n        { token: 'keyword.tx', foreground: blueColor },\n\n        // global functions\n        { token: 'keyword.assert', foreground: blueColor },\n        { token: 'keyword.require', foreground: blueColor },\n        { token: 'keyword.revert', foreground: blueColor },\n        { token: 'keyword.blockhash', foreground: blueColor },\n        { token: 'keyword.keccak256', foreground: blueColor },\n        { token: 'keyword.sha256', foreground: blueColor },\n        { token: 'keyword.ripemd160', foreground: blueColor },\n        { token: 'keyword.ecrecover', foreground: blueColor },\n        { token: 'keyword.addmod', foreground: blueColor },\n        { token: 'keyword.mulmod', foreground: blueColor },\n        { token: 'keyword.selfdestruct', foreground: blueColor },\n        { token: 'keyword.type ', foreground: blueColor },\n        { token: 'keyword.gasleft', foreground: blueColor },\n\n        // specials\n        { token: 'keyword.super', foreground: infoColor },\n        { token: 'keyword.this', foreground: infoColor },\n        { token: 'keyword.virtual', foreground: infoColor },\n\n        // for state variables\n        { token: 'keyword.constants', foreground: grayColor },\n        { token: 'keyword.override', foreground: grayColor },\n        { token: 'keyword.immutable', foreground: grayColor },\n\n        // data location\n        { token: 'keyword.memory', foreground: locationColor },\n        { token: 'keyword.storage', foreground: locationColor },\n        { token: 'keyword.calldata', foreground: locationColor },\n\n        // for Events\n        { token: 'keyword.indexed', foreground: yellowColor },\n        { token: 'keyword.anonymous', foreground: yellowColor },\n\n        // for functions\n        { token: 'keyword.external', foreground: successColor },\n        { token: 'keyword.internal', foreground: successColor },\n        { token: 'keyword.private', foreground: successColor },\n        { token: 'keyword.public', foreground: successColor },\n        { token: 'keyword.view', foreground: successColor },\n        { token: 'keyword.pure', foreground: successColor },\n        { token: 'keyword.payable', foreground: successColor },\n        { token: 'keyword.nonpayable', foreground: successColor },\n\n        // Errors\n        { token: 'keyword.Error', foreground: dangerColor },\n        { token: 'keyword.Panic', foreground: dangerColor },\n\n        // special functions\n        { token: 'keyword.fallback', foreground: pinkColor },\n        { token: 'keyword.receive', foreground: pinkColor },\n        { token: 'keyword.constructor', foreground: pinkColor },\n\n        // identifiers\n        { token: 'keyword.identifier', foreground: warningColor },\n        { token: 'keyword.for', foreground: warningColor },\n        { token: 'keyword.break', foreground: warningColor },\n        { token: 'keyword.continue', foreground: warningColor },\n        { token: 'keyword.while', foreground: warningColor },\n        { token: 'keyword.do', foreground: warningColor },\n\n        { token: 'keyword.if', foreground: yellowColor },\n        { token: 'keyword.else', foreground: yellowColor },\n\n        { token: 'keyword.throw', foreground: orangeColor },\n        { token: 'keyword.catch', foreground: orangeColor },\n        { token: 'keyword.try', foreground: orangeColor },\n\n        // returns\n        { token: 'keyword.returns', foreground: greenColor },\n        { token: 'keyword.return', foreground: greenColor }\n\n      ],\n      colors: {\n        // see https://code.visualstudio.com/api/references/theme-color for more settings\n        'editor.background': textbackground,\n        'editorSuggestWidget.background': lightColor,\n        'editorSuggestWidget.selectedBackground': lightColor,\n        'editorSuggestWidget.highlightForeground': infoColor,\n        'editor.lineHighlightBorder': secondaryColor,\n        'editor.lineHighlightBackground': textbackground === darkColor ? lightColor : secondaryColor,\n        'editorGutter.background': lightColor,\n        'minimap.background': lightColor\n      }\n    })\n    monacoRef.current.editor.setTheme(themeName)\n  }\n\n  useEffect(() => {\n    if (!monacoRef.current) return\n    defineAndSetTheme(monacoRef.current)\n  })\n\n  const setAnnotationsbyFile = (uri) => {\n    if (props.sourceAnnotationsPerFile[uri]) {\n      const model = editorModelsState[uri]?.model\n      const newAnnotations = []\n      for (const annotation of props.sourceAnnotationsPerFile[uri]) {\n        if (!annotation.hide) {\n          newAnnotations.push({\n            range: new monacoRef.current.Range(annotation.row + 1, 1, annotation.row + 1, 1),\n            options: {\n              isWholeLine: false,\n              glyphMarginHoverMessage: { value: (annotation.from ? `from ${annotation.from}:\\n` : '') + annotation.text },\n              glyphMarginClassName: `fal fa-exclamation-square text-${annotation.type === 'error' ? 'danger' : (annotation.type === 'warning' ? 'warning' : 'info')}`\n            }\n          })\n        }\n      }\n      setCurrentAnnotations(prevState => {\n        prevState[uri] = model.deltaDecorations(currentAnnotations[uri] || [], newAnnotations)\n        return prevState\n      })\n    }\n  }\n\n  const setMarkerbyFile = (uri) => {\n    if (props.markerPerFile[uri]) {\n      const model = editorModelsState[uri]?.model\n      const newMarkers = []\n      for (const marker of props.markerPerFile[uri]) {\n        if (!marker.hide) {\n          let isWholeLine = false\n          if (marker.position.start.line === marker.position.end.line && marker.position.end.column - marker.position.start.column < 3) {\n            // in this case we force highlighting the whole line (doesn't make sense to highlight 2 chars)\n            isWholeLine = true\n          }\n          newMarkers.push({\n            range: new monacoRef.current.Range(marker.position.start.line + 1, marker.position.start.column + 1, marker.position.end.line + 1, marker.position.end.column + 1),\n            options: {\n              isWholeLine,\n              inlineClassName: `bg-info highlightLine${marker.position.start.line + 1}`\n            }\n          })\n        }\n      }\n      setCurrentMarkers(prevState => {\n        prevState[uri] = model.deltaDecorations(currentMarkers[uri] || [], newMarkers)\n        return prevState\n      })\n    }\n  }\n\n  useEffect(() => {\n    if (!editorRef.current) return\n    currentFileRef.current = props.currentFile\n    const file = editorModelsState[props.currentFile]\n    editorRef.current.setModel(file.model)\n    editorRef.current.updateOptions({ readOnly: editorModelsState[props.currentFile].readOnly })\n    if (file.language === 'sol') monacoRef.current.editor.setModelLanguage(file.model, 'remix-solidity')\n    setAnnotationsbyFile(props.currentFile)\n    setMarkerbyFile(props.currentFile)\n  }, [props.currentFile])\n\n  useEffect(() => {\n    setAnnotationsbyFile(props.currentFile)\n  }, [JSON.stringify(props.sourceAnnotationsPerFile)])\n\n  useEffect(() => {\n    setMarkerbyFile(props.currentFile)\n  }, [JSON.stringify(props.markerPerFile)])\n\n  props.editorAPI.findMatches = (uri: string, value: string) => {\n    if (!editorRef.current) return\n    const model = editorModelsState[uri]?.model\n    if (model) return model.findMatches(value)\n  }\n\n  props.editorAPI.getValue = (uri: string) => {\n    if (!editorRef.current) return\n    const model = editorModelsState[uri]?.model\n    if (model) {\n      return model.getValue()\n    }\n  }\n\n  props.editorAPI.getCursorPosition = () => {\n    if (!monacoRef.current) return\n    const model = editorModelsState[currentFileRef.current]?.model\n    if (model) {\n      return model.getOffsetAt(editorRef.current.getPosition())\n    }\n  }\n\n  props.editorAPI.getFontSize = () => {\n    if (!editorRef.current) return\n    return editorRef.current.getOption(43).fontSize\n  }\n\n  (window as any).addRemixBreakpoint = (position) => { // make it available from e2e testing...\n    const model = editorRef.current.getModel()\n    if (model) {\n      setCurrentBreakpoints(prevState => {\n        const currentFile = currentFileRef.current\n        if (!prevState[currentFile]) prevState[currentFile] = {}\n        const decoration = Object.keys(prevState[currentFile]).filter((line) => parseInt(line) === position.lineNumber)\n        if (decoration.length) {\n          props.events.onBreakPointCleared(currentFile, position.lineNumber)\n          model.deltaDecorations([prevState[currentFile][position.lineNumber]], [])\n          delete prevState[currentFile][position.lineNumber]\n        } else {\n          props.events.onBreakPointAdded(currentFile, position.lineNumber)\n          const decorationIds = model.deltaDecorations([], [{\n            range: new monacoRef.current.Range(position.lineNumber, 1, position.lineNumber, 1),\n            options: {\n              isWholeLine: false,\n              glyphMarginClassName: 'fas fa-circle text-info'\n            }\n          }])\n          prevState[currentFile][position.lineNumber] = decorationIds[0]\n        }\n        return prevState\n      })\n    }\n  }\n\n  function handleEditorDidMount (editor) {\n    editorRef.current = editor\n    defineAndSetTheme(monacoRef.current)\n    reducerListener(props.plugin, dispatch, monacoRef.current, editorRef.current, props.events)\n    props.events.onEditorMounted()\n    editor.onMouseUp((e) => {\n      if (e && e.target && e.target.toString().startsWith('GUTTER')) {\n        (window as any).addRemixBreakpoint(e.target.position)\n      }\n    })\n    editor.addCommand(monacoRef.current.KeyMod.CtrlCmd | monacoRef.current.KeyCode.US_EQUAL, () => {\n      editor.updateOptions({ fontSize: editor.getOption(43).fontSize + 1 })\n    })\n    editor.addCommand(monacoRef.current.KeyMod.CtrlCmd | monacoRef.current.KeyCode.US_MINUS, () => {\n      editor.updateOptions({ fontSize: editor.getOption(43).fontSize - 1 })\n    })\n  }\n\n  function handleEditorWillMount (monaco) {\n    monacoRef.current = monaco\n    // Register a new language\n    monacoRef.current.languages.register({ id: 'remix-solidity' })\n    // Register a tokens provider for the language\n    monacoRef.current.languages.setMonarchTokensProvider('remix-solidity', language)\n    monacoRef.current.languages.setLanguageConfiguration('remix-solidity', conf)\n  }\n\n  return (\n    <Editor\n      width=\"100%\"\n      height=\"100%\"\n      path={props.currentFile}\n      language={editorModelsState[props.currentFile] ? editorModelsState[props.currentFile].language : 'text'}\n      onMount={handleEditorDidMount}\n      beforeMount={handleEditorWillMount}\n      options={{ glyphMargin: true }}\n    />\n  )\n}\n\nexport default EditorUI\n","/* eslint-disable */\nexport const conf = {\n  comments: {\n    lineComment: '//',\n    blockComment: ['/*', '*/']\n  },\n  brackets: [\n    ['{', '}'],\n    ['[', ']'],\n    ['(', ')'],\n    ['<', '>']\n  ],\n  autoClosingPairs: [\n    { open: '\"', close: '\"', notIn: ['string', 'comment'] },\n    { open: \"'\", close: \"'\", notIn: ['string', 'comment'] },\n    { open: '{', close: '}', notIn: ['string', 'comment'] },\n    { open: '[', close: ']', notIn: ['string', 'comment'] },\n    { open: '(', close: ')', notIn: ['string', 'comment'] }\n  ]\n}\n\nexport const language = {\n  defaultToken: '',\n  tokenPostfix: '.sol',\n\n  brackets: [\n    { token: 'delimiter.curly', open: '{', close: '}' },\n    { token: 'delimiter.parenthesis', open: '(', close: ')' },\n    { token: 'delimiter.square', open: '[', close: ']' },\n    { token: 'delimiter.angle', open: '<', close: '>' }\n  ],\n\n  keywords: [\n    // Main keywords\n    'pragma',\n    'solidity',\n    'contract',\n    'library',\n    'using',\n    'struct',\n    'function',\n    'modifier',\n    'constructor',\n    // Built-in types\n    'address',\n    'string',\n    'bool',\n    // Other types\n    'Int',\n    'Uint',\n    'Byte',\n    'Fixed',\n    'Ufixed',\n    // All int\n    'int',\n    'int8',\n    'int16',\n    'int24',\n    'int32',\n    'int40',\n    'int48',\n    'int56',\n    'int64',\n    'int72',\n    'int80',\n    'int88',\n    'int96',\n    'int104',\n    'int112',\n    'int120',\n    'int128',\n    'int136',\n    'int144',\n    'int152',\n    'int160',\n    'int168',\n    'int176',\n    'int184',\n    'int192',\n    'int200',\n    'int208',\n    'int216',\n    'int224',\n    'int232',\n    'int240',\n    'int248',\n    'int256',\n    // All uint\n    'uint',\n    'uint8',\n    'uint16',\n    'uint24',\n    'uint32',\n    'uint40',\n    'uint48',\n    'uint56',\n    'uint64',\n    'uint72',\n    'uint80',\n    'uint88',\n    'uint96',\n    'uint104',\n    'uint112',\n    'uint120',\n    'uint128',\n    'uint136',\n    'uint144',\n    'uint152',\n    'uint160',\n    'uint168',\n    'uint176',\n    'uint184',\n    'uint192',\n    'uint200',\n    'uint208',\n    'uint216',\n    'uint224',\n    'uint232',\n    'uint240',\n    'uint248',\n    'uint256',\n    // All Byte\n    'byte',\n    'bytes',\n    'bytes1',\n    'bytes2',\n    'bytes3',\n    'bytes4',\n    'bytes5',\n    'bytes6',\n    'bytes7',\n    'bytes8',\n    'bytes9',\n    'bytes10',\n    'bytes11',\n    'bytes12',\n    'bytes13',\n    'bytes14',\n    'bytes15',\n    'bytes16',\n    'bytes17',\n    'bytes18',\n    'bytes19',\n    'bytes20',\n    'bytes21',\n    'bytes22',\n    'bytes23',\n    'bytes24',\n    'bytes25',\n    'bytes26',\n    'bytes27',\n    'bytes28',\n    'bytes29',\n    'bytes30',\n    'bytes31',\n    'bytes32',\n    // All fixed\n    'fixed',\n    'fixed0x8',\n    'fixed0x16',\n    'fixed0x24',\n    'fixed0x32',\n    'fixed0x40',\n    'fixed0x48',\n    'fixed0x56',\n    'fixed0x64',\n    'fixed0x72',\n    'fixed0x80',\n    'fixed0x88',\n    'fixed0x96',\n    'fixed0x104',\n    'fixed0x112',\n    'fixed0x120',\n    'fixed0x128',\n    'fixed0x136',\n    'fixed0x144',\n    'fixed0x152',\n    'fixed0x160',\n    'fixed0x168',\n    'fixed0x176',\n    'fixed0x184',\n    'fixed0x192',\n    'fixed0x200',\n    'fixed0x208',\n    'fixed0x216',\n    'fixed0x224',\n    'fixed0x232',\n    'fixed0x240',\n    'fixed0x248',\n    'fixed0x256',\n    'fixed8x8',\n    'fixed8x16',\n    'fixed8x24',\n    'fixed8x32',\n    'fixed8x40',\n    'fixed8x48',\n    'fixed8x56',\n    'fixed8x64',\n    'fixed8x72',\n    'fixed8x80',\n    'fixed8x88',\n    'fixed8x96',\n    'fixed8x104',\n    'fixed8x112',\n    'fixed8x120',\n    'fixed8x128',\n    'fixed8x136',\n    'fixed8x144',\n    'fixed8x152',\n    'fixed8x160',\n    'fixed8x168',\n    'fixed8x176',\n    'fixed8x184',\n    'fixed8x192',\n    'fixed8x200',\n    'fixed8x208',\n    'fixed8x216',\n    'fixed8x224',\n    'fixed8x232',\n    'fixed8x240',\n    'fixed8x248',\n    'fixed16x8',\n    'fixed16x16',\n    'fixed16x24',\n    'fixed16x32',\n    'fixed16x40',\n    'fixed16x48',\n    'fixed16x56',\n    'fixed16x64',\n    'fixed16x72',\n    'fixed16x80',\n    'fixed16x88',\n    'fixed16x96',\n    'fixed16x104',\n    'fixed16x112',\n    'fixed16x120',\n    'fixed16x128',\n    'fixed16x136',\n    'fixed16x144',\n    'fixed16x152',\n    'fixed16x160',\n    'fixed16x168',\n    'fixed16x176',\n    'fixed16x184',\n    'fixed16x192',\n    'fixed16x200',\n    'fixed16x208',\n    'fixed16x216',\n    'fixed16x224',\n    'fixed16x232',\n    'fixed16x240',\n    'fixed24x8',\n    'fixed24x16',\n    'fixed24x24',\n    'fixed24x32',\n    'fixed24x40',\n    'fixed24x48',\n    'fixed24x56',\n    'fixed24x64',\n    'fixed24x72',\n    'fixed24x80',\n    'fixed24x88',\n    'fixed24x96',\n    'fixed24x104',\n    'fixed24x112',\n    'fixed24x120',\n    'fixed24x128',\n    'fixed24x136',\n    'fixed24x144',\n    'fixed24x152',\n    'fixed24x160',\n    'fixed24x168',\n    'fixed24x176',\n    'fixed24x184',\n    'fixed24x192',\n    'fixed24x200',\n    'fixed24x208',\n    'fixed24x216',\n    'fixed24x224',\n    'fixed24x232',\n    'fixed32x8',\n    'fixed32x16',\n    'fixed32x24',\n    'fixed32x32',\n    'fixed32x40',\n    'fixed32x48',\n    'fixed32x56',\n    'fixed32x64',\n    'fixed32x72',\n    'fixed32x80',\n    'fixed32x88',\n    'fixed32x96',\n    'fixed32x104',\n    'fixed32x112',\n    'fixed32x120',\n    'fixed32x128',\n    'fixed32x136',\n    'fixed32x144',\n    'fixed32x152',\n    'fixed32x160',\n    'fixed32x168',\n    'fixed32x176',\n    'fixed32x184',\n    'fixed32x192',\n    'fixed32x200',\n    'fixed32x208',\n    'fixed32x216',\n    'fixed32x224',\n    'fixed40x8',\n    'fixed40x16',\n    'fixed40x24',\n    'fixed40x32',\n    'fixed40x40',\n    'fixed40x48',\n    'fixed40x56',\n    'fixed40x64',\n    'fixed40x72',\n    'fixed40x80',\n    'fixed40x88',\n    'fixed40x96',\n    'fixed40x104',\n    'fixed40x112',\n    'fixed40x120',\n    'fixed40x128',\n    'fixed40x136',\n    'fixed40x144',\n    'fixed40x152',\n    'fixed40x160',\n    'fixed40x168',\n    'fixed40x176',\n    'fixed40x184',\n    'fixed40x192',\n    'fixed40x200',\n    'fixed40x208',\n    'fixed40x216',\n    'fixed48x8',\n    'fixed48x16',\n    'fixed48x24',\n    'fixed48x32',\n    'fixed48x40',\n    'fixed48x48',\n    'fixed48x56',\n    'fixed48x64',\n    'fixed48x72',\n    'fixed48x80',\n    'fixed48x88',\n    'fixed48x96',\n    'fixed48x104',\n    'fixed48x112',\n    'fixed48x120',\n    'fixed48x128',\n    'fixed48x136',\n    'fixed48x144',\n    'fixed48x152',\n    'fixed48x160',\n    'fixed48x168',\n    'fixed48x176',\n    'fixed48x184',\n    'fixed48x192',\n    'fixed48x200',\n    'fixed48x208',\n    'fixed56x8',\n    'fixed56x16',\n    'fixed56x24',\n    'fixed56x32',\n    'fixed56x40',\n    'fixed56x48',\n    'fixed56x56',\n    'fixed56x64',\n    'fixed56x72',\n    'fixed56x80',\n    'fixed56x88',\n    'fixed56x96',\n    'fixed56x104',\n    'fixed56x112',\n    'fixed56x120',\n    'fixed56x128',\n    'fixed56x136',\n    'fixed56x144',\n    'fixed56x152',\n    'fixed56x160',\n    'fixed56x168',\n    'fixed56x176',\n    'fixed56x184',\n    'fixed56x192',\n    'fixed56x200',\n    'fixed64x8',\n    'fixed64x16',\n    'fixed64x24',\n    'fixed64x32',\n    'fixed64x40',\n    'fixed64x48',\n    'fixed64x56',\n    'fixed64x64',\n    'fixed64x72',\n    'fixed64x80',\n    'fixed64x88',\n    'fixed64x96',\n    'fixed64x104',\n    'fixed64x112',\n    'fixed64x120',\n    'fixed64x128',\n    'fixed64x136',\n    'fixed64x144',\n    'fixed64x152',\n    'fixed64x160',\n    'fixed64x168',\n    'fixed64x176',\n    'fixed64x184',\n    'fixed64x192',\n    'fixed72x8',\n    'fixed72x16',\n    'fixed72x24',\n    'fixed72x32',\n    'fixed72x40',\n    'fixed72x48',\n    'fixed72x56',\n    'fixed72x64',\n    'fixed72x72',\n    'fixed72x80',\n    'fixed72x88',\n    'fixed72x96',\n    'fixed72x104',\n    'fixed72x112',\n    'fixed72x120',\n    'fixed72x128',\n    'fixed72x136',\n    'fixed72x144',\n    'fixed72x152',\n    'fixed72x160',\n    'fixed72x168',\n    'fixed72x176',\n    'fixed72x184',\n    'fixed80x8',\n    'fixed80x16',\n    'fixed80x24',\n    'fixed80x32',\n    'fixed80x40',\n    'fixed80x48',\n    'fixed80x56',\n    'fixed80x64',\n    'fixed80x72',\n    'fixed80x80',\n    'fixed80x88',\n    'fixed80x96',\n    'fixed80x104',\n    'fixed80x112',\n    'fixed80x120',\n    'fixed80x128',\n    'fixed80x136',\n    'fixed80x144',\n    'fixed80x152',\n    'fixed80x160',\n    'fixed80x168',\n    'fixed80x176',\n    'fixed88x8',\n    'fixed88x16',\n    'fixed88x24',\n    'fixed88x32',\n    'fixed88x40',\n    'fixed88x48',\n    'fixed88x56',\n    'fixed88x64',\n    'fixed88x72',\n    'fixed88x80',\n    'fixed88x88',\n    'fixed88x96',\n    'fixed88x104',\n    'fixed88x112',\n    'fixed88x120',\n    'fixed88x128',\n    'fixed88x136',\n    'fixed88x144',\n    'fixed88x152',\n    'fixed88x160',\n    'fixed88x168',\n    'fixed96x8',\n    'fixed96x16',\n    'fixed96x24',\n    'fixed96x32',\n    'fixed96x40',\n    'fixed96x48',\n    'fixed96x56',\n    'fixed96x64',\n    'fixed96x72',\n    'fixed96x80',\n    'fixed96x88',\n    'fixed96x96',\n    'fixed96x104',\n    'fixed96x112',\n    'fixed96x120',\n    'fixed96x128',\n    'fixed96x136',\n    'fixed96x144',\n    'fixed96x152',\n    'fixed96x160',\n    'fixed104x8',\n    'fixed104x16',\n    'fixed104x24',\n    'fixed104x32',\n    'fixed104x40',\n    'fixed104x48',\n    'fixed104x56',\n    'fixed104x64',\n    'fixed104x72',\n    'fixed104x80',\n    'fixed104x88',\n    'fixed104x96',\n    'fixed104x104',\n    'fixed104x112',\n    'fixed104x120',\n    'fixed104x128',\n    'fixed104x136',\n    'fixed104x144',\n    'fixed104x152',\n    'fixed112x8',\n    'fixed112x16',\n    'fixed112x24',\n    'fixed112x32',\n    'fixed112x40',\n    'fixed112x48',\n    'fixed112x56',\n    'fixed112x64',\n    'fixed112x72',\n    'fixed112x80',\n    'fixed112x88',\n    'fixed112x96',\n    'fixed112x104',\n    'fixed112x112',\n    'fixed112x120',\n    'fixed112x128',\n    'fixed112x136',\n    'fixed112x144',\n    'fixed120x8',\n    'fixed120x16',\n    'fixed120x24',\n    'fixed120x32',\n    'fixed120x40',\n    'fixed120x48',\n    'fixed120x56',\n    'fixed120x64',\n    'fixed120x72',\n    'fixed120x80',\n    'fixed120x88',\n    'fixed120x96',\n    'fixed120x104',\n    'fixed120x112',\n    'fixed120x120',\n    'fixed120x128',\n    'fixed120x136',\n    'fixed128x8',\n    'fixed128x16',\n    'fixed128x24',\n    'fixed128x32',\n    'fixed128x40',\n    'fixed128x48',\n    'fixed128x56',\n    'fixed128x64',\n    'fixed128x72',\n    'fixed128x80',\n    'fixed128x88',\n    'fixed128x96',\n    'fixed128x104',\n    'fixed128x112',\n    'fixed128x120',\n    'fixed128x128',\n    'fixed136x8',\n    'fixed136x16',\n    'fixed136x24',\n    'fixed136x32',\n    'fixed136x40',\n    'fixed136x48',\n    'fixed136x56',\n    'fixed136x64',\n    'fixed136x72',\n    'fixed136x80',\n    'fixed136x88',\n    'fixed136x96',\n    'fixed136x104',\n    'fixed136x112',\n    'fixed136x120',\n    'fixed144x8',\n    'fixed144x16',\n    'fixed144x24',\n    'fixed144x32',\n    'fixed144x40',\n    'fixed144x48',\n    'fixed144x56',\n    'fixed144x64',\n    'fixed144x72',\n    'fixed144x80',\n    'fixed144x88',\n    'fixed144x96',\n    'fixed144x104',\n    'fixed144x112',\n    'fixed152x8',\n    'fixed152x16',\n    'fixed152x24',\n    'fixed152x32',\n    'fixed152x40',\n    'fixed152x48',\n    'fixed152x56',\n    'fixed152x64',\n    'fixed152x72',\n    'fixed152x80',\n    'fixed152x88',\n    'fixed152x96',\n    'fixed152x104',\n    'fixed160x8',\n    'fixed160x16',\n    'fixed160x24',\n    'fixed160x32',\n    'fixed160x40',\n    'fixed160x48',\n    'fixed160x56',\n    'fixed160x64',\n    'fixed160x72',\n    'fixed160x80',\n    'fixed160x88',\n    'fixed160x96',\n    'fixed168x8',\n    'fixed168x16',\n    'fixed168x24',\n    'fixed168x32',\n    'fixed168x40',\n    'fixed168x48',\n    'fixed168x56',\n    'fixed168x64',\n    'fixed168x72',\n    'fixed168x80',\n    'fixed168x88',\n    'fixed176x8',\n    'fixed176x16',\n    'fixed176x24',\n    'fixed176x32',\n    'fixed176x40',\n    'fixed176x48',\n    'fixed176x56',\n    'fixed176x64',\n    'fixed176x72',\n    'fixed176x80',\n    'fixed184x8',\n    'fixed184x16',\n    'fixed184x24',\n    'fixed184x32',\n    'fixed184x40',\n    'fixed184x48',\n    'fixed184x56',\n    'fixed184x64',\n    'fixed184x72',\n    'fixed192x8',\n    'fixed192x16',\n    'fixed192x24',\n    'fixed192x32',\n    'fixed192x40',\n    'fixed192x48',\n    'fixed192x56',\n    'fixed192x64',\n    'fixed200x8',\n    'fixed200x16',\n    'fixed200x24',\n    'fixed200x32',\n    'fixed200x40',\n    'fixed200x48',\n    'fixed200x56',\n    'fixed208x8',\n    'fixed208x16',\n    'fixed208x24',\n    'fixed208x32',\n    'fixed208x40',\n    'fixed208x48',\n    'fixed216x8',\n    'fixed216x16',\n    'fixed216x24',\n    'fixed216x32',\n    'fixed216x40',\n    'fixed224x8',\n    'fixed224x16',\n    'fixed224x24',\n    'fixed224x32',\n    'fixed232x8',\n    'fixed232x16',\n    'fixed232x24',\n    'fixed240x8',\n    'fixed240x16',\n    'fixed248x8',\n    // All ufixed\n    'ufixed',\n    'ufixed0x8',\n    'ufixed0x16',\n    'ufixed0x24',\n    'ufixed0x32',\n    'ufixed0x40',\n    'ufixed0x48',\n    'ufixed0x56',\n    'ufixed0x64',\n    'ufixed0x72',\n    'ufixed0x80',\n    'ufixed0x88',\n    'ufixed0x96',\n    'ufixed0x104',\n    'ufixed0x112',\n    'ufixed0x120',\n    'ufixed0x128',\n    'ufixed0x136',\n    'ufixed0x144',\n    'ufixed0x152',\n    'ufixed0x160',\n    'ufixed0x168',\n    'ufixed0x176',\n    'ufixed0x184',\n    'ufixed0x192',\n    'ufixed0x200',\n    'ufixed0x208',\n    'ufixed0x216',\n    'ufixed0x224',\n    'ufixed0x232',\n    'ufixed0x240',\n    'ufixed0x248',\n    'ufixed0x256',\n    'ufixed8x8',\n    'ufixed8x16',\n    'ufixed8x24',\n    'ufixed8x32',\n    'ufixed8x40',\n    'ufixed8x48',\n    'ufixed8x56',\n    'ufixed8x64',\n    'ufixed8x72',\n    'ufixed8x80',\n    'ufixed8x88',\n    'ufixed8x96',\n    'ufixed8x104',\n    'ufixed8x112',\n    'ufixed8x120',\n    'ufixed8x128',\n    'ufixed8x136',\n    'ufixed8x144',\n    'ufixed8x152',\n    'ufixed8x160',\n    'ufixed8x168',\n    'ufixed8x176',\n    'ufixed8x184',\n    'ufixed8x192',\n    'ufixed8x200',\n    'ufixed8x208',\n    'ufixed8x216',\n    'ufixed8x224',\n    'ufixed8x232',\n    'ufixed8x240',\n    'ufixed8x248',\n    'ufixed16x8',\n    'ufixed16x16',\n    'ufixed16x24',\n    'ufixed16x32',\n    'ufixed16x40',\n    'ufixed16x48',\n    'ufixed16x56',\n    'ufixed16x64',\n    'ufixed16x72',\n    'ufixed16x80',\n    'ufixed16x88',\n    'ufixed16x96',\n    'ufixed16x104',\n    'ufixed16x112',\n    'ufixed16x120',\n    'ufixed16x128',\n    'ufixed16x136',\n    'ufixed16x144',\n    'ufixed16x152',\n    'ufixed16x160',\n    'ufixed16x168',\n    'ufixed16x176',\n    'ufixed16x184',\n    'ufixed16x192',\n    'ufixed16x200',\n    'ufixed16x208',\n    'ufixed16x216',\n    'ufixed16x224',\n    'ufixed16x232',\n    'ufixed16x240',\n    'ufixed24x8',\n    'ufixed24x16',\n    'ufixed24x24',\n    'ufixed24x32',\n    'ufixed24x40',\n    'ufixed24x48',\n    'ufixed24x56',\n    'ufixed24x64',\n    'ufixed24x72',\n    'ufixed24x80',\n    'ufixed24x88',\n    'ufixed24x96',\n    'ufixed24x104',\n    'ufixed24x112',\n    'ufixed24x120',\n    'ufixed24x128',\n    'ufixed24x136',\n    'ufixed24x144',\n    'ufixed24x152',\n    'ufixed24x160',\n    'ufixed24x168',\n    'ufixed24x176',\n    'ufixed24x184',\n    'ufixed24x192',\n    'ufixed24x200',\n    'ufixed24x208',\n    'ufixed24x216',\n    'ufixed24x224',\n    'ufixed24x232',\n    'ufixed32x8',\n    'ufixed32x16',\n    'ufixed32x24',\n    'ufixed32x32',\n    'ufixed32x40',\n    'ufixed32x48',\n    'ufixed32x56',\n    'ufixed32x64',\n    'ufixed32x72',\n    'ufixed32x80',\n    'ufixed32x88',\n    'ufixed32x96',\n    'ufixed32x104',\n    'ufixed32x112',\n    'ufixed32x120',\n    'ufixed32x128',\n    'ufixed32x136',\n    'ufixed32x144',\n    'ufixed32x152',\n    'ufixed32x160',\n    'ufixed32x168',\n    'ufixed32x176',\n    'ufixed32x184',\n    'ufixed32x192',\n    'ufixed32x200',\n    'ufixed32x208',\n    'ufixed32x216',\n    'ufixed32x224',\n    'ufixed40x8',\n    'ufixed40x16',\n    'ufixed40x24',\n    'ufixed40x32',\n    'ufixed40x40',\n    'ufixed40x48',\n    'ufixed40x56',\n    'ufixed40x64',\n    'ufixed40x72',\n    'ufixed40x80',\n    'ufixed40x88',\n    'ufixed40x96',\n    'ufixed40x104',\n    'ufixed40x112',\n    'ufixed40x120',\n    'ufixed40x128',\n    'ufixed40x136',\n    'ufixed40x144',\n    'ufixed40x152',\n    'ufixed40x160',\n    'ufixed40x168',\n    'ufixed40x176',\n    'ufixed40x184',\n    'ufixed40x192',\n    'ufixed40x200',\n    'ufixed40x208',\n    'ufixed40x216',\n    'ufixed48x8',\n    'ufixed48x16',\n    'ufixed48x24',\n    'ufixed48x32',\n    'ufixed48x40',\n    'ufixed48x48',\n    'ufixed48x56',\n    'ufixed48x64',\n    'ufixed48x72',\n    'ufixed48x80',\n    'ufixed48x88',\n    'ufixed48x96',\n    'ufixed48x104',\n    'ufixed48x112',\n    'ufixed48x120',\n    'ufixed48x128',\n    'ufixed48x136',\n    'ufixed48x144',\n    'ufixed48x152',\n    'ufixed48x160',\n    'ufixed48x168',\n    'ufixed48x176',\n    'ufixed48x184',\n    'ufixed48x192',\n    'ufixed48x200',\n    'ufixed48x208',\n    'ufixed56x8',\n    'ufixed56x16',\n    'ufixed56x24',\n    'ufixed56x32',\n    'ufixed56x40',\n    'ufixed56x48',\n    'ufixed56x56',\n    'ufixed56x64',\n    'ufixed56x72',\n    'ufixed56x80',\n    'ufixed56x88',\n    'ufixed56x96',\n    'ufixed56x104',\n    'ufixed56x112',\n    'ufixed56x120',\n    'ufixed56x128',\n    'ufixed56x136',\n    'ufixed56x144',\n    'ufixed56x152',\n    'ufixed56x160',\n    'ufixed56x168',\n    'ufixed56x176',\n    'ufixed56x184',\n    'ufixed56x192',\n    'ufixed56x200',\n    'ufixed64x8',\n    'ufixed64x16',\n    'ufixed64x24',\n    'ufixed64x32',\n    'ufixed64x40',\n    'ufixed64x48',\n    'ufixed64x56',\n    'ufixed64x64',\n    'ufixed64x72',\n    'ufixed64x80',\n    'ufixed64x88',\n    'ufixed64x96',\n    'ufixed64x104',\n    'ufixed64x112',\n    'ufixed64x120',\n    'ufixed64x128',\n    'ufixed64x136',\n    'ufixed64x144',\n    'ufixed64x152',\n    'ufixed64x160',\n    'ufixed64x168',\n    'ufixed64x176',\n    'ufixed64x184',\n    'ufixed64x192',\n    'ufixed72x8',\n    'ufixed72x16',\n    'ufixed72x24',\n    'ufixed72x32',\n    'ufixed72x40',\n    'ufixed72x48',\n    'ufixed72x56',\n    'ufixed72x64',\n    'ufixed72x72',\n    'ufixed72x80',\n    'ufixed72x88',\n    'ufixed72x96',\n    'ufixed72x104',\n    'ufixed72x112',\n    'ufixed72x120',\n    'ufixed72x128',\n    'ufixed72x136',\n    'ufixed72x144',\n    'ufixed72x152',\n    'ufixed72x160',\n    'ufixed72x168',\n    'ufixed72x176',\n    'ufixed72x184',\n    'ufixed80x8',\n    'ufixed80x16',\n    'ufixed80x24',\n    'ufixed80x32',\n    'ufixed80x40',\n    'ufixed80x48',\n    'ufixed80x56',\n    'ufixed80x64',\n    'ufixed80x72',\n    'ufixed80x80',\n    'ufixed80x88',\n    'ufixed80x96',\n    'ufixed80x104',\n    'ufixed80x112',\n    'ufixed80x120',\n    'ufixed80x128',\n    'ufixed80x136',\n    'ufixed80x144',\n    'ufixed80x152',\n    'ufixed80x160',\n    'ufixed80x168',\n    'ufixed80x176',\n    'ufixed88x8',\n    'ufixed88x16',\n    'ufixed88x24',\n    'ufixed88x32',\n    'ufixed88x40',\n    'ufixed88x48',\n    'ufixed88x56',\n    'ufixed88x64',\n    'ufixed88x72',\n    'ufixed88x80',\n    'ufixed88x88',\n    'ufixed88x96',\n    'ufixed88x104',\n    'ufixed88x112',\n    'ufixed88x120',\n    'ufixed88x128',\n    'ufixed88x136',\n    'ufixed88x144',\n    'ufixed88x152',\n    'ufixed88x160',\n    'ufixed88x168',\n    'ufixed96x8',\n    'ufixed96x16',\n    'ufixed96x24',\n    'ufixed96x32',\n    'ufixed96x40',\n    'ufixed96x48',\n    'ufixed96x56',\n    'ufixed96x64',\n    'ufixed96x72',\n    'ufixed96x80',\n    'ufixed96x88',\n    'ufixed96x96',\n    'ufixed96x104',\n    'ufixed96x112',\n    'ufixed96x120',\n    'ufixed96x128',\n    'ufixed96x136',\n    'ufixed96x144',\n    'ufixed96x152',\n    'ufixed96x160',\n    'ufixed104x8',\n    'ufixed104x16',\n    'ufixed104x24',\n    'ufixed104x32',\n    'ufixed104x40',\n    'ufixed104x48',\n    'ufixed104x56',\n    'ufixed104x64',\n    'ufixed104x72',\n    'ufixed104x80',\n    'ufixed104x88',\n    'ufixed104x96',\n    'ufixed104x104',\n    'ufixed104x112',\n    'ufixed104x120',\n    'ufixed104x128',\n    'ufixed104x136',\n    'ufixed104x144',\n    'ufixed104x152',\n    'ufixed112x8',\n    'ufixed112x16',\n    'ufixed112x24',\n    'ufixed112x32',\n    'ufixed112x40',\n    'ufixed112x48',\n    'ufixed112x56',\n    'ufixed112x64',\n    'ufixed112x72',\n    'ufixed112x80',\n    'ufixed112x88',\n    'ufixed112x96',\n    'ufixed112x104',\n    'ufixed112x112',\n    'ufixed112x120',\n    'ufixed112x128',\n    'ufixed112x136',\n    'ufixed112x144',\n    'ufixed120x8',\n    'ufixed120x16',\n    'ufixed120x24',\n    'ufixed120x32',\n    'ufixed120x40',\n    'ufixed120x48',\n    'ufixed120x56',\n    'ufixed120x64',\n    'ufixed120x72',\n    'ufixed120x80',\n    'ufixed120x88',\n    'ufixed120x96',\n    'ufixed120x104',\n    'ufixed120x112',\n    'ufixed120x120',\n    'ufixed120x128',\n    'ufixed120x136',\n    'ufixed128x8',\n    'ufixed128x16',\n    'ufixed128x24',\n    'ufixed128x32',\n    'ufixed128x40',\n    'ufixed128x48',\n    'ufixed128x56',\n    'ufixed128x64',\n    'ufixed128x72',\n    'ufixed128x80',\n    'ufixed128x88',\n    'ufixed128x96',\n    'ufixed128x104',\n    'ufixed128x112',\n    'ufixed128x120',\n    'ufixed128x128',\n    'ufixed136x8',\n    'ufixed136x16',\n    'ufixed136x24',\n    'ufixed136x32',\n    'ufixed136x40',\n    'ufixed136x48',\n    'ufixed136x56',\n    'ufixed136x64',\n    'ufixed136x72',\n    'ufixed136x80',\n    'ufixed136x88',\n    'ufixed136x96',\n    'ufixed136x104',\n    'ufixed136x112',\n    'ufixed136x120',\n    'ufixed144x8',\n    'ufixed144x16',\n    'ufixed144x24',\n    'ufixed144x32',\n    'ufixed144x40',\n    'ufixed144x48',\n    'ufixed144x56',\n    'ufixed144x64',\n    'ufixed144x72',\n    'ufixed144x80',\n    'ufixed144x88',\n    'ufixed144x96',\n    'ufixed144x104',\n    'ufixed144x112',\n    'ufixed152x8',\n    'ufixed152x16',\n    'ufixed152x24',\n    'ufixed152x32',\n    'ufixed152x40',\n    'ufixed152x48',\n    'ufixed152x56',\n    'ufixed152x64',\n    'ufixed152x72',\n    'ufixed152x80',\n    'ufixed152x88',\n    'ufixed152x96',\n    'ufixed152x104',\n    'ufixed160x8',\n    'ufixed160x16',\n    'ufixed160x24',\n    'ufixed160x32',\n    'ufixed160x40',\n    'ufixed160x48',\n    'ufixed160x56',\n    'ufixed160x64',\n    'ufixed160x72',\n    'ufixed160x80',\n    'ufixed160x88',\n    'ufixed160x96',\n    'ufixed168x8',\n    'ufixed168x16',\n    'ufixed168x24',\n    'ufixed168x32',\n    'ufixed168x40',\n    'ufixed168x48',\n    'ufixed168x56',\n    'ufixed168x64',\n    'ufixed168x72',\n    'ufixed168x80',\n    'ufixed168x88',\n    'ufixed176x8',\n    'ufixed176x16',\n    'ufixed176x24',\n    'ufixed176x32',\n    'ufixed176x40',\n    'ufixed176x48',\n    'ufixed176x56',\n    'ufixed176x64',\n    'ufixed176x72',\n    'ufixed176x80',\n    'ufixed184x8',\n    'ufixed184x16',\n    'ufixed184x24',\n    'ufixed184x32',\n    'ufixed184x40',\n    'ufixed184x48',\n    'ufixed184x56',\n    'ufixed184x64',\n    'ufixed184x72',\n    'ufixed192x8',\n    'ufixed192x16',\n    'ufixed192x24',\n    'ufixed192x32',\n    'ufixed192x40',\n    'ufixed192x48',\n    'ufixed192x56',\n    'ufixed192x64',\n    'ufixed200x8',\n    'ufixed200x16',\n    'ufixed200x24',\n    'ufixed200x32',\n    'ufixed200x40',\n    'ufixed200x48',\n    'ufixed200x56',\n    'ufixed208x8',\n    'ufixed208x16',\n    'ufixed208x24',\n    'ufixed208x32',\n    'ufixed208x40',\n    'ufixed208x48',\n    'ufixed216x8',\n    'ufixed216x16',\n    'ufixed216x24',\n    'ufixed216x32',\n    'ufixed216x40',\n    'ufixed224x8',\n    'ufixed224x16',\n    'ufixed224x24',\n    'ufixed224x32',\n    'ufixed232x8',\n    'ufixed232x16',\n    'ufixed232x24',\n    'ufixed240x8',\n    'ufixed240x16',\n    'ufixed248x8',\n    'event',\n    'emit',\n    'enum',\n    'let',\n    'mapping',\n    'private',\n    'public',\n    'external',\n    'internal',\n    'indexed',\n    'anonymous',\n    'view',\n    'pure',\n    'inherited',\n    'storage',\n    'memory',\n    'virtual',\n    'calldata',\n    'override',\n    'abstract',\n    'payable',\n    'nonpayable',\n    'constants',\n    'immutable',\n    'assert',\n    'require',\n    'revert',\n    'blockhash',\n    'keccak256',\n    'sha256',\n    'ripemd160',\n    'ecrecover',\n    'addmod',\n    'mulmod',\n    'selfdestruct',\n    'type',\n    'gasleft',\n    'abi',\n    'block',\n    'bytes',\n    'msg',\n    'tx',\n    'Error',\n    'Panic',\n    'exceptions',\n    'true',\n    'false',\n    'var',\n    'import',\n    'constant',\n    'fallback',\n    'receive',\n    'if',\n    'else',\n    'for',\n    'while',\n    'do',\n    'break',\n    'continue',\n    'throw',\n    'returns',\n    'return',\n    'suicide',\n    'new',\n    'is',\n    'this',\n    'super',\n    'try',\n    'catch'\n  ],\n\n  operators: [\n    '=',\n    '>',\n    '<',\n    '!',\n    '~',\n    '?',\n    ':',\n    '==',\n    '<=',\n    '>=',\n    '!=',\n    '&&',\n    '||',\n    '++',\n    '--',\n    '+',\n    '-',\n    '*',\n    '/',\n    '&',\n    '|',\n    '^',\n    '%',\n    '<<',\n    '>>',\n    '>>>',\n    '+=',\n    '-=',\n    '*=',\n    '/=',\n    '&=',\n    '|=',\n    '^=',\n    '%=',\n    '<<=',\n    '>>=',\n    '>>>='\n  ],\n\n  // we include these common regular expressions\n  symbols: /[=><!~?:&|+\\-*\\/\\^%]+/,\n  escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n  integersuffix: /(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,\n  floatsuffix: /[fFlL]?/,\n\n  // The main tokenizer for our languages\n  tokenizer: {\n    root: [\n      // identifiers and keywords\n      [\n        /[a-zA-Z_]\\w*/,\n        {\n          cases: {\n            '@keywords': { token: 'keyword.$0' },\n            '@default': 'identifier'\n          }\n        }\n      ],\n\n      // whitespace\n      { include: '@whitespace' },\n\n      // [[ attributes ]].\n      [/\\[\\[.*\\]\\]/, 'annotation'],\n\n      // Preprocessor directive\n      [/^\\s*#\\w+/, 'keyword'],\n\n      // DataTypes\n      [/int\\d*/, 'keyword'],\n\n      // delimiters and operators\n      [/[{}()\\[\\]]/, '@brackets'],\n      [/[<>](?!@symbols)/, '@brackets'],\n      [\n        /@symbols/,\n        {\n          cases: {\n            '@operators': 'delimiter',\n            '@default': ''\n          }\n        }\n      ],\n\n      // numbers\n      [/\\d*\\d+[eE]([\\-+]?\\d+)?(@floatsuffix)/, 'number.float'],\n      [/\\d*\\.\\d+([eE][\\-+]?\\d+)?(@floatsuffix)/, 'number.float'],\n      [/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/, 'number.hex'],\n      [/0[0-7']*[0-7](@integersuffix)/, 'number.octal'],\n      [/0[bB][0-1']*[0-1](@integersuffix)/, 'number.binary'],\n      [/\\d[\\d']*\\d(@integersuffix)/, 'number'],\n      [/\\d(@integersuffix)/, 'number'],\n\n      // delimiter: after number because of .\\d floats\n      [/[;,.]/, 'delimiter'],\n\n      // strings\n      [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'], // non-teminated string\n      [/\"/, 'string', '@string'],\n\n      // characters\n      [/'[^\\\\']'/, 'string'],\n      [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n      [/'/, 'string.invalid']\n    ],\n\n    whitespace: [\n      [/[ \\t\\r\\n]+/, ''],\n      [/\\/\\*\\*(?!\\/)/, 'comment.doc', '@doccomment'],\n      [/\\/\\*/, 'comment', '@comment'],\n      [/\\/\\/.*$/, 'comment']\n    ],\n\n    comment: [\n      [/[^\\/*]+/, 'comment'],\n      [/\\*\\//, 'comment', '@pop'],\n      [/[\\/*]/, 'comment']\n    ],\n    // Identical copy of comment above, except for the addition of .doc\n    doccomment: [\n      [/[^\\/*]+/, 'comment.doc'],\n      [/\\*\\//, 'comment.doc', '@pop'],\n      [/[\\/*]/, 'comment.doc']\n    ],\n\n    string: [\n      [/[^\\\\\"]+/, 'string'],\n      [/@escapes/, 'string.escape'],\n      [/\\\\./, 'string.escape.invalid'],\n      [/\"/, 'string', '@pop']\n    ]\n  }\n}\n","export * from './lib/remix-ui-helper'\n","export const extractNameFromKey = (key: string): string => {\n  if (!key) return\n  const keyPath = key.split('/')\n\n  return keyPath[keyPath.length - 1]\n}\n\nexport const extractParentFromKey = (key: string):string => {\n  if (!key) return\n  const keyPath = key.split('/')\n  keyPath.pop()\n\n  return keyPath.join('/')\n}\n\nexport const checkSpecialChars = (name: string) => {\n  return name.match(/[:*?\"<>\\\\'|]/) != null\n}\n\nexport const checkSlash = (name: string) => {\n  return name.match(/\\//) != null\n}\n\nexport const createNonClashingNameAsync = async (name: string, fileManager, prefix = '') => {\n  if (!name) name = 'Undefined'\n  let _counter\n  let ext = 'sol'\n  const reg = /(.*)\\.([^.]+)/g\n  const split = reg.exec(name)\n  if (split) {\n    name = split[1]\n    ext = split[2]\n  }\n  let exist = true\n\n  do {\n    const isDuplicate = await fileManager.exists(name + _counter + prefix + '.' + ext)\n\n    if (isDuplicate) _counter = (_counter | 0) + 1\n    else exist = false\n  } while (exist)\n  const counter = _counter || ''\n\n  return name + counter + prefix + '.' + ext\n}\n\nexport const joinPath = (...paths) => {\n  paths = paths.filter((value) => value !== '').map((path) => path.replace(/^\\/|\\/$/g, '')) // remove first and last slash)\n  if (paths.length === 1) return paths[0]\n  return paths.join('/')\n}\n\nexport const getPathIcon = (path: string) => {\n  return path.endsWith('.txt')\n    ? 'far fa-file-alt' : path.endsWith('.md')\n      ? 'far fa-file-alt' : path.endsWith('.sol')\n        ? 'fak fa-solidity-mono' : path.endsWith('.js')\n          ? 'fab fa-js' : path.endsWith('.json')\n            ? 'fas fa-brackets-curly' : path.endsWith('.vy')\n              ? 'fak fa-vyper-mono' : path.endsWith('.lex')\n                ? 'fak fa-lexon' : path.endsWith('.contract')\n                  ? 'fab fa-ethereum' : 'far fa-file'\n}\n","export * from './lib/modal-dialog-custom'\nexport * from './lib/remix-ui-modal-dialog'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./modal-dialog-custom.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React from 'react' // eslint-disable-line\n\nimport './modal-dialog-custom.css'\n\n/* eslint-disable-next-line */\nexport interface ModalDialogCustomProps {}\n\nexport const ModalDialogCustom = (props: ModalDialogCustomProps) => {\n  return (\n    <div>\n      <h1>Welcome to modal-dialog-custom!</h1>\n    </div>\n  )\n}\n\nexport default ModalDialogCustom\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-modal-dialog.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useRef, useState, useEffect } from 'react' // eslint-disable-line\nimport { ModalDialogProps } from './types' // eslint-disable-line\n\nimport './remix-ui-modal-dialog.css'\n\ndeclare global {\n  // eslint-disable-next-line no-unused-vars\n  interface Window { testmode: boolean; }\n}\n\nexport const ModalDialog = (props: ModalDialogProps) => {\n  const [state, setState] = useState({\n    toggleBtn: true\n  })\n  const modal = useRef(null)\n  const handleHide = () => {\n    props.handleHide()\n  }\n\n  useEffect(() => {\n    modal.current.focus()\n  }, [props.hide])\n\n  useEffect(() => {\n    function handleBlur (e) {\n      if (!e.currentTarget.contains(e.relatedTarget)) {\n        e.stopPropagation()\n        if (document.activeElement !== this) {\n          !window.testmode && handleHide()\n        }\n      }\n    }\n    if (modal.current) {\n      modal.current.addEventListener('blur', handleBlur)\n\n      return () => {\n        modal.current.removeEventListener('blur', handleBlur)\n      }\n    }\n  }, [modal.current])\n\n  const modalKeyEvent = (keyCode) => {\n    if (keyCode === 27) { // Esc\n      if (props.cancelFn) props.cancelFn()\n      handleHide()\n    } else if (keyCode === 13) { // Enter\n      enterHandler()\n    } else if (keyCode === 37) {\n      // todo && footerIsActive) { // Arrow Left\n      setState((prevState) => { return { ...prevState, toggleBtn: true } })\n    } else if (keyCode === 39) {\n      // todo && footerIsActive) { // Arrow Right\n      setState((prevState) => { return { ...prevState, toggleBtn: false } })\n    }\n  }\n\n  const enterHandler = () => {\n    if (state.toggleBtn) {\n      if (props.okFn) props.okFn()\n    } else {\n      if (props.cancelFn) props.cancelFn()\n    }\n    handleHide()\n  }\n\n  return (\n    <div\n      data-id={`${props.id}ModalDialogContainer-react`}\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n      className='modal'\n      style={{ display: props.hide ? 'none' : 'block' }}\n      role=\"dialog\"\n    >\n      <div className=\"modal-dialog\" role=\"document\">\n        <div\n          ref={modal}\n          tabIndex={-1}\n          className={'modal-content remixModalContent ' + (props.modalClass ? props.modalClass : '')}\n          onKeyDown={({ keyCode }) => { modalKeyEvent(keyCode) }}\n        >\n          <div className=\"modal-header\">\n            <h6 className=\"modal-title\" data-id={`${props.id}ModalDialogModalTitle-react`}>\n              {props.title && props.title}\n            </h6>\n            {!props.showCancelIcon &&\n            <span className=\"modal-close\" onClick={() => handleHide()}>\n              <i title=\"Close\" className=\"fas fa-times\" aria-hidden=\"true\"></i>\n            </span>\n            }\n          </div>\n          <div className=\"modal-body text-break remixModalBody\" data-id={`${props.id}ModalDialogModalBody-react`}>\n            { props.children ? props.children : props.message }\n          </div>\n          <div className=\"modal-footer\" data-id={`${props.id}ModalDialogModalFooter-react`}>\n            {/* todo add autofocus ^^ */}\n            { props.okLabel &&\n              <span\n                data-id={`${props.id}-modal-footer-ok-react`}\n                className={'modal-ok btn btn-sm ' + (state.toggleBtn ? 'btn-dark' : 'btn-light')}\n                onClick={() => {\n                  if (props.okFn) props.okFn()\n                  handleHide()\n                }}\n              >\n                { props.okLabel ? props.okLabel : 'OK' }\n              </span>\n            }\n            { props.cancelLabel &&\n              <span\n                data-id={`${props.id}-modal-footer-cancel-react`}\n                className={'modal-cancel btn btn-sm ' + (state.toggleBtn ? 'btn-light' : 'btn-dark')}\n                data-dismiss=\"modal\"\n                onClick={() => {\n                  if (props.cancelFn) props.cancelFn()\n                  handleHide()\n                }}\n              >\n                { props.cancelLabel ? props.cancelLabel : 'Cancel' }\n              </span>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalDialog\n","export * from './lib/remix-ui-plugin-manager'\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars, no-use-before-define\nimport React from 'react'\nimport '../remix-ui-plugin-manager.css'\ninterface PluginCardProps {\n  profile: any\n  buttonText: string\n  deactivatePlugin: (pluginName: string) => void\n}\n\nfunction ActivePluginCard ({\n  profile,\n  buttonText,\n  deactivatePlugin\n}: PluginCardProps) {\n  return (\n    <div className=\"list-group list-group-flush plugins-list-group\" data-id=\"pluginManagerComponentActiveTile\">\n      <article className=\"list-group-item py-1 mb-1 plugins-list-group-item\" title={profile.displayName || profile.name}>\n        <div className=\"remixui_row justify-content-between align-items-center mb-2\">\n          <h6 className=\"remixui_displayName plugin-name\">\n            <div>\n              { profile.displayName || profile.name }\n              { profile.documentation &&\n                <a href={profile.documentation} className=\"px-1\" title=\"link to documentation\" target=\"_blank\" rel=\"noreferrer\">\n                  <i aria-hidden=\"true\" className=\"fas fa-book\"/>\n                </a>\n              }\n              { profile.version && profile.version.match(/\\b(\\w*alpha\\w*)\\b/g)\n                ? <small title=\"Version Alpha\" className=\"remixui_versionWarning plugin-version\">alpha</small>\n                : profile.version && profile.version.match(/\\b(\\w*beta\\w*)\\b/g)\n                  ? <small title=\"Version Beta\" className=\"remixui_versionWarning plugin-version\">beta</small>\n                  : null\n              }\n            </div>\n            {<button\n              onClick={() => {\n                deactivatePlugin(profile.name)\n              } }\n              className=\"btn btn-secondary btn-sm\"\n              data-id={`pluginManagerComponentDeactivateButton${profile.name}`}\n            >\n              {buttonText}\n            </button>}\n          </h6>\n        </div>\n        <div className=\"remixui_description d-flex text-body plugin-text mb-2\">\n          {profile.icon ? <img src={profile.icon} className=\"mr-1 mt-1 remixui_pluginIcon\" alt=\"profile icon\" /> : null}\n          <span className=\"remixui_descriptiontext\">{profile.description}</span>\n        </div>\n      </article>\n    </div>\n  )\n}\n\nexport default ActivePluginCard\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { Profile } from '@remixproject/plugin-utils'\nimport React from 'react' // eslint-disable-line no-use-before-define\nimport { PluginManagerComponent } from '../../types'\nimport ActivePluginCard from './ActivePluginCard'\nimport ModuleHeading from './moduleHeading'\n\ninterface ActivePluginCardContainerProps {\n  pluginComponent: PluginManagerComponent\n  setActiveProfiles: React.Dispatch<React.SetStateAction<Profile<any>[]>>\n  activeProfiles: Profile[]\n}\nfunction ActivePluginCardContainer ({ pluginComponent }: ActivePluginCardContainerProps) {\n  const deactivatePlugin = (pluginName: string) => {\n    pluginComponent.deactivateP(pluginName)\n  }\n\n  return (\n    <React.Fragment>\n      {(pluginComponent.activePlugins && pluginComponent.activePlugins.length) ? <ModuleHeading headingLabel=\"Active Modules\" count={pluginComponent.activePlugins.length} /> : null}\n      {pluginComponent.activePlugins && pluginComponent.activePlugins.map((profile, idx) => {\n        return (\n          <ActivePluginCard\n            buttonText=\"Deactivate\"\n            profile={profile}\n            deactivatePlugin={deactivatePlugin}\n            key={idx}\n          />\n        )\n      })\n      }\n    </React.Fragment>\n  )\n}\n\nexport default ActivePluginCardContainer\n","import { Profile } from '@remixproject/plugin-utils'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars,no-use-before-define\nimport React from 'react'\nimport '../remix-ui-plugin-manager.css'\ninterface PluginCardProps {\n  profile: Profile & {\n    icon?: string\n  }\n  buttonText: string\n  activatePlugin: (plugin: string) => void\n}\n\nfunction InactivePluginCard ({\n  profile,\n  buttonText,\n  activatePlugin\n}: PluginCardProps) {\n  return (\n    <div className=\"list-group list-group-flush plugins-list-group\" data-id=\"pluginManagerComponentActiveTile\">\n      <article className=\"list-group-item py-1 mb-1 plugins-list-group-item\" title={profile.displayName || profile.name}>\n        <div className=\"remixui_row justify-content-between align-items-center mb-2\">\n          <h6 className=\"remixui_displayName plugin-name\">\n            <div>\n              { profile.displayName || profile.name }\n              { profile.documentation &&\n                <a href={profile.documentation} className=\"px-1\" title=\"link to documentation\" target=\"_blank\" rel=\"noreferrer\">\n                  <i aria-hidden=\"true\" className=\"fas fa-book\"/>\n                </a>\n              }\n              { profile.version && profile.version.match(/\\b(\\w*alpha\\w*)\\b/g)\n                ? <small title=\"Version Alpha\" className=\"remixui_versionWarning plugin-version\">alpha</small>\n                : profile.version && profile.version.match(/\\b(\\w*beta\\w*)\\b/g)\n                  ? <small title=\"Version Beta\" className=\"remixui_versionWarning plugin-version\">beta</small>\n                  : null\n              }\n            </div>\n            {\n              <button\n                onClick={() => {\n                  activatePlugin(profile.name)\n                }}\n                className=\"btn btn-success btn-sm\"\n                data-id={`pluginManagerComponentActivateButton${profile.name}`}\n              >\n                {buttonText}\n              </button>\n            }\n          </h6>\n        </div>\n        <div className=\"remixui_description d-flex text-body plugin-text mb-2\">\n          { profile.icon ? <img src={profile.icon} className=\"mr-1 mt-1 remixui_pluginIcon\" alt=\"profile icon\"/> : null }\n          <span className=\"remixui_descriptiontext\">{profile.description}</span>\n        </div>\n      </article>\n    </div>\n  )\n}\n\nexport default InactivePluginCard\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { Profile } from '@remixproject/plugin-utils'\nimport React from 'react' // eslint-disable-line no-use-before-define\nimport { PluginManagerComponent, PluginManagerProfile } from '../../types'\nimport InactivePluginCard from './InactivePluginCard'\nimport ModuleHeading from './moduleHeading'\n\ninterface InactivePluginCardContainerProps {\n  pluginComponent: PluginManagerComponent\n  setInactiveProfiles: React.Dispatch<React.SetStateAction<Profile<any>[]>>\n  inactiveProfiles: Profile<any>[]\n}\n\ninterface LocalPluginInterface {\n  profile: Partial<PluginManagerProfile>\n  activateService: {}\n  requestQueue: []\n  options: { queueTimeout: number }\n  id: number\n  pendingRequest: {}\n  listener: []\n  iframe: {}\n}\nfunction InactivePluginCardContainer ({ pluginComponent }: InactivePluginCardContainerProps) {\n  const activatePlugin = (pluginName: string) => {\n    pluginComponent.activateP(pluginName)\n  }\n\n  return (\n    <React.Fragment>\n      {(pluginComponent.inactivePlugins && pluginComponent.inactivePlugins.length) ? <ModuleHeading headingLabel=\"Inactive Modules\" count={pluginComponent.inactivePlugins.length} /> : null}\n      {pluginComponent.inactivePlugins && pluginComponent.inactivePlugins.map((profile, idx) => {\n        return (\n          <InactivePluginCard\n            buttonText=\"Activate\"\n            profile={profile}\n            key={idx}\n            activatePlugin={activatePlugin}\n          />\n        )\n      })\n      }\n    </React.Fragment>\n  )\n}\n\nexport default InactivePluginCardContainer\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { useEffect, useReducer, useState } from 'react' // eslint-disable-line no-use-before-define\nimport { ModalDialog } from '@remix-ui/modal-dialog'\nimport { Toaster } from '@remix-ui/toaster'\nimport { IframePlugin, WebsocketPlugin } from '@remixproject/engine-web'\n\nimport { localPluginReducerActionType, localPluginToastReducer } from '../reducers/pluginManagerReducer'\nimport { canActivate, FormStateProps, PluginManagerComponent } from '../../types'\n\ninterface LocalPluginFormProps {\n  closeModal: () => void\n  visible: boolean\n  pluginManager: PluginManagerComponent\n}\n\nconst initialState: FormStateProps = {\n  name: '',\n  displayName: '',\n  url: '',\n  type: 'iframe',\n  hash: '',\n  methods: [],\n  location: 'sidePanel',\n  canActivate: []\n}\n\nconst defaultProfile = {\n  methods: [],\n  location: 'sidePanel',\n  type: 'iframe',\n  name: '',\n  displayName: '',\n  url: '',\n  hash: ''\n}\n\nfunction LocalPluginForm ({ closeModal, visible, pluginManager }: LocalPluginFormProps) {\n  const [errorMsg, dispatchToastMsg] = useReducer(localPluginToastReducer, '')\n  const [name, setName] = useState<string>('')\n  const [displayName, setDisplayName] = useState<string>('')\n  const [url, setUrl] = useState<string>('')\n  const [type, setType] = useState<'iframe' | 'ws'>('iframe')\n  const [location, setLocation] = useState<'sidePanel' | 'mainPanel' | 'none'>('sidePanel')\n  const [methods, setMethods] = useState<string>('')\n  const [canactivate, setCanactivate] = useState<string>('')\n\n  useEffect(() => {\n    const storagePlugin:FormStateProps = localStorage.getItem('plugins/local') ? JSON.parse(localStorage.getItem('plugins/local')) : defaultProfile\n    setName(storagePlugin.name)\n    setUrl(storagePlugin.url)\n    setLocation(storagePlugin.location as 'sidePanel' | 'mainPanel' | 'none')\n    setMethods(Array.isArray(storagePlugin.methods) ? storagePlugin.methods.join(',') : storagePlugin.methods)\n    setType(storagePlugin.type)\n    setDisplayName(storagePlugin.displayName)\n    setCanactivate(Array.isArray(storagePlugin.canActivate) ? storagePlugin.canActivate.join(',') : storagePlugin.canActivate || '')\n  }, [])\n\n  const handleModalOkClick = async () => {\n    try {\n      if (!name) throw new Error('Plugin should have a name')\n      if (pluginManager.appManager.getIds().includes(name)) {\n        throw new Error('This name has already been used')\n      }\n      if (!location) throw new Error('Plugin should have a location')\n      if (!url) throw new Error('Plugin should have an URL')\n      const newMethods = typeof methods === 'string' ? methods.split(',').filter(val => val).map(val => { return val.trim() }) : []\n      const targetPlugin = {\n        name: name,\n        displayName: displayName,\n        description: '',\n        documentation: '',\n        events: [],\n        hash: '',\n        kind: '',\n        methods: newMethods,\n        url: url,\n        type: type,\n        location: location,\n        icon: 'assets/img/localPlugin.webp',\n        canActivate: typeof canactivate === 'string' ? canactivate.split(',').filter(val => val).map(val => { return val.trim() }) : []\n      }\n      const localPlugin = type === 'iframe' ? new IframePlugin(initialState) : new WebsocketPlugin(initialState)\n      localPlugin.profile.hash = `local-${name}`\n      targetPlugin.description = localPlugin.profile.description !== undefined ? localPlugin.profile.description : ''\n      targetPlugin.events = localPlugin.profile.events !== undefined ? localPlugin.profile.events : []\n      targetPlugin.kind = localPlugin.profile.kind !== undefined ? localPlugin.profile.kind : ''\n      localPlugin.profile = { ...localPlugin.profile, ...targetPlugin }\n      pluginManager.activateAndRegisterLocalPlugin(localPlugin)\n    } catch (error) {\n      const action: localPluginReducerActionType = { type: 'show', payload: `${error.message}` }\n      dispatchToastMsg(action)\n      console.log(error)\n    }\n  }\n\n  return (\n    <><ModalDialog\n      handleHide={closeModal}\n      id=\"pluginManagerLocalPluginModalDialog\"\n      hide={visible}\n      title=\"Local Plugin\"\n      okLabel=\"OK\"\n      okFn={ handleModalOkClick }\n      cancelLabel=\"Cancel\"\n      cancelFn={closeModal}\n    >\n      <form id=\"local-plugin-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"plugin-name\">Plugin Name <small>(required)</small></label>\n          <input\n            className=\"form-control\"\n            onChange={e => setName(e.target.value)}\n            value={ name || '' }\n            id=\"plugin-name\"\n            data-id=\"localPluginName\"\n            placeholder=\"Should be camelCase\" />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"plugin-displayname\">Display Name</label>\n          <input\n            className=\"form-control\"\n            onChange={e => setDisplayName(e.target.value)}\n            value={ displayName || '' }\n            id=\"plugin-displayname\"\n            data-id=\"localPluginDisplayName\"\n            placeholder=\"Name in the header\" />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"plugin-methods\">Api (comma separated list of method names)</label>\n          <input\n            className=\"form-control\"\n            onChange={e => setMethods(e.target.value)}\n            value={ methods || '' }\n            id=\"plugin-methods\"\n            data-id=\"localPluginMethods\"\n            placeholder=\"Methods\" />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"plugin-methods\">Plugins it can activate (comma separated list of plugin names)</label>\n          <input\n            className=\"form-control\"\n            onChange={e => setCanactivate(e.target.value)}\n            value={ canactivate || '' }\n            id=\"plugin-canactivate\"\n            data-id=\"localPluginCanActivate\"\n            placeholder=\"Plugin names\" />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"plugin-url\">Url <small>(required)</small></label>\n          <input\n            className=\"form-control\"\n            onChange={e => setUrl(e.target.value)}\n            value={ url || '' }\n            id=\"plugin-url\"\n            data-id=\"localPluginUrl\"\n            placeholder=\"ex: https://localhost:8000\" />\n        </div>\n        <h6>Type of connection <small>(required)</small></h6>\n        <div className=\"form-check form-group\">\n          <div className=\"radio\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"type\"\n              value=\"iframe\"\n              id=\"iframe\"\n              data-id='localPluginRadioButtoniframe'\n              checked={type === 'iframe'}\n              onChange={(e) => setType(e.target.value as 'iframe' | 'ws')} />\n            <label className=\"form-check-label\" htmlFor=\"iframe\">Iframe</label>\n          </div>\n          <div className=\"radio\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"type\"\n              value=\"ws\"\n              id=\"ws\"\n              data-id='localPluginRadioButtonws'\n              checked={type === 'ws'}\n              onChange={(e) => setType(e.target.value as 'iframe' | 'ws')} />\n            <label className=\"form-check-label\" htmlFor=\"ws\">Websocket</label>\n          </div>\n        </div>\n        <h6>Location in remix <small>(required)</small></h6>\n        <div className=\"form-check form-group\">\n          <div className=\"radio\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"location\"\n              value=\"sidePanel\"\n              id=\"sidePanel\"\n              data-id='localPluginRadioButtonsidePanel'\n              checked={location === 'sidePanel'}\n              onChange={(e) => setLocation(e.target.value as 'sidePanel' | 'mainPanel' | 'none')} />\n            <label className=\"form-check-label\" htmlFor=\"sidePanel\">Side Panel</label>\n          </div>\n          <div className=\"radio\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"location\"\n              value=\"mainPanel\"\n              id=\"mainPanel\"\n              data-id='localPluginRadioButtonmainPanel'\n              checked={location === 'mainPanel'}\n              onChange={(e) => setLocation(e.target.value as 'sidePanel' | 'mainPanel' | 'none')} />\n            <label className=\"form-check-label\" htmlFor=\"mainPanel\">Main Panel</label>\n          </div>\n          <div className=\"radio\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"location\"\n              value=\"none\"\n              id=\"none\"\n              data-id='localPluginRadioButtonnone'\n              checked={location === 'none'}\n              onChange={(e) => setLocation(e.target.value as 'sidePanel' | 'mainPanel' | 'none')} />\n            <label className=\"form-check-label\" htmlFor=\"none\">None</label>\n          </div>\n        </div>\n      </form>\n    </ModalDialog>\n    {errorMsg ? <Toaster message={errorMsg} /> : null}\n    </>\n  )\n}\n\nexport default LocalPluginForm\n","/* eslint-disable @typescript-eslint/no-unused-vars,no-use-before-define */\nimport React from 'react'\n\ninterface ModuleHeadingProps {\n  headingLabel: string\n  count: number\n}\n\nfunction ModuleHeading ({ headingLabel, count }: ModuleHeadingProps) {\n  return (\n    <nav className=\"plugins-list-header justify-content-between navbar navbar-expand-lg bg-light navbar-light align-items-center\">\n      <span className=\"navbar-brand plugins-list-title h6 mb-0 mr-2\">{headingLabel}</span>\n      <span className=\"badge badge-primary\" style={{ cursor: 'default' }} data-id=\"pluginManagerComponentInactiveTilesCount\">\n        {count}\n      </span>\n    </nav>\n  )\n}\n\nexport default ModuleHeading\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { Fragment, useState } from 'react' // eslint-disable-line no-use-before-define\n/* eslint-disable-line */\nimport { ModalDialog } from '@remix-ui/modal-dialog'\nimport useLocalStorage from '../custom-hooks/useLocalStorage'\nimport { PluginPermissions } from '../../types'\n\ninterface PermissionSettingsProps {\n  pluginSettings: any\n}\n\nfunction PermisssionsSettings ({ pluginSettings }: PermissionSettingsProps) {\n  const [modalVisibility, setModalVisibility] = useState<boolean>(true)\n  const [permissions, setPermissions] = useLocalStorage<PluginPermissions>('plugins/permissions', {} as PluginPermissions)\n  const [permissionCache, setpermissionCache] = useState<PluginPermissions>()\n  const closeModal = () => setModalVisibility(true)\n  const openModal = () => {\n    const currentValue = JSON.parse(window.localStorage.getItem('plugins/permissions') || '{}')\n    setpermissionCache(currentValue)\n    setPermissions(currentValue)\n    setModalVisibility(!modalVisibility)\n  }\n\n  const cancel = () => {\n    setPermissions(permissionCache)\n  }\n\n  const getState = (targetPlugin:string, funcName:string, pluginName :string) => {\n    return permissions[targetPlugin][funcName][pluginName].allow\n  }\n\n  const handleCheckboxClick = (targetPlugin:string, funcName:string, pluginName :string) => {\n    setPermissions((permissions) => {\n      permissions[targetPlugin][funcName][pluginName].allow = !permissions[targetPlugin][funcName][pluginName].allow\n      return permissions\n    })\n  }\n\n  function clearFunctionPermission (targetPlugin:string, funcName:string, pluginName :string) {\n    setPermissions((permissions) => {\n      delete permissions[targetPlugin][funcName][pluginName]\n      if (Object.keys(permissions[targetPlugin][funcName]).length === 0) delete permissions[targetPlugin][funcName]\n      if (Object.keys(permissions[targetPlugin]).length === 0) delete permissions[targetPlugin]\n      return permissions\n    })\n  }\n\n  function clearTargetPermission (targetPlugin: string) {\n    setPermissions((permissions) => {\n      delete permissions[targetPlugin]\n      return permissions\n    })\n  }\n\n  function RenderPluginHeader ({ headingName }) {\n    return (\n      <div className=\"pb-2 remixui_permissionKey\">\n        <h3>{headingName} permissions:</h3>\n        <i\n          onClick={() => {\n            clearTargetPermission(headingName)\n          }}\n          className=\"far fa-trash-alt\"\n          data-id={`pluginManagerSettingsClearAllPermission-${headingName}`}>\n\n        </i>\n      </div>\n    )\n  }\n\n  function RenderPermissions ({ targetPlugin }) {\n    return <>{Object.keys(permissions[targetPlugin]).map(funcName => {\n      return Object.keys(permissions[targetPlugin][funcName]).map((pluginName, index) => (\n        <div className=\"form-group remixui_permissionKey\" key={pluginName}>\n          { permissions && Object.keys(permissions).length > 0\n            ? (\n              <><div className=\"remixui_checkbox\">\n                <span className=\"mr-2\">\n                  <input\n                    type=\"checkbox\"\n                    onChange={() => handleCheckboxClick(targetPlugin, funcName, pluginName)}\n                    checked={getState(targetPlugin, funcName, pluginName)}\n                    id={`permission-checkbox-${targetPlugin}-${funcName}-${pluginName}`}\n                    aria-describedby={`module ${pluginName} asks permission for ${funcName}`} />\n                  <label\n                    className=\"ml-4\"\n                    htmlFor={`permission-checkbox-${targetPlugin}-${funcName}-${targetPlugin}`}\n                    data-id={`permission-label-${targetPlugin}-${funcName}-${targetPlugin}`}\n                  >\n                    Allow <u>{pluginName}</u> to call <u>{funcName}</u>\n                  </label>\n                </span>\n              </div><i\n                onClick={() => {\n                  clearFunctionPermission(targetPlugin, funcName, pluginName)\n                } }\n                className=\"fa fa-trash-alt\"\n                data-id={`pluginManagerSettingsRemovePermission-${targetPlugin}-${funcName}-${targetPlugin}`} /></>\n            ) : null\n          }\n        </div>\n      ))\n    })}</>\n  }\n\n  return (\n    <Fragment>\n      <ModalDialog\n        handleHide={closeModal}\n        cancelFn={cancel}\n        hide={modalVisibility}\n        title=\"Plugin Manager Permissions\"\n        okLabel=\"OK\"\n        cancelLabel=\"Cancel\"\n      >\n        {permissions && Object.keys(permissions).length > 0\n          ? (<h4 className=\"text-center\">Current Permission Settings</h4>)\n          : (<h4 className=\"text-center\">No Permission requested yet.</h4>)\n        }\n        <form className=\"remixui_permissionForm\" data-id=\"pluginManagerSettingsPermissionForm\">\n          <div className=\"p-2\">\n            {\n              Object.keys(permissions).map(targetPlugin => (\n                <div key={`container-${targetPlugin}`}>\n                  <RenderPluginHeader key={`header-${targetPlugin}`} headingName={targetPlugin} />\n                  <RenderPermissions key={`permissions-${targetPlugin}`} targetPlugin={targetPlugin}/>\n                </div>\n              ))\n            }\n          </div>\n        </form>\n      </ModalDialog>\n      <footer className=\"bg-light remixui_permissions remix-bg-opacity\">\n        <button\n          onClick={openModal}\n          className=\"btn btn-primary settings-button\"\n          data-id=\"pluginManagerPermissionsButton\">\n          Permissions\n        </button>\n      </footer>\n    </Fragment>\n  )\n}\nexport default PermisssionsSettings\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { Fragment, ReactNode, useEffect, useState } from 'react' // eslint-disable-line no-use-before-define\nimport { PluginManagerComponent, PluginManagerSettings } from '../../types'\nimport PermisssionsSettings from './permissionsSettings'\nimport { Profile } from '@remixproject/plugin-utils'\nimport LocalPluginForm from './LocalPluginForm'\n\ninterface RootViewProps {\n  pluginComponent: PluginManagerComponent\n  pluginManagerSettings: PluginManagerSettings\n  children: ReactNode\n}\n\nexport interface pluginDeactivated {\n  flag: boolean\n  profile: Profile\n}\n\nexport interface pluginActivated {\n  flag: boolean\n  profile: Profile\n}\n\nfunction RootView ({ pluginComponent, pluginManagerSettings, children }: RootViewProps) {\n  const [visible, setVisible] = useState<boolean>(true)\n  const [filterPlugins, setFilterPlugin] = useState<string>('')\n\n  const openModal = () => {\n    setVisible(false)\n  }\n  const closeModal = () => setVisible(true)\n\n  useEffect(() => {\n    pluginComponent.getAndFilterPlugins(filterPlugins)\n  }, [filterPlugins])\n  return (\n    <Fragment>\n      <div id=\"pluginManager\" data-id=\"pluginManagerComponentPluginManager\">\n        <header className=\"form-group remixui_pluginSearch plugins-header py-3 px-4 border-bottom\" data-id=\"pluginManagerComponentPluginManagerHeader\">\n          <input\n            type=\"text\"\n            onChange={(event) => {\n              setFilterPlugin(event.target.value.toLowerCase())\n            }}\n            value={filterPlugins}\n            className=\"form-control\"\n            placeholder=\"Search\"\n            data-id=\"pluginManagerComponentSearchInput\"\n          />\n          <button onClick={openModal} className=\"remixui_pluginSearchButton btn bg-transparent text-dark border-0 mt-2 text-underline\" data-id=\"pluginManagerComponentPluginSearchButton\">\n            Connect to a Local Plugin\n          </button>\n        </header>\n        {children}\n        <PermisssionsSettings pluginSettings={pluginManagerSettings}/>\n      </div>\n      <LocalPluginForm\n        closeModal={closeModal}\n        visible={visible}\n        pluginManager={pluginComponent}\n      />\n    </Fragment>\n  )\n}\n\nexport default RootView\n","import { Dispatch, SetStateAction, useEffect, useState } from 'react'\n\ntype SetValue<T> = Dispatch<SetStateAction<T>>\n\nfunction useLocalStorage<T> (key: string, initialValue: T): [T, SetValue<T>] {\n  // Get from local storage then\n  // parse stored json or return initialValue\n  const readValue = (): T => {\n    // Prevent build error \"window is undefined\" but keep keep working\n    if (typeof window === 'undefined') {\n      return initialValue\n    }\n\n    try {\n      const item = window.localStorage.getItem(key)\n      return item ? (JSON.parse(item) as T) : initialValue\n    } catch (error) {\n      console.warn(`Error reading localStorage key ${key}:`, error)\n      return initialValue\n    }\n  }\n\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(readValue)\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue: SetValue<T> = value => {\n    // Prevent build error \"window is undefined\" but keeps working\n    if (typeof window === 'undefined') {\n      console.warn(\n        `Tried setting localStorage key ${key} even though environment is not a client`\n      )\n    }\n\n    try {\n      // Allow value to be a function so we have the same API as useState\n      const newValue = value instanceof Function ? value(storedValue) : value\n\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(newValue))\n\n      // Save state\n      setStoredValue(newValue)\n\n      // We dispatch a custom event so every useLocalStorage hook are notified\n      window.dispatchEvent(new Event('local-storage'))\n    } catch (error) {\n      console.warn(`Error setting localStorage key ${key}:`, error)\n    }\n  }\n\n  useEffect(() => {\n    setStoredValue(readValue())\n  }, [])\n\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setStoredValue(readValue())\n    }\n\n    // this only works for other documents, not the current one\n    window.addEventListener('storage', handleStorageChange)\n\n    // this is a custom event, triggered in writeValueToLocalStorage\n    window.addEventListener('local-storage', handleStorageChange)\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange)\n      window.removeEventListener('local-storage', handleStorageChange)\n    }\n  }, [])\n\n  return [storedValue, setValue]\n}\n\nexport default useLocalStorage\n","\nexport type localPluginReducerActionType = {\n  type: 'show' | 'close',\n  payload?: any\n}\n\nexport function localPluginToastReducer (currentState: string, toastAction: localPluginReducerActionType) {\n  switch (toastAction.type) {\n    case 'show':\n      return `Cannot create Plugin : ${toastAction.payload!}`\n    default:\n      return currentState\n  }\n}\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-plugin-manager.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { Profile } from '@remixproject/plugin-utils'\nimport React, { useState } from 'react' // eslint-disable-line no-use-before-define\nimport { RemixUiPluginManagerProps } from '../types'\nimport ActivePluginCardContainer from './components/ActivePluginCardContainer'\nimport InactivePluginCardContainer from './components/InactivePluginCardContainer'\nimport RootView from './components/rootView'\nimport './remix-ui-plugin-manager.css'\n\nexport const RemixUiPluginManager = ({ pluginComponent, pluginManagerSettings }: RemixUiPluginManagerProps) => {\n  const [activeProfiles, setActiveProfiles] = useState<Profile[]>(pluginComponent.activePlugins)\n  const [inactiveProfiles, setinactiveProfiles] = useState<Profile[]>(pluginComponent.inactivePlugins)\n  return (\n    <RootView pluginComponent={pluginComponent} pluginManagerSettings={pluginManagerSettings}>\n      <section data-id=\"pluginManagerComponentPluginManagerSection\">\n        <ActivePluginCardContainer\n          pluginComponent={pluginComponent}\n          setActiveProfiles={setActiveProfiles}\n          activeProfiles={activeProfiles}\n        />\n        <InactivePluginCardContainer\n          pluginComponent={pluginComponent}\n          setInactiveProfiles={setinactiveProfiles}\n          inactiveProfiles={inactiveProfiles}\n        />\n      </section>\n    </RootView>\n  )\n}\n","export * from './lib/publish-to-storage'\n","import React, { useEffect, useState } from 'react' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\nimport { RemixUiPublishToStorageProps } from './types' // eslint-disable-line\nimport { publishToIPFS } from './publishToIPFS'\nimport { publishToSwarm } from './publishOnSwarm'\n\nexport const PublishToStorage = (props: RemixUiPublishToStorageProps) => {\n  const { api, storage, contract, resetStorage } = props\n  const [state, setState] = useState({\n    modal: {\n      title: '',\n      message: null,\n      hide: true,\n      okLabel: '',\n      okFn: null,\n      cancelLabel: '',\n      cancelFn: null\n    }\n  })\n\n  useEffect(() => {\n    const storageService = async () => {\n      if ((contract.metadata === undefined || contract.metadata.length === 0)) {\n        modal('Publish To Storage', 'This contract may be abstract, may not implement an abstract parent\\'s methods completely or not invoke an inherited contract\\'s constructor correctly.')\n      } else {\n        if (storage === 'swarm') {\n          try {\n            const result = await publishToSwarm(contract, api)\n\n            modal(`Published ${contract.name}'s Metadata`, publishMessage(result.uploaded))\n            // triggered each time there's a new verified publish (means hash correspond)\n            api.writeFile('swarm/' + result.item.hash, result.item.content)\n          } catch (err) {\n            let parseError = err\n            try {\n              parseError = JSON.stringify(err)\n            } catch (e) {}\n            modal('Swarm Publish Failed', publishMessageFailed(storage, parseError))\n          }\n        } else {\n          try {\n            const result = await publishToIPFS(contract, api)\n\n            modal(`Published ${contract.name}'s Metadata`, publishMessage(result.uploaded))\n            // triggered each time there's a new verified publish (means hash correspond)\n            api.writeFile('ipfs/' + result.item.hash, result.item.content)\n          } catch (err) {\n            modal('IPFS Publish Failed', publishMessageFailed(storage, err))\n          }\n        }\n      }\n    }\n\n    if (storage) {\n      storageService()\n    }\n  }, [storage])\n\n  const publishMessage = (uploaded) => (\n    <span> Metadata of \"{contract.name.toLowerCase()}\" was published successfully. <br />\n      <pre>\n        <div>\n          { uploaded.map((value, index) => <div key={index}><b>{ value.filename }</b> : <pre>{ value.output.url }</pre></div>) }\n        </div>\n      </pre>\n    </span>\n  )\n\n  const publishMessageFailed = (storage, err) => (\n    <span>Failed to publish metadata file to { storage }, please check the { storage } gateways is available. <br />\n      {err}\n    </span>\n  )\n\n  const handleHideModal = () => {\n    setState(prevState => {\n      return { ...prevState, modal: { ...prevState.modal, hide: true, message: null } }\n    })\n    resetStorage()\n  }\n\n  const modal = async (title: string, message: string | JSX.Element) => { // eslint-disable-line no-undef\n    await setState(prevState => {\n      return {\n        ...prevState,\n        modal: {\n          ...prevState.modal,\n          hide: false,\n          message,\n          title\n        }\n      }\n    })\n  }\n\n  return (\n    <ModalDialog\n      id='publishToStorage'\n      title={ state.modal.title }\n      message={ state.modal.message }\n      hide={ state.modal.hide }\n      okLabel='OK'\n      okFn={() => {}}\n      handleHide={ handleHideModal }>\n      { (typeof state.modal.message !== 'string') && state.modal.message }\n    </ModalDialog>\n  )\n}\n\nexport default PublishToStorage\n","import swarm from 'swarmgw'\n\nconst swarmgw = swarm()\n\nexport const publishToSwarm = async (contract, api) => {\n  // gather list of files to publish\n  const sources = []\n  let metadata\n  const item = { content: null, hash: null }\n  const uploaded = []\n\n  try {\n    metadata = JSON.parse(contract.metadata)\n  } catch (e) {\n    throw new Error(e)\n  }\n\n  if (metadata === undefined) {\n    throw new Error('No metadata')\n  }\n\n  await Promise.all(Object.keys(metadata.sources).map(fileName => {\n    // find hash\n    let hash = null\n    try {\n      // we try extract the hash defined in the metadata.json\n      // in order to check if the hash that we get after publishing is the same as the one located in metadata.json\n      // if it's not the same, we throw \"hash mismatch between solidity bytecode and uploaded content\"\n      // if we don't find the hash in the metadata.json, the check is not done.\n      //\n      // TODO: refactor this with publishOnIpfs\n      if (metadata.sources[fileName].urls) {\n        metadata.sources[fileName].urls.forEach(url => {\n          if (url.includes('bzz')) hash = url.match('(bzzr|bzz-raw)://(.+)')[1]\n        })\n      }\n    } catch (e) {\n      throw new Error('Error while extracting the hash from metadata.json')\n    }\n\n    api.readFile(fileName).then((content) => {\n      sources.push({\n        content: content,\n        hash: hash,\n        filename: fileName\n      })\n    }).catch((error) => {\n      console.log(error)\n    })\n  }))\n  // publish the list of sources in order, fail if any failed\n\n  await Promise.all(sources.map(async (item) => {\n    try {\n      const result = await swarmVerifiedPublish(item.content, item.hash)\n\n      try {\n        item.hash = result.url.match('bzz-raw://(.+)')[1]\n      } catch (e) {\n        item.hash = '<Metadata inconsistency> - ' + item.fileName\n      }\n      item.output = result\n      uploaded.push(item)\n      // TODO this is a fix cause Solidity metadata does not contain the right swarm hash (poc 0.3)\n      metadata.sources[item.filename].urls[0] = result.url\n    } catch (error) {\n      throw new Error(error)\n    }\n  }))\n\n  const metadataContent = JSON.stringify(metadata)\n  try {\n    const result = await swarmVerifiedPublish(metadataContent, '')\n\n    try {\n      contract.metadataHash = result.url.match('bzz-raw://(.+)')[1]\n    } catch (e) {\n      contract.metadataHash = '<Metadata inconsistency> - metadata.json'\n    }\n    item.content = metadataContent\n    item.hash = contract.metadataHash\n    uploaded.push({\n      content: contract.metadata,\n      hash: contract.metadataHash,\n      filename: 'metadata.json',\n      output: result\n    })\n  } catch (error) {\n    throw new Error(error)\n  }\n\n  return { uploaded, item }\n}\n\nconst swarmVerifiedPublish = async (content, expectedHash): Promise<Record<string, any>> => {\n  return new Promise((resolve, reject) => {\n    swarmgw.put(content, function (err, ret) {\n      if (err) {\n        reject(err)\n      } else if (expectedHash && ret !== expectedHash) {\n        resolve({ message: 'hash mismatch between solidity bytecode and uploaded content.', url: 'bzz-raw://' + ret, hash: ret })\n      } else {\n        resolve({ message: 'ok', url: 'bzz-raw://' + ret, hash: ret })\n      }\n    })\n  })\n}\n","import IpfsClient from 'ipfs-mini'\n\nconst ipfsNodes = [\n  new IpfsClient({ host: 'ipfs.remixproject.org', port: 443, protocol: 'https' }),\n  new IpfsClient({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' }),\n  new IpfsClient({ host: '127.0.0.1', port: 5001, protocol: 'http' })\n]\n\nexport const publishToIPFS = async (contract, api) => {\n  // gather list of files to publish\n  const sources = []\n  let metadata\n  const item = { content: null, hash: null }\n  const uploaded = []\n\n  try {\n    metadata = JSON.parse(contract.metadata)\n  } catch (e) {\n    throw new Error(e)\n  }\n\n  if (metadata === undefined) {\n    throw new Error('No metadata')\n  }\n\n  await Promise.all(Object.keys(metadata.sources).map(fileName => {\n    // find hash\n    let hash = null\n    try {\n      // we try extract the hash defined in the metadata.json\n      // in order to check if the hash that we get after publishing is the same as the one located in metadata.json\n      // if it's not the same, we throw \"hash mismatch between solidity bytecode and uploaded content\"\n      // if we don't find the hash in the metadata.json, the check is not done.\n      //\n      // TODO: refactor this with publishOnSwarm\n      if (metadata.sources[fileName].urls) {\n        metadata.sources[fileName].urls.forEach(url => {\n          if (url.includes('ipfs')) hash = url.match('dweb:/ipfs/(.+)')[1]\n        })\n      }\n    } catch (e) {\n      throw new Error('Error while extracting the hash from metadata.json')\n    }\n\n    api.readFile(fileName).then((content) => {\n      sources.push({\n        content: content,\n        hash: hash,\n        filename: fileName\n      })\n    }).catch((error) => {\n      console.log(error)\n    })\n  }))\n  // publish the list of sources in order, fail if any failed\n  await Promise.all(sources.map(async (item) => {\n    try {\n      const result = await ipfsVerifiedPublish(item.content, item.hash)\n\n      try {\n        item.hash = result.url.match('dweb:/ipfs/(.+)')[1]\n      } catch (e) {\n        item.hash = '<Metadata inconsistency> - ' + item.fileName\n      }\n      item.output = result\n      uploaded.push(item)\n    } catch (error) {\n      throw new Error(error)\n    }\n  }))\n  const metadataContent = JSON.stringify(metadata)\n\n  try {\n    const result = await ipfsVerifiedPublish(metadataContent, '')\n\n    try {\n      contract.metadataHash = result.url.match('dweb:/ipfs/(.+)')[1]\n    } catch (e) {\n      contract.metadataHash = '<Metadata inconsistency> - metadata.json'\n    }\n    item.content = metadataContent\n    item.hash = contract.metadataHash\n    uploaded.push({\n      content: contract.metadata,\n      hash: contract.metadataHash,\n      filename: 'metadata.json',\n      output: result\n    })\n  } catch (error) {\n    throw new Error(error)\n  }\n\n  return { uploaded, item }\n}\n\nconst ipfsVerifiedPublish = async (content, expectedHash) => {\n  try {\n    const results = await severalGatewaysPush(content)\n\n    if (expectedHash && results !== expectedHash) {\n      return { message: 'hash mismatch between solidity bytecode and uploaded content.', url: 'dweb:/ipfs/' + results, hash: results }\n    } else {\n      return { message: 'ok', url: 'dweb:/ipfs/' + results, hash: results }\n    }\n  } catch (error) {\n    throw new Error(error)\n  }\n}\n\nconst severalGatewaysPush = (content) => {\n  const invert = p => new Promise((resolve, reject) => p.then(reject).catch(resolve)) // Invert res and rej\n  const promises = ipfsNodes.map((node) => invert(node.add(content)))\n\n  return invert(Promise.all(promises))\n}\n","export * from './lib/renderer'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./renderer.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useEffect, useState } from 'react' //eslint-disable-line\nimport './renderer.css'\ninterface RendererProps {\n  message: any;\n  opt?: any,\n  plugin: any,\n}\n\nexport const Renderer = ({ message, opt = {}, plugin }: RendererProps) => {\n  const [messageText, setMessageText] = useState(null)\n  const [editorOptions, setEditorOptions] = useState({\n    useSpan: false,\n    type: '',\n    errFile: ''\n  })\n  const [classList] = useState(opt.type === 'error' ? 'alert alert-danger' : 'alert alert-warning')\n  const [close, setClose] = useState(false)\n\n  useEffect(() => {\n    if (!message) return\n    let text\n\n    if (typeof message === 'string') {\n      text = message\n    } else if (message.innerText) {\n      text = message.innerText\n    }\n\n    // ^ e.g:\n    // browser/gm.sol: Warning: Source file does not specify required compiler version! Consider adding \"pragma solidity ^0.6.12\n    // https://github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.2.0/contracts/introspection/IERC1820Registry.sol:3:1: ParserError: Source file requires different compiler version (current compiler is 0.7.4+commit.3f05b770.Emscripten.clang) - note that nightly builds are considered to be strictly less than the released version\n    const positionDetails = getPositionDetails(text)\n\n    opt.errLine = positionDetails.errLine\n    opt.errCol = positionDetails.errCol\n    opt.errFile = positionDetails.errFile ? (positionDetails.errFile as string).trim() : ''\n\n    if (!opt.noAnnotations && opt.errFile && opt.errFile !== '') {\n      addAnnotation(opt.errFile, {\n        row: opt.errLine,\n        column: opt.errCol,\n        text: text,\n        type: opt.type\n      })\n    }\n\n    setMessageText(text)\n    setEditorOptions(opt)\n    setClose(false)\n  }, [message, opt])\n\n  const getPositionDetails = (msg: string) => {\n    const result = { } as Record<string, number | string>\n\n    // To handle some compiler warning without location like SPDX license warning etc\n    if (!msg.includes(':')) return { errLine: -1, errCol: -1, errFile: '' }\n\n    if (msg.includes('-->')) msg = msg.split('-->')[1].trim()\n\n    // extract line / column\n    let pos = msg.match(/^(.*?):([0-9]*?):([0-9]*?)?/)\n    result.errLine = pos ? parseInt(pos[2]) - 1 : -1\n    result.errCol = pos ? parseInt(pos[3]) : -1\n\n    // extract file\n    pos = msg.match(/^(https:.*?|http:.*?|.*?):/)\n    result.errFile = pos ? pos[1] : msg\n    return result\n  }\n\n  const addAnnotation = (file, error) => {\n    if (file === plugin.getAppParameter('currentFile')) {\n      plugin.call('editor', 'addAnnotation', error, file)\n    }\n  }\n\n  const handleErrorClick = (opt) => {\n    if (opt.click) {\n      opt.click(message)\n    } else if (opt.errFile !== undefined && opt.errLine !== undefined && opt.errCol !== undefined) {\n      _errorClick(opt.errFile, opt.errLine, opt.errCol)\n    }\n  }\n\n  const handleClose = () => {\n    setClose(true)\n  }\n\n  const _errorClick = async (errFile, errLine, errCol) => {\n    if (errFile !== plugin.getAppParameter('currentFile')) {\n      // TODO: refactor with this._components.contextView.jumpTo\n      if (await plugin.fileExists(errFile)) {\n        plugin.open(errFile)\n        plugin.call('editor', 'gotoLine', errLine, errCol)\n      }\n    } else {\n      plugin.call('editor', 'gotoLine', errLine, errCol)\n    }\n  }\n\n  return (\n    <>\n      {\n        messageText && !close && (\n          <div className={`remixui_sol ${editorOptions.type} ${classList}`} data-id={editorOptions.errFile} onClick={() => handleErrorClick(editorOptions)}>\n            { editorOptions.useSpan ? <span> { messageText } </span> : <pre><span>{ messageText }</span></pre> }\n            <div className=\"close\" data-id=\"renderer\" onClick={handleClose}>\n              <i className=\"fas fa-times\"></i>\n            </div>\n          </div>)\n      }\n    </>\n  )\n}\n","export * from './lib/remix-ui-settings'\n","export const generateContractMetadataText = 'Generate contract metadata. Generate a JSON file in the contract folder. Allows to specify library addresses the contract depends on. If nothing is specified, Remix deploys libraries automatically.'\nexport const textSecondary = 'text-secondary'\nexport const textDark = 'text-dark'\nexport const warnText = 'Be sure the endpoint is opened before enabling it. \\nThis mode allows a user to provide a passphrase in the Remix interface without having to unlock the account. Although this is very convenient, you should completely trust the backend you are connected to (Geth, Parity, ...). Remix never persists any passphrase'.split('\\n').map(s => s.trim()).join(' ')\nexport const gitAccessTokenTitle = 'Github Access Token'\nexport const gitAccessTokenText = 'Manage the access token used to publish to Gist and retrieve Github contents.'\nexport const gitAccessTokenText2 = 'Go to github token page (link below) to create a new token and save it in Remix. Make sure this token has only \\'create gist\\' permission.'\nexport const gitAccessTokenLink = 'https://github.com/settings/tokens'\nexport const ethereunVMText = 'Always use Javascript VM at load'\nexport const wordWrapText = 'Word wrap in editor'\nexport const enablePersonalModeText = ' Enable Personal Mode for web3 provider. Transaction sent over Web3 will use the web3.personal API.\\n'\nexport const matomoAnalytics = 'Enable Matomo Analytics. We do not collect personally identifiable information (PII). The info is used to improve the sites UX & UI. See more about '\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-settings.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useReducer, useEffect, useCallback } from 'react' // eslint-disable-line\nimport { CopyToClipboard } from '@remix-ui/clipboard' // eslint-disable-line\n\nimport { enablePersonalModeText, ethereunVMText, generateContractMetadataText, gitAccessTokenLink, gitAccessTokenText, gitAccessTokenText2, gitAccessTokenTitle, matomoAnalytics, textDark, textSecondary, warnText, wordWrapText } from './constants'\n\nimport './remix-ui-settings.css'\nimport { ethereumVM, generateContractMetadat, personal, textWrapEventAction, useMatomoAnalytics, saveTokenToast, removeTokenToast } from './settingsAction'\nimport { initialState, toastInitialState, toastReducer, settingReducer } from './settingsReducer'\nimport { Toaster } from '@remix-ui/toaster'// eslint-disable-line\n\n/* eslint-disable-next-line */\nexport interface RemixUiSettingsProps {\n  config: any,\n  editor: any,\n   _deps: any,\n   useMatomoAnalytics: boolean\n}\n\nexport const RemixUiSettings = (props: RemixUiSettingsProps) => {\n  const [, dispatch] = useReducer(settingReducer, initialState)\n  const [state, dispatchToast] = useReducer(toastReducer, toastInitialState)\n  const [tokenValue, setTokenValue] = useState('')\n  const [themeName, setThemeName] = useState('')\n\n  useEffect(() => {\n    props._deps.themeModule.switchTheme()\n    const token = props.config.get('settings/gist-access-token')\n    if (token === undefined) {\n      props.config.set('settings/generate-contract-metadata', true)\n      dispatch({ type: 'contractMetadata', payload: { name: 'contractMetadata', isChecked: true, textClass: textDark } })\n    }\n    if (token) {\n      setTokenValue(token)\n    }\n  }, [themeName, state.message])\n\n  useEffect(() => {\n    if (props.useMatomoAnalytics !== null) useMatomoAnalytics(props.config, props.useMatomoAnalytics, dispatch)\n  }, [props.useMatomoAnalytics])\n\n  useEffect(() => {\n    const javascriptVM = props.config.get('settings/always-use-vm')\n\n    if ((javascriptVM === null) || (javascriptVM === undefined)) ethereumVM(props.config, true, dispatch)\n  }, [props.config])\n\n  const onchangeGenerateContractMetadata = (event) => {\n    generateContractMetadat(props.config, event.target.checked, dispatch)\n  }\n\n  const onchangeOption = (event) => {\n    ethereumVM(props.config, event.target.checked, dispatch)\n  }\n\n  const textWrapEvent = (event) => {\n    textWrapEventAction(props.config, props.editor, event.target.checked, dispatch)\n  }\n\n  const onchangePersonal = event => {\n    personal(props.config, event.target.checked, dispatch)\n  }\n\n  const onchangeMatomoAnalytics = event => {\n    useMatomoAnalytics(props.config, event.target.checked, dispatch)\n  }\n\n  const onswitchTheme = (event, name) => {\n    props._deps.themeModule.switchTheme(name)\n    setThemeName(name)\n  }\n\n  const getTextClass = (key) => {\n    if (props.config.get(key)) {\n      return textDark\n    } else {\n      return textSecondary\n    }\n  }\n\n  const generalConfig = () => {\n    const isMetadataChecked = props.config.get('settings/generate-contract-metadata') || false\n    const isEthereumVMChecked = props.config.get('settings/always-use-vm') || false\n    const isEditorWrapChecked = props.config.get('settings/text-wrap') || false\n    const isPersonalChecked = props.config.get('settings/personal-mode') || false\n    const isMatomoChecked = props.config.get('settings/matomo-analytics') || false\n\n    return (\n      <div className=\"$border-top\">\n        <div className=\"card-body pt-3 pb-2\">\n          <h6 className=\"card-title\">General settings</h6>\n          <div className=\"mt-2 custom-control custom-checkbox mb-1\">\n            <input onChange={onchangeGenerateContractMetadata} id=\"generatecontractmetadata\" data-id=\"settingsTabGenerateContractMetadata\" type=\"checkbox\" className=\"custom-control-input\" name=\"contractMetadata\" checked = { isMetadataChecked }/>\n            <label className={`form-check-label custom-control-label align-middle ${getTextClass('settings/generate-contract-metadata')}`} data-id=\"settingsTabGenerateContractMetadataLabel\" htmlFor=\"generatecontractmetadata\">{generateContractMetadataText}</label>\n          </div>\n          <div className=\"fmt-2 custom-control custom-checkbox mb-1\">\n            <input onChange={onchangeOption} className=\"custom-control-input\" id=\"alwaysUseVM\" data-id=\"settingsTabAlwaysUseVM\" type=\"checkbox\" name=\"ethereumVM\" checked={ isEthereumVMChecked }/>\n            <label className={`form-check-label custom-control-label align-middle ${getTextClass('settings/always-use-vm')}`} htmlFor=\"alwaysUseVM\">{ethereunVMText}</label>\n          </div>\n          <div className=\"mt-2 custom-control custom-checkbox mb-1\">\n            <input id=\"editorWrap\" className=\"custom-control-input\" type=\"checkbox\" onChange={textWrapEvent} checked = { isEditorWrapChecked }/>\n            <label className={`form-check-label custom-control-label align-middle ${getTextClass('settings/text-wrap')}`} htmlFor=\"editorWrap\">{wordWrapText}</label>\n          </div>\n          <div className=\"custom-control custom-checkbox mb-1\">\n            <input onChange={onchangePersonal} id=\"personal\" type=\"checkbox\" className=\"custom-control-input\" checked = { isPersonalChecked }/>\n            <label className={`form-check-label custom-control-label align-middle ${getTextClass('settings/personal-mode')}`} htmlFor=\"personal\">\n              <i className=\"fas fa-exclamation-triangle text-warning\" aria-hidden=\"true\"></i> <span>   </span>\n              <span>   </span>{enablePersonalModeText} {warnText}\n            </label>\n          </div>\n          <div className=\"custom-control custom-checkbox mb-1\">\n            <input onChange={onchangeMatomoAnalytics} id=\"settingsMatomoAnalytics\" type=\"checkbox\" className=\"custom-control-input\" checked={ isMatomoChecked }/>\n            <label className={`form-check-label custom-control-label align-middle ${getTextClass('settings/matomo-analytics')}`} htmlFor=\"settingsMatomoAnalytics\">\n              <span>{matomoAnalytics}</span>\n              <a href=\"https://medium.com/p/66ef69e14931/\" target=\"_blank\"> Analytics in Remix IDE</a> <span>&</span> <a target=\"_blank\" href=\"https://matomo.org/free-software\">Matomo</a>\n            </label>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const saveToken = () => {\n    saveTokenToast(props.config, dispatchToast, tokenValue)\n  }\n\n  const removeToken = () => {\n    setTokenValue('')\n    removeTokenToast(props.config, dispatchToast)\n  }\n\n  const handleSaveTokenState = useCallback(\n    (event) => {\n      setTokenValue(event.target.value)\n    },\n    [tokenValue]\n  )\n\n  const gistToken = () => (\n    <div className=\"border-top\">\n      <div className=\"card-body pt-3 pb-2\">\n        <h6 className=\"card-title\">{ gitAccessTokenTitle }</h6>\n        <p className=\"mb-1\">{ gitAccessTokenText }</p>\n        <p className=\"\">{ gitAccessTokenText2 }</p>\n        <p className=\"mb-1\"><a className=\"text-primary\" target=\"_blank\" href=\"https://github.com/settings/tokens\">{ gitAccessTokenLink }</a></p>\n        <div className=\"\"><label>TOKEN:</label>\n          <div className=\"text-secondary mb-0 h6\">\n            <input id=\"gistaccesstoken\" data-id=\"settingsTabGistAccessToken\" type=\"password\" className=\"form-control\" onChange={handleSaveTokenState} value={ tokenValue } />\n            <div className=\"d-flex justify-content-end pt-2\">\n              <CopyToClipboard content={tokenValue} data-id='copyToClipboardCopyIcon' />\n              <input className=\"btn btn-sm btn-primary ml-2\" id=\"savegisttoken\" data-id=\"settingsTabSaveGistToken\" onClick={() => saveToken()} value=\"Save\" type=\"button\" disabled={tokenValue === ''}></input>\n              <button className=\"btn btn-sm btn-secondary ml-2\" id=\"removegisttoken\" data-id=\"settingsTabRemoveGistToken\" title=\"Delete Github access token\" onClick={() => removeToken()}>Remove</button>\n            </div>\n          </div></div>\n      </div>\n    </div>\n  )\n\n  const themes = () => {\n    const themes = props._deps.themeModule.getThemes()\n    if (themes) {\n      return themes.map((aTheme, index) => (\n        <div className=\"radio custom-control custom-radio mb-1 form-check\" key={index}>\n          <input type=\"radio\" onChange={event => { onswitchTheme(event, aTheme.name) }} className=\"align-middle custom-control-input\" name='theme' id={aTheme.name} data-id={`settingsTabTheme${aTheme.name}`} checked = {props._deps.themeModule.active === aTheme.name }/>\n          <label className=\"form-check-label custom-control-label\" data-id={`settingsTabThemeLabel${aTheme.name}`} htmlFor={aTheme.name}>{aTheme.name} ({aTheme.quality})</label>\n        </div>\n      )\n      )\n    }\n  }\n\n  return (\n    <div>\n      {state.message ? <Toaster message= {state.message}/> : null}\n      {generalConfig()}\n      {gistToken()}\n      <div className=\"border-top\">\n        <div className=\"card-body pt-3 pb-2\">\n          <h6 className=\"card-title\">Themes</h6>\n          <div className=\"card-text themes-container\">\n            {themes()}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { textDark, textSecondary } from './constants'\n\ndeclare global {\n  interface Window {\n    _paq: any\n  }\n}\n\nconst _paq = window._paq = window._paq || [] //eslint-disable-line\n\nexport const generateContractMetadat = (config, checked, dispatch) => {\n  config.set('settings/generate-contract-metadata', checked)\n  dispatch({ type: 'contractMetadata', payload: { isChecked: checked, textClass: checked ? textDark : textSecondary } })\n}\n\nexport const ethereumVM = (config, checked: boolean, dispatch) => {\n  config.set('settings/always-use-vm', checked)\n  dispatch({ type: 'ethereumVM', payload: { isChecked: checked, textClass: checked ? textDark : textSecondary } })\n}\n\nexport const textWrapEventAction = (config, editor, checked, dispatch) => {\n  config.set('settings/text-wrap', checked)\n  editor.resize(checked)\n  dispatch({ type: 'textWrap', payload: { isChecked: checked, textClass: checked ? textDark : textSecondary } })\n}\n\nexport const personal = (config, checked, dispatch) => {\n  config.set('settings/personal-mode', checked)\n  dispatch({ type: 'personal', payload: { isChecked: checked, textClass: checked ? textDark : textSecondary } })\n}\n\nexport const useMatomoAnalytics = (config, checked, dispatch) => {\n  config.set('settings/matomo-analytics', checked)\n  dispatch({ type: 'useMatomoAnalytics', payload: { isChecked: checked, textClass: checked ? textDark : textSecondary } })\n  if (checked) {\n    _paq.push(['forgetUserOptOut'])\n    // @TODO remove next line when https://github.com/matomo-org/matomo/commit/9e10a150585522ca30ecdd275007a882a70c6df5 is used\n    document.cookie = 'mtm_consent_removed=; expires=Thu, 01 Jan 1970 00:00:01 GMT;'\n  } else {\n    _paq.push(['optUserOut'])\n  }\n}\n\nexport const saveTokenToast = (config, dispatch, tokenValue) => {\n  config.set('settings/gist-access-token', tokenValue)\n  dispatch({ type: 'save', payload: { message: 'Access token has been saved' } })\n}\n\nexport const removeTokenToast = (config, dispatch) => {\n  config.set('settings/gist-access-token', '')\n  dispatch({ type: 'removed', payload: { message: 'Access token removed' } })\n}\n","import { textSecondary } from './constants'\n\nexport const initialState = {\n  elementState: [\n    {\n      name: 'contractMetadata',\n      isChecked: false,\n      textClass: textSecondary\n    },\n    {\n      name: 'ethereumVM',\n      isChecked: false,\n      textClass: textSecondary\n    },\n    {\n      name: 'textWrap',\n      isChecked: false,\n      textClass: textSecondary\n    },\n    {\n      name: 'personal',\n      isChecked: false,\n      textClass: textSecondary\n    },\n    {\n      name: 'useMatomoAnalytics',\n      isChecked: false,\n      textClass: textSecondary\n    }\n  ]\n}\n\nexport const settingReducer = (state, action) => {\n  switch (action.type) {\n    case 'contractMetadata':\n      state.elementState.map(element => {\n        if (element.name === 'contractMetadata') {\n          element.isChecked = action.payload.isChecked\n          element.textClass = action.payload.textClass\n        }\n      })\n      return {\n        ...state\n      }\n    case 'ethereumVM':\n      state.elementState.map(element => {\n        if (element.name === 'ethereumVM') {\n          element.isChecked = action.payload.isChecked\n          element.textClass = action.payload.textClass\n        }\n      })\n      return {\n        ...state\n      }\n    case 'textWrap':\n      state.elementState.map(element => {\n        if (element.name === 'textWrap') {\n          element.isChecked = action.payload.isChecked\n          element.textClass = action.payload.textClass\n        }\n      })\n      return {\n        ...state\n      }\n    case 'personal':\n      state.elementState.map(element => {\n        if (element.name === 'personal') {\n          element.isChecked = action.payload.isChecked\n          element.textClass = action.payload.textClass\n        }\n      })\n      return {\n        ...state\n      }\n    case 'useMatomoAnalytics':\n      state.elementState.map(element => {\n        if (element.name === 'useMatomoAnalytics') {\n          element.isChecked = action.payload.isChecked\n          element.textClass = action.payload.textClass\n        }\n      })\n      return {\n        ...state\n      }\n    default:\n      return initialState\n  }\n}\n\nexport const toastInitialState = {\n  message: ''\n}\n\nexport const toastReducer = (state, action) => {\n  switch (action.type) {\n    case 'save' :\n      return { ...state, message: action.payload.message }\n    case 'removed' :\n      return { ...state, message: action.payload.message }\n    default :\n      return { ...state, message: '' }\n  }\n}\n","export * from './lib/solidity-compiler'\nexport * from './lib/logic'\n","import React from 'react'\nimport { CompileTabLogic } from '../logic/compileTabLogic'\nexport const setEditorMode = (mode: string) => {\n  return {\n    type: 'SET_EDITOR_MODE',\n    payload: mode\n  }\n}\n\nexport const resetEditorMode = () => (dispatch: React.Dispatch<any>) => {\n  dispatch({\n    type: 'RESET_EDITOR_MODE'\n  })\n}\n\nexport const setCompilerMode = (mode: string, ...args) => {\n  return {\n    type: 'SET_COMPILER_MODE',\n    payload: { mode, args }\n  }\n}\n\nexport const resetCompilerMode = () => (dispatch: React.Dispatch<any>) => {\n  dispatch({\n    type: 'RESET_COMPILER_MODE'\n  })\n}\n\nexport const listenToEvents = (compileTabLogic: CompileTabLogic, api) => (dispatch: React.Dispatch<any>) => {\n  api.onSessionSwitched = () => {\n    dispatch(setEditorMode('sessionSwitched'))\n  }\n\n  compileTabLogic.event.on('startingCompilation', () => {\n    dispatch(setCompilerMode('startingCompilation'))\n  })\n\n  compileTabLogic.compiler.event.register('compilationDuration', (speed) => {\n    dispatch(setCompilerMode('compilationDuration', speed))\n  })\n\n  api.onContentChanged = () => {\n    dispatch(setEditorMode('contentChanged'))\n  }\n  compileTabLogic.compiler.event.register('loadingCompiler', () => {\n    dispatch(setCompilerMode('loadingCompiler'))\n  })\n\n  compileTabLogic.compiler.event.register('compilerLoaded', () => {\n    dispatch(setCompilerMode('compilerLoaded'))\n  })\n\n  compileTabLogic.compiler.event.register('compilationFinished', (success, data, source) => {\n    dispatch(setCompilerMode('compilationFinished', success, data, source))\n  })\n}\n","import React, { useEffect, useState, useRef, useReducer } from 'react' // eslint-disable-line\nimport semver from 'semver'\nimport { CompilerContainerProps } from './types'\nimport { ConfigurationSettings } from '@remix-project/remix-lib-ts'\nimport * as helper from '../../../../../apps/remix-ide/src/lib/helper'\nimport { canUseWorker, baseURLBin, baseURLWasm, urlFromVersion, pathToURL, promisedMiniXhr } from '@remix-project/remix-solidity'\nimport { compilerReducer, compilerInitialState } from './reducers/compiler'\nimport { resetEditorMode, listenToEvents } from './actions/compiler'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap' // eslint-disable-line\n\nimport './css/style.css'\n\ndeclare global {\n  interface Window {\n    _paq: any\n  }\n}\n\nconst _paq = window._paq = window._paq || [] //eslint-disable-line\n\nexport const CompilerContainer = (props: CompilerContainerProps) => {\n  const { api, compileTabLogic, tooltip, modal, compiledFileName, updateCurrentVersion, configurationSettings, isHardhatProject } = props // eslint-disable-line\n  const [state, setState] = useState({\n    hideWarnings: false,\n    autoCompile: false,\n    matomoAutocompileOnce: true,\n    optimize: false,\n    compileTimeout: null,\n    timeout: 300,\n    allversions: [],\n    customVersions: [],\n    selectedVersion: null,\n    defaultVersion: 'soljson-v0.8.7+commit.e28d00a7.js', // this default version is defined: in makeMockCompiler (for browser test)\n    runs: '',\n    compiledFileName: '',\n    includeNightlies: false,\n    language: 'Solidity',\n    evmVersion: ''\n  })\n  const [disableCompileButton, setDisableCompileButton] = useState<boolean>(false)\n  const compileIcon = useRef(null)\n  const promptMessageInput = useRef(null)\n  const [hhCompilation, sethhCompilation] = useState(false)\n  const [compilerContainer, dispatch] = useReducer(compilerReducer, compilerInitialState)\n\n  useEffect(() => {\n    fetchAllVersion((allversions, selectedVersion, isURL) => {\n      setState(prevState => {\n        return { ...prevState, allversions }\n      })\n      if (isURL) _updateVersionSelector(state.defaultVersion, selectedVersion)\n      else {\n        setState(prevState => {\n          return { ...prevState, selectedVersion }\n        })\n        updateCurrentVersion(selectedVersion)\n        _updateVersionSelector(selectedVersion)\n      }\n    })\n    const currentFileName = api.currentFile\n\n    currentFile(currentFileName)\n    listenToEvents(compileTabLogic, api)(dispatch)\n  }, [])\n\n  useEffect(() => {\n    if (compileTabLogic && compileTabLogic.compiler) {\n      setState(prevState => {\n        const params = api.getCompilerParameters()\n        const optimize = params.optimize\n        const runs = params.runs as string\n        const evmVersion = params.evmVersion\n        return {\n          ...prevState,\n          hideWarnings: api.getAppParameter('hideWarnings') as boolean || false,\n          autoCompile: api.getAppParameter('autoCompile') as boolean || false,\n          includeNightlies: api.getAppParameter('includeNightlies') as boolean || false,\n          optimize: optimize,\n          runs: runs,\n          evmVersion: (evmVersion !== null) && (evmVersion !== 'null') && (evmVersion !== undefined) && (evmVersion !== 'undefined') ? evmVersion : 'default'\n        }\n      })\n    }\n  }, [compileTabLogic])\n\n  useEffect(() => {\n    const isDisabled = !compiledFileName || (compiledFileName && !isSolFileSelected(compiledFileName))\n\n    setDisableCompileButton(isDisabled)\n    setState(prevState => {\n      return { ...prevState, compiledFileName }\n    })\n  }, [compiledFileName])\n\n  useEffect(() => {\n    if (compilerContainer.compiler.mode) {\n      switch (compilerContainer.compiler.mode) {\n        case 'startingCompilation':\n          startingCompilation()\n          break\n        case 'compilationDuration':\n          compilationDuration(compilerContainer.compiler.args[0])\n          break\n        case 'loadingCompiler':\n          loadingCompiler()\n          break\n        case 'compilerLoaded':\n          compilerLoaded()\n          break\n        case 'compilationFinished':\n          compilationFinished()\n          break\n      }\n    }\n  }, [compilerContainer.compiler.mode])\n\n  useEffect(() => {\n    if (compilerContainer.editor.mode) {\n      switch (compilerContainer.editor.mode) {\n        case 'sessionSwitched':\n          sessionSwitched()\n          resetEditorMode()(dispatch)\n          break\n        case 'contentChanged':\n          contentChanged()\n          resetEditorMode()(dispatch)\n          break\n      }\n    }\n  }, [compilerContainer.editor.mode])\n\n  useEffect(() => {\n    if (configurationSettings) {\n      setConfiguration(configurationSettings)\n    }\n  }, [configurationSettings])\n\n  const _retrieveVersion = (version?) => {\n    if (!version) version = state.selectedVersion\n    if (version === 'builtin') version = state.defaultVersion\n    return semver.coerce(version) ? semver.coerce(version).version : ''\n  }\n\n  // fetching both normal and wasm builds and creating a [version, baseUrl] map\n  const fetchAllVersion = async (callback) => {\n    let selectedVersion, allVersionsWasm, isURL\n    let allVersions = [{ path: 'builtin', longVersion: 'latest local version - ' + state.defaultVersion }]\n    // fetch normal builds\n    const binRes: any = await promisedMiniXhr(`${baseURLBin}/list.json`)\n    // fetch wasm builds\n    const wasmRes: any = await promisedMiniXhr(`${baseURLWasm}/list.json`)\n    if (binRes.event.type === 'error' && wasmRes.event.type === 'error') {\n      selectedVersion = 'builtin'\n      return callback(allVersions, selectedVersion)\n    }\n    try {\n      const versions = JSON.parse(binRes.json).builds.slice().reverse()\n\n      allVersions = [...allVersions, ...versions]\n      selectedVersion = state.defaultVersion\n      if (api.getCompilerParameters().version) selectedVersion = api.getCompilerParameters().version\n      // Check if version is a URL and corresponding filename starts with 'soljson'\n      if (selectedVersion.startsWith('https://')) {\n        const urlArr = selectedVersion.split('/')\n\n        if (urlArr[urlArr.length - 1].startsWith('soljson')) isURL = true\n      }\n      if (wasmRes.event.type !== 'error') {\n        allVersionsWasm = JSON.parse(wasmRes.json).builds.slice().reverse()\n      }\n    } catch (e) {\n      tooltip('Cannot load compiler version list. It might have been blocked by an advertisement blocker. Please try deactivating any of them from this page and reload. Error: ' + e)\n    }\n    // replace in allVersions those compiler builds which exist in allVersionsWasm with new once\n    if (allVersionsWasm && allVersions) {\n      allVersions.forEach((compiler, index) => {\n        const wasmIndex = allVersionsWasm.findIndex(wasmCompiler => { return wasmCompiler.longVersion === compiler.longVersion })\n        if (wasmIndex !== -1) {\n          allVersions[index] = allVersionsWasm[wasmIndex]\n          pathToURL[compiler.path] = baseURLWasm\n        } else {\n          pathToURL[compiler.path] = baseURLBin\n        }\n      })\n    }\n    callback(allVersions, selectedVersion, isURL)\n  }\n\n  /**\n   * Update the compilation button with the name of the current file\n   */\n  const currentFile = (name = '') => {\n    if (name && name !== '') {\n      _setCompilerVersionFromPragma(name)\n    }\n    const compiledFileName = name.split('/').pop()\n\n    setState(prevState => {\n      return { ...prevState, compiledFileName }\n    })\n  }\n\n  // Load solc compiler version according to pragma in contract file\n  const _setCompilerVersionFromPragma = (filename: string) => {\n    if (!state.allversions) return\n    api.readFile(filename).then(data => {\n      if (!data) return\n      const pragmaArr = data.match(/(pragma solidity (.+?);)/g)\n      if (pragmaArr && pragmaArr.length === 1) {\n        const pragmaStr = pragmaArr[0].replace('pragma solidity', '').trim()\n        const pragma = pragmaStr.substring(0, pragmaStr.length - 1)\n        const releasedVersions = state.allversions.filter(obj => !obj.prerelease).map(obj => obj.version)\n        const allVersions = state.allversions.map(obj => _retrieveVersion(obj.version))\n        const currentCompilerName = _retrieveVersion(state.selectedVersion)\n        // contains only numbers part, for example '0.4.22'\n        const pureVersion = _retrieveVersion()\n        // is nightly build newer than the last release\n        const isNewestNightly = currentCompilerName.includes('nightly') && semver.gt(pureVersion, releasedVersions[0])\n        // checking if the selected version is in the pragma range\n        const isInRange = semver.satisfies(pureVersion, pragma)\n        // checking if the selected version is from official compilers list(excluding custom versions) and in range or greater\n        const isOfficial = allVersions.includes(currentCompilerName)\n        if (isOfficial && (!isInRange && !isNewestNightly)) {\n          const compilerToLoad = semver.maxSatisfying(releasedVersions, pragma)\n          const compilerPath = state.allversions.filter(obj => !obj.prerelease && obj.version === compilerToLoad)[0].path\n          if (state.selectedVersion !== compilerPath) {\n            setState((prevState) => {\n              return { ...prevState, selectedVersion: compilerPath }\n            })\n            _updateVersionSelector(compilerPath)\n          }\n        }\n      }\n    })\n  }\n\n  const isSolFileSelected = (currentFile: string = '') => {\n    if (!currentFile) currentFile = api.currentFile\n    if (!currentFile) return false\n    const extention = currentFile.substr(currentFile.length - 3, currentFile.length)\n    return extention.toLowerCase() === 'sol' || extention.toLowerCase() === 'yul'\n  }\n\n  const sessionSwitched = () => {\n    if (!compileIcon.current) return\n    scheduleCompilation()\n  }\n\n  const startingCompilation = () => {\n    if (!compileIcon.current) return\n    compileIcon.current.setAttribute('title', 'compiling...')\n    compileIcon.current.classList.remove('remixui_bouncingIcon')\n    compileIcon.current.classList.add('remixui_spinningIcon')\n  }\n\n  const compilationDuration = (speed: number) => {\n    if (speed > 1000) {\n      console.log(`Last compilation took ${speed}ms. We suggest to turn off autocompilation.`)\n    }\n  }\n\n  const contentChanged = () => {\n    if (!compileIcon.current) return\n    scheduleCompilation()\n    compileIcon.current.classList.add('remixui_bouncingIcon') // @TODO: compileView tab\n  }\n\n  const loadingCompiler = () => {\n    if (!compileIcon.current) return\n    compileIcon.current.setAttribute('title', 'compiler is loading, please wait a few moments.')\n    compileIcon.current.classList.add('remixui_spinningIcon')\n    _updateLanguageSelector()\n    setDisableCompileButton(true)\n  }\n\n  const compilerLoaded = () => {\n    if (!compileIcon.current) return\n    compileIcon.current.setAttribute('title', '')\n    compileIcon.current.classList.remove('remixui_spinningIcon')\n    if (state.autoCompile) compile()\n    const isDisabled = !compiledFileName || (compiledFileName && !isSolFileSelected(compiledFileName))\n\n    setDisableCompileButton(isDisabled)\n  }\n\n  const compilationFinished = () => {\n    if (!compileIcon.current) return\n    compileIcon.current.setAttribute('title', 'idle')\n    compileIcon.current.classList.remove('remixui_spinningIcon')\n    compileIcon.current.classList.remove('remixui_bouncingIcon')\n    if (!state.autoCompile || (state.autoCompile && state.matomoAutocompileOnce)) {\n      _paq.push(['trackEvent', 'compiler', 'compiled_with_version', _retrieveVersion()])\n      if (state.autoCompile && state.matomoAutocompileOnce) {\n        setState(prevState => {\n          return { ...prevState, matomoAutocompileOnce: false }\n        })\n      }\n    }\n  }\n\n  const scheduleCompilation = () => {\n    if (!state.autoCompile) return\n    if (state.compileTimeout) window.clearTimeout(state.compileTimeout)\n    const compileTimeout = window.setTimeout(() => {\n      state.autoCompile && compile()\n    }, state.timeout)\n\n    setState(prevState => {\n      return { ...prevState, compileTimeout }\n    })\n  }\n\n  const compile = () => {\n    const currentFile = api.currentFile\n\n    if (!isSolFileSelected()) return\n\n    _setCompilerVersionFromPragma(currentFile)\n    compileTabLogic.runCompiler(hhCompilation)\n  }\n\n  const _updateVersionSelector = (version, customUrl = '') => {\n    // update selectedversion of previous one got filtered out\n    let selectedVersion = version\n    if (!selectedVersion || !_shouldBeAdded(selectedVersion)) {\n      selectedVersion = state.defaultVersion\n      setState(prevState => {\n        return { ...prevState, selectedVersion }\n      })\n    }\n    updateCurrentVersion(selectedVersion)\n    api.setCompilerParameters({ version: selectedVersion })\n    let url\n\n    if (customUrl !== '') {\n      selectedVersion = customUrl\n      setState(prevState => {\n        return { ...prevState, selectedVersion, customVersions: [...state.customVersions, selectedVersion] }\n      })\n      updateCurrentVersion(selectedVersion)\n      url = customUrl\n      api.setCompilerParameters({ version: selectedVersion })\n    } else {\n      if (helper.checkSpecialChars(selectedVersion)) {\n        return console.log('loading ' + selectedVersion + ' not allowed, special chars not allowed.')\n      }\n      if (selectedVersion === 'builtin' || selectedVersion.indexOf('soljson') === 0) {\n        url = urlFromVersion(selectedVersion)\n      } else {\n        return console.log('loading ' + selectedVersion + ' not allowed, version should start with \"soljson\"')\n      }\n    }\n\n    // Workers cannot load js on \"file:\"-URLs and we get a\n    // \"Uncaught RangeError: Maximum call stack size exceeded\" error on Chromium,\n    // resort to non-worker version in that case.\n    if (selectedVersion === 'builtin') selectedVersion = state.defaultVersion\n    if (selectedVersion !== 'builtin' && canUseWorker(selectedVersion)) {\n      compileTabLogic.compiler.loadVersion(true, url)\n    } else {\n      compileTabLogic.compiler.loadVersion(false, url)\n    }\n  }\n\n  const _shouldBeAdded = (version) => {\n    return !version.includes('nightly') ||\n           (version.includes('nightly') && state.includeNightlies)\n  }\n\n  const promptCompiler = () => {\n    // custom url https://solidity-blog.s3.eu-central-1.amazonaws.com/data/08preview/soljson.js\n    modal('Add a custom compiler', promptMessage('URL'), 'OK', addCustomCompiler, 'Cancel', () => {})\n  }\n\n  const promptMessage = (message) => {\n    return (\n      <>\n        <span>{ message }</span>\n        <input type=\"text\" data-id=\"modalDialogCustomPromptCompiler\" className=\"form-control\" ref={promptMessageInput} />\n      </>\n    )\n  }\n\n  const addCustomCompiler = () => {\n    const url = promptMessageInput.current.value\n\n    setState(prevState => {\n      return { ...prevState, selectedVersion: url }\n    })\n    _updateVersionSelector(state.defaultVersion, url)\n  }\n\n  const handleLoadVersion = (value) => {\n    setState(prevState => {\n      return { ...prevState, selectedVersion: value, matomoAutocompileOnce: true }\n    })\n    updateCurrentVersion(value)\n    _updateVersionSelector(value)\n    _updateLanguageSelector()\n  }\n\n  const _updateLanguageSelector = () => {\n    // This is the first version when Yul is available\n    if (!semver.valid(_retrieveVersion()) || semver.lt(_retrieveVersion(), 'v0.5.7+commit.6da8b019.js')) {\n      handleLanguageChange('Solidity')\n      compileTabLogic.setLanguage('Solidity')\n    }\n  }\n\n  const handleAutoCompile = (e) => {\n    const checked = e.target.checked\n\n    api.setAppParameter('autoCompile', checked)\n    checked && compile()\n    setState(prevState => {\n      return { ...prevState, autoCompile: checked, matomoAutocompileOnce: state.matomoAutocompileOnce || checked }\n    })\n  }\n\n  const handleOptimizeChange = (value) => {\n    const checked = !!value\n\n    api.setAppParameter('optimize', checked)\n    compileTabLogic.setOptimize(checked)\n    if (compileTabLogic.optimize) {\n      compileTabLogic.setRuns(parseInt(state.runs))\n    } else {\n      compileTabLogic.setRuns(200)\n    }\n    state.autoCompile && compile()\n    setState(prevState => {\n      return { ...prevState, optimize: checked }\n    })\n  }\n\n  const onChangeRuns = (value) => {\n    const runs = value\n\n    compileTabLogic.setRuns(parseInt(runs))\n    state.autoCompile && compile()\n    setState(prevState => {\n      return { ...prevState, runs }\n    })\n  }\n\n  const handleHideWarningsChange = (e) => {\n    const checked = e.target.checked\n\n    api.setAppParameter('hideWarnings', checked)\n    state.autoCompile && compile()\n    setState(prevState => {\n      return { ...prevState, hideWarnings: checked }\n    })\n  }\n\n  const handleNightliesChange = (e) => {\n    const checked = e.target.checked\n\n    if (!checked) handleLoadVersion(state.defaultVersion)\n    api.setAppParameter('includeNightlies', checked)\n    setState(prevState => {\n      return { ...prevState, includeNightlies: checked }\n    })\n  }\n\n  const handleLanguageChange = (value) => {\n    compileTabLogic.setLanguage(value)\n    state.autoCompile && compile()\n    setState(prevState => {\n      return { ...prevState, language: value }\n    })\n  }\n\n  const handleEvmVersionChange = (value) => {\n    if (!value) return\n    let v = value\n    if (v === 'default') {\n      v = null\n    }\n    compileTabLogic.setEvmVersion(v)\n    state.autoCompile && compile()\n    setState(prevState => {\n      return { ...prevState, evmVersion: value }\n    })\n  }\n\n  const updatehhCompilation = (event) => {\n    const checked = event.target.checked\n\n    sethhCompilation(checked)\n    api.setAppParameter('hardhat-compilation', checked)\n  }\n\n  /*\n    The following functions map with the above event handlers.\n    They are an external API for modifying the compiler configuration.\n  */\n  const setConfiguration = (settings: ConfigurationSettings) => {\n    handleLoadVersion(`soljson-v${settings.version}.js`)\n    handleEvmVersionChange(settings.evmVersion)\n    handleLanguageChange(settings.language)\n    handleOptimizeChange(settings.optimize)\n    onChangeRuns(settings.runs)\n  }\n\n  return (\n    <section>\n      <article>\n        <header className='remixui_compilerSection border-bottom'>\n          <div className=\"mb-2\">\n            <label className=\"remixui_compilerLabel form-check-label\" htmlFor=\"versionSelector\">\n              Compiler\n              <button className=\"far fa-plus-square border-0 p-0 mx-2 btn-sm\" onClick={promptCompiler} title=\"Add a custom compiler with URL\"></button>\n            </label>\n            <select value={ state.selectedVersion || state.defaultVersion } onChange={(e) => handleLoadVersion(e.target.value) } className=\"custom-select\" id=\"versionSelector\" disabled={state.allversions.length <= 0}>\n              { state.allversions.length <= 0 && <option disabled data-id={state.selectedVersion === state.defaultVersion ? 'selected' : ''}>{ state.defaultVersion }</option> }\n              { state.allversions.length <= 0 && <option disabled data-id={state.selectedVersion === 'builtin' ? 'selected' : ''}>builtin</option> }\n              { state.customVersions.map((url, i) => <option key={i} data-id={state.selectedVersion === url ? 'selected' : ''} value={url}>custom</option>)}\n              { state.allversions.map((build, i) => {\n                return _shouldBeAdded(build.longVersion)\n                  ? <option key={i} value={build.path} data-id={state.selectedVersion === build.path ? 'selected' : ''}>{build.longVersion}</option>\n                  : null\n              })\n              }\n            </select>\n          </div>\n          <div className=\"mb-2 remixui_nightlyBuilds custom-control custom-checkbox\">\n            <input className=\"mr-2 custom-control-input\" id=\"nightlies\" type=\"checkbox\" onChange={handleNightliesChange} checked={state.includeNightlies} />\n            <label htmlFor=\"nightlies\" data-id=\"compilerNightliesBuild\" className=\"form-check-label custom-control-label\">Include nightly builds</label>\n          </div>\n          <div className=\"mb-2\">\n            <label className=\"remixui_compilerLabel form-check-label\" htmlFor=\"compilierLanguageSelector\">Language</label>\n            <select onChange={(e) => handleLanguageChange(e.target.value)} value={state.language} className=\"custom-select\" id=\"compilierLanguageSelector\" title=\"Available since v0.5.7\">\n              <option value='Solidity'>Solidity</option>\n              <option value='Yul'>Yul</option>\n            </select>\n          </div>\n          <div className=\"mb-2\">\n            <label className=\"remixui_compilerLabel form-check-label\" htmlFor=\"evmVersionSelector\">EVM Version</label>\n            <select value={state.evmVersion} onChange={(e) => handleEvmVersionChange(e.target.value)} className=\"custom-select\" id=\"evmVersionSelector\">\n              <option data-id={state.evmVersion === 'default' ? 'selected' : ''} value=\"default\">compiler default</option>\n              <option data-id={state.evmVersion === 'london' ? 'selected' : ''} value=\"london\">london</option>\n              <option data-id={state.evmVersion === 'berlin' ? 'selected' : ''} value=\"berlin\">berlin</option>\n              <option data-id={state.evmVersion === 'istanbul' ? 'selected' : ''} value=\"istanbul\">istanbul</option>\n              <option data-id={state.evmVersion === 'petersburg' ? 'selected' : ''} value=\"petersburg\">petersburg</option>\n              <option data-id={state.evmVersion === 'constantinople' ? 'selected' : ''} value=\"constantinople\">constantinople</option>\n              <option data-id={state.evmVersion === 'byzantium' ? 'selected' : ''} value=\"byzantium\">byzantium</option>\n              <option data-id={state.evmVersion === 'spuriousDragon' ? 'selected' : ''} value=\"spuriousDragon\">spuriousDragon</option>\n              <option data-id={state.evmVersion === 'tangerineWhistle' ? 'selected' : ''} value=\"tangerineWhistle\">tangerineWhistle</option>\n              <option data-id={state.evmVersion === 'homestead' ? 'selected' : ''} value=\"homestead\">homestead</option>\n            </select>\n          </div>\n          <div className=\"mt-3\">\n            <p className=\"mt-2 remixui_compilerLabel\">Compiler Configuration</p>\n            <div className=\"mt-2 remixui_compilerConfig custom-control custom-checkbox\">\n              <input className=\"remixui_autocompile custom-control-input\" type=\"checkbox\" onChange={handleAutoCompile} data-id=\"compilerContainerAutoCompile\" id=\"autoCompile\" title=\"Auto compile\" checked={state.autoCompile} />\n              <label className=\"form-check-label custom-control-label\" htmlFor=\"autoCompile\">Auto compile</label>\n            </div>\n            <div className=\"mt-2 remixui_compilerConfig custom-control custom-checkbox\">\n              <div className=\"justify-content-between align-items-center d-flex\">\n                <input onChange={(e) => { handleOptimizeChange(e.target.checked) }} className=\"custom-control-input\" id=\"optimize\" type=\"checkbox\" checked={state.optimize} />\n                <label className=\"form-check-label custom-control-label\" htmlFor=\"optimize\">Enable optimization</label>\n                <input\n                  min=\"1\"\n                  className=\"custom-select ml-2 remixui_runs\"\n                  id=\"runs\"\n                  placeholder=\"200\"\n                  value={state.runs}\n                  type=\"number\"\n                  title=\"Estimated number of times each opcode of the deployed code will be executed across the life-time of the contract.\"\n                  onChange={(e) => onChangeRuns(e.target.value)}\n                  disabled={!state.optimize}\n                />\n              </div>\n            </div>\n            <div className=\"mt-2 remixui_compilerConfig custom-control custom-checkbox\">\n              <input className=\"remixui_autocompile custom-control-input\" onChange={handleHideWarningsChange} id=\"hideWarningsBox\" type=\"checkbox\" title=\"Hide warnings\" checked={state.hideWarnings} />\n              <label className=\"form-check-label custom-control-label\" htmlFor=\"hideWarningsBox\">Hide warnings</label>\n            </div>\n          </div>\n          {\n            isHardhatProject &&\n            <div className=\"mt-3 remixui_compilerConfig custom-control custom-checkbox\">\n              <input className=\"remixui_autocompile custom-control-input\" onChange={updatehhCompilation} id=\"enableHardhat\" type=\"checkbox\" title=\"Enable Hardhat Compilation\" checked={hhCompilation} />\n              <label className=\"form-check-label custom-control-label\" htmlFor=\"enableHardhat\">Enable Hardhat Compilation</label>\n              <a className=\"mt-1 text-nowrap\" href='https://remix-ide.readthedocs.io/en/latest/hardhat.html#enable-hardhat-compilation' target={'_blank'}>\n                <OverlayTrigger placement={'right'} overlay={\n                  <Tooltip className=\"text-nowrap\" id=\"overlay-tooltip\">\n                    <span className=\"p-1 pr-3\" style={{ backgroundColor: 'black', minWidth: '230px' }}>Learn how to use Hardhat Compilation</span>\n                  </Tooltip>\n                }>\n                  <i style={{ fontSize: 'medium' }} className={'ml-2 fal fa-info-circle'} aria-hidden=\"true\"></i>\n                </OverlayTrigger>\n              </a>\n            </div>\n          }\n          <button id=\"compileBtn\" data-id=\"compilerContainerCompileBtn\" className=\"btn btn-primary btn-block remixui_disabled mt-3\" title=\"Compile\" onClick={compile} disabled={disableCompileButton}>\n            <span>\n              { <i ref={compileIcon} className=\"fas fa-sync remixui_icon\" aria-hidden=\"true\"></i> }\n              Compile { typeof state.compiledFileName === 'string' ? helper.extractNameFromKey(state.compiledFileName) || '<no file selected>' : '<no file selected>' }\n            </span>\n          </button>\n        </header>\n      </article>\n    </section>\n  )\n}\n\nexport default CompilerContainer\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport { ContractSelectionProps } from './types'\nimport { PublishToStorage } from '@remix-ui/publish-to-storage' // eslint-disable-line\nimport { TreeView, TreeViewItem } from '@remix-ui/tree-view' // eslint-disable-line\nimport { CopyToClipboard } from '@remix-ui/clipboard' // eslint-disable-line\n\nimport './css/style.css'\n\nexport const ContractSelection = (props: ContractSelectionProps) => {\n  const { api, contractMap, contractsDetails, modal } = props\n  const [contractList, setContractList] = useState([])\n  const [selectedContract, setSelectedContract] = useState('')\n  const [storage, setStorage] = useState(null)\n\n  useEffect(() => {\n    const contractList = contractMap ? Object.keys(contractMap).map((key) => ({\n      name: key,\n      file: getFileName(contractMap[key].file)\n    })) : []\n\n    setContractList(contractList)\n    if (contractList.length) setSelectedContract(contractList[0].name)\n  }, [contractMap, contractsDetails])\n\n  const resetStorage = () => {\n    setStorage('')\n  }\n\n  // Return the file name of a path: ex \"browser/ballot.sol\" -> \"ballot.sol\"\n  const getFileName = (path) => {\n    const part = path.split('/')\n\n    return part[part.length - 1]\n  }\n\n  const handleContractChange = (contractName: string) => {\n    setSelectedContract(contractName)\n  }\n\n  const handlePublishToStorage = (type) => {\n    setStorage(type)\n  }\n\n  const copyABI = () => {\n    return copyContractProperty('abi')\n  }\n\n  const copyContractProperty = (property) => {\n    let content = getContractProperty(property)\n    if (!content) {\n      return\n    }\n\n    try {\n      if (typeof content !== 'string') {\n        content = JSON.stringify(content, null, '\\t')\n      }\n    } catch (e) {}\n\n    return content\n  }\n\n  const getContractProperty = (property) => {\n    if (!selectedContract) throw new Error('No contract compiled yet')\n    const contractProperties = contractsDetails[selectedContract]\n\n    if (contractProperties && contractProperties[property]) return contractProperties[property]\n    return null\n  }\n\n  const renderData = (item, key: string | number, keyPath: string) => {\n    const data = extractData(item)\n    const children = (data.children || []).map((child) => renderData(child.value, child.key, keyPath + '/' + child.key))\n\n    if (children && children.length > 0) {\n      return (\n        <TreeViewItem id={`treeViewItem${key}`} key={keyPath} label={\n          <div className=\"d-flex mt-2 flex-row remixui_label_item\">\n            <label className=\"small font-weight-bold pr-1 remixui_label_key\">{ key }:</label>\n            <label className=\"m-0 remixui_label_value\">{ typeof data.self === 'boolean' ? `${data.self}` : data.self }</label>\n          </div>\n        }>\n          <TreeView id={`treeView${key}`} key={keyPath}>\n            {children}\n          </TreeView>\n        </TreeViewItem>\n      )\n    } else {\n      return <TreeViewItem id={key.toString()} key={keyPath} label={\n        <div className=\"d-flex mt-2 flex-row remixui_label_item\">\n          <label className=\"small font-weight-bold pr-1 remixui_label_key\">{ key }:</label>\n          <label className=\"m-0 remixui_label_value\">{ typeof data.self === 'boolean' ? `${data.self}` : data.self }</label>\n        </div>\n      } />\n    }\n  }\n\n  const extractData = (item) => {\n    const ret = { children: null, self: null }\n\n    if (item instanceof Array) {\n      ret.children = item.map((item, index) => ({ key: index, value: item }))\n      ret.self = ''\n    } else if (item instanceof Object) {\n      ret.children = Object.keys(item).map((key) => ({ key: key, value: item[key] }))\n      ret.self = ''\n    } else {\n      ret.self = item\n      ret.children = []\n    }\n    return ret\n  }\n\n  const insertValue = (details, propertyName) => {\n    let node\n    if (propertyName === 'web3Deploy' || propertyName === 'name' || propertyName === 'Assembly') {\n      node = <pre>{ details[propertyName] }</pre>\n    } else if (details[propertyName] && (propertyName === 'abi' || propertyName === 'metadata')) {\n      if (details[propertyName] !== '') {\n        try {\n          node = <div>\n            { (typeof details[propertyName] === 'object')\n              ? <TreeView id=\"treeView\">\n                {\n                  Object.keys(details[propertyName]).map((innerkey) => renderData(details[propertyName][innerkey], innerkey, innerkey))\n                }\n              </TreeView> : <TreeView id=\"treeView\">\n                {\n                  Object.keys(JSON.parse(details[propertyName])).map((innerkey) => renderData(JSON.parse(details[propertyName])[innerkey], innerkey, innerkey))\n                }\n              </TreeView>\n            }\n          </div> // catch in case the parsing fails.\n        } catch (e) {\n          node = <div>Unable to display \"${propertyName}\": ${e.message}</div>\n        }\n      } else {\n        node = <div> - </div>\n      }\n    } else {\n      node = <div>{JSON.stringify(details[propertyName], null, 4)}</div>\n    }\n    return <pre className=\"remixui_value\">{node || ''}</pre>\n  }\n\n  const details = () => {\n    if (!selectedContract) throw new Error('No contract compiled yet')\n\n    const help = {\n      Assembly: 'Assembly opcodes describing the contract including corresponding solidity source code',\n      Opcodes: 'Assembly opcodes describing the contract',\n      'Runtime Bytecode': 'Bytecode storing the state and being executed during normal contract call',\n      bytecode: 'Bytecode being executed during contract creation',\n      functionHashes: 'List of declared function and their corresponding hash',\n      gasEstimates: 'Gas estimation for each function call',\n      metadata: 'Contains all informations related to the compilation',\n      metadataHash: 'Hash representing all metadata information',\n      abi: 'ABI: describing all the functions (input/output params, scope, ...)',\n      name: 'Name of the compiled contract',\n      swarmLocation: 'Swarm url where all metadata information can be found (contract needs to be published first)',\n      web3Deploy: 'Copy/paste this code to any JavaScript/Web3 console to deploy this contract'\n    }\n    const contractProperties = contractsDetails[selectedContract] || {}\n    const log = <div className=\"remixui_detailsJSON\">\n      <TreeView>\n        {\n          Object.keys(contractProperties).map((propertyName, index) => {\n            const copyDetails = <span className=\"remixui_copyDetails\"><CopyToClipboard content={contractProperties[propertyName]} direction='top' /></span>\n            const questionMark = <span className=\"remixui_questionMark\"><i title={ help[propertyName] } className=\"fas fa-question-circle\" aria-hidden=\"true\"></i></span>\n\n            return (\n              <div className=\"remixui_log\" key={index}>\n                <TreeViewItem\n                  label={\n                    <div data-id={`remixui_treeviewitem_${propertyName}`} className=\"remixui_key\">{ propertyName } { copyDetails } { questionMark }</div>\n                  }>\n                  { insertValue(contractProperties, propertyName) }\n                </TreeViewItem>\n              </div>\n            )\n          })\n        }\n      </TreeView>\n    </div>\n\n    modal(selectedContract, log, 'Close', null)\n  }\n\n  const copyBytecode = () => {\n    return copyContractProperty('bytecode')\n  }\n\n  return (\n    // define swarm logo\n    <>\n      { contractList.length\n        ? <section className=\"remixui_compilerSection pt-3\">\n          {/* Select Compiler Version */}\n          <div className=\"mb-3\">\n            <label className=\"remixui_compilerLabel form-check-label\" htmlFor=\"compiledContracts\">Contract</label>\n            <select onChange={(e) => handleContractChange(e.target.value)} value={selectedContract} data-id=\"compiledContracts\" id=\"compiledContracts\" className=\"custom-select\">\n              { contractList.map(({ name, file }, index) => <option value={name} key={index}>{name} ({file})</option>)}\n            </select>\n          </div>\n          <article className=\"mt-2 pb-0\">\n            <button id=\"publishOnIpfs\" className=\"btn btn-secondary btn-block\" title=\"Publish on Ipfs\" onClick={() => { handlePublishToStorage('ipfs') }}>\n              <span>Publish on Ipfs</span>\n              <img id=\"ipfsLogo\" className=\"remixui_storageLogo ml-2\" src=\"assets/img/ipfs.webp\" />\n            </button>\n            <button data-id=\"compilation-details\" className=\"btn btn-secondary btn-block\" title=\"Display Contract Details\" onClick={() => { details() }}>\n              Compilation Details\n            </button>\n            {/* Copy to Clipboard */}\n            <div className=\"remixui_contractHelperButtons\">\n              <div className=\"input-group\">\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Copy to Clipboard\">\n                  <CopyToClipboard title=\"Copy ABI to clipboard\" content={copyABI()} direction='top'>\n                    <button className=\"btn remixui_copyButton\" title=\"Copy ABI to clipboard\">\n                      <i className=\"remixui_copyIcon far fa-copy\" aria-hidden=\"true\"></i>\n                      <span>ABI</span>\n                    </button>\n                  </CopyToClipboard>\n                  <CopyToClipboard title=\"Copy ABI to clipboard\" content={copyBytecode()} direction='top'>\n                    <button className=\"btn remixui_copyButton\" title=\"Copy Bytecode to clipboard\">\n                      <i className=\"remixui_copyIcon far fa-copy\" aria-hidden=\"true\"></i>\n                      <span>Bytecode</span>\n                    </button>\n                  </CopyToClipboard>\n                </div>\n              </div>\n            </div>\n          </article>\n        </section> : <section className=\"remixui_container clearfix\"><article className=\"px-2 mt-2 pb-0 d-flex w-100\">\n          <span className=\"mt-2 mx-3 w-100 alert alert-warning\" role=\"alert\">No Contract Compiled Yet</span>\n        </article></section>\n      }\n      <PublishToStorage api={api} storage={storage} contract={contractsDetails[selectedContract]} resetStorage={resetStorage} />\n    </>\n  )\n}\n\nexport default ContractSelection\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./style.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import { ICompilerApi } from '@remix-project/remix-lib-ts'\n\nconst Compiler = require('@remix-project/remix-solidity').Compiler\nconst EventEmitter = require('events')\n\ndeclare global {\n  interface Window {\n    _paq: any\n  }\n}\nconst _paq = window._paq = window._paq || []  //eslint-disable-line\n\nexport class CompileTabLogic {\n  public compiler\n  public optimize\n  public runs\n  public evmVersion: string\n  public compilerImport\n  public event\n\n  constructor (public api: ICompilerApi, public contentImport) {\n    this.event = new EventEmitter()\n    this.compiler = new Compiler((url, cb) => api.resolveContentAndSave(url).then((result) => cb(null, result)).catch((error) => cb(error.message)))\n  }\n\n  init () {\n    this.optimize = this.api.getCompilerParameters().optimize\n    this.api.setCompilerParameters({ optimize: this.optimize })\n    this.compiler.set('optimize', this.optimize)\n\n    this.runs = this.api.getCompilerParameters().runs\n    this.runs = this.runs && this.runs !== 'undefined' ? this.runs : 200\n    this.api.setCompilerParameters({ runs: this.runs })\n    this.compiler.set('runs', this.runs)\n\n    this.evmVersion = this.api.getCompilerParameters().evmVersion\n    if (this.evmVersion === 'undefined' || this.evmVersion === 'null' || !this.evmVersion) {\n      this.evmVersion = null\n    }\n    this.api.setCompilerParameters({ evmVersion: this.evmVersion })\n    this.compiler.set('evmVersion', this.evmVersion)\n  }\n\n  setOptimize (newOptimizeValue) {\n    this.optimize = newOptimizeValue\n    this.api.setCompilerParameters({ optimize: this.optimize })\n    this.compiler.set('optimize', this.optimize)\n  }\n\n  setRuns (runs) {\n    this.runs = runs\n    this.api.setCompilerParameters({ runs: this.runs })\n    this.compiler.set('runs', this.runs)\n  }\n\n  setEvmVersion (newEvmVersion) {\n    this.evmVersion = newEvmVersion\n    this.api.setCompilerParameters({ evmVersion: this.evmVersion })\n    this.compiler.set('evmVersion', this.evmVersion)\n  }\n\n  getCompilerState () {\n    return this.compiler.state\n  }\n\n  /**\n   * Set the compiler to using Solidity or Yul (default to Solidity)\n   * @params lang {'Solidity' | 'Yul'} ...\n   */\n  setLanguage (lang) {\n    this.compiler.set('language', lang)\n  }\n\n  /**\n   * Compile a specific file of the file manager\n   * @param {string} target the path to the file to compile\n   */\n  compileFile (target) {\n    if (!target) throw new Error('No target provided for compiliation')\n    return new Promise((resolve, reject) => {\n      this.api.readFile(target).then((content) => {\n        const sources = { [target]: { content } }\n        this.event.emit('removeAnnotations')\n        this.event.emit('startingCompilation')\n        // setTimeout fix the animation on chrome... (animation triggered by 'staringCompilation')\n        setTimeout(() => { this.compiler.compile(sources, target); resolve(true) }, 100)\n      }).catch((error) => {\n        reject(error)\n      })\n    })\n  }\n\n  async isHardhatProject () {\n    if (this.api.getFileManagerMode() === 'localhost') {\n      return await this.api.fileExists('hardhat.config.js')\n    } else return false\n  }\n\n  runCompiler (hhCompilation) {\n    try {\n      if (this.api.getFileManagerMode() === 'localhost' && hhCompilation) {\n        const { currentVersion, optimize, runs } = this.compiler.state\n        if (currentVersion) {\n          const fileContent = `module.exports = {\n            solidity: '${currentVersion.substring(0, currentVersion.indexOf('+commit'))}',\n            settings: {\n              optimizer: {\n                enabled: ${optimize},\n                runs: ${runs}\n              }\n            }\n          }\n          `\n          const configFilePath = 'remix-compiler.config.js'\n          this.api.writeFile(configFilePath, fileContent)\n          _paq.push(['trackEvent', 'compiler', 'compileWithHardhat'])\n          this.api.compileWithHardhat(configFilePath).then((result) => {\n            this.api.logToTerminal({ type: 'info', value: result })\n          }).catch((error) => {\n            this.api.logToTerminal({ type: 'error', value: error })\n          })\n        }\n      }\n      // TODO readd saving current file\n      this.api.saveCurrentFile()\n      var currentFile = this.api.currentFile\n      return this.compileFile(currentFile)\n    } catch (err) {\n      console.error(err)\n    }\n  }\n}\n","'use strict'\nimport * as solcTranslate from 'solc/translate'\nimport { execution } from '@remix-project/remix-lib'\n\nconst txHelper = execution.txHelper\n\nexport function parseContracts (contractName, contract, source) {\n  const detail: Record<string, any> = {}\n\n  detail.name = contractName\n  detail.metadata = contract.metadata\n  if (contract.evm.bytecode.object) {\n    detail.bytecode = contract.evm.bytecode.object\n  }\n\n  detail.abi = contract.abi\n\n  if (contract.evm.bytecode.object) {\n    detail.bytecode = contract.evm.bytecode\n    detail.web3Deploy = gethDeploy(contractName.toLowerCase(), contract.abi, contract.evm.bytecode.object)\n\n    detail.metadataHash = retrieveMetadataHash(contract.evm.bytecode.object)\n    if (detail.metadataHash) {\n      detail.swarmLocation = 'bzzr://' + detail.metadataHash\n    }\n  }\n\n  detail.functionHashes = {}\n  for (const fun in contract.evm.methodIdentifiers) {\n    detail.functionHashes[contract.evm.methodIdentifiers[fun]] = fun\n  }\n\n  detail.gasEstimates = formatGasEstimates(contract.evm.gasEstimates)\n\n  detail.devdoc = contract.devdoc\n  detail.userdoc = contract.userdoc\n\n  if (contract.evm.deployedBytecode && contract.evm.deployedBytecode.object.length > 0) {\n    detail['Runtime Bytecode'] = contract.evm.deployedBytecode\n  }\n\n  if (source && contract.assembly !== null) {\n    detail.Assembly = solcTranslate.prettyPrintLegacyAssemblyJSON(contract.evm.legacyAssembly, source.content)\n  }\n\n  return detail\n}\n\nconst retrieveMetadataHash = function (bytecode) {\n  var match = /a165627a7a72305820([0-9a-f]{64})0029$/.exec(bytecode)\n  if (!match) {\n    match = /a265627a7a72305820([0-9a-f]{64})6c6578706572696d656e74616cf50037$/.exec(bytecode)\n  }\n  if (match) {\n    return match[1]\n  }\n}\n\nconst gethDeploy = function (contractName, jsonInterface, bytecode) {\n  let code = ''\n  const funABI = txHelper.getConstructorInterface(jsonInterface)\n\n  funABI.inputs.forEach(function (inp) {\n    code += 'var ' + inp.name + ' = /* var of type ' + inp.type + ' here */ ;\\n'\n  })\n\n  contractName = contractName.replace(/[:./]/g, '_')\n  code += 'var ' + contractName + 'Contract = new web3.eth.Contract(' + JSON.stringify(jsonInterface).replace('\\n', '') + ');' +\n    '\\nvar ' + contractName + ' = ' + contractName + 'Contract.deploy({' +\n  \"\\n     data: '0x\" + bytecode + \"', \" +\n    '\\n     arguments: ['\n\n  funABI.inputs.forEach(function (inp) {\n    code += '\\n          ' + inp.name + ','\n  })\n\n  code += '\\n     ]' +\n    '\\n}).send({' +\n    '\\n     from: web3.eth.accounts[0], ' +\n    \"\\n     gas: '4700000'\" +\n    '\\n   }, function (e, contract){' +\n    '\\n    console.log(e, contract);' +\n    \"\\n    if (typeof contract.address !== 'undefined') {\" +\n    \"\\n         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);\" +\n    '\\n    }' +\n    '\\n })'\n\n  return code\n}\n\nconst formatGasEstimates = function (data) {\n  if (!data) return {}\n  if (data.creation === undefined && data.external === undefined && data.internal === undefined) return {}\n\n  const gasToText = function (g) {\n    return g === null ? 'unknown' : g\n  }\n\n  const ret: Record<string, any> = {}\n  let fun\n  if ('creation' in data) {\n    ret.Creation = data.creation\n  }\n\n  if ('external' in data) {\n    ret.External = {}\n    for (fun in data.external) {\n      ret.External[fun] = gasToText(data.external[fun])\n    }\n  }\n\n  if ('internal' in data) {\n    ret.Internal = {}\n    for (fun in data.internal) {\n      ret.Internal[fun] = gasToText(data.internal[fun])\n    }\n  }\n  return ret\n}\n","export * from './compileTabLogic'\nexport * from './contract-parser'\n","interface Action {\n  type: string;\n  payload: Record<string, any>;\n}\n\nexport const compilerInitialState = {\n  compiler: {\n    mode: '',\n    args: null\n  },\n  editor: {\n    mode: ''\n  }\n}\n\nexport const compilerReducer = (state = compilerInitialState, action: Action) => {\n  switch (action.type) {\n    case 'SET_COMPILER_MODE': {\n      return {\n        ...state,\n        compiler: {\n          ...state.compiler,\n          mode: action.payload.mode,\n          args: action.payload.args || null\n        }\n      }\n    }\n\n    case 'RESET_COMPILER_MODE': {\n      return {\n        ...state,\n        compiler: {\n          ...state.compiler,\n          mode: '',\n          args: null\n        }\n      }\n    }\n\n    case 'SET_EDITOR_MODE': {\n      return {\n        ...state,\n        editor: {\n          ...state.editor,\n          mode: action.payload\n        }\n      }\n    }\n\n    case 'RESET_EDITOR_MODE': {\n      return {\n        ...state,\n        editor: {\n          ...state.editor,\n          mode: ''\n        }\n      }\n    }\n\n    default:\n      throw new Error()\n  }\n}\n","import React, { useState } from 'react' // eslint-disable-line\nimport { SolidityCompilerProps } from './types'\nimport { CompilerContainer } from './compiler-container' // eslint-disable-line\nimport { ContractSelection } from './contract-selection' // eslint-disable-line\nimport { Toaster } from '@remix-ui/toaster' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\nimport { Renderer } from '@remix-ui/renderer' // eslint-disable-line\n\nimport './css/style.css'\n\nexport const SolidityCompiler = (props: SolidityCompilerProps) => {\n  const { api, api: { currentFile, compileTabLogic, contractsDetails, contractMap, compileErrors, configurationSettings } } = props\n  const [state, setState] = useState({\n    isHardhatProject: false,\n    currentFile,\n    contractsDetails: {},\n    contractMap: {},\n    loading: false,\n    compileTabLogic: null,\n    compiler: null,\n    toasterMsg: '',\n    modal: {\n      hide: true,\n      title: '',\n      message: null,\n      okLabel: '',\n      okFn: () => {},\n      cancelLabel: '',\n      cancelFn: () => {},\n      handleHide: null\n    }\n  })\n  const [currentVersion, setCurrentVersion] = useState('')\n\n  api.onCurrentFileChanged = (currentFile: string) => {\n    setState(prevState => {\n      return { ...prevState, currentFile }\n    })\n  }\n\n  api.onResetResults = () => {\n    setState(prevState => {\n      return { ...prevState, currentFile: '', contractsDetails: {}, contractMap: {} }\n    })\n  }\n\n  api.onSetWorkspace = async (isLocalhost: boolean) => {\n    const isHardhat = isLocalhost && await compileTabLogic.isHardhatProject()\n    setState(prevState => {\n      return { ...prevState, currentFile, isHardhatProject: isHardhat }\n    })\n  }\n\n  api.onNoFileSelected = () => {\n    setState(prevState => {\n      return { ...prevState, currentFile: '' }\n    })\n  }\n\n  api.onCompilationFinished = (contractsDetails: any, contractMap: any) => {\n    setState(prevState => {\n      return { ...prevState, contractsDetails, contractMap }\n    })\n  }\n\n  const toast = (message: string) => {\n    setState(prevState => {\n      return { ...prevState, toasterMsg: message }\n    })\n  }\n\n  const updateCurrentVersion = (value) => {\n    setCurrentVersion(value)\n    api.setCompilerParameters({ version: value })\n  }\n  // eslint-disable-next-line no-undef\n  const modal = async (title: string, message: string | JSX.Element, okLabel: string, okFn: () => void, cancelLabel?: string, cancelFn?: () => void) => {\n    await setState(prevState => {\n      return {\n        ...prevState,\n        modal: {\n          ...prevState.modal,\n          hide: false,\n          message,\n          title,\n          okLabel,\n          okFn,\n          cancelLabel,\n          cancelFn\n        }\n      }\n    })\n  }\n\n  const handleHideModal = () => {\n    setState(prevState => {\n      return { ...prevState, modal: { ...state.modal, hide: true, message: null } }\n    })\n  }\n\n  const panicMessage = (message: string) => (\n    <div>\n      <i className=\"fas fa-exclamation-circle remixui_panicError\" aria-hidden=\"true\"></i>\n      The compiler returned with the following internal error: <br /> <b>{message}.<br />\n      The compiler might be in a non-sane state, please be careful and do not use further compilation data to deploy to mainnet.\n      It is heavily recommended to use another browser not affected by this issue (Firefox is known to not be affected).</b><br />\n      Please join <a href=\"https://gitter.im/ethereum/remix\" target=\"blank\" >remix gitter channel</a> for more information.\n    </div>\n  )\n\n  return (\n    <>\n      <div id=\"compileTabView\">\n        <CompilerContainer api={api} isHardhatProject={state.isHardhatProject} compileTabLogic={compileTabLogic} tooltip={toast} modal={modal} compiledFileName={currentFile} updateCurrentVersion={updateCurrentVersion} configurationSettings={configurationSettings} />\n        <ContractSelection api={api} contractMap={contractMap} contractsDetails={contractsDetails} modal={modal} />\n        <div className=\"remixui_errorBlobs p-4\" data-id=\"compiledErrors\">\n          <span data-id={`compilationFinishedWith_${currentVersion}`}></span>\n          { compileErrors.error && <Renderer message={compileErrors.error.formattedMessage || compileErrors.error} plugin={api} opt={{ type: compileErrors.error.severity || 'error', errorType: compileErrors.error.type }} /> }\n          { compileErrors.error && (compileErrors.error.mode === 'panic') && modal('Error', panicMessage(compileErrors.error.formattedMessage), 'Close', null) }\n          { compileErrors.errors && compileErrors.errors.length && compileErrors.errors.map((err, index) => {\n            if (api.getAppParameter('hideWarnings')) {\n              if (err.severity !== 'warning') {\n                return <Renderer key={index} message={err.formattedMessage} plugin={api} opt={{ type: err.severity, errorType: err.type }} />\n              }\n            } else {\n              return <Renderer key={index} message={err.formattedMessage} plugin={api} opt={{ type: err.severity, errorType: err.type }} />\n            }\n          }) }\n        </div>\n      </div>\n      <Toaster message={state.toasterMsg} />\n      <ModalDialog\n        id='workspacesModalDialog'\n        title={ state.modal.title }\n        message={ state.modal.message }\n        hide={ state.modal.hide }\n        okLabel={ state.modal.okLabel }\n        okFn={ state.modal.okFn }\n        cancelLabel={ state.modal.cancelLabel }\n        cancelFn={ state.modal.cancelFn }\n        handleHide={ handleHideModal }>\n        { (typeof state.modal.message !== 'string') && state.modal.message }\n      </ModalDialog>\n    </>\n  )\n}\n\nexport default SolidityCompiler\n","export * from './lib/remix-ui-static-analyser'\n","import React from 'react'  //eslint-disable-line\n\ninterface StaticAnalyserButtonProps {\n  onClick: (event) => void\n  buttonText: string,\n  disabled?: boolean\n}\n\nconst StaticAnalyserButton = ({\n  onClick,\n  buttonText,\n  disabled\n}: StaticAnalyserButtonProps) => {\n  return (\n    <button className=\"btn btn-sm w-25 btn-primary\" onClick={onClick} disabled={disabled}>\n      {buttonText}\n    </button>\n  )\n}\n\nexport default StaticAnalyserButton\n","import React from 'react' //eslint-disable-line\n\ninterface ErrorRendererProps {\n  message: any;\n  opt: any,\n  warningErrors: any\n  editor: any\n}\n\nconst ErrorRenderer = ({ message, opt, editor }: ErrorRendererProps) => {\n  const getPositionDetails = (msg: any) => {\n    const result = { } as Record<string, number | string>\n\n    // To handle some compiler warning without location like SPDX license warning etc\n    if (!msg.includes(':')) return { errLine: -1, errCol: -1, errFile: msg }\n\n    // extract line / column\n    let position = msg.match(/^(.*?):([0-9]*?):([0-9]*?)?/)\n    result.errLine = position ? parseInt(position[2]) - 1 : -1\n    result.errCol = position ? parseInt(position[3]) : -1\n\n    // extract file\n    position = msg.match(/^(https:.*?|http:.*?|.*?):/)\n    result.errFile = position ? position[1] : ''\n    return result\n  }\n\n  const handlePointToErrorOnClick = async (location, fileName) => {\n    await editor.call('editor', 'discardHighlight')\n    await editor.call('editor', 'highlight', location, fileName, '', { focus: true })\n  }\n\n  if (!message) return\n  let position = getPositionDetails(message)\n  if (!position.errFile || (opt.errorType && opt.errorType === position.errFile)) {\n    // Updated error reported includes '-->' before file details\n    const errorDetails = message.split('-->')\n    // errorDetails[1] will have file details\n    if (errorDetails.length > 1) position = getPositionDetails(errorDetails[1])\n  }\n  opt.errLine = position.errLine\n  opt.errCol = position.errCol\n  opt.errFile = position.errFile.trim()\n  const classList = opt.type === 'error' ? 'alert alert-danger' : 'alert alert-warning'\n  return (\n    <div>\n      <div className={`sol ${opt.type} ${classList}`}>\n        <div className=\"close\" data-id=\"renderer\">\n          <i className=\"fas fa-times\"></i>\n        </div>\n        <span className='d-flex flex-column' onClick={() => handlePointToErrorOnClick(opt.location, opt.fileName)}>\n          <span className='h6 font-weight-bold'>{opt.name}</span>\n          { opt.item.warning }\n          {opt.item.more\n            ? <span><a href={opt.item.more} target='_blank'>more</a></span>\n            : <span> </span>\n          }\n          <span title={`Position in ${opt.errFile}`}>Pos: {opt.locationString}</span>\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default ErrorRenderer\n","import React from 'react' //eslint-disable-line\n\nexport const compilation = (analysisModule, dispatch) => {\n  if (analysisModule) {\n    analysisModule.on(\n      'solidity',\n      'compilationFinished',\n      (file, source, languageVersion, data) => {\n        if (languageVersion.indexOf('soljson') !== 0) return\n        dispatch({ type: 'compilationFinished', payload: { file, source, languageVersion, data } })\n      }\n    )\n  }\n}\n","export const initialState = {\n  file: null,\n  source: null,\n  languageVersion: null,\n  data: null\n}\n\nexport const analysisReducer = (state, action) => {\n  switch (action.type) {\n    case 'compilationFinished':\n      return {\n        ...state,\n        file: action.payload.file,\n        source: action.payload.source,\n        languageVersion: action.payload.languageVersion,\n        data: action.payload.data\n      }\n    default:\n      return initialState\n  }\n}\n","import React, { useEffect, useState, useReducer } from 'react' // eslint-disable-line\nimport Button from './Button/StaticAnalyserButton' // eslint-disable-line\nimport { util } from '@remix-project/remix-lib'\nimport _ from 'lodash'\nimport { TreeView, TreeViewItem } from '@remix-ui/tree-view' // eslint-disable-line\nimport { RemixUiCheckbox } from '@remix-ui/checkbox' // eslint-disable-line\nimport ErrorRenderer from './ErrorRenderer' // eslint-disable-line\nimport { compilation } from './actions/staticAnalysisActions'\nimport { initialState, analysisReducer } from './reducers/staticAnalysisReducer'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'// eslint-disable-line\nimport { CodeAnalysis } from '@remix-project/remix-analyzer'\n\ndeclare global {\n  interface Window {\n    _paq: any\n  }\n}\nconst _paq = window._paq = window._paq || []  //eslint-disable-line\n\n/* eslint-disable-next-line */\nexport interface RemixUiStaticAnalyserProps {\n  registry: any,\n  event: any,\n  analysisModule: any\n}\n\nexport const RemixUiStaticAnalyser = (props: RemixUiStaticAnalyserProps) => {\n  const [runner] = useState(new CodeAnalysis())\n\n  const preProcessModules = (arr: any) => {\n    return arr.map((Item, i) => {\n      const itemObj = new Item()\n      itemObj._index = i\n      itemObj.categoryDisplayName = itemObj.category.displayName\n      itemObj.categoryId = itemObj.category.id\n      return itemObj\n    })\n  }\n\n  const groupedModules = util.groupBy(\n    preProcessModules(runner.modules()),\n    'categoryId'\n  )\n\n  const getIndex = (modules, array) => {\n    Object.values(modules).map((value: {_index}) => {\n      if (Array.isArray(value)) {\n        value.forEach((x) => {\n          array.push(x._index.toString())\n        })\n      } else {\n        array.push(value._index.toString())\n      }\n    })\n  }\n\n  const groupedModuleIndex = (modules) => {\n    const indexOfCategory = []\n    if (!_.isEmpty(modules)) {\n      getIndex(modules, indexOfCategory)\n    }\n    return indexOfCategory\n  }\n  const [autoRun, setAutoRun] = useState(true)\n  const [slitherEnabled, setSlitherEnabled] = useState(false)\n  const [showSlither, setShowSlither] = useState(false)\n  const [categoryIndex, setCategoryIndex] = useState(groupedModuleIndex(groupedModules))\n\n  const warningContainer = React.useRef(null)\n  const [warningState, setWarningState] = useState({})\n  const [state, dispatch] = useReducer(analysisReducer, initialState)\n\n  useEffect(() => {\n    compilation(props.analysisModule, dispatch)\n  }, [props])\n\n  useEffect(() => {\n    setWarningState({})\n    if (autoRun) {\n      if (state.data !== null) {\n        run(state.data, state.source, state.file)\n      }\n    } else {\n      props.event.trigger('staticAnaysisWarning', [])\n    }\n    return () => { }\n  }, [state])\n\n  useEffect(() => {\n    props.analysisModule.on('filePanel', 'setWorkspace', (currentWorkspace) => {\n      // Reset warning state\n      setWarningState([])\n      // Reset badge\n      props.event.trigger('staticAnaysisWarning', [])\n      // Reset state\n      dispatch({ type: '', payload: {} })\n      // Show 'Enable Slither Analysis' checkbox\n      if (currentWorkspace && currentWorkspace.isLocalhost === true) setShowSlither(true)\n      else {\n        setShowSlither(false)\n        setSlitherEnabled(false)\n      }\n    })\n    props.analysisModule.on('manager', 'pluginDeactivated', (plugin) => {\n      // Hide 'Enable Slither Analysis' checkbox\n      if (plugin.name === 'remixd') {\n        // Reset warning state\n        setWarningState([])\n        // Reset badge\n        props.event.trigger('staticAnaysisWarning', [])\n        // Reset state\n        dispatch({ type: '', payload: {} })\n        setShowSlither(false)\n        setSlitherEnabled(false)\n      }\n    })\n    return () => { }\n  }, [props])\n\n  const message = (name, warning, more, fileName, locationString) : string => {\n    return (`\n    <span className='d-flex flex-column'>\n    <span className='h6 font-weight-bold'>${name}</span>\n    ${warning}\n    ${more\n      ? (<span><a href={more} target='_blank'>more</a></span>)\n      : (<span> </span>)\n    }\n    <span className=\"\" title={Position in ${fileName}}>Pos: ${locationString}</span>\n    </span>`\n    )\n  }\n\n  const showWarnings = (warningMessage, groupByKey) => {\n    const resultArray = []\n    warningMessage.map(x => {\n      resultArray.push(x)\n    })\n    function groupBy (objectArray, property) {\n      return objectArray.reduce((acc, obj) => {\n        const key = obj[property]\n        if (!acc[key]) {\n          acc[key] = []\n        }\n        // Add object to list for given key's value\n        acc[key].push(obj)\n        return acc\n      }, {})\n    }\n\n    const groupedCategory = groupBy(resultArray, groupByKey)\n    setWarningState(groupedCategory)\n  }\n\n  const run = (lastCompilationResult, lastCompilationSource, currentFile) => {\n    if (state.data !== null) {\n      if (lastCompilationResult && (categoryIndex.length > 0 || slitherEnabled)) {\n        let warningCount = 0\n        const warningMessage = []\n        const warningErrors = []\n\n        // Remix Analysis\n        _paq.push(['trackEvent', 'solidityStaticAnalyzer', 'analyzeWithRemixAnalyzer'])\n        runner.run(lastCompilationResult, categoryIndex, results => {\n          results.map((result) => {\n            let moduleName\n            Object.keys(groupedModules).map(key => {\n              groupedModules[key].forEach(el => {\n                if (el.name === result.name) {\n                  moduleName = groupedModules[key][0].categoryDisplayName\n                }\n              })\n            })\n            result.report.map((item) => {\n              let location: any = {}\n              let locationString = 'not available'\n              let column = 0\n              let row = 0\n              let fileName = currentFile\n              if (item.location) {\n                const split = item.location.split(':')\n                const file = split[2]\n                location = {\n                  start: parseInt(split[0]),\n                  length: parseInt(split[1])\n                }\n                location = props.analysisModule._deps.offsetToLineColumnConverter.offsetToLineColumn(\n                  location,\n                  parseInt(file),\n                  lastCompilationSource.sources,\n                  lastCompilationResult.sources\n                )\n                row = location.start.line\n                column = location.start.column\n                locationString = row + 1 + ':' + column + ':'\n                fileName = Object.keys(lastCompilationResult.sources)[file]\n              }\n              warningCount++\n              const msg = message(result.name, item.warning, item.more, fileName, locationString)\n              const options = {\n                type: 'warning',\n                useSpan: true,\n                errFile: fileName,\n                fileName,\n                errLine: row,\n                errCol: column,\n                item: item,\n                name: result.name,\n                locationString,\n                more: item.more,\n                location: location\n              }\n              warningErrors.push(options)\n              warningMessage.push({ msg, options, hasWarning: true, warningModuleName: moduleName })\n            })\n          })\n          // Slither Analysis\n          if (slitherEnabled) {\n            props.analysisModule.call('solidity', 'getCompilerState').then((compilerState) => {\n              const { currentVersion, optimize, evmVersion } = compilerState\n              props.analysisModule.call('terminal', 'log', { type: 'info', value: '[Slither Analysis]: Running...' })\n              _paq.push(['trackEvent', 'solidityStaticAnalyzer', 'analyzeWithSlither'])\n              props.analysisModule.call('slither', 'analyse', state.file, { currentVersion, optimize, evmVersion }).then(async (result) => {\n                if (result.status) {\n                  props.analysisModule.call('terminal', 'log', { type: 'info', value: `[Slither Analysis]: Analysis Completed!! ${result.count} warnings found.` })\n                  const report = result.data\n                  for (const item of report) {\n                    let location: any = {}\n                    let locationString = 'not available'\n                    let column = 0\n                    let row = 0\n                    let fileName = currentFile\n\n                    if (item.sourceMap && item.sourceMap.length) {\n                      let path = item.sourceMap[0].source_mapping.filename_relative\n                      let fileIndex = Object.keys(lastCompilationResult.sources).indexOf(path)\n                      if (fileIndex === -1) {\n                        path = await props.analysisModule.call('fileManager', 'getUrlFromPath', path)\n                        fileIndex = Object.keys(lastCompilationResult.sources).indexOf(path.file)\n                      }\n                      if (fileIndex >= 0) {\n                        location = {\n                          start: item.sourceMap[0].source_mapping.start,\n                          length: item.sourceMap[0].source_mapping.length\n                        }\n                        location = props.analysisModule._deps.offsetToLineColumnConverter.offsetToLineColumn(\n                          location,\n                          fileIndex,\n                          lastCompilationSource.sources,\n                          lastCompilationResult.sources\n                        )\n                        row = location.start.line\n                        column = location.start.column\n                        locationString = row + 1 + ':' + column + ':'\n                        fileName = Object.keys(lastCompilationResult.sources)[fileIndex]\n                      }\n                    }\n                    warningCount++\n                    const msg = message(item.title, item.description, item.more, fileName, locationString)\n                    const options = {\n                      type: 'warning',\n                      useSpan: true,\n                      errFile: fileName,\n                      fileName,\n                      errLine: row,\n                      errCol: column,\n                      item: { warning: item.description },\n                      name: item.title,\n                      locationString,\n                      more: item.more,\n                      location: location\n                    }\n                    warningErrors.push(options)\n                    warningMessage.push({ msg, options, hasWarning: true, warningModuleName: 'Slither Analysis' })\n                  }\n                  showWarnings(warningMessage, 'warningModuleName')\n                  props.event.trigger('staticAnaysisWarning', [warningCount])\n                }\n              }).catch(() => {\n                props.analysisModule.call('terminal', 'log', { type: 'error', value: '[Slither Analysis]: Error occured! See remixd console for details.' })\n                showWarnings(warningMessage, 'warningModuleName')\n              })\n            })\n          } else {\n            showWarnings(warningMessage, 'warningModuleName')\n            props.event.trigger('staticAnaysisWarning', [warningCount])\n          }\n        })\n      } else {\n        if (categoryIndex.length) {\n          warningContainer.current.innerText = 'No compiled AST available'\n        }\n        props.event.trigger('staticAnaysisWarning', [-1])\n      }\n    }\n  }\n\n  const handleCheckAllModules = (groupedModules) => {\n    const index = groupedModuleIndex(groupedModules)\n    if (index.every(el => categoryIndex.includes(el))) {\n      setCategoryIndex(\n        categoryIndex.filter((el) => {\n          return !index.includes(el)\n        })\n      )\n    } else {\n      setCategoryIndex(_.uniq([...categoryIndex, ...index]))\n    }\n  }\n\n  const handleCheckOrUncheckCategory = (category) => {\n    const index = groupedModuleIndex(category)\n    if (index.every(el => categoryIndex.includes(el))) {\n      setCategoryIndex(\n        categoryIndex.filter((el) => {\n          return !index.includes(el)\n        })\n      )\n    } else {\n      setCategoryIndex(_.uniq([...categoryIndex, ...index]))\n    }\n  }\n\n  const handleSlitherEnabled = () => {\n    if (slitherEnabled) {\n      setSlitherEnabled(false)\n    } else {\n      setSlitherEnabled(true)\n    }\n  }\n\n  const handleAutoRun = () => {\n    if (autoRun) {\n      setAutoRun(false)\n    } else {\n      setAutoRun(true)\n    }\n  }\n\n  const handleCheckSingle = (event, _index) => {\n    _index = _index.toString()\n    if (categoryIndex.includes(_index)) {\n      setCategoryIndex(categoryIndex.filter(val => val !== _index))\n    } else {\n      setCategoryIndex(_.uniq([...categoryIndex, _index]))\n    }\n  }\n\n  const categoryItem = (categoryId, item, i) => {\n    return (\n      <div className=\"form-check\" key={i}>\n        <RemixUiCheckbox\n          categoryId={categoryId}\n          id={`staticanalysismodule_${categoryId}_${i}`}\n          inputType=\"checkbox\"\n          name=\"checkSingleEntry\"\n          itemName={item.name}\n          label={item.description}\n          onClick={event => handleCheckSingle(event, item._index)}\n          checked={categoryIndex.includes(item._index.toString())}\n          onChange={() => {}}\n        />\n      </div>\n    )\n  }\n\n  const categorySection = (category, categoryId, i) => {\n    return (\n      <div className=\"\" key={i}>\n        <div className=\"block\">\n          <TreeView>\n            <TreeViewItem\n              label={\n                <label\n                  htmlFor={`heading${categoryId}`}\n                  style={{ cursor: 'pointer' }}\n                  className=\"pl-3 card-header h6 d-flex justify-content-between font-weight-bold px-1 py-2 w-100\"\n                  data-bs-toggle=\"collapse\"\n                  data-bs-expanded=\"false\"\n                  data-bs-controls={`heading${categoryId}`}\n                  data-bs-target={`#heading${categoryId}`}\n                >\n                  {category[0].categoryDisplayName}\n                </label>\n              }\n              expand={false}\n            >\n              <div>\n                <RemixUiCheckbox onClick={() => handleCheckOrUncheckCategory(category)} id={categoryId} inputType=\"checkbox\" label={`Select ${category[0].categoryDisplayName}`} name='checkCategoryEntry' checked={category.map(x => x._index.toString()).every(el => categoryIndex.includes(el))} onChange={() => {}}/>\n              </div>\n              <div className=\"w-100 d-block px-2 my-1 entries collapse multi-collapse\" id={`heading${categoryId}`}>\n                {category.map((item, i) => {\n                  return (\n                    categoryItem(categoryId, item, i)\n                  )\n                })}\n              </div>\n            </TreeViewItem>\n          </TreeView>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"analysis_3ECCBV px-3 pb-1\">\n      <div className=\"my-2 d-flex flex-column align-items-left\">\n        <div className=\"d-flex justify-content-between\" id=\"staticanalysisButton\">\n          <RemixUiCheckbox\n            id=\"checkAllEntries\"\n            inputType=\"checkbox\"\n            checked={Object.values(groupedModules).map((value: any) => {\n              return (value.map(x => {\n                return x._index.toString()\n              }))\n            }).flat().every(el => categoryIndex.includes(el))}\n            label=\"Select all\"\n            onClick={() => handleCheckAllModules(groupedModules)}\n            onChange={() => {}}\n          />\n          <RemixUiCheckbox\n            id=\"autorunstaticanalysis\"\n            inputType=\"checkbox\"\n            onClick={handleAutoRun}\n            checked={autoRun}\n            label=\"Autorun\"\n            onChange={() => {}}\n          />\n          <Button buttonText=\"Run\" onClick={() => run(state.data, state.source, state.file)} disabled={(state.data === null || categoryIndex.length === 0) && !slitherEnabled }/>\n        </div>\n        { showSlither &&\n          <div className=\"d-flex mt-2\" id=\"enableSlitherAnalysis\">\n            <RemixUiCheckbox\n              id=\"enableSlither\"\n              inputType=\"checkbox\"\n              onClick={handleSlitherEnabled}\n              checked={slitherEnabled}\n              label=\"Enable Slither Analysis\"\n              onChange={() => {}}\n            />\n\n            <a className=\"mt-1 text-nowrap\" href='https://remix-ide.readthedocs.io/en/latest/slither.html#enable-slither-analysis' target={'_blank'}>\n              <OverlayTrigger placement={'right'} overlay={\n                <Tooltip className=\"text-nowrap\" id=\"overlay-tooltip\">\n                  <span className=\"p-1 pr-3\" style={{ backgroundColor: 'black', minWidth: '230px' }}>Learn how to use Slither Analysis</span>\n                </Tooltip>\n              }>\n                <i style={{ fontSize: 'medium' }} className={'fal fa-info-circle ml-3'} aria-hidden=\"true\"></i>\n              </OverlayTrigger>\n            </a>\n          </div>\n        }\n      </div>\n      <div id=\"staticanalysismodules\" className=\"list-group list-group-flush\">\n        {Object.keys(groupedModules).map((categoryId, i) => {\n          const category = groupedModules[categoryId]\n          return (\n            categorySection(category, categoryId, i)\n          )\n        })\n        }\n      </div>\n      <div className=\"mt-2 p-2 d-flex border-top flex-column\">\n        <span>Last results for:</span>\n        <span\n          className=\"text-break break-word word-break font-weight-bold\"\n          id=\"staticAnalysisCurrentFile\"\n        >\n          {state.file}\n        </span>\n      </div>\n      <br/>\n      {Object.entries(warningState).length > 0 &&\n        <div id='staticanalysisresult' >\n          <div className=\"mb-4\">\n            {\n              (Object.entries(warningState).map((element, index) => (\n                <div key={index}>\n                  <span className=\"text-dark h6\">{element[0]}</span>\n                  {element[1]['map']((x, i) => ( // eslint-disable-line dot-notation\n                    x.hasWarning ? ( // eslint-disable-next-line  dot-notation\n                      <div data-id={`staticAnalysisModule${x.warningModuleName}${i}`} id={`staticAnalysisModule${x.warningModuleName}${i}`} key={i}>\n                        <ErrorRenderer message={x.msg} opt={x.options} warningErrors={ x.warningErrors} editor={props.analysisModule}/>\n                      </div>\n\n                    ) : null\n                  ))}\n                </div>\n              )))\n            }\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default RemixUiStaticAnalyser\n","export * from './lib/remix-ui-tabs'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-tabs.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useRef, useEffect, useReducer } from 'react' // eslint-disable-line\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport './remix-ui-tabs.css'\n\n/* eslint-disable-next-line */\nexport interface TabsUIProps {\n tabs: Array<any>\n onSelect: (index: number) => void\n onClose: (index: number) => void\n onZoomOut: () => void\n onZoomIn: () => void\n onReady: (api: any) => void\n}\n\nexport interface TabsUIApi {\n    activateTab: (namee: string) => void\n    active: () => string\n}\n\nexport const TabsUI = (props: TabsUIProps) => {\n  const [selectedIndex, setSelectedIndex] = useState(-1)\n  const currentIndexRef = useRef(-1)\n  const tabsRef = useRef({})\n  const tabsElement = useRef(null)\n\n  const tabs = useRef(props.tabs)\n  tabs.current = props.tabs // we do this to pass the tabs list to the onReady callbacks\n\n  useEffect(() => {\n    if (props.tabs[selectedIndex]) {\n      tabsRef.current[selectedIndex].scrollIntoView({ behavior: 'smooth', block: 'center' })\n    }\n  }, [selectedIndex])\n\n  const renderTab = (tab, index) => {\n    const classNameImg = 'my-1 mr-1 text-dark ' + tab.iconClass\n    const classNameTab = 'nav-item nav-link d-flex justify-content-center align-items-center px-2 py-1 tab' + (index === currentIndexRef.current ? ' active' : '')\n    return (\n      <div onClick={() => { props.onSelect(index); currentIndexRef.current = index; setSelectedIndex(index) }} ref={el => { tabsRef.current[index] = el }} className={classNameTab} title={tab.tooltip}>\n        {tab.icon ? (<img className=\"my-1 mr-1 iconImage\" src={tab.icon} />) : (<i className={classNameImg}></i>)}\n        <span className=\"title-tabs\">{tab.title}</span>\n        <span className=\"close-tabs\" onClick={(event) => { props.onClose(index); event.stopPropagation() }}>\n          <i className=\"text-dark fas fa-times\"></i>\n        </span>\n      </div>\n    )\n  }\n\n  const active = () => {\n    if (currentIndexRef.current < 0) return ''\n    return tabs.current[currentIndexRef.current].name\n  }\n  const activateTab = (name: string) => {\n    const index = tabs.current.findIndex((tab) => tab.name === name)\n    currentIndexRef.current = index\n    setSelectedIndex(index)\n  }\n\n  const transformScroll = (event) => {\n    if (!event.deltaY) {\n      return\n    }\n\n    event.currentTarget.scrollLeft += event.deltaY + event.deltaX\n    event.preventDefault()\n  }\n\n  useEffect(() => {\n    props.onReady({\n      activateTab,\n      active\n    })\n    return () => { tabsElement.current.removeEventListener('wheel', transformScroll) }\n  }, [])\n\n  return (\n    <div className=\"remix-ui-tabs d-flex justify-content-between border-0 header nav-tabs\">\n      <div className=\"d-flex flex-row\" style={ { maxWidth: 'fit-content', width: '97%' } }>\n        <div className=\"d-flex flex-row justify-content-center align-items-center m-1 mt-2\">\n          <span data-id=\"tabProxyZoomOut\" className=\"btn btn-sm px-2 fas fa-search-minus text-dark\" title=\"Zoom out\" onClick={() => props.onZoomOut()}></span>\n          <span data-id=\"tabProxyZoomIn\" className=\"btn btn-sm px-2 fas fa-search-plus text-dark\" title=\"Zoom in\" onClick={() => props.onZoomIn()}></span>\n        </div>\n        <Tabs\n          className=\"tab-scroll\"\n          selectedIndex={selectedIndex}\n          domRef={(domEl) => {\n            if (tabsElement.current) return\n            tabsElement.current = domEl\n            tabsElement.current.addEventListener('wheel', transformScroll)\n          }}\n        >\n          <TabList className=\"d-flex flex-row align-items-center\">\n            {props.tabs.map((tab, i) => <Tab className=\"py-1\" key={tab.name}>{renderTab(tab, i)}</Tab>)}\n          </TabList>\n          {props.tabs.map((tab) => <TabPanel key={tab.name} ></TabPanel>)}\n        </Tabs>\n      </div>\n      <i className=\"mt-2 mr-2 fas fa-arrows-alt-h\" title=\"Scroll to see all tabs\"></i>\n    </div>\n  )\n}\n\nexport default TabsUI\n","export * from './lib/remix-ui-terminal'\n","import React from 'react'\nimport { EMPTY_BLOCK, KNOWN_TRANSACTION, NEW_BLOCK, NEW_CALL, NEW_TRANSACTION, UNKNOWN_TRANSACTION } from '../types/terminalTypes'\n\nexport const registerCommandAction = (name: string, command, activate, dispatch: React.Dispatch<any>) => {\n  const commands: any = {}\n  const _commands: any = {}\n  _commands[name] = command\n  const data: any = {\n    session: [],\n    activeFilters: { commands: {}, input: '' },\n    filterFns: {}\n  }\n  const _INDEX = {\n    all: [],\n    allMain: [],\n    commands: {},\n    commandsMain: {}\n  }\n\n  const registerFilter = (commandName, filterFn) => {\n    data.filterFns[commandName] = filterFn\n  }\n\n  commands[name] = function () {\n    const args = [...arguments]\n    const steps = []\n    const root = { steps, cmd: name, gidx: 0, idx: 0 }\n    const ITEM = { root, cmd: name }\n    root.gidx = _INDEX.allMain.push(ITEM) - 1\n    let item\n    function append (cmd, params, el) {\n      if (cmd) { // subcommand\n        item = { el, cmd, root }\n      } else { // command\n        item = ITEM\n        item.el = el\n        cmd = name\n      }\n      item.gidx = _INDEX.all.push(item) - 1\n      item.idx = _INDEX.commands[cmd].push(item) - 1\n      item.step = steps.push(item) - 1\n      item.args = params\n    }\n    const scopedCommands = _scopeCommands(append)\n    command(args, scopedCommands, el => append(null, args, el))\n  }\n  const help = typeof command.help === 'string' ? command.help : [\n    '// no help available for:', `terminal.command.${name}`\n  ].join('\\n')\n  commands[name].toString = () => { return help }\n  commands[name].help = help\n  data.activeFilters.commands[name] = activate && activate.activate\n  if (activate.filterFn) {\n    registerFilter(name, activate.filterFn)\n  }\n  if (name !== (KNOWN_TRANSACTION || UNKNOWN_TRANSACTION || EMPTY_BLOCK)) {\n    dispatch({ type: name, payload: { commands: commands, _commands: _commands, data: data } })\n  }\n\n  const _scopeCommands = (append) => {\n    const scopedCommands = {}\n    Object.keys(commands).forEach(function makeScopedCommand (cmd) {\n      const command = _commands[cmd]\n      scopedCommands[cmd] = function _command () {\n        const args = [...arguments]\n        command(args, scopedCommands, el => append(cmd, args, el))\n      }\n    })\n    return scopedCommands\n  }\n}\n\nexport const filterFnAction = (name: string, filterFn, dispatch: React.Dispatch<any>) => {\n  const data: any = {\n    filterFns: {}\n  }\n  data.filterFns[name] = filterFn\n  dispatch({ type: name, payload: { data: data } })\n}\n\nexport const registerLogScriptRunnerAction = (on, commandName, commandFn, dispatch: React.Dispatch<any>) => {\n  on('scriptRunner', commandName, (msg) => {\n    commandFn.log.apply(commandFn, msg.data)\n    dispatch({ type: commandName, payload: { commandFn, message: msg.data } })\n  })\n}\n\nexport const registerInfoScriptRunnerAction = (on, commandName, commandFn, dispatch: React.Dispatch<any>) => {\n  on('scriptRunner', commandName, (msg) => {\n    commandFn.info.apply(commandFn, msg.data)\n    dispatch({ type: commandName, payload: { commandFn, message: msg.data } })\n  })\n}\n\nexport const registerWarnScriptRunnerAction = (on, commandName, commandFn, dispatch: React.Dispatch<any>) => {\n  on('scriptRunner', commandName, (msg) => {\n    commandFn.warn.apply(commandFn, msg.data)\n    dispatch({ type: commandName, payload: { commandFn, message: msg.data } })\n  })\n}\n\nexport const registerErrorScriptRunnerAction = (on, commandName, commandFn, dispatch: React.Dispatch<any>) => {\n  on('scriptRunner', commandName, (msg) => {\n    commandFn.error.apply(commandFn, msg.data)\n    dispatch({ type: commandName, payload: { commandFn, message: msg.data } })\n  })\n}\n\nexport const listenOnNetworkAction = async (event, isListening) => {\n  event.trigger('listenOnNetWork', [isListening])\n}\n\nexport const initListeningOnNetwork = (plugins, dispatch: React.Dispatch<any>) => {\n  plugins.txListener.event.register(NEW_BLOCK, (block) => {\n    if (!block.transactions || (block.transactions && !block.transactions.length)) {\n      dispatch({ type: EMPTY_BLOCK, payload: { message: 0 } })\n    }\n  })\n  plugins.txListener.event.register(KNOWN_TRANSACTION, () => {\n  })\n  plugins.txListener.event.register(NEW_CALL, (tx, receipt) => {\n    log(plugins, tx, receipt, dispatch)\n    // log(this, tx, null)\n  })\n  plugins.txListener.event.register(NEW_TRANSACTION, (tx, receipt) => {\n    log(plugins, tx, receipt, dispatch)\n  })\n\n  const log = async (plugins, tx, receipt, dispatch: React.Dispatch<any>) => {\n    const resolvedTransaction = await plugins.txListener.resolvedTransaction(tx.hash)\n    if (resolvedTransaction) {\n      let compiledContracts = null\n      if (plugins._deps.compilersArtefacts.__last) {\n        compiledContracts = await plugins._deps.compilersArtefacts.__last.getContracts()\n      }\n      await plugins.eventsDecoder.parseLogs(tx, resolvedTransaction.contractName, compiledContracts, async (error, logs) => {\n        if (!error) {\n          await dispatch({ type: KNOWN_TRANSACTION, payload: { message: [{ tx: tx, receipt: receipt, resolvedData: resolvedTransaction, logs: logs }] } })\n        }\n      })\n    } else {\n      await dispatch({ type: UNKNOWN_TRANSACTION, payload: { message: [{ tx: tx, receipt: receipt }] } })\n    }\n  }\n\n  plugins.txListener.event.register('debuggingRequested', async (hash) => {\n    // TODO should probably be in the run module\n    if (!await plugins.options.appManager.isActive('debugger')) await plugins.options.appManager.activatePlugin('debugger')\n    plugins.call('menuicons', 'select', 'debugger')\n    plugins.call('debugger', 'debug', hash)\n  })\n}\n","export const allPrograms = [\n  { ethers: 'The ethers.js library is a compact and complete JavaScript library for Ethereum.' },\n  { remix: 'Ethereum IDE and tools for the web.' },\n  { web3: 'The web3.js library is a collection of modules which contain specific functionality for the ethereum ecosystem.' }\n  // { swarmgw: 'This library can be used to upload/download files to Swarm via https://swarm-gateways.net/.' }\n]\n\nexport const allCommands = [\n  { 'remix.execute(filepath)': 'Run the script specified by file path. If filepath is empty, script currently displayed in the editor is executed.' },\n  { 'remix.exeCurrent()': 'Run the script currently displayed in the editor.' },\n  // { 'remix.help()': 'Display this help message.' },\n  { 'remix.loadgist(id)': 'Load a gist in the file explorer.' },\n  // { 'remix.loadurl(url)': 'Load the given url in the file explorer. The url can be of type github, swarm or ipfs.' },\n\n  // { 'swarmgw.get(url, cb)': 'Download files from Swarm via https://swarm-gateways.net/' },\n  // { 'swarmgw.put(content, cb)': 'Upload files to Swarm via https://swarm-gateways.net/' },\n\n  { 'ethers.Contract': 'This API provides a graceful connection to a contract deployed on the blockchain, simplifying calling and querying its functions and handling all the binary protocol and conversion as necessarily.' },\n  // { 'ethers.HDNode': 'A Hierarchical Deterministic Wallet represents a large tree of private keys which can reliably be reproduced from an initial seed.' },\n  // { 'ethers.Interface': 'The Interface Object is a meta-class that accepts a Solidity (or compatible) Application Binary Interface (ABI) and populates functions to deal with encoding and decoding the parameters to pass in and results returned.' },\n  { 'ethers.providers': 'A Provider abstracts a connection to the Ethereum blockchain, for issuing queries and sending state changing transactions.' },\n  // { 'ethers.SigningKey': 'The SigningKey interface provides an abstraction around the secp256k1 elliptic curve cryptography library.' },\n  // { 'ethers.utils': 'The utility functions exposed in both the ethers umbrella package and the ethers-utils.' },\n  // { 'ethers.utils.AbiCoder': 'Create a new ABI Coder object' },\n  // { 'ethers.utils.RLP': 'This encoding method is used internally for several aspects of Ethereum, such as encoding transactions and determining contract addresses.' },\n  { 'ethers.Wallet': 'A wallet manages a private/public key pair which is used to cryptographically sign transactions and prove ownership on the Ethereum network.' },\n  { 'ethers.version': 'Contains the version of the ethers container object.' },\n\n  { 'web3.eth': 'Eth module for interacting with the Ethereum network.' },\n  { 'web3.eth.accounts': 'The web3.eth.accounts contains functions to generate Ethereum accounts and sign transactions and data.' },\n  // TODO: need to break down the object return from abi response\n  // { 'web3.eth.abi': 'The web3.eth.abi functions let you de- and encode parameters to ABI (Application Binary Interface) for function calls to the EVM (Ethereum Virtual Machine).' },\n  { 'web3.eth.ens': 'The web3.eth.ens functions let you interacting with ENS.' },\n  { 'web3.eth.Iban': 'The web3.eth.Iban function lets convert Ethereum addresses from and to IBAN and BBAN.' },\n  { 'web3.eth.net': 'Net module for interacting with network properties.' },\n  { 'web3.eth.personal': 'Personal module for interacting with the Ethereum accounts.' },\n  { 'web3.eth.subscribe': 'The web3.eth.subscribe function lets you subscribe to specific events in the blockchain.' },\n  { 'web3.givenProvider': 'When using web3.js in an Ethereum compatible browser, it will set with the current native provider by that browser. Will return the given provider by the (browser) environment, otherwise null.' },\n  // { 'web3.modules': 'Contains the version of the web3 container object.' },\n  { 'web3.providers': 'Contains the current available providers.' },\n  { 'web3.shh': 'Shh module for interacting with the whisper protocol' },\n  { 'web3.utils': 'This package provides utility functions for Ethereum dapps and other web3.js packages.' },\n  { 'web3.version': 'Contains the version of the web3 container object.' },\n\n  { 'web3.eth.clearSubscriptions();': 'Resets subscriptions.' }\n//   { 'web3.eth.Contract(jsonInterface[, address][, options])': 'The web3.eth.Contract object makes it easy to interact with smart contracts on the ethereum blockchain.' },\n//   { 'web3.eth.accounts.create([entropy]);': 'The web3.eth.accounts contains functions to generate Ethereum accounts and sign transactions and data.' },\n//   { 'web3.eth.getAccounts();': 'Retrieve the list of accounts' },\n//   { 'web3.eth.accounts.privateKeyToAccount(privateKey [, ignoreLength ]);': 'Get the account from the private key' },\n//   { 'web3.eth.accounts.signTransaction(tx, privateKey [, callback]);': 'Sign Transaction' },\n//   { 'web3.eth.accounts.recoverTransaction(rawTransaction);': 'Sign Transaction' },\n//   { 'web3.eth.accounts.hashMessage(message);': 'Hash message' }\n]\n","import React from 'react' // eslint-disable-line\n\nconst CheckTxStatus = ({ tx, type }) => {\n  if (tx.status === '0x1' || tx.status === true) {\n    return (<i className='txStatus succeeded fas fa-check-circle'></i>)\n  }\n  if (type === 'call' || type === 'unknownCall' || type === 'unknown') {\n    return (<i className='txStatus call'>call</i>)\n  } else if (tx.status === '0x0' || tx.status === false) {\n    return (<i className='txStatus failed fas fa-times-circle'></i>)\n  } else {\n    return (<i className='txStatus notavailable fas fa-circle-thin' title='Status not available' ></i>)\n  }\n}\n\nexport default CheckTxStatus\n","import React from 'react' // eslint-disable-line\nimport helper from 'apps/remix-ide/src/lib/helper'\n\nconst remixLib = require('@remix-project/remix-lib')\nconst typeConversion = remixLib.execution.typeConversion\n\nconst Context = ({ opts, blockchain }) => {\n  const data = opts.tx || ''\n  const from = opts.from ? helper.shortenHexData(opts.from) : ''\n  let to = opts.to\n  if (data.to) to = to + ' ' + helper.shortenHexData(data.to)\n  const val = data.value\n  let hash = data.hash ? helper.shortenHexData(data.hash) : ''\n  const input = data.input ? helper.shortenHexData(data.input) : ''\n  const logs = opts.logs && opts.logs.decoded && opts.logs.decoded.length ? opts.logs.decoded.length : 0\n  const block = data.receipt ? data.receipt.blockNumber : data.blockNumber || ''\n  const i = data.receipt ? data.transactionIndex : data.transactionIndex\n  const value = val ? typeConversion.toInt(val) : 0\n  if (blockchain.getProvider() === 'vm') {\n    return (\n      <div>\n        <span className='txLog_7Xiho'>\n          <span className='tx'>[vm]</span>\n          <div className='txItem'><span className='txItemTitle'>from:</span> {from}</div>\n          <div className='txItem'><span className='txItemTitle'>to:</span> {to}</div>\n          <div className='txItem'><span className='txItemTitle'>value:</span> {value} wei</div>\n          <div className='txItem'><span className='txItemTitle'>data:</span> {input}</div>\n          <div className='txItem'><span className='txItemTitle'>logs:</span> {logs}</div>\n          <div className='txItem'><span className='txItemTitle'>hash:</span> {hash}</div>\n        </span>\n      </div>)\n  } else if (blockchain.getProvider() !== 'vm' && data.resolvedData) {\n    return (\n      <div>\n        <span className='txLog_7Xiho'>\n          <span className='tx'>[block:{block} txIndex:{i}]</span>\n          <div className='txItem'><span className='txItemTitle'>from:</span> {from}</div>\n          <div className='txItem'><span className='txItemTitle'>to:</span> {to}</div>\n          <div className='txItem'><span className='txItemTitle'>value:</span> {value} wei</div>\n          <div className='txItem'><span className='txItemTitle'>data:</span> {input}</div>\n          <div className='txItem'><span className='txItemTitle'>logs:</span> {logs}</div>\n          <div className='txItem'><span className='txItemTitle'>hash:</span> {hash}</div>\n        </span>\n      </div>)\n  } else {\n    hash = helper.shortenHexData(data.blockHash)\n    return (\n      <div>\n        <span className='txLog'>\n          <span className='tx'>[block:{block} txIndex:{i}]</span>\n          <div className='txItem'><span className='txItemTitle'>from:</span> {from}</div>\n          <div className='txItem'><span className='txItemTitle'>to:</span> {to}</div>\n          <div className='txItem'><span className='txItemTitle'>value:</span> {value} wei</div>\n          <div className='txItem'><span className='txItemTitle'>data:</span> {input}</div>\n          <div className='txItem'><span className='txItemTitle'>logs:</span> {logs}</div>\n          <div className='txItem'><span className='txItemTitle'>hash:</span> {hash}</div>\n        </span>\n      </div>)\n  }\n}\n\nexport default Context\n","import React, { useState } from 'react'  // eslint-disable-line\n\nimport helper from 'apps/remix-ide/src/lib/helper'\nimport CheckTxStatus from './ChechTxStatus' // eslint-disable-line\nimport showTable from './Table'\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\n\nconst remixLib = require('@remix-project/remix-lib')\nconst typeConversion = remixLib.execution.typeConversion\n\nconst RenderCall = ({ tx, resolvedData, logs, index, plugin, showTableHash, txDetails, modal }) => {\n  const to = resolvedData.contractName + '.' + resolvedData.fn\n  const from = tx.from ? tx.from : ' - '\n  const input = tx.input ? helper.shortenHexData(tx.input) : ''\n  const txType = 'call'\n\n  const debug = (event, tx) => {\n    event.stopPropagation()\n    if (tx.isCall && tx.envMode !== 'vm') {\n      modal('VM mode', 'Cannot debug this call. Debugging calls is only possible in JavaScript VM mode.', 'Ok', true, () => {}, 'Cancel', () => {})\n    } else {\n      plugin.event.trigger('debuggingRequested', [tx.hash])\n    }\n  }\n\n  return (\n    <span id={`tx${tx.hash}`} key={index}>\n      <div className=\"log\" onClick={(event) => txDetails(event, tx)}>\n        <CheckTxStatus tx={tx} type={txType} />\n        <span className=\"txLog\">\n          <span className=\"tx\">[call]</span>\n          <div className='txItem'><span className='txItemTitle'>from:</span> {from}</div>\n          <div className='txItem'><span className='txItemTitle'>to:</span> {to}</div>\n          <div className='txItem'><span className='txItemTitle'>data:</span> {input}</div>\n        </span>\n        <div className='buttons'>\n          <div className=\"debug btn btn-primary btn-sm\" onClick={(event) => debug(event, tx)}>Debug</div>\n        </div>\n        <i className=\"terminal_arrow fas fa-angle-down\"></i>\n      </div>\n      {showTableHash.includes(tx.hash) ? showTable({\n        hash: tx.hash,\n        isCall: tx.isCall,\n        contractAddress: tx.contractAddress,\n        data: tx,\n        from,\n        to,\n        gas: tx.gas,\n        input: tx.input,\n        'decoded input': resolvedData && resolvedData.params ? JSON.stringify(typeConversion.stringify(resolvedData.params), null, '\\t') : ' - ',\n        'decoded output': resolvedData && resolvedData.decodedReturnValue ? JSON.stringify(typeConversion.stringify(resolvedData.decodedReturnValue), null, '\\t') : ' - ',\n        val: tx.value,\n        logs: logs,\n        transactionCost: tx.transactionCost,\n        executionCost: tx.executionCost\n      }, showTableHash) : null}\n    </span>\n  )\n}\n\nexport default RenderCall\n","\nimport React, { useState } from 'react' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\nimport CheckTxStatus from './ChechTxStatus' // eslint-disable-line\nimport Context from './Context' // eslint-disable-line\nimport showTable from './Table'\n\nconst remixLib = require('@remix-project/remix-lib')\nconst typeConversion = remixLib.execution.typeConversion\n\nconst RenderKnownTransactions = ({ tx, receipt, resolvedData, logs, index, plugin, showTableHash, txDetails, modal }) => {\n  const debug = (event, tx) => {\n    event.stopPropagation()\n    if (tx.isCall && tx.envMode !== 'vm') {\n      modal('VM mode', 'Cannot debug this call. Debugging calls is only possible in JavaScript VM mode.', 'Ok', true, () => {}, 'Cancel', () => {})\n    } else {\n      plugin.event.trigger('debuggingRequested', [tx.hash])\n    }\n  }\n\n  const from = tx.from\n  const to = resolvedData.contractName + '.' + resolvedData.fn\n  const txType = 'knownTx'\n  const options = { from, to, tx, logs }\n  return (\n    <span id={`tx${tx.hash}`} key={index}>\n      <div className=\"log\" onClick={(event) => txDetails(event, tx)}>\n        <CheckTxStatus tx={receipt} type={txType} />\n        <Context opts = { options } blockchain={plugin.blockchain} />\n        <div className='buttons'>\n          <div className='debug btn btn-primary btn-sm' data-shared='txLoggerDebugButton' data-id={`txLoggerDebugButton${tx.hash}`} onClick={(event) => debug(event, tx)}>Debug</div>\n        </div>\n        <i className = {`terminal_arrow fas ${(showTableHash.includes(tx.hash)) ? 'fa-angle-up' : 'fa-angle-down'}`}></i>\n      </div>\n      {showTableHash.includes(tx.hash) ? showTable({\n        hash: tx.hash,\n        status: receipt !== null ? receipt.status : null,\n        isCall: tx.isCall,\n        contractAddress: tx.contractAddress,\n        data: tx,\n        from,\n        to,\n        gas: tx.gas,\n        input: tx.input,\n        'decoded input': resolvedData && resolvedData.params ? JSON.stringify(typeConversion.stringify(resolvedData.params), null, '\\t') : ' - ',\n        'decoded output': resolvedData && resolvedData.decodedReturnValue ? JSON.stringify(typeConversion.stringify(resolvedData.decodedReturnValue), null, '\\t') : ' - ',\n        logs: logs,\n        val: tx.value,\n        transactionCost: tx.transactionCost,\n        executionCost: tx.executionCost\n      }, showTableHash) : null}\n    </span>\n  )\n}\n\nexport default RenderKnownTransactions\n","import React, { useState } from 'react' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog'// eslint-disable-line\nimport CheckTxStatus from './ChechTxStatus' // eslint-disable-line\nimport Context from './Context' // eslint-disable-line\nimport showTable from './Table'\n\nconst RenderUnKnownTransactions = ({ tx, receipt, index, plugin, showTableHash, txDetails, modal }) => {\n  const debug = (event, tx) => {\n    event.stopPropagation()\n    if (tx.isCall && tx.envMode !== 'vm') {\n      modal('VM mode', 'Cannot debug this call. Debugging calls is only possible in JavaScript VM mode.', 'Ok', true, () => {}, 'Cancel', () => {})\n    } else {\n      plugin.event.trigger('debuggingRequested', [tx.hash])\n    }\n  }\n\n  const from = tx.from\n  const to = tx.to\n  const txType = 'unknown' + (tx.isCall ? 'Call' : 'Tx')\n  const options = { from, to, tx }\n  return (\n    <span id={`tx${tx.hash}`} key={index}>\n      <div className=\"log\" onClick={(event) => txDetails(event, tx)}>\n        <CheckTxStatus tx={receipt || tx} type={txType} />\n        <Context opts = { options } blockchain={plugin.blockchain} />\n        <div className='buttons'>\n          <div className='debug btn btn-primary btn-sm' data-shared='txLoggerDebugButton' data-id={`txLoggerDebugButton${tx.hash}`} onClick={(event) => debug(event, tx)}>Debug</div>\n        </div>\n        <i className = {`terminal_arrow fas ${(showTableHash.includes(tx.hash)) ? 'fa-angle-up' : 'fa-angle-down'}`}></i>\n      </div>\n      {showTableHash.includes(tx.hash) ? showTable({\n        hash: tx.hash,\n        status: receipt !== null ? receipt.status : null,\n        isCall: tx.isCall,\n        contractAddress: tx.contractAddress,\n        data: tx,\n        from,\n        to,\n        gas: tx.gas,\n        input: tx.input,\n        'decoded output': ' - ',\n        val: tx.value,\n        transactionCost: tx.transactionCost,\n        executionCost: tx.executionCost\n      }, showTableHash) : null}\n    </span>\n  )\n}\n\nexport default RenderUnKnownTransactions\n","import React, { useState } from 'react' // eslint-disable-line\nimport { CopyToClipboard } from '@remix-ui/clipboard' // eslint-disable-line\nimport helper from 'apps/remix-ide/src/lib/helper'\n\nconst remixLib = require('@remix-project/remix-lib')\nconst typeConversion = remixLib.execution.typeConversion\n\nconst showTable = (opts, showTableHash) => {\n  let msg = ''\n  let toHash\n  const data = opts.data // opts.data = data.tx\n  if (data.to) {\n    toHash = opts.to + ' ' + data.to\n  } else {\n    toHash = opts.to\n  }\n  let callWarning = ''\n  if (opts.isCall) {\n    callWarning = '(Cost only applies when called by a contract)'\n  }\n  if (!opts.isCall) {\n    if (opts.status !== undefined && opts.status !== null) {\n      if (opts.status === '0x0' || opts.status === false) {\n        msg = 'Transaction mined but execution failed'\n      } else if (opts.status === '0x1' || opts.status === true) {\n        msg = 'Transaction mined and execution succeed'\n      }\n    } else {\n      msg = 'Status not available at the moment'\n    }\n  }\n\n  let stringified = ' - '\n  if (opts.logs && opts.logs.decoded) {\n    stringified = typeConversion.stringify(opts.logs.decoded)\n  }\n  const val = opts.val != null ? typeConversion.toInt(opts.val) : 0\n  return (\n    <table\n      className={`txTable ${showTableHash.includes(opts.hash) ? 'active' : ''}`}\n      id=\"txTable\"\n      data-id={`txLoggerTable${opts.hash}`}\n    >\n      <tbody>\n        {opts.status !== undefined ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              status\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableStatus${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >{`${opts.status} ${msg}`}</td>\n          </tr>\n        ) : null}\n        {opts.hash && !opts.isCall ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              transaction hash\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.hash}\n              <CopyToClipboard content={opts.hash} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.contractAddress ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              contract address\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableContractAddress${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.contractAddress}\n              <CopyToClipboard content={opts.contractAddress} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.from ? (\n          <tr className=\"tr\">\n            <td className=\"td tableTitle\" data-shared={`key_${opts.hash}`}>\n              from\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableFrom${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.from}\n              <CopyToClipboard content={opts.from} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.to ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              to\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableTo${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {toHash}\n              <CopyToClipboard content={data.to ? data.to : toHash} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.gas ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              gas\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableGas${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.gas} gas\n              <CopyToClipboard content={opts.gas} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.transactionCost ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              transaction cost\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableTransactionCost${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.transactionCost} gas {callWarning}\n              <CopyToClipboard content={opts.transactionCost} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.executionCost ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              execution cost\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableExecutionHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.executionCost} gas {callWarning}\n              <CopyToClipboard content={opts.executionCost} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.hash ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              hash\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts.hash}\n              <CopyToClipboard content={opts.hash} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.input ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              input\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {helper.shortenHexData(opts.input)}\n              <CopyToClipboard content={opts.input} />\n            </td>\n          </tr>\n        ) : null}\n        {opts['decoded input'] ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              decoded input\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts['decoded input'].trim()}\n              <CopyToClipboard content={opts['decoded input']} />\n            </td>\n          </tr>\n        ) : null}\n        {opts['decoded output'] ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              decoded output\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {opts['decoded output']}\n              <CopyToClipboard content={opts['decoded output']} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.logs ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              logs\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {JSON.stringify(stringified, null, '\\t')}\n              <CopyToClipboard\n                content={JSON.stringify(stringified, null, '\\t')}\n              />\n              <CopyToClipboard content={JSON.stringify(opts.logs.raw || '0')} />\n            </td>\n          </tr>\n        ) : null}\n        {opts.val ? (\n          <tr className=\"tr\">\n            <td className=\"td\" data-shared={`key_${opts.hash}`}>\n              val\n            </td>\n            <td\n              className=\"td\"\n              data-id={`txLoggerTableHash${opts.hash}`}\n              data-shared={`pair_${opts.hash}`}\n            >\n              {val} wei\n              <CopyToClipboard content={`${val} wei`} />\n            </td>\n          </tr>\n        ) : null}\n      </tbody>\n    </table>\n  )\n}\nexport default showTable\n","import { CLEAR_CONSOLE, CMD_HISTORY, EMPTY_BLOCK, ERROR, HTML, INFO, KNOWN_TRANSACTION, LISTEN_ON_NETWORK, LOG, NEW_TRANSACTION, SCRIPT, UNKNOWN_TRANSACTION, WARN } from '../types/terminalTypes'\n\nexport const initialState = {\n  journalBlocks: [\n  ],\n  data: {\n    // lineLength: props.options.lineLength || 80,\n    session: [],\n    activeFilters: { commands: {}, input: '' },\n    filterFns: {}\n  },\n  _commandHistory: [],\n  _commands: {},\n  commands: {},\n  _JOURNAL: [],\n  _jobs: [],\n  _INDEX: {\n  },\n  _INDEXall: [],\n  _INDEXallMain: [],\n  _INDEXcommands: {},\n  _INDEXcommandsMain: {},\n  message: []\n}\n\nexport const registerCommandReducer = (state, action) => {\n  switch (action.type) {\n    case HTML :\n      return {\n        ...state,\n        _commands: Object.assign(initialState._commands, action.payload._commands),\n        commands: Object.assign(initialState.commands, action.payload.commands),\n        data: Object.assign(initialState.data, { ...action.payload.data })\n      }\n    case LOG:\n      return {\n        ...state,\n        _commands: Object.assign(initialState._commands, action.payload._commands),\n        commands: Object.assign(initialState.commands, action.payload.commands),\n        data: Object.assign(initialState.data, { ...action.payload.data })\n\n      }\n    case INFO:\n      return {\n        ...state,\n        _commands: Object.assign(initialState._commands, action.payload._commands),\n        commands: Object.assign(initialState.commands, action.payload.commands),\n        data: Object.assign(initialState.data, action.payload.data)\n      }\n    case WARN:\n      return {\n        ...state,\n        _commands: Object.assign(initialState._commands, action.payload._commands),\n        commands: Object.assign(initialState.commands, action.payload.commands),\n        data: Object.assign(initialState.data, action.payload.data)\n      }\n    case ERROR:\n      return {\n        ...state,\n        _commands: Object.assign(initialState._commands, action.payload._commands),\n        commands: Object.assign(initialState.commands, action.payload.commands),\n        data: Object.assign(initialState.data, action.payload.data)\n      }\n    case SCRIPT:\n      return {\n        ...state,\n        _commands: Object.assign(initialState._commands, action.payload._commands),\n        commands: Object.assign(initialState.commands, action.payload.commands),\n        data: Object.assign(initialState.data, action.payload.data)\n      }\n    case CLEAR_CONSOLE:\n      return {\n        ...state,\n        ...state.journalBlocks.splice(0)\n      }\n    case LISTEN_ON_NETWORK:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-info' })\n      }\n    default :\n      return { state }\n  }\n}\n\nexport const registerFilterReducer = (state, action) => {\n  switch (action.type) {\n    case LOG:\n      return {\n        ...state,\n        data: Object.assign(initialState.data.filterFns, action.payload.data.filterFns)\n\n      }\n    case INFO:\n      return {\n        ...state,\n        data: Object.assign(initialState.data.filterFns, action.payload.data.filterFns)\n      }\n    case WARN:\n      return {\n        ...state,\n        data: Object.assign(initialState.data.filterFns, action.payload.data.filterFns)\n      }\n    case ERROR:\n      return {\n        ...state,\n        data: Object.assign(initialState.data.filterFns, action.payload.data.filterFns)\n      }\n    case SCRIPT:\n      return {\n        ...state,\n        data: Object.assign(initialState.data.filterFns, action.payload.data.filterFns)\n      }\n    default :\n      return { state }\n  }\n}\n\nexport const addCommandHistoryReducer = (state, action) => {\n  switch (action.type) {\n    case CMD_HISTORY:\n      return {\n        ...state,\n        _commandHistory: initialState._commandHistory.unshift(action.payload.script)\n\n      }\n    default :\n      return { state }\n  }\n}\n\nexport const remixWelcomeTextReducer = (state, action) => {\n  switch (action.type) {\n    case 'welcomeText' :\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push(action.payload.welcomeText)\n      }\n  }\n}\n\nexport const registerScriptRunnerReducer = (state, action) => {\n  switch (action.type) {\n    case HTML:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-log' })\n      }\n    case LOG:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-info' })\n      }\n    case INFO:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-info' })\n      }\n    case WARN:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-warning' })\n      }\n    case ERROR:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-danger' })\n      }\n    case SCRIPT:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: 'text-log' })\n      }\n    case KNOWN_TRANSACTION:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: '', name: 'knownTransaction' })\n      }\n    case UNKNOWN_TRANSACTION:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: '', name: 'unknownTransaction' })\n      }\n    case EMPTY_BLOCK:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: '', name: 'emptyBlock' })\n      }\n    case NEW_TRANSACTION:\n      return {\n        ...state,\n        journalBlocks: initialState.journalBlocks.push({ message: action.payload.message, style: '' })\n      }\n  }\n}\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-terminal.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect, useReducer, useRef, SyntheticEvent, MouseEvent } from 'react' // eslint-disable-line\nimport { registerCommandAction, registerLogScriptRunnerAction, registerInfoScriptRunnerAction, registerErrorScriptRunnerAction, registerWarnScriptRunnerAction, listenOnNetworkAction, initListeningOnNetwork } from './actions/terminalAction'\nimport { initialState, registerCommandReducer, addCommandHistoryReducer, registerScriptRunnerReducer } from './reducers/terminalReducer'\nimport { getKeyOf, getValueOf, Objectfilter, matched } from './utils/utils'\nimport {allCommands, allPrograms} from './commands' // eslint-disable-line\nimport TerminalWelcomeMessage from './terminalWelcome' // eslint-disable-line\nimport { Toaster } from '@remix-ui/toaster' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\n\nimport './remix-ui-terminal.css'\nimport vm from 'vm'\nimport javascriptserialize from 'javascript-serialize'\nimport jsbeautify from 'js-beautify'\nimport RenderUnKnownTransactions from './components/RenderUnknownTransactions' // eslint-disable-line\nimport RenderCall from './components/RenderCall' // eslint-disable-line\nimport RenderKnownTransactions from './components/RenderKnownTransactions' // eslint-disable-line\nimport parse from 'html-react-parser'\nimport { EMPTY_BLOCK, KNOWN_TRANSACTION, RemixUiTerminalProps, UNKNOWN_TRANSACTION } from './types/terminalTypes'\nimport { wrapScript } from './utils/wrapScript'\n\n/* eslint-disable-next-line */\nexport interface ClipboardEvent<T = Element> extends SyntheticEvent<T, any> {\n  clipboardData: DataTransfer;\n}\n\nexport const RemixUiTerminal = (props: RemixUiTerminalProps) => {\n  const { call, _deps, on, config, event, gistHandler, version } = props.plugin\n  const [toggleDownUp, setToggleDownUp] = useState('fa-angle-double-down')\n  const [_cmdIndex, setCmdIndex] = useState(-1)\n  const [_cmdTemp, setCmdTemp] = useState('')\n  // dragable state\n  const [leftHeight, setLeftHeight] = useState<undefined | number>(undefined)\n  const [separatorYPosition, setSeparatorYPosition] = useState<undefined | number>(undefined)\n  const [dragging, setDragging] = useState(false)\n\n  const [newstate, dispatch] = useReducer(registerCommandReducer, initialState)\n  const [cmdHistory, cmdHistoryDispatch] = useReducer(addCommandHistoryReducer, initialState)\n  const [, scriptRunnerDispatch] = useReducer(registerScriptRunnerReducer, initialState)\n  const [toaster, setToaster] = useState(false)\n  const [toastProvider, setToastProvider] = useState({ show: false, fileName: '' })\n  const [modalState, setModalState] = useState({\n    message: '',\n    title: '',\n    okLabel: '',\n    cancelLabel: '',\n    hide: true,\n    cancelFn: () => {},\n    handleHide: () => {}\n  })\n\n  const [clearConsole, setClearConsole] = useState(false)\n  const [paste, setPaste] = useState(false)\n  const [autoCompletState, setAutoCompleteState] = useState({\n    activeSuggestion: 0,\n    data: {\n      _options: []\n    },\n    _startingElement: 0,\n    autoCompleteSelectedItem: {},\n    _elementToShow: 4,\n    _selectedElement: 0,\n    filteredCommands: [],\n    filteredPrograms: [],\n    showSuggestions: false,\n    text: '',\n    userInput: '',\n    extraCommands: [],\n    commandHistoryIndex: 0\n  })\n\n  const [searchInput, setSearchInput] = useState('')\n  const [showTableHash, setShowTableHash] = useState([])\n\n  // terminal inputRef\n  const inputEl = useRef(null)\n  const messagesEndRef = useRef(null)\n\n  // terminal dragable\n  const leftRef = useRef(null)\n  const panelRef = useRef(null)\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  useEffect(() => {\n    props.onReady({\n      logHtml: (html) => {\n        scriptRunnerDispatch({ type: 'html', payload: { message: [html.innerText] } })\n      },\n      log: (message) => {\n        scriptRunnerDispatch({ type: 'log', payload: { message: [message] } })\n      }\n    })\n  }, [])\n\n  // events\n  useEffect(() => {\n    initListeningOnNetwork(props.plugin, scriptRunnerDispatch)\n    registerLogScriptRunnerAction(on, 'log', newstate.commands, scriptRunnerDispatch)\n    registerInfoScriptRunnerAction(on, 'info', newstate.commands, scriptRunnerDispatch)\n    registerWarnScriptRunnerAction(on, 'warn', newstate.commands, scriptRunnerDispatch)\n    registerErrorScriptRunnerAction(on, 'error', newstate.commands, scriptRunnerDispatch)\n    registerCommandAction('html', _blocksRenderer('html'), { activate: true }, dispatch)\n    registerCommandAction('log', _blocksRenderer('log'), { activate: true }, dispatch)\n    registerCommandAction('info', _blocksRenderer('info'), { activate: true }, dispatch)\n    registerCommandAction('warn', _blocksRenderer('warn'), { activate: true }, dispatch)\n    registerCommandAction('error', _blocksRenderer('error'), { activate: true }, dispatch)\n\n    registerCommandAction('script', function execute (args, scopedCommands) {\n      var script = String(args[0])\n      _shell(script, scopedCommands, function (error, output) {\n        if (error) scriptRunnerDispatch({ type: 'error', payload: { message: error } })\n        if (output) scriptRunnerDispatch({ type: 'script', payload: { message: '5' } })\n      })\n    }, { activate: true }, dispatch)\n  }, [autoCompletState.text])\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [newstate.journalBlocks.length, toaster])\n\n  function execute (file, cb) {\n    function _execute (content, cb) {\n      if (!content) {\n        setToaster(true)\n        if (cb) cb()\n        return\n      }\n      newstate.commands.script(content)\n    }\n\n    if (typeof file === 'undefined') {\n      const content = _deps.editor.currentContent()\n      _execute(content, cb)\n      return\n    }\n\n    const provider = _deps.fileManager.fileProviderOf(file)\n    console.log({ provider })\n\n    if (!provider) {\n      // toolTip(`provider for path ${file} not found`)\n      setToastProvider({ show: true, fileName: file })\n      if (cb) cb()\n      return\n    }\n\n    provider.get(file, (error, content) => {\n      console.log({ content })\n      if (error) {\n        // toolTip(error)\n        // TODO: pop up\n        if (cb) cb()\n        return\n      }\n\n      _execute(content, cb)\n    })\n  }\n\n  function loadgist (id, cb) {\n    gistHandler.loadFromGist({ gist: id }, _deps.fileManager)\n    if (cb) cb()\n  }\n\n  const _shell = async (script, scopedCommands, done) => { // default shell\n    if (script.indexOf('remix:') === 0) {\n      return done(null, 'This type of command has been deprecated and is not functionning anymore. Please run remix.help() to list available commands.')\n    }\n    if (script.indexOf('remix.') === 0) {\n      // we keep the old feature. This will basically only be called when the command is querying the \"remix\" object.\n      // for all the other case, we use the Code Executor plugin\n      const context = { remix: { exeCurrent: (script: any) => { return execute(undefined, script) }, loadgist: (id: any) => { return loadgist(id, () => {}) }, execute: (fileName, callback) => { return execute(fileName, callback) } } }\n      try {\n        const cmds = vm.createContext(context)\n        const result = vm.runInContext(script, cmds) // eslint-disable-line\n        console.log({ result })\n        return done(null, result)\n      } catch (error) {\n        return done(error.message)\n      }\n    }\n    try {\n      if (script.trim().startsWith('git')) {\n        // await this.call('git', 'execute', script) code might be used in the future\n      } else {\n        await call('scriptRunner', 'execute', script)\n      }\n      done()\n    } catch (error) {\n      done(error.message || error)\n    }\n  }\n\n  const handleMinimizeTerminal = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (toggleDownUp === 'fa-angle-double-down') {\n      setToggleDownUp('fa-angle-double-up')\n      event.trigger('resize', [])\n    } else {\n      const terminalTopOffset = config.get('terminal-top-offset')\n      event.trigger('resize', [terminalTopOffset])\n      setToggleDownUp('fa-angle-double-down')\n    }\n  }\n\n  const focusinput = () => {\n    inputEl.current.focus()\n  }\n\n  const handleKeyDown = (event) => {\n    const suggestionCount = autoCompletState.activeSuggestion\n    if (autoCompletState.userInput !== '' && (event.which === 27 || event.which === 8 || event.which === 46)) {\n      // backspace or any key that should remove the autocompletion\n      setAutoCompleteState(prevState => ({ ...prevState, showSuggestions: false }))\n    }\n    if (autoCompletState.showSuggestions && (event.which === 13 || event.which === 9)) {\n      if (autoCompletState.userInput.length === 1) {\n        setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: 0, showSuggestions: false, userInput: Object.keys(autoCompletState.data._options[0]).toString() }))\n      } else {\n        if (autoCompletState.showSuggestions && (event.which === 13 || event.which === 9)) {\n          setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: 0, showSuggestions: false, userInput: autoCompletState.data._options[autoCompletState.activeSuggestion] ? Object.keys(autoCompletState.data._options[autoCompletState.activeSuggestion]).toString() : inputEl.current.value }))\n        } else {\n          setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: 0, showSuggestions: false, userInput: autoCompletState.data._options.length === 1 ? Object.keys(autoCompletState.data._options[0]).toString() : inputEl.current.value }))\n        }\n      }\n    }\n    if (event.which === 13 && !autoCompletState.showSuggestions) {\n      if (event.ctrlKey) { // <ctrl+enter>\n        // on enter, append the value in the cli input to the journal\n        inputEl.current.focus()\n      } else { // <enter>\n        event.preventDefault()\n        setCmdIndex(-1)\n        setCmdTemp('')\n        const script = autoCompletState.userInput.trim() // inputEl.current.innerText.trim()\n        if (script.length) {\n          cmdHistoryDispatch({ type: 'cmdHistory', payload: { script } })\n          newstate.commands.script(wrapScript(script))\n        }\n        setAutoCompleteState(prevState => ({ ...prevState, userInput: '' }))\n        inputEl.current.innerText = ''\n        inputEl.current.focus()\n        setAutoCompleteState(prevState => ({ ...prevState, showSuggestions: false }))\n      }\n    } else if (newstate._commandHistory.length && event.which === 38 && !autoCompletState.showSuggestions && (autoCompletState.userInput === '')) {\n      event.preventDefault()\n      setAutoCompleteState(prevState => ({ ...prevState, userInput: newstate._commandHistory[0] }))\n    } else if (event.which === 38 && autoCompletState.showSuggestions) {\n      event.preventDefault()\n      if (autoCompletState.activeSuggestion === 0) {\n        return\n      }\n      setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: suggestionCount - 1, userInput: Object.keys(autoCompletState.data._options[autoCompletState.activeSuggestion]).toString() }))\n    } else if (event.which === 38 && !autoCompletState.showSuggestions) { // <arrowUp>\n      if (cmdHistory.length - 1 > _cmdIndex) {\n        setCmdIndex(prevState => prevState++)\n      }\n      inputEl.current.innerText = cmdHistory[_cmdIndex]\n      inputEl.current.focus()\n    } else if (event.which === 40 && autoCompletState.showSuggestions) {\n      event.preventDefault()\n      if ((autoCompletState.activeSuggestion + 1) === autoCompletState.data._options.length) {\n        return\n      }\n      setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: suggestionCount + 1, userInput: Object.keys(autoCompletState.data._options[autoCompletState.activeSuggestion + 1]).toString() }))\n    } else if (event.which === 40 && !autoCompletState.showSuggestions) {\n      if (_cmdIndex > -1) {\n        setCmdIndex(prevState => prevState--)\n      }\n      inputEl.current.innerText = _cmdIndex >= 0 ? cmdHistory[_cmdIndex] : _cmdTemp\n      inputEl.current.focus()\n    } else {\n      setCmdTemp(inputEl.current.innerText)\n    }\n  }\n\n  /* start of mouse events */\n\n  const mousedown = (event: MouseEvent) => {\n    setSeparatorYPosition(event.clientY)\n    leftRef.current.style.backgroundColor = '#007AA6'\n    leftRef.current.style.border = '2px solid #007AA6'\n    setDragging(true)\n  }\n\n  const onMouseMove: any = (e: MouseEvent) => {\n    e.preventDefault()\n    if (dragging && leftHeight && separatorYPosition) {\n      const newLeftHeight = leftHeight + separatorYPosition - e.clientY\n      setSeparatorYPosition(e.clientY)\n      setLeftHeight(newLeftHeight)\n      event.trigger('resize', [newLeftHeight + 32])\n    }\n  }\n\n  const onMouseUp = () => {\n    leftRef.current.style.backgroundColor = ''\n    leftRef.current.style.border = ''\n    setDragging(false)\n  }\n\n  /* end of mouse event */\n\n  useEffect(() => {\n    document.addEventListener('mousemove', onMouseMove)\n    document.addEventListener('mouseup', onMouseUp)\n\n    return () => {\n      document.removeEventListener('mousemove', onMouseMove)\n      document.removeEventListener('mouseup', onMouseUp)\n    }\n  }, [onMouseMove, onMouseUp])\n\n  React.useEffect(() => {\n    if (panelRef) {\n      if (!leftHeight) {\n        setLeftHeight(panelRef.current.offsetHeight)\n        return\n      }\n      panelRef.current.style.height = `${leftHeight}px`\n    }\n  }, [leftHeight, setLeftHeight, panelRef])\n\n  /* block contents that gets rendered from scriptRunner */\n\n  const _blocksRenderer = (mode) => {\n    if (mode === 'html') {\n      return function logger (args) {\n        if (args.length) {\n          return args[0]\n        }\n      }\n    }\n    mode = {\n      log: 'text-log',\n      info: 'text-info',\n      warn: 'text-warning',\n      error: 'text-danger'\n    }[mode] // defaults\n\n    if (mode) {\n      const filterUndefined = (el) => el !== undefined && el !== null\n      return function logger (args) {\n        const types = args.filter(filterUndefined).map(type => type)\n        const values = javascriptserialize.apply(null, args.filter(filterUndefined)).map(function (val, idx) {\n          if (typeof args[idx] === 'string') {\n            const el = document.createElement('div')\n            el.innerHTML = args[idx].replace(/(\\r\\n|\\n|\\r)/gm, '<br>')\n            val = el.children.length === 0 ? el.firstChild : el\n          }\n          if (types[idx] === 'element') val = jsbeautify.html(val)\n          return val\n        })\n        if (values.length) {\n          return values\n        }\n      }\n    } else {\n      throw new Error('mode is not supported')\n    }\n  }\n\n  /* end of block content that gets rendered from script Runner */\n\n  const handleClearConsole = () => {\n    setClearConsole(true)\n    dispatch({ type: 'clearconsole', payload: [] })\n    inputEl.current.focus()\n  }\n  /* start of autoComplete */\n\n  const listenOnNetwork = (e: any) => {\n    const isListening = e.target.checked\n    // setIsListeningOnNetwork(isListening)\n    listenOnNetworkAction(event, isListening)\n  }\n\n  const onChange = (event: any) => {\n    event.preventDefault()\n    const inputString = event.target.value\n    if (matched(allPrograms, inputString) || inputString.includes('.')) {\n      if (paste) {\n        setPaste(false)\n        setAutoCompleteState(prevState => ({ ...prevState, showSuggestions: false, userInput: inputString }))\n      } else {\n        setAutoCompleteState(prevState => ({ ...prevState, showSuggestions: true, userInput: inputString }))\n      }\n      const textList = inputString.split('.')\n      if (textList.length === 1) {\n        setAutoCompleteState(prevState => ({ ...prevState, data: { _options: [] } }))\n        const result = Objectfilter(allPrograms, autoCompletState.userInput)\n        setAutoCompleteState(prevState => ({ ...prevState, data: { _options: result } }))\n      } else {\n        setAutoCompleteState(prevState => ({ ...prevState, data: { _options: [] } }))\n        const result = Objectfilter(allCommands, autoCompletState.userInput)\n        setAutoCompleteState(prevState => ({ ...prevState, data: { _options: result } }))\n      }\n    } else {\n      setAutoCompleteState(prevState => ({ ...prevState, showSuggestions: false, userInput: inputString }))\n    }\n  }\n\n  const handleSelect = (event) => {\n    const suggestionCount = autoCompletState.activeSuggestion\n    if (event.keyCode === 38) {\n      if (autoCompletState.activeSuggestion === 0) {\n        return\n      }\n      setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: suggestionCount - 1 }))\n    } else if (event.keyCode === 40) {\n      if (autoCompletState.activeSuggestion - 1 === autoCompletState.data._options.length) {\n        return\n      }\n      setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: suggestionCount + 1 }))\n    }\n  }\n\n  const modal = (title: string, message: string, okLabel: string, hide: boolean, okFn: () => void, cancelLabel?: string, cancelFn?: () => void) => {\n    setModalState(prevState => ({ ...prevState, message, okLabel, okFn, cancelLabel, cancelFn, hide }))\n  }\n\n  const handleHideModal = () => {\n    setModalState(prevState => ({ ...prevState, hide: true }))\n  }\n\n  const txDetails = (event, tx) => {\n    if (showTableHash.includes(tx.hash)) {\n      const index = showTableHash.indexOf(tx.hash)\n      if (index > -1) {\n        setShowTableHash((prevState) => prevState.filter((x) => x !== tx.hash))\n      }\n    } else {\n      setShowTableHash((prevState) => ([...prevState, tx.hash]))\n    }\n  }\n\n  const handleAutoComplete = () => (\n    <div className='popup alert alert-secondary' style={{ display: (autoCompletState.showSuggestions && autoCompletState.userInput !== '') && autoCompletState.data._options.length > 0 ? 'block' : 'none' }}>\n      <div>\n        {autoCompletState.data._options.map((item, index) => {\n          return (\n            <div key={index} data-id=\"autoCompletePopUpAutoCompleteItem\" className={`autoCompleteItem listHandlerShow item ${autoCompletState.data._options[autoCompletState.activeSuggestion] === item ? 'border border-primary ' : ''}`} onKeyDown={ handleSelect } >\n              <div>\n                {getKeyOf(item)}\n              </div>\n              <div>\n                {getValueOf(item)}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n  /* end of autoComplete */\n\n  const handlePaste = () => {\n    setPaste(true)\n    setAutoCompleteState(prevState => ({ ...prevState, activeSuggestion: 0, showSuggestions: false }))\n  }\n\n  return (\n    <div style={{ height: '323px', flexGrow: 1 }} className='panel' ref={panelRef}>\n      <div className=\"bar\">\n        <div className=\"dragbarHorizontal\" onMouseDown={mousedown} ref={leftRef}></div>\n        <div className=\"menu border-top border-dark bg-light\" data-id=\"terminalToggleMenu\">\n          <i className={`mx-2 toggleTerminal fas ${toggleDownUp}`} data-id=\"terminalToggleIcon\" onClick={ handleMinimizeTerminal }></i>\n          <div className=\"mx-2 console\" id=\"clearConsole\" data-id=\"terminalClearConsole\" onClick={handleClearConsole} >\n            <i className=\"fas fa-ban\" aria-hidden=\"true\" title=\"Clear console\"\n            ></i>\n          </div>\n          <div className=\"mx-2\" title='Pending Transactions'>0</div>\n          <div className=\"pt-1 h-80 mx-3 align-items-center listenOnNetwork custom-control custom-checkbox\">\n            <input\n              className=\"custom-control-input\"\n              id=\"listenNetworkCheck\"\n              onChange={listenOnNetwork}\n              type=\"checkbox\"\n              title=\"If checked Remix will listen on all transactions mined in the current environment and not only transactions created by you\"\n            />\n            <label\n              className=\"pt-1 form-check-label custom-control-label text-nowrap\"\n              title=\"If checked Remix will listen on all transactions mined in the current environment and not only transactions created by you\"\n              htmlFor=\"listenNetworkCheck\"\n            >\n              listen on network\n            </label>\n          </div>\n          <div className=\"search\">\n            <i className=\"fas fa-search searchIcon bg-light\" aria-hidden=\"true\"></i>\n            <input\n              onChange={(event) => setSearchInput(event.target.value.trim()) }\n              type=\"text\"\n              className=\"border filter form-control\"\n              id=\"searchInput\"\n              placeholder=\"Search with transaction hash or address\"\n              data-id=\"terminalInputSearch\" />\n          </div>\n        </div>\n      </div>\n      <div tabIndex={-1} className=\"terminal_container\" data-id=\"terminalContainer\" >\n        {\n          handleAutoComplete()\n        }\n        <div data-id='terminalContainerDisplay' style = {{\n          position: 'relative',\n          height: '100%',\n          width: '100%',\n          opacity: '0.1',\n          zIndex: -1\n        }}></div>\n        <div className=\"terminal\">\n          <div id='journal' className='journal' data-id='terminalJournal'>\n            {!clearConsole && <TerminalWelcomeMessage packageJson={version}/>}\n            {newstate.journalBlocks && newstate.journalBlocks.map((x, index) => {\n              if (x.name === EMPTY_BLOCK) {\n                return (\n                  <div className=\"px-4 block\" data-id='block' key={index}>\n                    <span className='txLog'>\n                      <span className='tx'><div className='txItem'>[<span className='txItemTitle'>block:{x.message} - </span> 0 {'transactions'} ] </div></span></span>\n                  </div>\n                )\n              } else if (x.name === UNKNOWN_TRANSACTION) {\n                return x.message.filter(x => x.tx.hash.includes(searchInput) || x.tx.from.includes(searchInput) || (x.tx.to.includes(searchInput))).map((trans) => {\n                  return (<div className='px-4 block' data-id={`block_tx${trans.tx.hash}`} key={index}> { <RenderUnKnownTransactions tx={trans.tx} receipt={trans.receipt} index={index} plugin={props.plugin} showTableHash={showTableHash} txDetails={txDetails} modal={modal}/>} </div>)\n                })\n              } else if (x.name === KNOWN_TRANSACTION) {\n                return x.message.map((trans) => {\n                  return (<div className='px-4 block' data-id={`block_tx${trans.tx.hash}`} key={index}> { trans.tx.isCall ? <RenderCall tx={trans.tx} resolvedData={trans.resolvedData} logs={trans.logs} index={index} plugin={props.plugin} showTableHash={showTableHash} txDetails={txDetails} modal={modal}/> : (<RenderKnownTransactions tx = { trans.tx } receipt = { trans.receipt } resolvedData = { trans.resolvedData } logs = {trans.logs } index = { index } plugin = { props.plugin } showTableHash = { showTableHash } txDetails = { txDetails } modal={modal}/>) } </div>)\n                })\n              } else if (Array.isArray(x.message)) {\n                return x.message.map((msg, i) => {\n                  if (typeof msg === 'object') {\n                    return (\n                      <div className=\"px-4 block\" data-id=\"block\" key={i}><span className={x.style}>{ msg.value ? parse(msg.value) : JSON.stringify(msg) } </span></div>\n                    )\n                  } else {\n                    return (\n                      <div className=\"px-4 block\" data-id=\"block\" key={i}><span className={x.style}>{ msg ? msg.toString().replace(/,/g, '') : msg }</span></div>\n                    )\n                  }\n                })\n              } else {\n                if (typeof x.message !== 'function') {\n                  return (\n                    <div className=\"px-4 block\" data-id=\"block\" key={index}> <span className={x.style}> {x.message}</span></div>\n                  )\n                }\n              }\n            })}\n            <div ref={messagesEndRef} />\n          </div>\n          <div id=\"terminalCli\" data-id=\"terminalCli\" className=\"cli\" onClick={focusinput}>\n            <span className=\"prompt\">{'>'}</span>\n            <input className=\"input\" ref={inputEl} spellCheck=\"false\" contentEditable=\"true\" id=\"terminalCliInput\" data-id=\"terminalCliInput\" onChange={(event) => onChange(event)} onKeyDown={(event) => handleKeyDown(event) } value={autoCompletState.userInput} onPaste={handlePaste}></input>\n          </div>\n        </div>\n      </div>\n      <ModalDialog\n        title={ modalState.title }\n        message={ modalState.message }\n        hide={ modalState.hide }\n        okLabel={ modalState.okLabel }\n        cancelLabel={ modalState.cancelLabel }\n        cancelFn={ modalState.cancelFn }\n        handleHide={ handleHideModal }\n      />\n      {toaster && <Toaster message=\"no content to execute\"/>}\n      {toastProvider.show && <Toaster message={`provider for path ${toastProvider.fileName} not found`} />}\n    </div>\n  )\n}\n\nexport default RemixUiTerminal\n","import React from 'react' // eslint-disable-line\n\nconst TerminalWelcomeMessage = ({ packageJson }) => {\n  return (\n    <div className=\"px-4 block\" data-id=\"block_null\">\n      <div> - Welcome to Remix {packageJson} - </div><br />\n      <div>You can use this terminal to: </div>\n      <ul className='ul'>\n        <li>Check transactions details and start debugging.</li>\n        <li>Execute JavaScript scripts:\n          <br />\n          <i> - Input a script directly in the command line interface </i>\n          <br />\n          <i> - Select a Javascript file in the file explorer and then run \\`remix.execute()\\` or \\`remix.exeCurrent()\\`  in the command line interface  </i>\n          <br />\n          <i> - Right click on a JavaScript file in the file explorer and then click \\`Run\\` </i>\n        </li>\n      </ul>\n      <div>The following libraries are accessible:</div>\n      <ul className='ul'>\n        <li><a target=\"_blank\" href=\"https://web3js.readthedocs.io/en/1.0/\">web3 version 1.5.2</a></li>\n        <li><a target=\"_blank\" href=\"https://docs.ethers.io\">ethers.js</a> </li>\n        <li>remix (run remix.help() for more info)</li>\n      </ul>\n    </div>\n  )\n}\n\nexport default TerminalWelcomeMessage\n","\nexport interface ROOTS {\n    steps: any,\n    cmd: string,\n    gidx: number,\n    idx: number\n}\n\nexport const KNOWN_TRANSACTION = 'knownTransaction'\nexport const UNKNOWN_TRANSACTION = 'unknownTransaction'\nexport const EMPTY_BLOCK = 'emptyBlock'\nexport const NEW_TRANSACTION = 'newTransaction'\nexport const NEW_BLOCK = 'newBlock'\nexport const NEW_CALL = 'newCall'\n\nexport const HTML = 'html'\nexport const LOG = 'log'\nexport const INFO = 'info'\nexport const WARN = 'warn'\nexport const ERROR = 'error'\nexport const SCRIPT = 'script'\nexport const CLEAR_CONSOLE = 'clearconsole'\nexport const LISTEN_ON_NETWORK = 'listenOnNetWork'\nexport const CMD_HISTORY = 'cmdHistory'\n\nexport interface RemixUiTerminalProps {\n    plugin: any,\n    onReady: (api: any) => void\n}\n","\nexport const getKeyOf = (item) => {\n  return Object.keys(item)[0]\n}\n\nexport const getValueOf = (item) => {\n  return Object.values(item)[0]\n}\n\nexport const Objectfilter = (obj: any, filterValue: any) =>\n  obj.filter((item: any) => Object.keys(item)[0].indexOf(filterValue) > -1)\n\nexport const matched = (arr, value) => arr.map(x => Object.keys(x).some(x => x.startsWith(value))).some(x => x === true)\n\nconst findDeep = (object, fn, found = { break: false, value: undefined }) => {\n  if (typeof object !== 'object' || object === null) return\n  for (var i in object) {\n    if (found.break) break\n    var el = object[i]\n    if (el && el.innerText !== undefined && el.innerText !== null) el = el.innerText\n    if (fn(el, i, object)) {\n      found.value = el\n      found.break = true\n      break\n    } else {\n      findDeep(el, fn, found)\n    }\n  }\n  return found.value\n}\n\nexport const find = (args, query) => {\n  query = query.trim()\n  const isMatch = !!findDeep(args, function check (value) {\n    if (value === undefined || value === null) return false\n    if (typeof value === 'function') return false\n    if (typeof value === 'object') return false\n    const contains = String(value).indexOf(query.trim()) !== -1\n    return contains\n  })\n  return isMatch\n}\n","export const wrapScript = (script) => {\n  const isKnownScript = ['remix.', 'git'].some(prefix => script.trim().startsWith(prefix))\n  if (isKnownScript) return script\n  return `\n        try {\n          const ret = ${script};\n          if (ret instanceof Promise) {\n            ret.then((result) => { console.log(result) }).catch((error) => { console.log(error) })\n          } else {\n            console.log(ret)\n          }   \n        } catch (e) {\n          console.log(e.message)\n        }\n        `\n}\n","export * from './lib/toaster'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./toaster.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useEffect, useState } from 'react' // eslint-disable-line\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\n\nimport './toaster.css'\n\n/* eslint-disable-next-line */\nexport interface ToasterProps {\n  message: string\n  timeOut?: number,\n  handleHide?: () => void\n}\n\nexport const Toaster = (props: ToasterProps) => {\n  const [state, setState] = useState({\n    message: '',\n    hide: true,\n    hiding: false,\n    timeOutId: null,\n    timeOut: props.timeOut || 7000,\n    showModal: false\n  })\n\n  useEffect(() => {\n    if (props.message) {\n      const timeOutId = setTimeout(() => {\n        setState(prevState => {\n          return { ...prevState, hiding: true }\n        })\n      }, state.timeOut)\n\n      setState(prevState => {\n        const shortTooltipText = props.message.length > 201 ? props.message.substring(0, 200) + '...' : props.message\n\n        return { ...prevState, hide: false, hiding: false, timeOutId, message: shortTooltipText }\n      })\n    }\n  }, [props.message])\n\n  useEffect(() => {\n    if (state.hiding) {\n      setTimeout(() => {\n        closeTheToaster()\n      }, 1800)\n    }\n  }, [state.hiding])\n\n  const showFullMessage = () => {\n    setState(prevState => {\n      return { ...prevState, showModal: true }\n    })\n  }\n\n  const hideFullMessage = () => { //eslint-disable-line\n    setState(prevState => {\n      return { ...prevState, showModal: false }\n    })\n  }\n\n  const closeTheToaster = () => {\n    if (state.timeOutId) {\n      clearTimeout(state.timeOutId)\n    }\n    props.handleHide && props.handleHide()\n    setState(prevState => {\n      return { ...prevState, message: '', hide: true, hiding: false, timeOutId: null, showModal: false }\n    })\n  }\n\n  const handleMouseEnter = () => {\n    if (state.timeOutId) {\n      clearTimeout(state.timeOutId)\n    }\n    setState(prevState => {\n      return { ...prevState, timeOutId: null }\n    })\n  }\n\n  const handleMouseLeave = () => {\n    if (!state.timeOutId) {\n      const timeOutId = setTimeout(() => {\n        setState(prevState => {\n          return { ...prevState, hiding: true }\n        })\n      }, state.timeOut)\n\n      setState(prevState => {\n        return { ...prevState, timeOutId }\n      })\n    }\n  }\n\n  return (\n    <>\n      <ModalDialog\n        message={props.message}\n        cancelLabel='Close'\n        cancelFn={() => {}}\n        hide={!state.showModal}\n        handleHide={hideFullMessage}\n      />\n      { !state.hide &&\n        <div data-shared=\"tooltipPopup\" className={`remixui_tooltip alert alert-info p-2 ${state.hiding ? 'remixui_animateTop' : 'remixui_animateBottom'}`} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n          <span className=\"px-2\">\n            { state.message }\n            { (props.message.length > 201) && <button className=\"btn btn-secondary btn-sm mx-3\" style={{ whiteSpace: 'nowrap' }} onClick={showFullMessage}>Show full message</button> }\n          </span>\n          <span style={{ alignSelf: 'baseline' }}>\n            <button data-id=\"tooltipCloseButton\" className=\"fas fa-times btn-info mx-1 p-0\" onClick={closeTheToaster}></button>\n          </span>\n        </div>\n      }\n    </>\n  )\n}\n\nexport default Toaster\n","export * from './lib/tree-view-item/tree-view-item'\nexport * from './lib/remix-ui-tree-view'\n","var content = require(\"!!../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-tree-view.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React from 'react' // eslint-disable-line\nimport { TreeViewProps } from '../types'\n\nimport './remix-ui-tree-view.css'\n\nexport const TreeView = (props: TreeViewProps) => {\n  const { children, id, ...otherProps } = props\n\n  return (\n    <ul data-id={`treeViewUl${id}`} className=\"ul_tv ml-0 px-2\" { ...otherProps }>\n      { children }\n    </ul>\n  )\n}\n\nexport default TreeView\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./tree-view-item.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { useState, useEffect } from 'react' // eslint-disable-line\nimport { TreeViewItemProps } from '../../types'\n\nimport './tree-view-item.css'\n\nexport const TreeViewItem = (props: TreeViewItemProps) => {\n  const { id, children, label, labelClass, expand, iconX = 'fas fa-caret-right', iconY = 'fas fa-caret-down', icon, controlBehaviour = false, innerRef, ...otherProps } = props\n  const [isExpanded, setIsExpanded] = useState(false)\n\n  useEffect(() => {\n    setIsExpanded(expand)\n  }, [expand])\n\n  return (\n    <li ref={innerRef} key={`treeViewLi${id}`} data-id={`treeViewLi${id}`} className='li_tv' {...otherProps}>\n      <div key={`treeViewDiv${id}`} data-id={`treeViewDiv${id}`} className={`d-flex flex-row align-items-center ${labelClass}`} onClick={() => !controlBehaviour && setIsExpanded(!isExpanded)}>\n        { children ? <div className={isExpanded ? `px-1 ${iconY} caret caret_tv` : `px-1 ${iconX} caret caret_tv`} style={{ visibility: children ? 'visible' : 'hidden' }}></div> : icon ? <div className={`pr-3 pl-1 ${icon} caret caret_tv`}></div> : null }\n        <span className='w-100 pl-1'>\n          { label }\n        </span>\n      </div>\n      { isExpanded ? children : null }\n    </li>\n  )\n}\n\nexport default TreeViewItem\n","export * from './lib/providers/FileSystemProvider'\nexport * from './lib/contexts'\n","import { extractParentFromKey } from '@remix-ui/helper'\nimport React from 'react'\nimport { action } from '../types'\nimport { displayNotification, displayPopUp, fileAddedSuccess, fileRemovedSuccess, fileRenamedSuccess, folderAddedSuccess, loadLocalhostError, loadLocalhostRequest, loadLocalhostSuccess, removeContextMenuItem, rootFolderChangedSuccess, setContextMenuItem, setMode, setReadOnlyMode } from './payload'\nimport { addInputField, createWorkspace, deleteWorkspace, fetchWorkspaceDirectory, renameWorkspace, switchToWorkspace, uploadFile } from './workspace'\n\nconst LOCALHOST = ' - connect to localhost - '\nlet plugin, dispatch: React.Dispatch<any>\n\nexport const listenOnPluginEvents = (filePanelPlugin) => {\n  plugin = filePanelPlugin\n\n  plugin.on('filePanel', 'createWorkspaceReducerEvent', (name: string, isEmpty = false, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    createWorkspace(name, isEmpty, cb)\n  })\n\n  plugin.on('filePanel', 'renameWorkspaceReducerEvent', (oldName: string, workspaceName: string, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    renameWorkspace(oldName, workspaceName, cb)\n  })\n\n  plugin.on('filePanel', 'deleteWorkspaceReducerEvent', (workspaceName: string, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    deleteWorkspace(workspaceName, cb)\n  })\n\n  plugin.on('filePanel', 'registerContextMenuItemReducerEvent', (item: action, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    registerContextMenuItem(item, cb)\n  })\n\n  plugin.on('filePanel', 'removePluginActionsReducerEvent', (plugin, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    removePluginActions(plugin, cb)\n  })\n\n  plugin.on('filePanel', 'createNewFileInputReducerEvent', (path, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    addInputField('file', path, cb)\n  })\n\n  plugin.on('filePanel', 'uploadFileReducerEvent', (dir: string, target, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n    uploadFile(target, dir, cb)\n  })\n\n  plugin.on('remixd', 'rootFolderChanged', async (path: string) => {\n    rootFolderChanged(path)\n  })\n\n  plugin.on('fileManager', 'rootFolderChanged', async (path: string) => {\n    rootFolderChanged(path)\n  })\n}\n\nexport const listenOnProviderEvents = (provider) => (reducerDispatch: React.Dispatch<any>) => {\n  dispatch = reducerDispatch\n\n  provider.event.on('fileAdded', (filePath: string) => {\n    fileAdded(filePath)\n  })\n\n  provider.event.on('folderAdded', (folderPath: string) => {\n    if (folderPath.indexOf('/.workspaces') === 0) return\n    folderAdded(folderPath)\n  })\n\n  provider.event.on('fileRemoved', (removePath: string) => {\n    fileRemoved(removePath)\n  })\n\n  provider.event.on('fileRenamed', (oldPath: string) => {\n    fileRenamed(oldPath)\n  })\n\n  provider.event.on('disconnected', async () => {\n    plugin.fileManager.setMode('browser')\n    dispatch(setMode('browser'))\n    dispatch(loadLocalhostError('Remixd disconnected!'))\n    const workspaceProvider = plugin.fileProviders.workspace\n\n    await switchToWorkspace(workspaceProvider.workspace)\n  })\n\n  provider.event.on('connected', () => {\n    plugin.fileManager.setMode('localhost')\n    dispatch(setMode('localhost'))\n    fetchWorkspaceDirectory('/')\n    dispatch(loadLocalhostSuccess())\n  })\n\n  provider.event.on('loadingLocalhost', async () => {\n    await switchToWorkspace(LOCALHOST)\n    dispatch(loadLocalhostRequest())\n  })\n\n  provider.event.on('fileExternallyChanged', (path: string, content: string) => {\n    const config = plugin.registry.get('config').api\n    const editor = plugin.registry.get('editor').api\n\n    if (config.get('currentFile') === path && editor.currentContent() !== content) {\n      if (provider.isReadOnly(path)) return editor.setText(content)\n      dispatch(displayNotification(\n        path + ' changed',\n        'This file has been changed outside of Remix IDE.',\n        'Replace by the new content', 'Keep the content displayed in Remix',\n        () => {\n          editor.setText(content)\n        }\n      ))\n    }\n  })\n\n  provider.event.on('fileRenamedError', () => {\n    dispatch(displayNotification('File Renamed Failed', '', 'Ok', 'Cancel'))\n  })\n\n  provider.event.on('readOnlyModeChanged', (mode: boolean) => {\n    dispatch(setReadOnlyMode(mode))\n  })\n}\n\nconst registerContextMenuItem = (item: action, cb?: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  if (!item) {\n    cb && cb(new Error('Invalid register context menu argument'))\n    return dispatch(displayPopUp('Invalid register context menu argument'))\n  }\n  if (!item.name || !item.id) {\n    cb && cb(new Error('Item name and id is mandatory'))\n    return dispatch(displayPopUp('Item name and id is mandatory'))\n  }\n  if (!item.type && !item.path && !item.extension && !item.pattern) {\n    cb && cb(new Error('Invalid file matching criteria provided'))\n    return dispatch(displayPopUp('Invalid file matching criteria provided'))\n  }\n  dispatch(setContextMenuItem(item))\n  cb && cb(null, item)\n}\n\nconst removePluginActions = (plugin, cb: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  dispatch(removeContextMenuItem(plugin))\n  cb && cb(null, true)\n}\n\nconst fileAdded = async (filePath: string) => {\n  await dispatch(fileAddedSuccess(filePath))\n  if (filePath.includes('_test.sol')) {\n    plugin.emit('newTestFileCreated', filePath)\n  }\n}\n\nconst folderAdded = async (folderPath: string) => {\n  const provider = plugin.fileManager.currentFileProvider()\n  const path = extractParentFromKey(folderPath) || provider.workspace || provider.type || ''\n\n  const promise = new Promise((resolve) => {\n    provider.resolveDirectory(path, (error, fileTree) => {\n      if (error) console.error(error)\n\n      resolve(fileTree)\n    })\n  })\n\n  promise.then((files) => {\n    folderPath = folderPath.replace(/^\\/+/, '')\n    dispatch(folderAddedSuccess(path, folderPath, files))\n  }).catch((error) => {\n    console.error(error)\n  })\n  return promise\n}\n\nconst fileRemoved = async (removePath: string) => {\n  await dispatch(fileRemovedSuccess(removePath))\n}\n\nconst fileRenamed = async (oldPath: string) => {\n  const provider = plugin.fileManager.currentFileProvider()\n  const path = extractParentFromKey(oldPath) || provider.workspace || provider.type || ''\n  const promise = new Promise((resolve) => {\n    provider.resolveDirectory(path, (error, fileTree) => {\n      if (error) console.error(error)\n\n      resolve(fileTree)\n    })\n  })\n\n  promise.then((files) => {\n    dispatch(fileRenamedSuccess(path, oldPath, files))\n  }).catch((error) => {\n    console.error(error)\n  })\n}\n\nconst rootFolderChanged = async (path) => {\n  await dispatch(rootFolderChangedSuccess(path))\n}\n","import React from 'react'\nimport { extractNameFromKey, createNonClashingNameAsync } from '@remix-ui/helper'\nimport Gists from 'gists'\nimport { customAction } from '@remixproject/plugin-api/lib/file-system/file-panel/type'\nimport { displayNotification, displayPopUp, fetchDirectoryError, fetchDirectoryRequest, fetchDirectorySuccess, focusElement, fsInitializationCompleted, hidePopUp, removeInputFieldSuccess, setCurrentWorkspace, setExpandPath, setMode, setWorkspaces } from './payload'\nimport { listenOnPluginEvents, listenOnProviderEvents } from './events'\nimport { createWorkspaceTemplate, getWorkspaces, loadWorkspacePreset, setPlugin } from './workspace'\n\nexport * from './events'\nexport * from './workspace'\n\nconst QueryParams = require('../../../../../../apps/remix-ide/src/lib/query-params')\nconst queryParams = new QueryParams()\n\nlet plugin, dispatch: React.Dispatch<any>\n\nexport const initWorkspace = (filePanelPlugin) => async (reducerDispatch: React.Dispatch<any>) => {\n  if (filePanelPlugin) {\n    plugin = filePanelPlugin\n    dispatch = reducerDispatch\n    setPlugin(plugin, dispatch)\n    const workspaceProvider = filePanelPlugin.fileProviders.workspace\n    const localhostProvider = filePanelPlugin.fileProviders.localhost\n    const params = queryParams.get()\n    const workspaces = await getWorkspaces() || []\n\n    dispatch(setWorkspaces(workspaces))\n    if (params.gist) {\n      await createWorkspaceTemplate('gist-sample', 'gist-template')\n      plugin.setWorkspace({ name: 'gist-sample', isLocalhost: false })\n      dispatch(setCurrentWorkspace('gist-sample'))\n      await loadWorkspacePreset('gist-template')\n    } else if (params.code || params.url) {\n      await createWorkspaceTemplate('code-sample', 'code-template')\n      plugin.setWorkspace({ name: 'code-sample', isLocalhost: false })\n      dispatch(setCurrentWorkspace('code-sample'))\n      const filePath = await loadWorkspacePreset('code-template')\n      plugin.on('editor', 'editorMounted', () => plugin.fileManager.openFile(filePath))\n    } else {\n      if (workspaces.length === 0) {\n        await createWorkspaceTemplate('default_workspace', 'default-template')\n        plugin.setWorkspace({ name: 'default_workspace', isLocalhost: false })\n        dispatch(setCurrentWorkspace('default_workspace'))\n        await loadWorkspacePreset('default-template')\n      } else {\n        if (workspaces.length > 0) {\n          workspaceProvider.setWorkspace(workspaces[workspaces.length - 1])\n          plugin.setWorkspace({ name: workspaces[workspaces.length - 1], isLocalhost: false })\n          dispatch(setCurrentWorkspace(workspaces[workspaces.length - 1]))\n        }\n      }\n    }\n\n    listenOnPluginEvents(plugin)\n    listenOnProviderEvents(workspaceProvider)(dispatch)\n    listenOnProviderEvents(localhostProvider)(dispatch)\n    dispatch(setMode('browser'))\n    plugin.setWorkspaces(await getWorkspaces())\n    dispatch(fsInitializationCompleted())\n    plugin.emit('workspaceInitializationCompleted')\n  }\n}\n\nexport const fetchDirectory = async (path: string) => {\n  const provider = plugin.fileManager.currentFileProvider()\n  const promise = new Promise((resolve) => {\n    provider.resolveDirectory(path, (error, fileTree) => {\n      if (error) console.error(error)\n\n      resolve(fileTree)\n    })\n  })\n\n  dispatch(fetchDirectoryRequest(promise))\n  promise.then((fileTree) => {\n    dispatch(fetchDirectorySuccess(path, fileTree))\n  }).catch((error) => {\n    dispatch(fetchDirectoryError({ error }))\n  })\n  return promise\n}\n\nexport const removeInputField = async (path: string) => {\n  dispatch(removeInputFieldSuccess(path))\n}\n\nexport const publishToGist = async (path?: string, type?: string) => {\n  // If 'id' is not defined, it is not a gist update but a creation so we have to take the files from the browser explorer.\n  const folder = path || '/'\n  const id = type === 'gist' ? extractNameFromKey(path).split('-')[1] : null\n  try {\n    const packaged = await packageGistFiles(folder)\n    // check for token\n    const config = plugin.registry.get('config').api\n    const accessToken = config.get('settings/gist-access-token')\n\n    if (!accessToken) {\n      dispatch(displayNotification('Authorize Token', 'Remix requires an access token (which includes gists creation permission). Please go to the settings tab to create one.', 'Close', null, () => {}))\n    } else {\n      const description = 'Created using remix-ide: Realtime Ethereum Contract Compiler and Runtime. \\n Load this file by pasting this gists URL or ID at https://remix.ethereum.org/#version=' +\n        queryParams.get().version + '&optimize=' + queryParams.get().optimize + '&runs=' + queryParams.get().runs + '&gist='\n      const gists = new Gists({ token: accessToken })\n\n      if (id) {\n        const originalFileList = await getOriginalFiles(id)\n        // Telling the GIST API to remove files\n        const updatedFileList = Object.keys(packaged)\n        const allItems = Object.keys(originalFileList)\n          .filter(fileName => updatedFileList.indexOf(fileName) === -1)\n          .reduce((acc, deleteFileName) => ({\n            ...acc,\n            [deleteFileName]: null\n          }), originalFileList)\n        // adding new files\n        updatedFileList.forEach((file) => {\n          const _items = file.split('/')\n          const _fileName = _items[_items.length - 1]\n          allItems[_fileName] = packaged[file]\n        })\n\n        dispatch(displayPopUp('Saving gist (' + id + ') ...'))\n        gists.edit({\n          description: description,\n          public: true,\n          files: allItems,\n          id: id\n        }, (error, result) => {\n          handleGistResponse(error, result)\n          if (!error) {\n            for (const key in allItems) {\n              if (allItems[key] === null) delete allItems[key]\n            }\n          }\n        })\n      } else {\n        // id is not existing, need to create a new gist\n        dispatch(displayPopUp('Creating a new gist ...'))\n        gists.create({\n          description: description,\n          public: true,\n          files: packaged\n        }, (error, result) => {\n          handleGistResponse(error, result)\n        })\n      }\n    }\n  } catch (error) {\n    console.log(error)\n    dispatch(displayNotification('Publish to gist Failed', 'Failed to create gist: ' + error.message, 'Close', null, async () => {}))\n  }\n}\n\nexport const clearPopUp = async () => {\n  dispatch(hidePopUp())\n}\n\nexport const createNewFile = async (path: string, rootDir: string) => {\n  const fileManager = plugin.fileManager\n  const newName = await createNonClashingNameAsync(path, fileManager)\n  const createFile = await fileManager.writeFile(newName, '')\n\n  if (!createFile) {\n    return dispatch(displayPopUp('Failed to create file ' + newName))\n  } else {\n    const path = newName.indexOf(rootDir + '/') === 0 ? newName.replace(rootDir + '/', '') : newName\n\n    await fileManager.open(path)\n    setFocusElement([{ key: path, type: 'file' }])\n  }\n}\n\nexport const setFocusElement = async (elements: { key: string, type: 'file' | 'folder' | 'gist' }[]) => {\n  dispatch(focusElement(elements))\n}\n\nexport const createNewFolder = async (path: string, rootDir: string) => {\n  const fileManager = plugin.fileManager\n  const dirName = path + '/'\n  const exists = await fileManager.exists(dirName)\n\n  if (exists) {\n    return dispatch(displayNotification('Rename File Failed', `A file or folder ${extractNameFromKey(path)} already exists at this location. Please choose a different name.`, 'Close', null, () => {}))\n  }\n  await fileManager.mkdir(dirName)\n  path = path.indexOf(rootDir + '/') === 0 ? path.replace(rootDir + '/', '') : path\n  dispatch(focusElement([{ key: path, type: 'folder' }]))\n}\n\nexport const deletePath = async (path: string[]) => {\n  const fileManager = plugin.fileManager\n\n  for (const p of path) {\n    try {\n      await fileManager.remove(p)\n    } catch (e) {\n      const isDir = await fileManager.isDirectory(p)\n\n      dispatch(displayPopUp(`Failed to remove ${isDir ? 'folder' : 'file'} ${p}.`))\n    }\n  }\n}\n\nexport const renamePath = async (oldPath: string, newPath: string) => {\n  const fileManager = plugin.fileManager\n  const exists = await fileManager.exists(newPath)\n\n  if (exists) {\n    dispatch(displayNotification('Rename File Failed', `A file or folder ${extractNameFromKey(newPath)} already exists at this location. Please choose a different name.`, 'Close', null, () => {}))\n  } else {\n    await fileManager.rename(oldPath, newPath)\n  }\n}\n\nexport const copyFile = async (src: string, dest: string) => {\n  const fileManager = plugin.fileManager\n\n  try {\n    fileManager.copyFile(src, dest)\n  } catch (error) {\n    dispatch(displayPopUp('Oops! An error ocurred while performing copyFile operation.' + error))\n  }\n}\n\nexport const copyFolder = async (src: string, dest: string) => {\n  const fileManager = plugin.fileManager\n\n  try {\n    fileManager.copyDir(src, dest)\n  } catch (error) {\n    dispatch(displayPopUp('Oops! An error ocurred while performing copyDir operation.' + error))\n  }\n}\n\nexport const runScript = async (path: string) => {\n  const provider = plugin.fileManager.currentFileProvider()\n\n  provider.get(path, (error, content: string) => {\n    if (error) {\n      return dispatch(displayPopUp(error))\n    }\n    plugin.call('scriptRunner', 'execute', content)\n  })\n}\n\nexport const emitContextMenuEvent = async (cmd: customAction) => {\n  plugin.call(cmd.id, cmd.name, cmd)\n}\n\nexport const handleClickFile = async (path: string, type: 'file' | 'folder' | 'gist') => {\n  plugin.fileManager.open(path)\n  dispatch(focusElement([{ key: path, type }]))\n}\n\nexport const handleExpandPath = (paths: string[]) => {\n  dispatch(setExpandPath(paths))\n}\n\nconst packageGistFiles = (directory) => {\n  return new Promise((resolve, reject) => {\n    const workspaceProvider = plugin.fileProviders.workspace\n    const isFile = workspaceProvider.isFile(directory)\n    const ret = {}\n\n    if (isFile) {\n      try {\n        workspaceProvider.get(directory, (error, content) => {\n          if (error) throw new Error('An error ocurred while getting file content. ' + directory)\n          if (/^\\s+$/.test(content) || !content.length) {\n            content = '// this line is added to create a gist. Empty file is not allowed.'\n          }\n          directory = directory.replace(/\\//g, '...')\n          ret[directory] = { content }\n          return resolve(ret)\n        })\n      } catch (e) {\n        return reject(e)\n      }\n    } else {\n      try {\n        (async () => {\n          await workspaceProvider.copyFolderToJson(directory, ({ path, content }) => {\n            if (/^\\s+$/.test(content) || !content.length) {\n              content = '// this line is added to create a gist. Empty file is not allowed.'\n            }\n            if (path.indexOf('gist-') === 0) {\n              path = path.split('/')\n              path.shift()\n              path = path.join('/')\n            }\n            path = path.replace(/\\//g, '...')\n            ret[path] = { content }\n          })\n          resolve(ret)\n        })()\n      } catch (e) {\n        return reject(e)\n      }\n    }\n  })\n}\n\nconst handleGistResponse = (error, data) => {\n  if (error) {\n    dispatch(displayNotification('Publish to gist Failed', 'Failed to manage gist: ' + error, 'Close', null))\n  } else {\n    if (data.html_url) {\n      dispatch(displayNotification('Gist is ready', `The gist is at ${data.html_url}. Would you like to open it in a new window?`, 'OK', 'Cancel', () => {\n        window.open(data.html_url, '_blank')\n      }, () => {}))\n    } else {\n      const error = JSON.stringify(data.errors, null, '\\t') || ''\n      const message = data.message === 'Not Found' ? data.message + '. Please make sure the API token has right to create a gist.' : data.message\n\n      dispatch(displayNotification('Publish to gist Failed', message + ' ' + data.documentation_url + ' ' + error, 'Close', null))\n    }\n  }\n}\n\n/**\n   * This function is to get the original content of given gist\n   * @params id is the gist id to fetch\n   */\nconst getOriginalFiles = async (id) => {\n  if (!id) {\n    return []\n  }\n\n  const url = `https://api.github.com/gists/${id}`\n  const res = await fetch(url)\n  const data = await res.json()\n  return data.files || []\n}\n","import { action } from '../types'\n\nexport const setCurrentWorkspace = (workspace: string) => {\n  return {\n    type: 'SET_CURRENT_WORKSPACE',\n    payload: workspace\n  }\n}\n\nexport const setWorkspaces = (workspaces: string[]) => {\n  return {\n    type: 'SET_WORKSPACES',\n    payload: workspaces\n  }\n}\n\nexport const setMode = (mode: 'browser' | 'localhost') => {\n  return {\n    type: 'SET_MODE',\n    payload: mode\n  }\n}\n\nexport const fetchDirectoryError = (error: any) => {\n  return {\n    type: 'FETCH_DIRECTORY_ERROR',\n    payload: error\n  }\n}\n\nexport const fetchDirectoryRequest = (promise: Promise<any>) => {\n  return {\n    type: 'FETCH_DIRECTORY_REQUEST',\n    payload: promise\n  }\n}\n\nexport const fetchDirectorySuccess = (path: string, fileTree) => {\n  return {\n    type: 'FETCH_DIRECTORY_SUCCESS',\n    payload: { path, fileTree }\n  }\n}\n\nexport const displayNotification = (title: string, message: string, labelOk: string, labelCancel: string, actionOk?: (...args) => void, actionCancel?: (...args) => void) => {\n  return {\n    type: 'DISPLAY_NOTIFICATION',\n    payload: { title, message, labelOk, labelCancel, actionOk, actionCancel }\n  }\n}\n\nexport const hideNotification = () => {\n  return {\n    type: 'HIDE_NOTIFICATION'\n  }\n}\n\nexport const fileAddedSuccess = (filePath: string) => {\n  return {\n    type: 'FILE_ADDED_SUCCESS',\n    payload: filePath\n  }\n}\n\nexport const folderAddedSuccess = (path: string, folderPath: string, fileTree) => {\n  return {\n    type: 'FOLDER_ADDED_SUCCESS',\n    payload: { path, folderPath, fileTree }\n  }\n}\n\nexport const fileRemovedSuccess = (removePath: string) => {\n  return {\n    type: 'FILE_REMOVED_SUCCESS',\n    payload: removePath\n  }\n}\n\nexport const fileRenamedSuccess = (path: string, oldPath: string, fileTree) => {\n  return {\n    type: 'FILE_RENAMED_SUCCESS',\n    payload: { path, oldPath, fileTree }\n  }\n}\n\nexport const rootFolderChangedSuccess = (path: string) => {\n  return {\n    type: 'ROOT_FOLDER_CHANGED',\n    payload: path\n  }\n}\n\nexport const addInputFieldSuccess = (path: string, fileTree, type: 'file' | 'folder' | 'gist') => {\n  return {\n    type: 'ADD_INPUT_FIELD',\n    payload: { path, fileTree, type }\n  }\n}\n\nexport const removeInputFieldSuccess = (path: string) => {\n  return {\n    type: 'REMOVE_INPUT_FIELD',\n    payload: { path }\n  }\n}\n\nexport const setReadOnlyMode = (mode: boolean) => {\n  return {\n    type: 'SET_READ_ONLY_MODE',\n    payload: mode\n  }\n}\n\nexport const createWorkspaceError = (error: any) => {\n  return {\n    type: 'CREATE_WORKSPACE_ERROR',\n    payload: error\n  }\n}\n\nexport const createWorkspaceRequest = (promise: Promise<any>) => {\n  return {\n    type: 'CREATE_WORKSPACE_REQUEST',\n    payload: promise\n  }\n}\n\nexport const createWorkspaceSuccess = (workspaceName: string) => {\n  return {\n    type: 'CREATE_WORKSPACE_SUCCESS',\n    payload: workspaceName\n  }\n}\n\nexport const fetchWorkspaceDirectoryError = (error: any) => {\n  return {\n    type: 'FETCH_WORKSPACE_DIRECTORY_ERROR',\n    payload: error\n  }\n}\n\nexport const fetchWorkspaceDirectoryRequest = (promise: Promise<any>) => {\n  return {\n    type: 'FETCH_WORKSPACE_DIRECTORY_REQUEST',\n    payload: promise\n  }\n}\n\nexport const fetchWorkspaceDirectorySuccess = (path: string, fileTree) => {\n  return {\n    type: 'FETCH_WORKSPACE_DIRECTORY_SUCCESS',\n    payload: { path, fileTree }\n  }\n}\n\nexport const setRenameWorkspace = (oldName: string, workspaceName: string) => {\n  return {\n    type: 'RENAME_WORKSPACE',\n    payload: { oldName, workspaceName }\n  }\n}\n\nexport const setDeleteWorkspace = (workspaceName: string) => {\n  return {\n    type: 'DELETE_WORKSPACE',\n    payload: workspaceName\n  }\n}\n\nexport const displayPopUp = (message: string) => {\n  return {\n    type: 'DISPLAY_POPUP_MESSAGE',\n    payload: message\n  }\n}\n\nexport const hidePopUp = () => {\n  return {\n    type: 'HIDE_POPUP_MESSAGE'\n  }\n}\n\nexport const focusElement = (elements: { key: string, type: 'file' | 'folder' | 'gist' }[]) => {\n  return {\n    type: 'SET_FOCUS_ELEMENT',\n    payload: elements\n  }\n}\n\nexport const setContextMenuItem = (item: action) => {\n  return {\n    type: 'SET_CONTEXT_MENU_ITEM',\n    payload: item\n  }\n}\n\nexport const removeContextMenuItem = (plugin) => {\n  return {\n    type: 'REMOVE_CONTEXT_MENU_ITEM',\n    payload: plugin\n  }\n}\n\nexport const setExpandPath = (paths: string[]) => {\n  return {\n    type: 'SET_EXPAND_PATH',\n    payload: paths\n  }\n}\n\nexport const loadLocalhostError = (error: any) => {\n  return {\n    type: 'LOAD_LOCALHOST_ERROR',\n    payload: error\n  }\n}\n\nexport const loadLocalhostRequest = () => {\n  return {\n    type: 'LOAD_LOCALHOST_REQUEST'\n  }\n}\n\nexport const loadLocalhostSuccess = () => {\n  return {\n    type: 'LOAD_LOCALHOST_SUCCESS'\n  }\n}\n\nexport const fsInitializationCompleted = () => {\n  return {\n    type: 'FS_INITIALIZATION_COMPLETED'\n  }\n}\n","import React from 'react'\nimport { bufferToHex, keccakFromString } from 'ethereumjs-util'\nimport axios, { AxiosResponse } from 'axios'\nimport { addInputFieldSuccess, createWorkspaceError, createWorkspaceRequest, createWorkspaceSuccess, displayNotification, fetchWorkspaceDirectoryError, fetchWorkspaceDirectoryRequest, fetchWorkspaceDirectorySuccess, hideNotification, setCurrentWorkspace, setDeleteWorkspace, setMode, setReadOnlyMode, setRenameWorkspace } from './payload'\nimport { checkSlash, checkSpecialChars } from '@remix-ui/helper'\n\nconst examples = require('../../../../../../apps/remix-ide/src/app/editor/examples')\nconst QueryParams = require('../../../../../../apps/remix-ide/src/lib/query-params')\n\nconst LOCALHOST = ' - connect to localhost - '\nconst NO_WORKSPACE = ' - none - '\nconst queryParams = new QueryParams()\nlet plugin, dispatch: React.Dispatch<any>\n\nexport const setPlugin = (filePanelPlugin, reducerDispatch) => {\n  plugin = filePanelPlugin\n  dispatch = reducerDispatch\n}\n\nexport const addInputField = async (type: 'file' | 'folder', path: string, cb?: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  const provider = plugin.fileManager.currentFileProvider()\n  const promise = new Promise((resolve, reject) => {\n    provider.resolveDirectory(path, (error, fileTree) => {\n      if (error) {\n        cb && cb(error)\n        return reject(error)\n      }\n\n      cb && cb(null, true)\n      resolve(fileTree)\n    })\n  })\n\n  promise.then((files) => {\n    dispatch(addInputFieldSuccess(path, files, type))\n  }).catch((error) => {\n    console.error(error)\n  })\n  return promise\n}\n\nexport const createWorkspace = async (workspaceName: string, isEmpty = false, cb?: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  await plugin.fileManager.closeAllFiles()\n  const promise = createWorkspaceTemplate(workspaceName, 'default-template')\n\n  dispatch(createWorkspaceRequest(promise))\n  promise.then(async () => {\n    dispatch(createWorkspaceSuccess(workspaceName))\n    plugin.setWorkspace({ name: workspaceName, isLocalhost: false })\n    plugin.setWorkspaces(await getWorkspaces())\n    plugin.workspaceCreated(workspaceName)\n    if (!isEmpty) await loadWorkspacePreset('default-template')\n    cb && cb(null, workspaceName)\n  }).catch((error) => {\n    dispatch(createWorkspaceError({ error }))\n    cb && cb(error)\n  })\n  return promise\n}\n\nexport const createWorkspaceTemplate = async (workspaceName: string, template: 'gist-template' | 'code-template' | 'default-template' = 'default-template') => {\n  if (!workspaceName) throw new Error('workspace name cannot be empty')\n  if (checkSpecialChars(workspaceName) || checkSlash(workspaceName)) throw new Error('special characters are not allowed')\n  if (await workspaceExists(workspaceName) && template === 'default-template') throw new Error('workspace already exists')\n  else {\n    const workspaceProvider = plugin.fileProviders.workspace\n\n    await workspaceProvider.createWorkspace(workspaceName)\n  }\n}\n\nexport const loadWorkspacePreset = async (template: 'gist-template' | 'code-template' | 'default-template' = 'default-template') => {\n  const workspaceProvider = plugin.fileProviders.workspace\n  const params = queryParams.get()\n\n  switch (template) {\n    case 'code-template':\n      // creates a new workspace code-sample and loads code from url params.\n      try {\n        let path = ''; let content = ''\n\n        if (params.code) {\n          const hash = bufferToHex(keccakFromString(params.code))\n\n          path = 'contract-' + hash.replace('0x', '').substring(0, 10) + '.sol'\n          content = atob(params.code)\n          workspaceProvider.set(path, content)\n        }\n        if (params.url) {\n          const data = await plugin.call('contentImport', 'resolve', params.url)\n\n          path = data.cleanUrl\n          content = data.content\n          workspaceProvider.set(path, content)\n        }\n        return path\n      } catch (e) {\n        console.error(e)\n      }\n      break\n\n    case 'gist-template':\n      // creates a new workspace gist-sample and get the file from gist\n      try {\n        const gistId = params.gist\n        const response: AxiosResponse = await axios.get(`https://api.github.com/gists/${gistId}`)\n        const data = response.data as { files: any }\n\n        if (!data.files) {\n          return dispatch(displayNotification('Gist load error', 'No files found', 'OK', null, () => { dispatch(hideNotification()) }, null))\n        }\n        const obj = {}\n\n        Object.keys(data.files).forEach((element) => {\n          const path = element.replace(/\\.\\.\\./g, '/')\n\n          obj['/' + 'gist-' + gistId + '/' + path] = data.files[element]\n        })\n        plugin.fileManager.setBatchFiles(obj, 'workspace', true, (errorLoadingFile) => {\n          if (!errorLoadingFile) {\n            const provider = plugin.fileManager.getProvider('workspace')\n\n            provider.lastLoadedGistId = gistId\n          } else {\n            dispatch(displayNotification('', errorLoadingFile.message || errorLoadingFile, 'OK', null, () => {}, null))\n          }\n        })\n      } catch (e) {\n        dispatch(displayNotification('Gist load error', e.message, 'OK', null, () => { dispatch(hideNotification()) }, null))\n        console.error(e)\n      }\n      break\n\n    case 'default-template':\n      // creates a new workspace and populates it with default project template.\n      // insert example contracts\n      for (const file in examples) {\n        try {\n          await workspaceProvider.set(examples[file].name, examples[file].content)\n        } catch (error) {\n          console.error(error)\n        }\n      }\n      break\n  }\n}\n\nexport const workspaceExists = async (name: string) => {\n  const workspaceProvider = plugin.fileProviders.workspace\n  const browserProvider = plugin.fileProviders.browser\n  const workspacePath = 'browser/' + workspaceProvider.workspacesPath + '/' + name\n\n  return browserProvider.exists(workspacePath)\n}\n\nexport const fetchWorkspaceDirectory = async (path: string) => {\n  if (!path) return\n  const provider = plugin.fileManager.currentFileProvider()\n  const promise = new Promise((resolve) => {\n    provider.resolveDirectory(path, (error, fileTree) => {\n      if (error) console.error(error)\n\n      resolve(fileTree)\n    })\n  })\n\n  dispatch(fetchWorkspaceDirectoryRequest(promise))\n  promise.then((fileTree) => {\n    dispatch(fetchWorkspaceDirectorySuccess(path, fileTree))\n  }).catch((error) => {\n    dispatch(fetchWorkspaceDirectoryError({ error }))\n  })\n  return promise\n}\n\nexport const renameWorkspace = async (oldName: string, workspaceName: string, cb?: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  await renameWorkspaceFromProvider(oldName, workspaceName)\n  await dispatch(setRenameWorkspace(oldName, workspaceName))\n  plugin.setWorkspace({ name: workspaceName, isLocalhost: false })\n  plugin.workspaceRenamed(oldName, workspaceName)\n  cb && cb(null, workspaceName)\n}\n\nexport const renameWorkspaceFromProvider = async (oldName: string, workspaceName: string) => {\n  if (!workspaceName) throw new Error('name cannot be empty')\n  if (checkSpecialChars(workspaceName) || checkSlash(workspaceName)) throw new Error('special characters are not allowed')\n  if (await workspaceExists(workspaceName)) throw new Error('workspace already exists')\n  const browserProvider = plugin.fileProviders.browser\n  const workspaceProvider = plugin.fileProviders.workspace\n  const workspacesPath = workspaceProvider.workspacesPath\n  browserProvider.rename('browser/' + workspacesPath + '/' + oldName, 'browser/' + workspacesPath + '/' + workspaceName, true)\n  workspaceProvider.setWorkspace(workspaceName)\n  plugin.setWorkspaces(await getWorkspaces())\n}\n\nexport const deleteWorkspace = async (workspaceName: string, cb?: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  await deleteWorkspaceFromProvider(workspaceName)\n  await dispatch(setDeleteWorkspace(workspaceName))\n  plugin.workspaceDeleted(workspaceName)\n  cb && cb(null, workspaceName)\n}\n\nconst deleteWorkspaceFromProvider = async (workspaceName: string) => {\n  const workspacesPath = plugin.fileProviders.workspace.workspacesPath\n\n  await plugin.fileManager.closeAllFiles()\n  plugin.fileProviders.browser.remove(workspacesPath + '/' + workspaceName)\n  plugin.setWorkspaces(await getWorkspaces())\n}\n\nexport const switchToWorkspace = async (name: string) => {\n  await plugin.fileManager.closeAllFiles()\n  if (name === LOCALHOST) {\n    const isActive = await plugin.call('manager', 'isActive', 'remixd')\n\n    if (!isActive) await plugin.call('manager', 'activatePlugin', 'remixd')\n    dispatch(setMode('localhost'))\n    plugin.emit('setWorkspace', { name: null, isLocalhost: true })\n  } else if (name === NO_WORKSPACE) {\n    plugin.fileProviders.workspace.clearWorkspace()\n    plugin.setWorkspace({ name: null, isLocalhost: false })\n    dispatch(setCurrentWorkspace(null))\n  } else {\n    const isActive = await plugin.call('manager', 'isActive', 'remixd')\n\n    if (isActive) await plugin.call('manager', 'deactivatePlugin', 'remixd')\n    await plugin.fileProviders.workspace.setWorkspace(name)\n    plugin.setWorkspace({ name, isLocalhost: false })\n    dispatch(setMode('browser'))\n    dispatch(setCurrentWorkspace(name))\n    dispatch(setReadOnlyMode(false))\n  }\n}\n\nexport const uploadFile = async (target, targetFolder: string, cb?: (err: Error, result?: string | number | boolean | Record<string, any>) => void) => {\n  // TODO The file explorer is merely a view on the current state of\n  // the files module. Please ask the user here if they want to overwrite\n  // a file and then just use `files.add`. The file explorer will\n  // pick that up via the 'fileAdded' event from the files module.\n  [...target.files].forEach((file) => {\n    const workspaceProvider = plugin.fileProviders.workspace\n    const loadFile = (name: string): void => {\n      const fileReader = new FileReader()\n\n      fileReader.onload = async function (event) {\n        if (checkSpecialChars(file.name)) {\n          return dispatch(displayNotification('File Upload Failed', 'Special characters are not allowed', 'Close', null, async () => {}))\n        }\n        const success = await workspaceProvider.set(name, event.target.result)\n\n        if (!success) {\n          return dispatch(displayNotification('File Upload Failed', 'Failed to create file ' + name, 'Close', null, async () => {}))\n        }\n        const config = plugin.registry.get('config').api\n        const editor = plugin.registry.get('editor').api\n\n        if ((config.get('currentFile') === name) && (editor.currentContent() !== event.target.result)) {\n          editor.setText(event.target.result)\n        }\n      }\n      fileReader.readAsText(file)\n      cb && cb(null, true)\n    }\n    const name = targetFolder === '/' ? file.name : `${targetFolder}/${file.name}`\n\n    workspaceProvider.exists(name).then(exist => {\n      if (!exist) {\n        loadFile(name)\n      } else {\n        dispatch(displayNotification('Confirm overwrite', `The file ${name} already exists! Would you like to overwrite it?`, 'OK', null, () => {\n          loadFile(name)\n        }, () => {}))\n      }\n    }).catch(error => {\n      cb && cb(error)\n      if (error) console.log(error)\n    })\n  })\n}\n\nexport const getWorkspaces = async (): Promise<string[]> | undefined => {\n  try {\n    const workspaces: string[] = await new Promise((resolve, reject) => {\n      const workspacesPath = plugin.fileProviders.workspace.workspacesPath\n\n      plugin.fileProviders.browser.resolveDirectory('/' + workspacesPath, (error, items) => {\n        if (error) {\n          return reject(error)\n        }\n        resolve(Object.keys(items)\n          .filter((item) => items[item].isDirectory)\n          .map((folder) => folder.replace(workspacesPath + '/', '')))\n      })\n    })\n\n    plugin.setWorkspaces(workspaces)\n    return workspaces\n  } catch (e) {}\n}\n","import React, { useRef, useEffect } from 'react' // eslint-disable-line\nimport { action, FileExplorerContextMenuProps } from '../types'\n\nimport '../css/file-explorer-context-menu.css'\nimport { customAction } from '@remixproject/plugin-api/lib/file-system/file-panel'\n\ndeclare global {\n  interface Window {\n    _paq: any\n  }\n}\nconst _paq = window._paq = window._paq || []  //eslint-disable-line\n\nexport const FileExplorerContextMenu = (props: FileExplorerContextMenuProps) => {\n  const { actions, createNewFile, createNewFolder, deletePath, renamePath, hideContextMenu, pushChangesToGist, publishFileToGist, publishFolderToGist, copy, paste, runScript, emit, pageX, pageY, path, type, focus, ...otherProps } = props\n  const contextMenuRef = useRef(null)\n  useEffect(() => {\n    contextMenuRef.current.focus()\n  }, [])\n\n  useEffect(() => {\n    const menuItemsContainer = contextMenuRef.current\n    const boundary = menuItemsContainer.getBoundingClientRect()\n\n    if (boundary.bottom > (window.innerHeight || document.documentElement.clientHeight)) {\n      menuItemsContainer.style.position = 'fixed'\n      menuItemsContainer.style.bottom = '10px'\n      menuItemsContainer.style.top = null\n    }\n  }, [pageX, pageY])\n\n  const filterItem = (item: action) => {\n    /**\n     * if there are multiple elements focused we need to take this and all conditions must be met\n     * for example : 'downloadAsZip' with type ['file','folder'] will work on files and folders when multiple are selected\n    **/\n    const nonRootFocus = focus.filter((el) => { return !(el.key === '' && el.type === 'folder') })\n    if (nonRootFocus.length > 1) {\n      for (const element of nonRootFocus) {\n        if (!itemMatchesCondition(item, element.type, element.key)) return false\n      }\n      return true\n    } else {\n      return itemMatchesCondition(item, type, path)\n    }\n  }\n\n  const itemMatchesCondition = (item: action, itemType: string, itemPath: string) => {\n    if (item.type && Array.isArray(item.type) && (item.type.findIndex(name => name === itemType) !== -1)) return true\n    else if (item.path && Array.isArray(item.path) && (item.path.findIndex(key => key === itemPath) !== -1)) return true\n    else if (item.extension && Array.isArray(item.extension) && (item.extension.findIndex(ext => itemPath.endsWith(ext)) !== -1)) return true\n    else if (item.pattern && Array.isArray(item.pattern) && (item.pattern.filter(value => itemPath.match(new RegExp(value))).length > 0)) return true\n    else return false\n  }\n\n  const getPath = () => {\n    if (focus.length > 1) {\n      return focus.map((element) => element.key)\n    } else {\n      return path\n    }\n  }\n\n  const menu = () => {\n    return actions.filter(item => filterItem(item)).map((item, index) => {\n      return <li\n        id={`menuitem${item.name.toLowerCase()}`}\n        key={index}\n        className='remixui_liitem'\n        onClick={(e) => {\n          e.stopPropagation()\n          switch (item.name) {\n            case 'New File':\n              createNewFile(path)\n              break\n            case 'New Folder':\n              createNewFolder(path)\n              break\n            case 'Rename':\n              renamePath(path, type)\n              break\n            case 'Delete':\n              deletePath(getPath())\n              break\n            case 'Push changes to gist':\n              _paq.push(['trackEvent', 'fileExplorer', 'pushToChangesoGist'])\n              pushChangesToGist(path, type)\n              break\n            case 'Publish folder to gist':\n              _paq.push(['trackEvent', 'fileExplorer', 'publishFolderToGist'])\n              publishFolderToGist(path, type)\n              break\n            case 'Publish file to gist':\n              _paq.push(['trackEvent', 'fileExplorer', 'publishFileToGist'])\n              publishFileToGist(path, type)\n              break\n            case 'Run':\n              _paq.push(['trackEvent', 'fileExplorer', 'runScript'])\n              runScript(path)\n              break\n            case 'Copy':\n              copy(path, type)\n              break\n            case 'Paste':\n              paste(path, type)\n              break\n            case 'Delete All':\n              deletePath(getPath())\n              break\n            default:\n              _paq.push(['trackEvent', 'fileExplorer', 'customAction', `${item.id}/${item.name}`])\n              emit && emit({ ...item, path: [path] } as customAction)\n              break\n          }\n          hideContextMenu()\n        }}>{item.label || item.name}</li>\n    })\n  }\n\n  return (\n    <div\n      id=\"menuItemsContainer\"\n      className=\"p-1 remixui_contextContainer bg-light shadow border\"\n      style={{ left: pageX, top: pageY }}\n      ref={contextMenuRef}\n      onBlur={hideContextMenu}\n      tabIndex={500}\n      {...otherProps}\n    >\n      <ul id='remixui_menuitems'>{menu()}</ul>\n    </div>\n  )\n}\n\nexport default FileExplorerContextMenu\n","import React, { useState, useEffect } from 'react' //eslint-disable-line\nimport { FileExplorerMenuProps } from '../types'\n\nexport const FileExplorerMenu = (props: FileExplorerMenuProps) => {\n  const [state, setState] = useState({\n    menuItems: [\n      {\n        action: 'createNewFile',\n        title: 'Create New File',\n        icon: 'far fa-file'\n      },\n      {\n        action: 'createNewFolder',\n        title: 'Create New Folder',\n        icon: 'far fa-folder'\n      },\n      {\n        action: 'publishToGist',\n        title: 'Publish all the current workspace files (only root) to a github gist',\n        icon: 'fab fa-github'\n      },\n      {\n        action: 'uploadFile',\n        title: 'Load a local file into current workspace',\n        icon: 'fa fa-upload'\n      },\n      {\n        action: 'updateGist',\n        title: 'Update the current [gist] explorer',\n        icon: 'fab fa-github'\n      }\n    ].filter(item => props.menuItems && props.menuItems.find((name) => { return name === item.action })),\n    actions: {}\n  })\n\n  useEffect(() => {\n    const actions = {\n      updateGist: () => {}\n    }\n\n    setState(prevState => {\n      return { ...prevState, actions }\n    })\n  }, [])\n\n  return (\n    <>\n      <span className='remixui_label' title={props.title} data-path={props.title} style={{ fontWeight: 'bold' }}>{ props.title }</span>\n      <span className=\"pl-2\">{\n        state.menuItems.map(({ action, title, icon }, index) => {\n          if (action === 'uploadFile') {\n            return (\n              <label\n                id={action}\n                data-id={'fileExplorerUploadFile' + action }\n                className={icon + ' mb-0 remixui_newFile'}\n                title={title}\n                key={index}\n              >\n                <input id=\"fileUpload\" data-id=\"fileExplorerFileUpload\" type=\"file\" onChange={(e) => {\n                  e.stopPropagation()\n                  props.uploadFile(e.target)\n                  e.target.value = null\n                }}\n                multiple />\n              </label>\n            )\n          } else {\n            return (\n              <span\n                id={action}\n                data-id={'fileExplorerNewFile' + action}\n                onClick={(e) => {\n                  e.stopPropagation()\n                  if (action === 'createNewFile') {\n                    props.createNewFile()\n                  } else if (action === 'createNewFolder') {\n                    props.createNewFolder()\n                  } else if (action === 'publishToGist') {\n                    props.publishToGist()\n                  } else {\n                    state.actions[action]()\n                  }\n                }}\n                className={'newFile ' + icon + ' remixui_newFile'}\n                title={title}\n                key={index}\n              >\n              </span>\n            )\n          }\n        })}\n      </span>\n    </>\n  )\n}\n\nexport default FileExplorerMenu\n","import React, { useEffect, useState, useContext, SyntheticEvent } from 'react' // eslint-disable-line\nimport { TreeView, TreeViewItem } from '@remix-ui/tree-view' // eslint-disable-line\nimport { FileExplorerMenu } from './file-explorer-menu' // eslint-disable-line\nimport { FileExplorerContextMenu } from './file-explorer-context-menu' // eslint-disable-line\nimport { FileExplorerProps, MenuItems, FileExplorerState } from '../types'\nimport { customAction } from '@remixproject/plugin-api/lib/file-system/file-panel'\nimport { contextMenuActions } from '../utils'\n\nimport '../css/file-explorer.css'\nimport { checkSpecialChars, extractNameFromKey, extractParentFromKey, joinPath } from '@remix-ui/helper'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { FileRender } from './file-render'\n\nexport const FileExplorer = (props: FileExplorerProps) => {\n  const { name, contextMenuItems, removedContextMenuItems, files } = props\n  const [state, setState] = useState<FileExplorerState>({\n    ctrlKey: false,\n    newFileName: '',\n    actions: contextMenuActions,\n    focusContext: {\n      element: null,\n      x: null,\n      y: null,\n      type: ''\n    },\n    focusEdit: {\n      element: null,\n      type: '',\n      isNew: false,\n      lastEdit: ''\n    },\n    mouseOverElement: null,\n    showContextMenu: false,\n    reservedKeywords: [name, 'gist-'],\n    copyElement: []\n  })\n  const [canPaste, setCanPaste] = useState(false)\n\n  useEffect(() => {\n    if (contextMenuItems) {\n      addMenuItems(contextMenuItems)\n    }\n  }, [contextMenuItems])\n\n  useEffect(() => {\n    if (removedContextMenuItems) {\n      removeMenuItems(removedContextMenuItems)\n    }\n  }, [contextMenuItems])\n\n  useEffect(() => {\n    if (props.focusEdit) {\n      setState(prevState => {\n        return { ...prevState, focusEdit: { element: props.focusEdit, type: 'file', isNew: true, lastEdit: null } }\n      })\n    }\n  }, [props.focusEdit])\n\n  useEffect(() => {\n    const keyPressHandler = (e: KeyboardEvent) => {\n      if (e.shiftKey) {\n        setState(prevState => {\n          return { ...prevState, ctrlKey: true }\n        })\n      }\n    }\n\n    const keyUpHandler = (e: KeyboardEvent) => {\n      if (!e.shiftKey) {\n        setState(prevState => {\n          return { ...prevState, ctrlKey: false }\n        })\n      }\n    }\n\n    document.addEventListener('keydown', keyPressHandler)\n    document.addEventListener('keyup', keyUpHandler)\n    return () => {\n      document.removeEventListener('keydown', keyPressHandler)\n      document.removeEventListener('keyup', keyUpHandler)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (canPaste) {\n      addMenuItems([{\n        id: 'paste',\n        name: 'Paste',\n        type: ['folder', 'file'],\n        path: [],\n        extension: [],\n        pattern: [],\n        multiselect: false,\n        label: ''\n      }])\n    } else {\n      removeMenuItems([{\n        id: 'paste',\n        name: 'Paste',\n        type: ['folder', 'file'],\n        path: [],\n        extension: [],\n        pattern: [],\n        multiselect: false,\n        label: ''\n      }])\n    }\n  }, [canPaste])\n\n  const addMenuItems = (items: MenuItems) => {\n    setState(prevState => {\n      // filter duplicate items\n      const actions = items.filter(({ name }) => prevState.actions.findIndex(action => action.name === name) === -1)\n\n      return { ...prevState, actions: [...prevState.actions, ...actions] }\n    })\n  }\n\n  const removeMenuItems = (items: MenuItems) => {\n    setState(prevState => {\n      const actions = prevState.actions.filter(({ id, name }) => items.findIndex(item => id === item.id && name === item.name) === -1)\n      return { ...prevState, actions }\n    })\n  }\n\n  const hasReservedKeyword = (content: string): boolean => {\n    if (state.reservedKeywords.findIndex(value => content.startsWith(value)) !== -1) return true\n    else return false\n  }\n\n  const getFocusedFolder = () => {\n    if (props.focusElement[0]) {\n      if (props.focusElement[0].type === 'folder' && props.focusElement[0].key) return props.focusElement[0].key\n      else if (props.focusElement[0].type === 'gist' && props.focusElement[0].key) return props.focusElement[0].key\n      else if (props.focusElement[0].type === 'file' && props.focusElement[0].key) return extractParentFromKey(props.focusElement[0].key) ? extractParentFromKey(props.focusElement[0].key) : name\n      else return name\n    }\n  }\n\n  const createNewFile = async (newFilePath: string) => {\n    try {\n      props.dispatchCreateNewFile(newFilePath, props.name)\n    } catch (error) {\n      return props.modal('File Creation Failed', typeof error === 'string' ? error : error.message, 'Close', async () => {})\n    }\n  }\n\n  const createNewFolder = async (newFolderPath: string) => {\n    try {\n      props.dispatchCreateNewFolder(newFolderPath, props.name)\n    } catch (e) {\n      return props.modal('Folder Creation Failed', typeof e === 'string' ? e : e.message, 'Close', async () => {})\n    }\n  }\n\n  const deletePath = async (path: string[]) => {\n    if (props.readonly) return props.toast('cannot delete file. ' + name + ' is a read only explorer')\n    if (!Array.isArray(path)) path = [path]\n\n    props.modal(`Delete ${path.length > 1 ? 'items' : 'item'}`, deleteMessage(path), 'OK', () => { props.dispatchDeletePath(path) }, 'Cancel', () => {})\n  }\n\n  const renamePath = async (oldPath: string, newPath: string) => {\n    try {\n      props.dispatchRenamePath(oldPath, newPath)\n    } catch (error) {\n      props.modal('Rename File Failed', 'Unexpected error while renaming: ' + typeof error === 'string' ? error : error.message, 'Close', async () => {})\n    }\n  }\n\n  const uploadFile = (target) => {\n    let parentFolder = getFocusedFolder()\n    const expandPath = [...new Set([...props.expandPath, parentFolder])]\n\n    parentFolder = parentFolder === name ? '/' : parentFolder\n    props.dispatchHandleExpandPath(expandPath)\n    props.dispatchUploadFile(target, parentFolder)\n  }\n\n  const copyFile = (src: string, dest: string) => {\n    try {\n      props.dispatchCopyFile(src, dest)\n    } catch (error) {\n      props.modal('Copy File Failed', 'Unexpected error while copying file: ' + src, 'Close', async () => {})\n    }\n  }\n\n  const copyFolder = (src: string, dest: string) => {\n    try {\n      props.dispatchCopyFolder(src, dest)\n    } catch (error) {\n      props.modal('Copy Folder Failed', 'Unexpected error while copying folder: ' + src, 'Close', async () => {})\n    }\n  }\n\n  const publishToGist = (path?: string, type?: string) => {\n    props.modal('Create a public gist', `Are you sure you want to anonymously publish all your files in the ${name} workspace as a public gist on github.com?`, 'OK', () => toGist(path, type), 'Cancel', () => {})\n  }\n\n  const pushChangesToGist = (path?: string, type?: string) => {\n    props.modal('Create a public gist', 'Are you sure you want to push changes to remote gist file on github.com?', 'OK', () => toGist(path, type), 'Cancel', () => {})\n  }\n\n  const publishFolderToGist = (path?: string, type?: string) => {\n    props.modal('Create a public gist', `Are you sure you want to anonymously publish all your files in the ${path} folder as a public gist on github.com?`, 'OK', () => toGist(path, type), 'Cancel', () => {})\n  }\n\n  const publishFileToGist = (path?: string, type?: string) => {\n    props.modal('Create a public gist', `Are you sure you want to anonymously publish ${path} file as a public gist on github.com?`, 'OK', () => toGist(path, type), 'Cancel', () => {})\n  }\n\n  const toGist = (path?: string, type?: string) => {\n    props.dispatchPublishToGist(path, type)\n  }\n\n  const runScript = async (path: string) => {\n    try {\n      props.dispatchRunScript(path)\n    } catch (error) {\n      props.toast('Run script failed')\n    }\n  }\n\n  const emitContextMenuEvent = (cmd: customAction) => {\n    try {\n      props.dispatchEmitContextMenuEvent(cmd)\n    } catch (error) {\n      props.toast(error)\n    }\n  }\n\n  const handleClickFile = (path: string, type: 'folder' | 'file' | 'gist') => {\n    path = path.indexOf(props.name + '/') === 0 ? path.replace(props.name + '/', '') : path\n    if (!state.ctrlKey) {\n      props.dispatchHandleClickFile(path, type)\n    } else {\n      if (props.focusElement.findIndex(item => item.key === path) !== -1) {\n        const focusElement = props.focusElement.filter(item => item.key !== path)\n\n        props.dispatchSetFocusElement(focusElement)\n      } else {\n        const nonRootFocus = props.focusElement.filter((el) => { return !(el.key === '' && el.type === 'folder') })\n\n        nonRootFocus.push({ key: path, type })\n        props.dispatchSetFocusElement(nonRootFocus)\n      }\n    }\n  }\n\n  const handleClickFolder = async (path: string, type: 'folder' | 'file' | 'gist') => {\n    if (state.ctrlKey) {\n      if (props.focusElement.findIndex(item => item.key === path) !== -1) {\n        const focusElement = props.focusElement.filter(item => item.key !== path)\n\n        props.dispatchSetFocusElement(focusElement)\n      } else {\n        const nonRootFocus = props.focusElement.filter((el) => { return !(el.key === '' && el.type === 'folder') })\n\n        nonRootFocus.push({ key: path, type })\n        props.dispatchSetFocusElement(nonRootFocus)\n      }\n    } else {\n      let expandPath = []\n\n      if (!props.expandPath.includes(path)) {\n        expandPath = [...new Set([...props.expandPath, path])]\n        props.dispatchFetchDirectory(path)\n      } else {\n        expandPath = [...new Set(props.expandPath.filter(key => key && (typeof key === 'string') && !key.startsWith(path)))]\n      }\n\n      props.dispatchSetFocusElement([{ key: path, type }])\n      props.dispatchHandleExpandPath(expandPath)\n    }\n  }\n\n  const handleContextMenu = (pageX: number, pageY: number, path: string, content: string, type: string) => {\n    if (!content) return\n    setState(prevState => {\n      return { ...prevState, focusContext: { element: path, x: pageX, y: pageY, type }, focusEdit: { ...prevState.focusEdit, lastEdit: content }, showContextMenu: prevState.focusEdit.element !== path }\n    })\n  }\n\n  const hideContextMenu = () => {\n    setState(prevState => {\n      return { ...prevState, focusContext: { element: null, x: 0, y: 0, type: '' }, showContextMenu: false }\n    })\n  }\n\n  const editModeOn = (path: string, type: string, isNew: boolean = false) => {\n    if (props.readonly) return props.toast('Cannot write/modify file system in read only mode.')\n    setState(prevState => {\n      return { ...prevState, focusEdit: { ...prevState.focusEdit, element: path, isNew, type } }\n    })\n  }\n\n  const editModeOff = async (content: string) => {\n    if (typeof content === 'string') content = content.trim()\n    const parentFolder = extractParentFromKey(state.focusEdit.element)\n\n    if (!content || (content.trim() === '')) {\n      if (state.focusEdit.isNew) {\n        props.dispatchRemoveInputField(parentFolder)\n        setState(prevState => {\n          return { ...prevState, focusEdit: { element: null, isNew: false, type: '', lastEdit: '' } }\n        })\n      } else {\n        setState(prevState => {\n          return { ...prevState, focusEdit: { element: null, isNew: false, type: '', lastEdit: '' } }\n        })\n      }\n    } else {\n      if (state.focusEdit.lastEdit === content) {\n        return setState(prevState => {\n          return { ...prevState, focusEdit: { element: null, isNew: false, type: '', lastEdit: '' } }\n        })\n      }\n      if (checkSpecialChars(content)) {\n        props.modal('Validation Error', 'Special characters are not allowed', 'OK', () => {})\n      } else {\n        if (state.focusEdit.isNew) {\n          if (hasReservedKeyword(content)) {\n            props.dispatchRemoveInputField(parentFolder)\n            props.modal('Reserved Keyword', `File name contains Remix reserved keywords. '${content}'`, 'Close', () => {})\n          } else {\n            state.focusEdit.type === 'file' ? createNewFile(joinPath(parentFolder, content)) : createNewFolder(joinPath(parentFolder, content))\n            props.dispatchRemoveInputField(parentFolder)\n          }\n        } else {\n          if (hasReservedKeyword(content)) {\n            props.modal('Reserved Keyword', `File name contains Remix reserved keywords. '${content}'`, 'Close', () => {})\n          } else {\n            if (state.focusEdit.element) {\n              const oldPath: string = state.focusEdit.element\n              const oldName = extractNameFromKey(oldPath)\n              const newPath = oldPath.replace(oldName, content)\n\n              renamePath(oldPath, newPath)\n            }\n          }\n        }\n        setState(prevState => {\n          return { ...prevState, focusEdit: { element: null, isNew: false, type: '', lastEdit: '' } }\n        })\n      }\n    }\n  }\n\n  const handleNewFileInput = async (parentFolder?: string) => {\n    if (!parentFolder) parentFolder = getFocusedFolder()\n    const expandPath = [...new Set([...props.expandPath, parentFolder])]\n\n    await props.dispatchAddInputField(parentFolder, 'file')\n    props.dispatchHandleExpandPath(expandPath)\n    editModeOn(parentFolder + '/blank', 'file', true)\n  }\n\n  const handleNewFolderInput = async (parentFolder?: string) => {\n    if (!parentFolder) parentFolder = getFocusedFolder()\n    else if ((parentFolder.indexOf('.sol') !== -1) || (parentFolder.indexOf('.js') !== -1)) parentFolder = extractParentFromKey(parentFolder)\n    const expandPath = [...new Set([...props.expandPath, parentFolder])]\n\n    await props.dispatchAddInputField(parentFolder, 'folder')\n    props.dispatchHandleExpandPath(expandPath)\n    editModeOn(parentFolder + '/blank', 'folder', true)\n  }\n\n  const handleCopyClick = (path: string, type: 'folder' | 'gist' | 'file') => {\n    setState(prevState => {\n      return { ...prevState, copyElement: [{ key: path, type }] }\n    })\n    setCanPaste(true)\n    props.toast(`Copied to clipboard ${path}`)\n  }\n\n  const handlePasteClick = (dest: string, destType: string) => {\n    dest = destType === 'file' ? extractParentFromKey(dest) || props.name : dest\n    state.copyElement.map(({ key, type }) => {\n      type === 'file' ? copyFile(key, dest) : copyFolder(key, dest)\n    })\n  }\n\n  const deleteMessage = (path: string[]) => {\n    return (\n      <div>\n        <div>Are you sure you want to delete {path.length > 1 ? 'these items' : 'this item'}?</div>\n        {\n          path.map((item, i) => (<li key={i}>{item}</li>))\n        }\n      </div>\n    )\n  }\n\n  const handleFileExplorerMenuClick = (e: SyntheticEvent) => {\n    e.stopPropagation()\n    if (e && (e.target as any).getAttribute('data-id') === 'fileExplorerUploadFileuploadFile') return // we don't want to let propagate the input of type file\n    if (e && (e.target as any).getAttribute('data-id') === 'fileExplorerFileUpload') return // we don't want to let propagate the input of type file\n    let expandPath = []\n\n    if (!props.expandPath.includes(props.name)) {\n      expandPath = [props.name, ...new Set([...props.expandPath])]\n    } else {\n      expandPath = [...new Set(props.expandPath.filter(key => key && (typeof key === 'string') && !key.startsWith(props.name)))]\n    }\n    props.dispatchHandleExpandPath(expandPath)\n  }\n\n  return (\n    <div>\n      <TreeView id='treeView'>\n        <TreeViewItem id=\"treeViewItem\"\n          controlBehaviour={true}\n          label={\n            <div onClick={handleFileExplorerMenuClick}>\n              <FileExplorerMenu\n                title={''}\n                menuItems={props.menuItems}\n                createNewFile={handleNewFileInput}\n                createNewFolder={handleNewFolderInput}\n                publishToGist={publishToGist}\n                uploadFile={uploadFile}\n              />\n            </div>\n          }\n          expand={true}>\n          <div className='pb-2'>\n            <TreeView id='treeViewMenu'>\n              {\n                files[props.name] && Object.keys(files[props.name]).map((key, index) => <FileRender\n                  file={files[props.name][key]}\n                  index={index}\n                  focusContext={state.focusContext}\n                  focusEdit={state.focusEdit}\n                  focusElement={props.focusElement}\n                  ctrlKey={state.ctrlKey}\n                  expandPath={props.expandPath}\n                  editModeOff={editModeOff}\n                  handleClickFile={handleClickFile}\n                  handleClickFolder={handleClickFolder}\n                  handleContextMenu={handleContextMenu}\n                  key={index}\n                />)\n              }\n            </TreeView>\n          </div>\n        </TreeViewItem>\n      </TreeView>\n      { state.showContextMenu &&\n        <FileExplorerContextMenu\n          actions={props.focusElement.length > 1 ? state.actions.filter(item => item.multiselect) : state.actions.filter(item => !item.multiselect)}\n          hideContextMenu={hideContextMenu}\n          createNewFile={handleNewFileInput}\n          createNewFolder={handleNewFolderInput}\n          deletePath={deletePath}\n          renamePath={editModeOn}\n          runScript={runScript}\n          copy={handleCopyClick}\n          paste={handlePasteClick}\n          emit={emitContextMenuEvent}\n          pageX={state.focusContext.x}\n          pageY={state.focusContext.y}\n          path={state.focusContext.element}\n          type={state.focusContext.type}\n          focus={props.focusElement}\n          pushChangesToGist={pushChangesToGist}\n          publishFolderToGist={publishFolderToGist}\n          publishFileToGist={publishFileToGist}\n        />\n      }\n    </div>\n  )\n}\n\nexport default FileExplorer\n","// eslint-disable-next-line no-use-before-define\nimport React, { useEffect, useRef, useState } from 'react'\nimport { FileType } from '../types'\n\nexport interface FileLabelProps {\n  file: FileType,\n  focusEdit: {\n    element: string\n    type: string\n    isNew: boolean\n    lastEdit: string\n  }\n  editModeOff: (content: string) => void\n}\n\nexport const FileLabel = (props: FileLabelProps) => {\n  const { file, focusEdit, editModeOff } = props\n  const [isEditable, setIsEditable] = useState<boolean>(false)\n  const labelRef = useRef(null)\n\n  useEffect(() => {\n    if (focusEdit.element && file.path) {\n      setIsEditable(focusEdit.element === file.path)\n    }\n  }, [file.path, focusEdit])\n\n  useEffect(() => {\n    if (labelRef.current) {\n      setTimeout(() => {\n        labelRef.current.focus()\n      }, 0)\n    }\n  }, [isEditable])\n\n  const handleEditInput = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (event.which === 13) {\n      event.preventDefault()\n      editModeOff(labelRef.current.innerText)\n      labelRef.current.innerText = file.name\n    }\n  }\n\n  const handleEditBlur = (event: React.SyntheticEvent) => {\n    event.stopPropagation()\n    editModeOff(labelRef.current.innerText)\n    labelRef.current.innerText = file.name\n  }\n\n  return (\n    <div\n      className='remixui_items d-inline-block w-100'\n      ref={isEditable ? labelRef : null}\n      suppressContentEditableWarning={true}\n      contentEditable={isEditable}\n      onKeyDown={handleEditInput}\n      onBlur={handleEditBlur}\n    >\n      <span\n        title={file.path}\n        className={'remixui_label ' + (file.isDirectory ? 'folder' : 'remixui_leaf')}\n        data-path={file.path}\n      >\n        { file.name }\n      </span>\n    </div>\n  )\n}\n","// eslint-disable-next-line no-use-before-define\nimport React, { SyntheticEvent, useEffect, useState } from 'react'\nimport { FileType } from '../types'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { TreeView, TreeViewItem } from '@remix-ui/tree-view'\nimport { getPathIcon } from '@remix-ui/helper'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { FileLabel } from './file-label'\n\nexport interface RenderFileProps {\n  file: FileType,\n  index: number,\n  focusEdit: { element: string, type: string, isNew: boolean, lastEdit: string },\n  focusElement: { key: string, type: 'file' | 'folder' | 'gist' }[],\n  focusContext: { element: string, x: number, y: number, type: string },\n  ctrlKey: boolean,\n  expandPath: string[],\n  editModeOff: (content: string) => void,\n  handleClickFolder: (path: string, type: string) => void,\n  handleClickFile: (path: string, type: string) => void,\n  handleContextMenu: (pageX: number, pageY: number, path: string, content: string, type: string) => void\n}\n\nexport const FileRender = (props: RenderFileProps) => {\n  const [file, setFile] = useState<FileType>({} as FileType)\n  const [hover, setHover] = useState<boolean>(false)\n  const [icon, setIcon] = useState<string>('')\n\n  useEffect(() => {\n    if (props.file && props.file.path && props.file.type) {\n      setFile(props.file)\n      setIcon(getPathIcon(props.file.path))\n    }\n  }, [props.file])\n\n  const labelClass = props.focusEdit.element === file.path\n    ? 'bg-light' : props.focusElement.findIndex(item => item.key === file.path) !== -1\n      ? 'bg-secondary' : hover\n        ? 'bg-light border' : (props.focusContext.element === file.path) && (props.focusEdit.element !== file.path)\n          ? 'bg-light border' : ''\n\n  const spreadProps = {\n    onClick: (e) => e.stopPropagation()\n  }\n\n  const handleFolderClick = (event: SyntheticEvent) => {\n    event.stopPropagation()\n    if (props.focusEdit.element !== file.path) props.handleClickFolder(file.path, file.type)\n  }\n\n  const handleFileClick = (event: SyntheticEvent) => {\n    event.stopPropagation()\n    if (props.focusEdit.element !== file.path) props.handleClickFile(file.path, file.type)\n  }\n\n  const handleContextMenu = (event: PointerEvent) => {\n    event.preventDefault()\n    event.stopPropagation()\n    props.handleContextMenu(event.pageX, event.pageY, file.path, (event.target as HTMLElement).textContent, file.type)\n  }\n\n  const handleMouseOut = (event: SyntheticEvent) => {\n    event.stopPropagation()\n    setHover(false)\n  }\n\n  const handleMouseOver = (event: SyntheticEvent) => {\n    event.stopPropagation()\n    setHover(true)\n  }\n\n  if (file.isDirectory) {\n    return (\n      <TreeViewItem\n        id={`treeViewItem${file.path}`}\n        iconX='pr-3 fa fa-folder'\n        iconY='pr-3 fa fa-folder-open'\n        key={`${file.path + props.index}`}\n        label={<FileLabel file={file} focusEdit={props.focusEdit} editModeOff={props.editModeOff} />}\n        onClick={handleFolderClick}\n        onContextMenu={handleContextMenu}\n        labelClass={labelClass}\n        controlBehaviour={ props.ctrlKey }\n        expand={props.expandPath.includes(file.path)}\n        onMouseOver={handleMouseOver}\n        onMouseOut={handleMouseOut}\n      >\n        {\n          file.child ? <TreeView id={`treeView${file.path}`} key={`treeView${file.path}`} {...spreadProps }>{\n            Object.keys(file.child).map((key, index) => <FileRender\n              file={file.child[key]}\n              index={index}\n              focusContext={props.focusContext}\n              focusEdit={props.focusEdit}\n              focusElement={props.focusElement}\n              ctrlKey={props.ctrlKey}\n              editModeOff={props.editModeOff}\n              handleClickFile={props.handleClickFile}\n              handleClickFolder={props.handleClickFolder}\n              handleContextMenu={props.handleContextMenu}\n              expandPath={props.expandPath}\n              key={index}\n            />)\n          }\n          </TreeView> : <TreeView id={`treeView${file.path}`} key={`treeView${file.path}`} {...spreadProps }/>\n        }\n      </TreeViewItem>\n    )\n  } else {\n    return (\n      <TreeViewItem\n        id={`treeViewItem${file.path}`}\n        key={`treeView${file.path}`}\n        label={<FileLabel file={file} focusEdit={props.focusEdit} editModeOff={props.editModeOff} />}\n        onClick={handleFileClick}\n        onContextMenu={handleContextMenu}\n        icon={icon}\n        labelClass={labelClass}\n        onMouseOver={handleMouseOver}\n        onMouseOut={handleMouseOut}\n      />\n    )\n  }\n}\n","import { customAction } from '@remixproject/plugin-api/lib/file-system/file-panel/type'\nimport { createContext, SyntheticEvent } from 'react'\nimport { BrowserState } from '../reducers/workspace'\n\nexport const FileSystemContext = createContext<{\n  fs: BrowserState,\n  // eslint-disable-next-line no-undef\n  modal:(title: string, message: string | JSX.Element, okLabel: string, okFn: () => void, cancelLabel?: string, cancelFn?: () => void) => void,\n  dispatchInitWorkspace:() => Promise<void>,\n  dispatchFetchDirectory:(path: string) => Promise<void>,\n  dispatchAddInputField:(path: string, type: 'file' | 'folder') => Promise<void>,\n  dispatchRemoveInputField:(path: string) => Promise<void>,\n  dispatchCreateWorkspace: (workspaceName: string) => Promise<void>,\n  toast: (toasterMsg: string) => void,\n  dispatchFetchWorkspaceDirectory: (path: string) => Promise<void>,\n  dispatchSwitchToWorkspace: (name: string) => Promise<void>,\n  dispatchRenameWorkspace: (oldName: string, workspaceName: string) => Promise<void>,\n  dispatchDeleteWorkspace: (workspaceName: string) => Promise<void>,\n  dispatchPublishToGist: (path?: string, type?: string) => Promise<void>,\n  dispatchUploadFile: (target?: SyntheticEvent, targetFolder?: string) => Promise<void>,\n  dispatchCreateNewFile: (path: string, rootDir: string) => Promise<void>,\n  dispatchSetFocusElement: (elements: { key: string, type: 'file' | 'folder' | 'gist' }[]) => Promise<void>,\n  dispatchCreateNewFolder: (path: string, rootDir: string) => Promise<void>,\n  dispatchDeletePath: (path: string[]) => Promise<void>,\n  dispatchRenamePath: (oldPath: string, newPath: string) => Promise<void>,\n  dispatchCopyFile: (src: string, dest: string) => Promise<void>,\n  dispatchCopyFolder: (src: string, dest: string) => Promise<void>,\n  dispatchRunScript: (path: string) => Promise<void>,\n  dispatchEmitContextMenuEvent: (cmd: customAction) => Promise<void>,\n  dispatchHandleClickFile: (path: string, type: 'file' | 'folder' | 'gist') => Promise<void>\n  dispatchHandleExpandPath: (paths: string[]) => Promise<void>\n    }>(null)\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./file-explorer-context-menu.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./file-explorer.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","var content = require(\"!!../../../../../../node_modules/@nrwl/web/src/utils/third-party/cli-files/plugins/raw-css-loader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--5-oneOf-4-2!./remix-ui-workspace.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// eslint-disable-next-line no-use-before-define\nimport React, { useReducer, useState, useEffect, SyntheticEvent } from 'react'\nimport { ModalDialog } from '@remix-ui/modal-dialog' // eslint-disable-line\nimport { Toaster } from '@remix-ui/toaster' // eslint-disable-line\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { FileSystemContext } from '../contexts'\nimport { browserReducer, browserInitialState } from '../reducers/workspace'\nimport { initWorkspace, fetchDirectory, removeInputField, deleteWorkspace, clearPopUp, publishToGist, createNewFile, setFocusElement, createNewFolder, deletePath, renamePath, copyFile, copyFolder, runScript, emitContextMenuEvent, handleClickFile, handleExpandPath, addInputField, createWorkspace, fetchWorkspaceDirectory, renameWorkspace, switchToWorkspace, uploadFile } from '../actions'\nimport { Modal, WorkspaceProps } from '../types'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Workspace } from '../remix-ui-workspace'\nimport { customAction } from '@remixproject/plugin-api/lib/file-system/file-panel/type'\n\nexport const FileSystemProvider = (props: WorkspaceProps) => {\n  const { plugin } = props\n  const [fs, fsDispatch] = useReducer(browserReducer, browserInitialState)\n  const [focusModal, setFocusModal] = useState<Modal>({\n    hide: true,\n    title: '',\n    message: '',\n    okLabel: '',\n    okFn: () => {},\n    cancelLabel: '',\n    cancelFn: () => {}\n  })\n  const [modals, setModals] = useState<Modal[]>([])\n  const [focusToaster, setFocusToaster] = useState<string>('')\n  const [toasters, setToasters] = useState<string[]>([])\n\n  const dispatchInitWorkspace = async () => {\n    await initWorkspace(plugin)(fsDispatch)\n  }\n\n  const dispatchFetchDirectory = async (path: string) => {\n    await fetchDirectory(path)\n  }\n\n  const dispatchAddInputField = async (path: string, type: 'file' | 'folder') => {\n    await addInputField(type, path)\n  }\n\n  const dispatchRemoveInputField = async (path: string) => {\n    await removeInputField(path)\n  }\n\n  const dispatchCreateWorkspace = async (workspaceName: string) => {\n    await createWorkspace(workspaceName)\n  }\n\n  const dispatchFetchWorkspaceDirectory = async (path: string) => {\n    await fetchWorkspaceDirectory(path)\n  }\n\n  const dispatchSwitchToWorkspace = async (name: string) => {\n    await switchToWorkspace(name)\n  }\n\n  const dispatchRenameWorkspace = async (oldName: string, workspaceName: string) => {\n    await renameWorkspace(oldName, workspaceName)\n  }\n\n  const dispatchDeleteWorkspace = async (workspaceName: string) => {\n    await deleteWorkspace(workspaceName)\n  }\n\n  const dispatchPublishToGist = async (path?: string, type?: string) => {\n    await publishToGist(path, type)\n  }\n\n  const dispatchUploadFile = async (target?: SyntheticEvent, targetFolder?: string) => {\n    await uploadFile(target, targetFolder)\n  }\n\n  const dispatchCreateNewFile = async (path: string, rootDir: string) => {\n    await createNewFile(path, rootDir)\n  }\n\n  const dispatchSetFocusElement = async (elements: { key: string, type: 'file' | 'folder' | 'gist' }[]) => {\n    await setFocusElement(elements)\n  }\n\n  const dispatchCreateNewFolder = async (path: string, rootDir: string) => {\n    await createNewFolder(path, rootDir)\n  }\n\n  const dispatchDeletePath = async (path: string[]) => {\n    await deletePath(path)\n  }\n\n  const dispatchRenamePath = async (oldPath: string, newPath: string) => {\n    await renamePath(oldPath, newPath)\n  }\n\n  const dispatchCopyFile = async (src: string, dest: string) => {\n    await copyFile(src, dest)\n  }\n\n  const dispatchCopyFolder = async (src: string, dest: string) => {\n    await copyFolder(src, dest)\n  }\n\n  const dispatchRunScript = async (path: string) => {\n    await runScript(path)\n  }\n\n  const dispatchEmitContextMenuEvent = async (cmd: customAction) => {\n    await emitContextMenuEvent(cmd)\n  }\n\n  const dispatchHandleClickFile = async (path: string, type: 'file' | 'folder' | 'gist') => {\n    await handleClickFile(path, type)\n  }\n\n  const dispatchHandleExpandPath = async (paths: string[]) => {\n    await handleExpandPath(paths)\n  }\n\n  useEffect(() => {\n    dispatchInitWorkspace()\n  }, [])\n\n  useEffect(() => {\n    if (modals.length > 0) {\n      setFocusModal(() => {\n        const focusModal = {\n          hide: false,\n          title: modals[0].title,\n          message: modals[0].message,\n          okLabel: modals[0].okLabel,\n          okFn: modals[0].okFn,\n          cancelLabel: modals[0].cancelLabel,\n          cancelFn: modals[0].cancelFn\n        }\n        return focusModal\n      })\n      const modalList = modals.slice()\n\n      modalList.shift()\n      setModals(modalList)\n    }\n  }, [modals])\n\n  useEffect(() => {\n    if (toasters.length > 0) {\n      setFocusToaster(() => {\n        return toasters[0]\n      })\n      const toasterList = toasters.slice()\n\n      toasterList.shift()\n      setToasters(toasterList)\n    }\n  }, [toasters])\n\n  useEffect(() => {\n    if (fs.notification.title) {\n      modal(fs.notification.title, fs.notification.message, fs.notification.labelOk, fs.notification.actionOk, fs.notification.labelCancel, fs.notification.actionCancel)\n    }\n  }, [fs.notification])\n\n  useEffect(() => {\n    if (fs.popup) {\n      toast(fs.popup)\n    }\n  }, [fs.popup])\n\n  const handleHideModal = () => {\n    setFocusModal(modal => {\n      return { ...modal, hide: true, message: null }\n    })\n  }\n\n  // eslint-disable-next-line no-undef\n  const modal = (title: string, message: string | JSX.Element, okLabel: string, okFn: () => void, cancelLabel?: string, cancelFn?: () => void) => {\n    setModals(modals => {\n      modals.push({ message, title, okLabel, okFn, cancelLabel, cancelFn })\n      return [...modals]\n    })\n  }\n\n  const handleToaster = () => {\n    setFocusToaster('')\n    clearPopUp()\n  }\n\n  const toast = (toasterMsg: string) => {\n    setToasters(messages => {\n      messages.push(toasterMsg)\n      return [...messages]\n    })\n  }\n\n  const value = {\n    fs,\n    modal,\n    toast,\n    dispatchInitWorkspace,\n    dispatchFetchDirectory,\n    dispatchAddInputField,\n    dispatchRemoveInputField,\n    dispatchCreateWorkspace,\n    dispatchFetchWorkspaceDirectory,\n    dispatchSwitchToWorkspace,\n    dispatchRenameWorkspace,\n    dispatchDeleteWorkspace,\n    dispatchPublishToGist,\n    dispatchUploadFile,\n    dispatchCreateNewFile,\n    dispatchSetFocusElement,\n    dispatchCreateNewFolder,\n    dispatchDeletePath,\n    dispatchRenamePath,\n    dispatchCopyFile,\n    dispatchCopyFolder,\n    dispatchRunScript,\n    dispatchEmitContextMenuEvent,\n    dispatchHandleClickFile,\n    dispatchHandleExpandPath\n  }\n  return (\n    <FileSystemContext.Provider value={value}>\n      { fs.initializingFS && <div className=\"text-center py-5\"><i className=\"fas fa-spinner fa-pulse fa-2x\"></i></div> }\n      { !fs.initializingFS && <Workspace /> }\n      <ModalDialog id='fileSystem' { ...focusModal } handleHide={ handleHideModal } />\n      <Toaster message={focusToaster} handleHide={handleToaster} />\n    </FileSystemContext.Provider>\n  )\n}\n\nexport default FileSystemProvider\n","import { extractNameFromKey } from '@remix-ui/helper'\nimport { action, FileType } from '../types'\nimport * as _ from 'lodash'\ninterface Action {\n    type: string\n    payload: any\n}\nexport interface BrowserState {\n  browser: {\n    currentWorkspace: string,\n    workspaces: string[],\n    files: { [x: string]: Record<string, FileType> },\n    expandPath: string[]\n    isRequestingDirectory: boolean,\n    isSuccessfulDirectory: boolean,\n    isRequestingWorkspace: boolean,\n    isSuccessfulWorkspace: boolean,\n    error: string,\n    contextMenu: {\n      registeredMenuItems: action[],\n      removedMenuItems: action[],\n      error: string\n    }\n  },\n  localhost: {\n    sharedFolder: string,\n    files: { [x: string]: Record<string, FileType> },\n    expandPath: string[],\n    isRequestingDirectory: boolean,\n    isSuccessfulDirectory: boolean,\n    isRequestingLocalhost: boolean,\n    isSuccessfulLocalhost: boolean,\n    error: string,\n    contextMenu: {\n      registeredMenuItems: action[],\n      removedMenuItems: action[],\n      error: string\n    }\n  },\n  mode: 'browser' | 'localhost',\n  notification: {\n    title: string,\n    message: string,\n    actionOk: () => void,\n    actionCancel: (() => void) | null,\n    labelOk: string,\n    labelCancel: string\n  },\n  readonly: boolean,\n  popup: string,\n  focusEdit: string,\n  focusElement: { key: string, type: 'file' | 'folder' | 'gist' }[],\n  initializingFS: boolean\n}\n\nexport const browserInitialState: BrowserState = {\n  browser: {\n    currentWorkspace: '',\n    workspaces: [],\n    files: {},\n    expandPath: [],\n    isRequestingDirectory: false,\n    isSuccessfulDirectory: false,\n    isRequestingWorkspace: false,\n    isSuccessfulWorkspace: false,\n    error: null,\n    contextMenu: {\n      registeredMenuItems: [],\n      removedMenuItems: [],\n      error: null\n    }\n  },\n  localhost: {\n    sharedFolder: '',\n    files: {},\n    expandPath: [],\n    isRequestingDirectory: false,\n    isSuccessfulDirectory: false,\n    isRequestingLocalhost: false,\n    isSuccessfulLocalhost: false,\n    error: null,\n    contextMenu: {\n      registeredMenuItems: [],\n      removedMenuItems: [],\n      error: null\n    }\n  },\n  mode: 'browser',\n  notification: {\n    title: '',\n    message: '',\n    actionOk: () => {},\n    actionCancel: () => {},\n    labelOk: '',\n    labelCancel: ''\n  },\n  readonly: false,\n  popup: '',\n  focusEdit: '',\n  focusElement: [],\n  initializingFS: true\n}\n\nexport const browserReducer = (state = browserInitialState, action: Action) => {\n  switch (action.type) {\n    case 'SET_CURRENT_WORKSPACE': {\n      const payload = action.payload as string\n      const workspaces = state.browser.workspaces.includes(payload) ? state.browser.workspaces : [...state.browser.workspaces, action.payload]\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          currentWorkspace: payload,\n          workspaces: workspaces.filter(workspace => workspace)\n        }\n      }\n    }\n\n    case 'SET_WORKSPACES': {\n      const payload = action.payload as string[]\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          workspaces: payload.filter(workspace => workspace)\n        }\n      }\n    }\n\n    case 'SET_MODE': {\n      const payload = action.payload as 'browser' | 'localhost'\n\n      return {\n        ...state,\n        mode: payload\n      }\n    }\n\n    case 'FETCH_DIRECTORY_REQUEST': {\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          isRequestingDirectory: state.mode === 'browser',\n          isSuccessfulDirectory: false,\n          error: null\n        },\n        localhost: {\n          ...state.localhost,\n          isRequestingDirectory: state.mode === 'localhost',\n          isSuccessfulDirectory: false,\n          error: null\n        }\n      }\n    }\n\n    case 'FETCH_DIRECTORY_SUCCESS': {\n      const payload = action.payload as { path: string, fileTree }\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fetchDirectoryContent(state, payload) : state.browser.files,\n          isRequestingDirectory: false,\n          isSuccessfulDirectory: true,\n          error: null\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fetchDirectoryContent(state, payload) : state.localhost.files,\n          isRequestingDirectory: false,\n          isSuccessfulDirectory: true,\n          error: null\n        }\n      }\n    }\n\n    case 'FETCH_DIRECTORY_ERROR': {\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          isRequestingDirectory: false,\n          isSuccessfulDirectory: false,\n          error: state.mode === 'browser' ? action.payload : null\n        },\n        localhost: {\n          ...state.localhost,\n          isRequestingDirectory: false,\n          isSuccessfulDirectory: false,\n          error: state.mode === 'localhost' ? action.payload : null\n        }\n      }\n    }\n\n    case 'FETCH_WORKSPACE_DIRECTORY_REQUEST': {\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          isRequestingWorkspace: state.mode === 'browser',\n          isSuccessfulWorkspace: false,\n          error: null\n        },\n        localhost: {\n          ...state.localhost,\n          isRequestingWorkspace: state.mode === 'localhost',\n          isSuccessfulWorkspace: false,\n          error: null\n        }\n      }\n    }\n\n    case 'FETCH_WORKSPACE_DIRECTORY_SUCCESS': {\n      const payload = action.payload as { path: string, fileTree }\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fetchWorkspaceDirectoryContent(state, payload) : state.browser.files,\n          isRequestingWorkspace: false,\n          isSuccessfulWorkspace: true,\n          error: null\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fetchWorkspaceDirectoryContent(state, payload) : state.localhost.files,\n          isRequestingWorkspace: false,\n          isSuccessfulWorkspace: true,\n          error: null,\n          sharedFolder: null\n        }\n      }\n    }\n\n    case 'FETCH_WORKSPACE_DIRECTORY_ERROR': {\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          isRequestingWorkspace: false,\n          isSuccessfulWorkspace: false,\n          error: state.mode === 'browser' ? action.payload : null\n        },\n        localhost: {\n          ...state.localhost,\n          isRequestingWorkspace: false,\n          isSuccessfulWorkspace: false,\n          error: state.mode === 'localhost' ? action.payload : null\n        }\n      }\n    }\n\n    case 'DISPLAY_NOTIFICATION': {\n      const payload = action.payload as { title: string, message: string, actionOk: () => void, actionCancel: () => void, labelOk: string, labelCancel: string }\n\n      return {\n        ...state,\n        notification: {\n          title: payload.title,\n          message: payload.message,\n          actionOk: payload.actionOk || browserInitialState.notification.actionOk,\n          actionCancel: payload.actionCancel || browserInitialState.notification.actionCancel,\n          labelOk: payload.labelOk,\n          labelCancel: payload.labelCancel\n        }\n      }\n    }\n\n    case 'HIDE_NOTIFICATION': {\n      return {\n        ...state,\n        notification: browserInitialState.notification\n      }\n    }\n\n    case 'FILE_ADDED_SUCCESS': {\n      const payload = action.payload as string\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fileAdded(state, payload) : state.browser.files,\n          expandPath: state.mode === 'browser' ? [...new Set([...state.browser.expandPath, payload])] : state.browser.expandPath\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fileAdded(state, payload) : state.localhost.files,\n          expandPath: state.mode === 'localhost' ? [...new Set([...state.localhost.expandPath, payload])] : state.localhost.expandPath\n        }\n      }\n    }\n\n    case 'FOLDER_ADDED_SUCCESS': {\n      const payload = action.payload as { path: string, folderPath: string, fileTree }\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fetchDirectoryContent(state, payload) : state.browser.files,\n          expandPath: state.mode === 'browser' ? [...new Set([...state.browser.expandPath, payload.folderPath])] : state.browser.expandPath\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fetchDirectoryContent(state, payload) : state.localhost.files,\n          expandPath: state.mode === 'localhost' ? [...new Set([...state.localhost.expandPath, payload.folderPath])] : state.localhost.expandPath\n        }\n      }\n    }\n\n    case 'FILE_REMOVED_SUCCESS': {\n      const payload = action.payload as string\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fileRemoved(state, payload) : state.browser.files,\n          expandPath: state.mode === 'browser' ? [...(state.browser.expandPath.filter(path => path !== payload))] : state.browser.expandPath\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fileRemoved(state, payload) : state.localhost.files,\n          expandPath: state.mode === 'localhost' ? [...(state.browser.expandPath.filter(path => path !== payload))] : state.localhost.expandPath\n        }\n      }\n    }\n\n    case 'ROOT_FOLDER_CHANGED': {\n      const payload = action.payload as string\n      return {\n        ...state,\n        localhost: {\n          ...state.localhost,\n          sharedFolder: payload,\n          files: {}\n        }\n      }\n    }\n\n    case 'ADD_INPUT_FIELD': {\n      const payload = action.payload as { path: string, fileTree, type: 'file' | 'folder' }\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fetchDirectoryContent(state, payload) : state.browser.files\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fetchDirectoryContent(state, payload) : state.localhost.files\n        },\n        focusEdit: payload.path + '/' + 'blank'\n      }\n    }\n\n    case 'REMOVE_INPUT_FIELD': {\n      const payload = action.payload as { path: string, fileTree }\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? removeInputField(state, payload.path) : state.browser.files\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? removeInputField(state, payload.path) : state.localhost.files\n        },\n        focusEdit: null\n      }\n    }\n\n    case 'SET_READ_ONLY_MODE': {\n      const payload = action.payload as boolean\n\n      return {\n        ...state,\n        readonly: payload\n      }\n    }\n\n    case 'FILE_RENAMED_SUCCESS': {\n      const payload = action.payload as { path: string, oldPath: string, fileTree }\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          files: state.mode === 'browser' ? fetchDirectoryContent(state, payload, payload.oldPath) : state.browser.files\n        },\n        localhost: {\n          ...state.localhost,\n          files: state.mode === 'localhost' ? fetchDirectoryContent(state, payload, payload.oldPath) : state.localhost.files\n        }\n      }\n    }\n\n    case 'CREATE_WORKSPACE_REQUEST': {\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          isRequestingWorkspace: true,\n          isSuccessfulWorkspace: false,\n          error: null\n        }\n      }\n    }\n\n    case 'CREATE_WORKSPACE_SUCCESS': {\n      const payload = action.payload as string\n      const workspaces = state.browser.workspaces.includes(payload) ? state.browser.workspaces : [...state.browser.workspaces, action.payload]\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          currentWorkspace: payload,\n          workspaces: workspaces.filter(workspace => workspace),\n          isRequestingWorkspace: false,\n          isSuccessfulWorkspace: true,\n          error: null\n        }\n      }\n    }\n\n    case 'CREATE_WORKSPACE_ERROR': {\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          isRequestingWorkspace: false,\n          isSuccessfulWorkspace: false,\n          error: action.payload\n        }\n      }\n    }\n\n    case 'RENAME_WORKSPACE': {\n      const payload = action.payload as { oldName: string, workspaceName: string }\n      const workspaces = state.browser.workspaces.filter(name => name && (name !== payload.oldName))\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          currentWorkspace: payload.workspaceName,\n          workspaces: [...workspaces, payload.workspaceName],\n          expandPath: []\n        }\n      }\n    }\n\n    case 'DELETE_WORKSPACE': {\n      const payload = action.payload as string\n      const workspaces = state.browser.workspaces.filter(name => name && (name !== payload))\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          workspaces: workspaces\n        }\n      }\n    }\n\n    case 'DISPLAY_POPUP_MESSAGE': {\n      const payload = action.payload as string\n\n      return {\n        ...state,\n        popup: payload\n      }\n    }\n\n    case 'HIDE_POPUP_MESSAGE': {\n      return {\n        ...state,\n        popup: ''\n      }\n    }\n\n    case 'SET_FOCUS_ELEMENT': {\n      const payload = action.payload as { key: string, type: 'file' | 'folder' | 'gist' }[]\n\n      return {\n        ...state,\n        focusElement: payload\n      }\n    }\n\n    case 'SET_CONTEXT_MENU_ITEM': {\n      const payload = action.payload as action\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          contextMenu: addContextMenuItem(state, payload)\n        },\n        localhost: {\n          ...state.localhost,\n          contextMenu: addContextMenuItem(state, payload)\n        }\n      }\n    }\n\n    case 'REMOVE_CONTEXT_MENU_ITEM': {\n      const payload = action.payload\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          contextMenu: removeContextMenuItem(state, payload)\n        },\n        localhost: {\n          ...state.localhost,\n          contextMenu: removeContextMenuItem(state, payload)\n        }\n      }\n    }\n\n    case 'SET_EXPAND_PATH': {\n      const payload = action.payload as string[]\n\n      return {\n        ...state,\n        browser: {\n          ...state.browser,\n          expandPath: payload\n        },\n        localhost: {\n          ...state.localhost,\n          expandPath: payload\n        }\n      }\n    }\n\n    case 'LOAD_LOCALHOST_REQUEST': {\n      return {\n        ...state,\n        localhost: {\n          ...state.localhost,\n          isRequestingLocalhost: true,\n          isSuccessfulLocalhost: false,\n          error: null\n        }\n      }\n    }\n\n    case 'LOAD_LOCALHOST_SUCCESS': {\n      return {\n        ...state,\n        localhost: {\n          ...state.localhost,\n          isRequestingLocalhost: false,\n          isSuccessfulLocalhost: true,\n          error: null\n        }\n      }\n    }\n\n    case 'LOAD_LOCALHOST_ERROR': {\n      const payload = action.payload as string\n\n      return {\n        ...state,\n        localhost: {\n          ...state.localhost,\n          isRequestingLocalhost: false,\n          isSuccessfulLocalhost: false,\n          error: payload\n        }\n      }\n    }\n\n    case 'FS_INITIALIZATION_COMPLETED': {\n      return {\n        ...state,\n        initializingFS: false\n      }\n    }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst fileAdded = (state: BrowserState, path: string): { [x: string]: Record<string, FileType> } => {\n  let files = state.mode === 'browser' ? state.browser.files : state.localhost.files\n  const _path = splitPath(state, path)\n\n  files = _.set(files, _path, {\n    path: path,\n    name: extractNameFromKey(path),\n    isDirectory: false,\n    type: 'file'\n  })\n  return files\n}\n\nconst fileRemoved = (state: BrowserState, path: string): { [x: string]: Record<string, FileType> } => {\n  const files = state.mode === 'browser' ? state.browser.files : state.localhost.files\n  const _path = splitPath(state, path)\n\n  _.unset(files, _path)\n  return files\n}\n\nconst removeInputField = (state: BrowserState, path: string): { [x: string]: Record<string, FileType> } => {\n  let files = state.mode === 'browser' ? state.browser.files : state.localhost.files\n  const root = state.mode === 'browser' ? state.browser.currentWorkspace : state.mode\n\n  if (path === root) {\n    delete files[root][path + '/' + 'blank']\n    return files\n  }\n  const _path = splitPath(state, path)\n  const prevFiles = _.get(files, _path)\n\n  if (prevFiles) {\n    prevFiles.child && prevFiles.child[path + '/' + 'blank'] && delete prevFiles.child[path + '/' + 'blank']\n    files = _.set(files, _path, {\n      isDirectory: true,\n      path,\n      name: extractNameFromKey(path).indexOf('gist-') === 0 ? extractNameFromKey(path).split('-')[1] : extractNameFromKey(path),\n      type: extractNameFromKey(path).indexOf('gist-') === 0 ? 'gist' : 'folder',\n      child: prevFiles ? prevFiles.child : {}\n    })\n  }\n\n  return files\n}\n\n// IDEA: Modify function to remove blank input field without fetching content\nconst fetchDirectoryContent = (state: BrowserState, payload: { fileTree, path: string, type?: 'file' | 'folder' }, deletePath?: string): { [x: string]: Record<string, FileType> } => {\n  if (!payload.fileTree) return state.mode === 'browser' ? state.browser.files : state[state.mode].files\n  if (state.mode === 'browser') {\n    if (payload.path === state.browser.currentWorkspace) {\n      let files = normalize(payload.fileTree, payload.path, payload.type)\n\n      files = _.merge(files, state.browser.files[state.browser.currentWorkspace])\n      if (deletePath) delete files[deletePath]\n      return { [state.browser.currentWorkspace]: files }\n    } else {\n      let files = state.browser.files\n      const _path = splitPath(state, payload.path)\n      const prevFiles = _.get(files, _path)\n\n      if (prevFiles) {\n        prevFiles.child = _.merge(normalize(payload.fileTree, payload.path, payload.type), prevFiles.child)\n        if (deletePath) {\n          if (deletePath.endsWith('/blank')) delete prevFiles.child[deletePath]\n          else {\n            deletePath = extractNameFromKey(deletePath)\n            delete prevFiles.child[deletePath]\n          }\n        }\n        files = _.set(files, _path, prevFiles)\n      } else if (payload.fileTree && payload.path) {\n        files = { [payload.path]: normalize(payload.fileTree, payload.path, payload.type) }\n      }\n      return files\n    }\n  } else {\n    if (payload.path === state.mode || payload.path === '/') {\n      let files = normalize(payload.fileTree, payload.path, payload.type)\n\n      files = _.merge(files, state[state.mode].files[state.mode])\n      if (deletePath) delete files[deletePath]\n      return { [state.mode]: files }\n    } else {\n      let files = state.localhost.files\n      const _path = splitPath(state, payload.path)\n      const prevFiles = _.get(files, _path)\n\n      if (prevFiles) {\n        prevFiles.child = _.merge(normalize(payload.fileTree, payload.path, payload.type), prevFiles.child)\n        if (deletePath) {\n          if (deletePath.endsWith('/blank')) delete prevFiles.child[deletePath]\n          else {\n            deletePath = extractNameFromKey(deletePath)\n            delete prevFiles.child[deletePath]\n          }\n        }\n        files = _.set(files, _path, prevFiles)\n      } else {\n        files = { [payload.path]: normalize(payload.fileTree, payload.path, payload.type) }\n      }\n      return files\n    }\n  }\n}\n\nconst fetchWorkspaceDirectoryContent = (state: BrowserState, payload: { fileTree, path: string }): { [x: string]: Record<string, FileType> } => {\n  if (state.mode === 'browser') {\n    const files = normalize(payload.fileTree, payload.path)\n\n    return { [payload.path]: files }\n  } else {\n    return fetchDirectoryContent(state, payload)\n  }\n}\n\nconst normalize = (filesList, directory?: string, newInputType?: 'folder' | 'file'): Record<string, FileType> => {\n  const folders = {}\n  const files = {}\n\n  Object.keys(filesList || {}).forEach(key => {\n    key = key.replace(/^\\/|\\/$/g, '') // remove first and last slash\n    let path = key\n    path = path.replace(/^\\/|\\/$/g, '') // remove first and last slash\n\n    if (filesList[key].isDirectory) {\n      folders[extractNameFromKey(key)] = {\n        path,\n        name: extractNameFromKey(path).indexOf('gist-') === 0 ? extractNameFromKey(path).split('-')[1] : extractNameFromKey(path),\n        isDirectory: filesList[key].isDirectory,\n        type: extractNameFromKey(path).indexOf('gist-') === 0 ? 'gist' : 'folder'\n      }\n    } else {\n      files[extractNameFromKey(key)] = {\n        path,\n        name: extractNameFromKey(path),\n        isDirectory: filesList[key].isDirectory,\n        type: 'file'\n      }\n    }\n  })\n\n  if (newInputType === 'folder') {\n    const path = directory + '/blank'\n\n    folders[path] = {\n      path: path,\n      name: '',\n      isDirectory: true,\n      type: 'folder'\n    }\n  } else if (newInputType === 'file') {\n    const path = directory + '/blank'\n\n    files[path] = {\n      path: path,\n      name: '',\n      isDirectory: false,\n      type: 'file'\n    }\n  }\n\n  return Object.assign({}, folders, files)\n}\n\nconst splitPath = (state: BrowserState, path: string): string[] | string => {\n  const root = state.mode === 'browser' ? state.browser.currentWorkspace : 'localhost'\n  const pathArr: string[] = (path || '').split('/').filter(value => value)\n\n  if (pathArr[0] !== root) pathArr.unshift(root)\n  const _path = pathArr.map((key, index) => index > 1 ? ['child', key] : key).reduce((acc: string[], cur) => {\n    return Array.isArray(cur) ? [...acc, ...cur] : [...acc, cur]\n  }, [])\n\n  return _path\n}\n\nconst addContextMenuItem = (state: BrowserState, item: action): { registeredMenuItems: action[], removedMenuItems: action[], error: string } => {\n  let registeredItems = state[state.mode].contextMenu.registeredMenuItems\n  let removedItems = state[state.mode].contextMenu.removedMenuItems\n  let error = null\n\n  if (registeredItems.filter((o) => {\n    return o.id === item.id && o.name === item.name\n  }).length) {\n    error = `Action ${item.name} already exists on ${item.id}`\n    return {\n      registeredMenuItems: registeredItems,\n      removedMenuItems: removedItems,\n      error\n    }\n  }\n  registeredItems = [...registeredItems, item]\n  removedItems = removedItems.filter(menuItem => item.id !== menuItem.id)\n  return {\n    registeredMenuItems: registeredItems,\n    removedMenuItems: removedItems,\n    error\n  }\n}\n\nconst removeContextMenuItem = (state: BrowserState, plugin): { registeredMenuItems: action[], removedMenuItems: action[], error: string } => {\n  let registeredItems = state[state.mode].contextMenu.registeredMenuItems\n  const removedItems = state[state.mode].contextMenu.removedMenuItems\n  const error = null\n\n  registeredItems = registeredItems.filter((item) => {\n    if (item.id !== plugin.name || item.sticky === true) return true\n    else {\n      removedItems.push(item)\n      return false\n    }\n  })\n  return {\n    registeredMenuItems: registeredItems,\n    removedMenuItems: removedItems,\n    error\n  }\n}\n","import React, { useState, useEffect, useRef, useContext } from 'react' // eslint-disable-line\nimport { FileExplorer } from './components/file-explorer' // eslint-disable-line\nimport './css/remix-ui-workspace.css'\nimport { FileSystemContext } from './contexts'\n\nconst canUpload = window.File || window.FileReader || window.FileList || window.Blob\n\nexport function Workspace () {\n  const LOCALHOST = ' - connect to localhost - '\n  const NO_WORKSPACE = ' - none - '\n  const [currentWorkspace, setCurrentWorkspace] = useState<string>(NO_WORKSPACE)\n  const global = useContext(FileSystemContext)\n  const workspaceRenameInput = useRef()\n  const workspaceCreateInput = useRef()\n\n  useEffect(() => {\n    resetFocus()\n  }, [])\n\n  useEffect(() => {\n    if (global.fs.mode === 'browser') {\n      if (global.fs.browser.currentWorkspace) setCurrentWorkspace(global.fs.browser.currentWorkspace)\n      else setCurrentWorkspace(NO_WORKSPACE)\n      global.dispatchFetchWorkspaceDirectory(global.fs.browser.currentWorkspace)\n    } else if (global.fs.mode === 'localhost') {\n      global.dispatchFetchWorkspaceDirectory('/')\n      setCurrentWorkspace(LOCALHOST)\n    }\n  }, [global.fs.browser.currentWorkspace, global.fs.localhost.sharedFolder, global.fs.mode])\n\n  useEffect(() => {\n    if (global.fs.browser.currentWorkspace && !global.fs.browser.workspaces.includes(global.fs.browser.currentWorkspace)) {\n      if (global.fs.browser.workspaces.length > 0) {\n        switchWorkspace(global.fs.browser.workspaces[global.fs.browser.workspaces.length - 1])\n      } else {\n        switchWorkspace(NO_WORKSPACE)\n      }\n    }\n  }, [global.fs.browser.workspaces])\n\n  const renameCurrentWorkspace = () => {\n    global.modal('Rename Current Workspace', renameModalMessage(), 'OK', onFinishRenameWorkspace, '')\n  }\n\n  const createWorkspace = () => {\n    global.modal('Create Workspace', createModalMessage(), 'OK', onFinishCreateWorkspace, '')\n  }\n\n  const deleteCurrentWorkspace = () => {\n    global.modal('Delete Current Workspace', 'Are you sure to delete the current workspace?', 'OK', onFinishDeleteWorkspace, '')\n  }\n\n  const onFinishRenameWorkspace = async () => {\n    if (workspaceRenameInput.current === undefined) return\n    // @ts-ignore: Object is possibly 'null'.\n    const workspaceName = workspaceRenameInput.current.value\n\n    try {\n      await global.dispatchRenameWorkspace(currentWorkspace, workspaceName)\n    } catch (e) {\n      global.modal('Rename Workspace', e.message, 'OK', () => {}, '')\n      console.error(e)\n    }\n  }\n\n  const onFinishCreateWorkspace = async () => {\n    if (workspaceCreateInput.current === undefined) return\n    // @ts-ignore: Object is possibly 'null'.\n    const workspaceName = workspaceCreateInput.current.value\n\n    try {\n      await global.dispatchCreateWorkspace(workspaceName)\n    } catch (e) {\n      global.modal('Create Workspace', e.message, 'OK', () => {}, '')\n      console.error(e)\n    }\n  }\n\n  const onFinishDeleteWorkspace = async () => {\n    try {\n      await global.dispatchDeleteWorkspace(global.fs.browser.currentWorkspace)\n    } catch (e) {\n      global.modal('Delete Workspace', e.message, 'OK', () => {}, '')\n      console.error(e)\n    }\n  }\n  /** ** ****/\n\n  const resetFocus = () => {\n    global.dispatchSetFocusElement([{ key: '', type: 'folder' }])\n  }\n\n  const switchWorkspace = async (name: string) => {\n    try {\n      await global.dispatchSwitchToWorkspace(name)\n      global.dispatchHandleExpandPath([])\n    } catch (e) {\n      global.modal('Switch To Workspace', e.message, 'OK', () => {}, '')\n      console.error(e)\n    }\n  }\n\n  const createModalMessage = () => {\n    return (\n      <>\n        <input type=\"text\" data-id=\"modalDialogCustomPromptTextCreate\" defaultValue={`workspace_${Date.now()}`} ref={workspaceCreateInput} className=\"form-control\" />\n      </>\n    )\n  }\n\n  const renameModalMessage = () => {\n    return (\n      <>\n        <input type=\"text\" data-id=\"modalDialogCustomPromptTextRename\" defaultValue={ currentWorkspace } ref={workspaceRenameInput} className=\"form-control\" />\n      </>\n    )\n  }\n\n  return (\n    <div className='remixui_container'>\n      <div className='remixui_fileexplorer' data-id=\"remixUIWorkspaceExplorer\" onClick={resetFocus}>\n        <div>\n          <header>\n            <div className=\"mb-2\">\n              <label className=\"form-check-label\" htmlFor=\"workspacesSelect\">\n                Workspaces\n              </label>\n              <span className=\"remixui_menu\">\n                <span\n                  hidden={currentWorkspace === LOCALHOST || currentWorkspace === NO_WORKSPACE}\n                  id='workspaceCreate'\n                  data-id='workspaceCreate'\n                  onClick={(e) => {\n                    e.stopPropagation()\n                    createWorkspace()\n                  }}\n                  className='far fa-plus-square remixui_menuicon'\n                  title='Create'>\n                </span>\n                <span\n                  hidden={currentWorkspace === LOCALHOST || currentWorkspace === NO_WORKSPACE}\n                  id='workspaceRename'\n                  data-id='workspaceRename'\n                  onClick={(e) => {\n                    e.stopPropagation()\n                    renameCurrentWorkspace()\n                  }}\n                  className='far fa-edit remixui_menuicon'\n                  title='Rename'>\n                </span>\n                <span\n                  hidden={currentWorkspace === LOCALHOST || currentWorkspace === NO_WORKSPACE}\n                  id='workspaceDelete'\n                  data-id='workspaceDelete'\n                  onClick={(e) => {\n                    e.stopPropagation()\n                    deleteCurrentWorkspace()\n                  }}\n                  className='fas fa-trash'\n                  title='Delete'>\n                </span>\n              </span>\n              <select id=\"workspacesSelect\" value={currentWorkspace} data-id=\"workspacesSelect\" onChange={(e) => switchWorkspace(e.target.value)} className=\"form-control custom-select\">\n                {\n                  global.fs.browser.workspaces\n                    .map((folder, index) => {\n                      return <option key={index} value={folder}>{folder}</option>\n                    })\n                }\n                <option value={LOCALHOST}>{currentWorkspace === LOCALHOST ? 'localhost' : LOCALHOST}</option>\n                { global.fs.browser.workspaces.length <= 0 && <option value={NO_WORKSPACE}>{NO_WORKSPACE}</option> }\n              </select>\n            </div>\n          </header>\n        </div>\n        <div className='remixui_fileExplorerTree'>\n          <div>\n            <div className='pl-2 remixui_treeview' data-id='filePanelFileExplorerTree'>\n              { (global.fs.mode === 'browser') && (currentWorkspace !== NO_WORKSPACE) &&\n                  <FileExplorer\n                    name={currentWorkspace}\n                    menuItems={['createNewFile', 'createNewFolder', 'publishToGist', canUpload ? 'uploadFile' : '']}\n                    contextMenuItems={global.fs.browser.contextMenu.registeredMenuItems}\n                    removedContextMenuItems={global.fs.browser.contextMenu.removedMenuItems}\n                    files={global.fs.browser.files}\n                    expandPath={global.fs.browser.expandPath}\n                    focusEdit={global.fs.focusEdit}\n                    focusElement={global.fs.focusElement}\n                    dispatchCreateNewFile={global.dispatchCreateNewFile}\n                    modal={global.modal}\n                    dispatchCreateNewFolder={global.dispatchCreateNewFolder}\n                    readonly={global.fs.readonly}\n                    toast={global.toast}\n                    dispatchDeletePath={global.dispatchDeletePath}\n                    dispatchRenamePath={global.dispatchRenamePath}\n                    dispatchUploadFile={global.dispatchUploadFile}\n                    dispatchCopyFile={global.dispatchCopyFile}\n                    dispatchCopyFolder={global.dispatchCopyFolder}\n                    dispatchPublishToGist={global.dispatchPublishToGist}\n                    dispatchRunScript={global.dispatchRunScript}\n                    dispatchEmitContextMenuEvent={global.dispatchEmitContextMenuEvent}\n                    dispatchHandleClickFile={global.dispatchHandleClickFile}\n                    dispatchSetFocusElement={global.dispatchSetFocusElement}\n                    dispatchFetchDirectory={global.dispatchFetchDirectory}\n                    dispatchRemoveInputField={global.dispatchRemoveInputField}\n                    dispatchAddInputField={global.dispatchAddInputField}\n                    dispatchHandleExpandPath={global.dispatchHandleExpandPath}\n                  />\n              }\n            </div>\n            {\n              global.fs.localhost.isRequestingLocalhost ? <div className=\"text-center py-5\"><i className=\"fas fa-spinner fa-pulse fa-2x\"></i></div>\n                : <div className='pl-2 filesystemexplorer remixui_treeview'>\n                  { global.fs.mode === 'localhost' && global.fs.localhost.isSuccessfulLocalhost &&\n                      <FileExplorer\n                        name='localhost'\n                        menuItems={['createNewFile', 'createNewFolder']}\n                        contextMenuItems={global.fs.localhost.contextMenu.registeredMenuItems}\n                        removedContextMenuItems={global.fs.localhost.contextMenu.removedMenuItems}\n                        files={global.fs.localhost.files}\n                        expandPath={global.fs.localhost.expandPath}\n                        focusEdit={global.fs.focusEdit}\n                        focusElement={global.fs.focusElement}\n                        dispatchCreateNewFile={global.dispatchCreateNewFile}\n                        modal={global.modal}\n                        dispatchCreateNewFolder={global.dispatchCreateNewFolder}\n                        readonly={global.fs.readonly}\n                        toast={global.toast}\n                        dispatchDeletePath={global.dispatchDeletePath}\n                        dispatchRenamePath={global.dispatchRenamePath}\n                        dispatchUploadFile={global.dispatchUploadFile}\n                        dispatchCopyFile={global.dispatchCopyFile}\n                        dispatchCopyFolder={global.dispatchCopyFolder}\n                        dispatchPublishToGist={global.dispatchPublishToGist}\n                        dispatchRunScript={global.dispatchRunScript}\n                        dispatchEmitContextMenuEvent={global.dispatchEmitContextMenuEvent}\n                        dispatchHandleClickFile={global.dispatchHandleClickFile}\n                        dispatchSetFocusElement={global.dispatchSetFocusElement}\n                        dispatchFetchDirectory={global.dispatchFetchDirectory}\n                        dispatchRemoveInputField={global.dispatchRemoveInputField}\n                        dispatchAddInputField={global.dispatchAddInputField}\n                        dispatchHandleExpandPath={global.dispatchHandleExpandPath}\n                      />\n                  }\n                </div>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Workspace\n","import { MenuItems } from '../types'\n\nexport const contextMenuActions: MenuItems = [{\n  id: 'newFile',\n  name: 'New File',\n  type: ['folder', 'gist'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'newFolder',\n  name: 'New Folder',\n  type: ['folder', 'gist'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'rename',\n  name: 'Rename',\n  type: ['file', 'folder'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'delete',\n  name: 'Delete',\n  type: ['file', 'folder', 'gist'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'run',\n  name: 'Run',\n  extension: ['.js'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'pushChangesToGist',\n  name: 'Push changes to gist',\n  type: ['gist'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'publishFolderToGist',\n  name: 'Publish folder to gist',\n  type: ['folder'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'publishFileToGist',\n  name: 'Publish file to gist',\n  type: ['file'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'copy',\n  name: 'Copy',\n  type: ['folder', 'file'],\n  multiselect: false,\n  label: ''\n}, {\n  id: 'deleteAll',\n  name: 'Delete All',\n  type: ['folder', 'file'],\n  multiselect: true,\n  label: ''\n}]\n","module.exports = [[module.id, \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZW1peC11aS1jaGVja2JveC5jc3MifQ== */\", '', '']]","module.exports = [[module.id, \".copyIcon {\\n    margin-left: 5px;\\n    cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcHktdG8tY2xpcGJvYXJkLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25CIiwiZmlsZSI6ImNvcHktdG8tY2xpcGJvYXJkLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb3B5SWNvbiB7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\", '', '']]","module.exports = [[module.id, \".buttons {\\n    display: flex;\\n    flex-wrap: wrap;\\n}\\n.stepButtons {\\n    width: 100%;\\n    display: flex;\\n    justify-content: center;\\n}\\n.stepButton {\\n}\\n.jumpButtons {\\n    width: 100%;\\n    display: flex;\\n    justify-content: center;\\n}\\n.jumpButton {\\n}\\n.navigator {\\n}\\n.navigator:hover {\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1dHRvbi1uYXZpZ2F0b3IuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7QUFDbkI7QUFDQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsdUJBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0lBQ0ksV0FBVztJQUNYLGFBQWE7SUFDYix1QkFBdUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYnV0dG9uLW5hdmlnYXRvci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG59XG4uc3RlcEJ1dHRvbnMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4uc3RlcEJ1dHRvbiB7XG59XG4uanVtcEJ1dHRvbnMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4uanVtcEJ1dHRvbiB7XG59XG4ubmF2aWdhdG9yIHtcbn1cbi5uYXZpZ2F0b3I6aG92ZXIge1xufSJdfQ== */\", '', '']]","module.exports = [[module.id, \".statusMessage {\\n  margin-left: 15px;\\n}\\n.debuggerLabel {\\n  margin-bottom: 2px;\\n  font-size: 11px;\\n  line-height: 12px;\\n  text-transform: uppercase;\\n}\\n.debuggerConfig {\\n  display: flex;\\n  align-items: center;\\n}\\n.debuggerConfig label {\\n  margin: 0;\\n}\\n.validationError {\\n  overflow-wrap: break-word;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYnVnZ2VyLXVpLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxTQUFTO0FBQ1g7QUFDQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJkZWJ1Z2dlci11aS5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3RhdHVzTWVzc2FnZSB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuLmRlYnVnZ2VyTGFiZWwge1xuICBtYXJnaW4tYm90dG9tOiAycHg7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbGluZS1oZWlnaHQ6IDEycHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG4uZGVidWdnZXJDb25maWcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLmRlYnVnZ2VyQ29uZmlnIGxhYmVsIHtcbiAgbWFyZ2luOiAwO1xufVxuLnZhbGlkYXRpb25FcnJvciB7XG4gIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG59Il19 */\", '', '']]","module.exports = [[module.id, \".container {\\n    display: flex;\\n    flex-direction: column;\\n}\\n.txContainer {\\n    display: flex;\\n    flex-direction: column;\\n}\\n.txinput {\\n    width: inherit;\\n    font-size: small;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.txbutton {\\n    width: inherit;\\n}\\n.txbutton:hover {\\n}\\n.vmargin {\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR4LWJyb3dzZXIuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0ksY0FBYztJQUNkLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkIiLCJmaWxlIjoidHgtYnJvd3Nlci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4udHhDb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi50eGlucHV0IHtcbiAgICB3aWR0aDogaW5oZXJpdDtcbiAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cbi50eGJ1dHRvbiB7XG4gICAgd2lkdGg6IGluaGVyaXQ7XG59XG4udHhidXR0b246aG92ZXIge1xufVxuLnZtYXJnaW4ge1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn0iXX0= */\", '', '']]","module.exports = [[module.id, \".instructions {\\n    overflow-y: scroll;\\n    max-height: 130px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2VtYmx5LWl0ZW1zLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7QUFDckIiLCJmaWxlIjoiYXNzZW1ibHktaXRlbXMuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmluc3RydWN0aW9ucyB7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIG1heC1oZWlnaHQ6IDEzMHB4O1xufSJdfQ== */\", '', '']]","module.exports = [[module.id, \".title {\\n    display: flex;\\n    align-items: center;\\n  }\\n  .name {\\n    font-weight: bold;\\n  }\\n  .nameDetail {\\n    font-weight: bold;\\n    margin-left: 3px;\\n  }\\n  .icon {\\n    margin-right: 5%;\\n  }\\n  .eyeButton {\\n    margin: 3px;\\n  }\\n  .dropdownpanel {\\n    width: 100%;\\n    word-break: break-word;\\n  }\\n  .dropdownrawcontent {\\n    padding: 2px;\\n    word-break: break-word;\\n  }\\n  .message {\\n    padding: 2px;\\n    word-break: break-word;\\n  }\\n  .refresh {\\n    display: none;\\n    margin-left: 4px;\\n    margin-top: 4px; \\n    -webkit-animation: spin 2s linear infinite; \\n            animation: spin 2s linear infinite;\\n  }\\n  .cursor_pointer {\\n    cursor: pointer;\\n  }\\n  @-webkit-keyframes spin {\\n    to { -webkit-transform: rotate(359deg); }\\n  }\\n  @keyframes spin {\\n    to {transform:rotate(359deg);}\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLXBhbmVsLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7RUFDckI7RUFDQTtJQUNFLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsaUJBQWlCO0lBQ2pCLGdCQUFnQjtFQUNsQjtFQUNBO0lBQ0UsZ0JBQWdCO0VBQ2xCO0VBQ0E7SUFDRSxXQUFXO0VBQ2I7RUFDQTtJQUNFLFdBQVc7SUFDWCxzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLFlBQVk7SUFDWixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLFlBQVk7SUFDWixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLDBDQUFrQztZQUFsQyxrQ0FBa0M7RUFDcEM7RUFDQTtJQUNFLGVBQWU7RUFDakI7RUFJQTtJQUNFLEtBQUssaUNBQWlDLEVBQUU7RUFDMUM7RUFDQTtJQUNFLElBQUksd0JBQXdCLENBQUM7RUFDL0IiLCJmaWxlIjoiZHJvcGRvd24tcGFuZWwuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbiAgLm5hbWUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4gIC5uYW1lRGV0YWlsIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW4tbGVmdDogM3B4O1xuICB9XG4gIC5pY29uIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDUlO1xuICB9XG4gIC5leWVCdXR0b24ge1xuICAgIG1hcmdpbjogM3B4O1xuICB9XG4gIC5kcm9wZG93bnBhbmVsIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICB9XG4gIC5kcm9wZG93bnJhd2NvbnRlbnQge1xuICAgIHBhZGRpbmc6IDJweDtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICB9XG4gIC5tZXNzYWdlIHtcbiAgICBwYWRkaW5nOiAycHg7XG4gICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgfVxuICAucmVmcmVzaCB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgIG1hcmdpbi10b3A6IDRweDsgXG4gICAgYW5pbWF0aW9uOiBzcGluIDJzIGxpbmVhciBpbmZpbml0ZTtcbiAgfVxuICAuY3Vyc29yX3BvaW50ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBALW1vei1rZXlmcmFtZXMgc3BpbiB7XG4gICAgdG8geyAtbW96LXRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7IH1cbiAgfVxuICBALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7XG4gICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7IH1cbiAgfVxuICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgIHRvIHt0cmFuc2Zvcm06cm90YXRlKDM1OWRlZyk7fVxuICB9Il19 */\", '', '']]","module.exports = [[module.id, \".hover-row {\\n    white-space: pre;\\n    margin-left : 10px;\\n    background : var(--light);    \\n    font-weight : bold;\\n    font-family : monospace;\\n    padding : 10px;\\n    border-radius : 10px;\\n    height: auto;\\n    width: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLWVkaXRvci5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCxvQkFBb0I7SUFDcEIsWUFBWTtJQUNaLFdBQVc7QUFDZiIsImZpbGUiOiJyZW1peC11aS1lZGl0b3IuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhvdmVyLXJvdyB7XG4gICAgd2hpdGUtc3BhY2U6IHByZTtcbiAgICBtYXJnaW4tbGVmdCA6IDEwcHg7XG4gICAgYmFja2dyb3VuZCA6IHZhcigtLWxpZ2h0KTsgICAgXG4gICAgZm9udC13ZWlnaHQgOiBib2xkO1xuICAgIGZvbnQtZmFtaWx5IDogbW9ub3NwYWNlO1xuICAgIHBhZGRpbmcgOiAxMHB4O1xuICAgIGJvcmRlci1yYWRpdXMgOiAxMHB4O1xuICAgIGhlaWdodDogYXV0bztcbiAgICB3aWR0aDogYXV0bztcbn0iXX0= */\", '', '']]","module.exports = [[module.id, \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb2RhbC1kaWFsb2ctY3VzdG9tLmNzcyJ9 */\", '', '']]","module.exports = [[module.id, \".remixModalContent {\\n  box-shadow: 0 0 8px 10000px rgba(0,0,0,0.6),0 6px 20px 0 rgba(0,0,0,0.19);\\n  -webkit-animation-name: animatetop;\\n  -webkit-animation-duration: 0.4s;\\n  animation-name: animatetop;\\n  animation-duration: 0.4s\\n}\\n.remixModalBody {\\n  overflow-y: auto;\\n  max-height: 600px;\\n}\\n@-webkit-keyframes animatetop {\\n  from {top: -300px; opacity: 0}\\n  to {top: 0; opacity: 1}\\n}\\n@keyframes animatetop {\\n  from {top: -300px; opacity: 0}\\n  to {top: 0; opacity: 1}\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLW1vZGFsLWRpYWxvZy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5RUFBeUU7RUFDekUsa0NBQWtDO0VBQ2xDLGdDQUFnQztFQUNoQywwQkFBMEI7RUFDMUI7QUFDRjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsTUFBTSxXQUFXLEVBQUUsVUFBVTtFQUM3QixJQUFJLE1BQU0sRUFBRSxVQUFVO0FBQ3hCO0FBQ0E7RUFDRSxNQUFNLFdBQVcsRUFBRSxVQUFVO0VBQzdCLElBQUksTUFBTSxFQUFFLFVBQVU7QUFDeEIiLCJmaWxlIjoicmVtaXgtdWktbW9kYWwtZGlhbG9nLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZW1peE1vZGFsQ29udGVudCB7XG4gIGJveC1zaGFkb3c6IDAgMCA4cHggMTAwMDBweCByZ2JhKDAsMCwwLDAuNiksMCA2cHggMjBweCAwIHJnYmEoMCwwLDAsMC4xOSk7XG4gIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGFuaW1hdGV0b3A7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzO1xuICBhbmltYXRpb24tbmFtZTogYW5pbWF0ZXRvcDtcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzXG59XG4ucmVtaXhNb2RhbEJvZHkge1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBtYXgtaGVpZ2h0OiA2MDBweDtcbn1cbkAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRldG9wIHtcbiAgZnJvbSB7dG9wOiAtMzAwcHg7IG9wYWNpdHk6IDB9XG4gIHRvIHt0b3A6IDA7IG9wYWNpdHk6IDF9XG59XG5Aa2V5ZnJhbWVzIGFuaW1hdGV0b3Age1xuICBmcm9tIHt0b3A6IC0zMDBweDsgb3BhY2l0eTogMH1cbiAgdG8ge3RvcDogMDsgb3BhY2l0eTogMX1cbn0iXX0= */\", '', '']]","module.exports = [[module.id, \".remixui_pluginSearch {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  background-color: var(--light);\\n  padding: 10px;\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  z-index: 2;\\n  margin-bottom: 0px;\\n}\\n.remixui_pluginSearchInput {\\n  height: 38px;\\n}\\n.remixui_pluginSearchButton {\\n  font-size: 13px;\\n}\\n.remixui_displayName {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.remixui_pluginIcon {\\n  height: 0.7rem;\\n  width: 0.7rem;\\n  filter: invert(0.5);\\n}\\n.remixui_description {\\n  font-size: 13px;\\n  line-height: 18px;\\n}\\n.remixui_descriptiontext {\\n  display: block;\\n}\\n.remixui_descriptiontext:first-letter {\\n  text-transform: uppercase;\\n}\\n.remixui_row {\\n  display: flex;\\n  flex-direction: row;\\n}\\n.remixui_isStuck {\\n  background-color: var(--primary);\\n  /* color:  */\\n}\\n.remixui_versionWarning {\\n  padding: 4px;\\n  margin: 0 8px;\\n  font-weight: 700;\\n  font-size: 9px;\\n  line-height: 12px;\\n  text-transform: uppercase;\\n  cursor: default;\\n  border: 1px solid;\\n  border-radius: 2px;\\n}\\n.remixui_permissions {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  padding: 5px 20px;\\n}\\n.remixui_permissions button {\\n  padding: 2px 5px;\\n  cursor: pointer;\\n}\\n.remixui_permissionForm h4 {\\n  font-size: 1.3rem;\\n  text-align: center;\\n}\\n.remixui_permissionForm h6 {\\n  font-size: 1.1rem;\\n}\\n.remixui_permissionForm hr {\\n  width: 80%;\\n}\\n.remixui_permissionKey {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.remixui_permissionKey i {\\n  cursor: pointer;\\n}\\n.remixui_checkbox {\\n  display: flex;\\n  align-items: center;\\n}\\n.remixui_checkbox label {\\n  margin: 0;\\n  font-size: 1rem;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLXBsdWdpbi1tYW5hZ2VyLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixhQUFhO0VBQ2Isd0JBQWdCO0VBQWhCLGdCQUFnQjtFQUNoQixNQUFNO0VBQ04sVUFBVTtFQUNWLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsWUFBWTtBQUNkO0FBQ0E7RUFDRSxlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw4QkFBOEI7QUFDaEM7QUFDQTtFQUNFLGNBQWM7RUFDZCxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7QUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGdDQUFnQztFQUNoQyxZQUFZO0FBQ2Q7QUFDQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIseUJBQXlCO0VBQ3pCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCO0FBRUE7RUFDRSx3QkFBZ0I7RUFBaEIsZ0JBQWdCO0VBQ2hCLFNBQVM7RUFDVCxhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLGdCQUFnQjtFQUNoQixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLFVBQVU7QUFDWjtBQUNBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGVBQWU7QUFDakI7QUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7QUFDQTtFQUNFLFNBQVM7RUFDVCxlQUFlO0FBQ2pCIiwiZmlsZSI6InJlbWl4LXVpLXBsdWdpbi1tYW5hZ2VyLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZW1peHVpX3BsdWdpblNlYXJjaCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTtcbiAgcGFkZGluZzogMTBweDtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgdG9wOiAwO1xuICB6LWluZGV4OiAyO1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59XG4ucmVtaXh1aV9wbHVnaW5TZWFyY2hJbnB1dCB7XG4gIGhlaWdodDogMzhweDtcbn1cbi5yZW1peHVpX3BsdWdpblNlYXJjaEJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cbi5yZW1peHVpX2Rpc3BsYXlOYW1lIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbi5yZW1peHVpX3BsdWdpbkljb24ge1xuICBoZWlnaHQ6IDAuN3JlbTtcbiAgd2lkdGg6IDAuN3JlbTtcbiAgZmlsdGVyOiBpbnZlcnQoMC41KTtcbn1cbi5yZW1peHVpX2Rlc2NyaXB0aW9uIHtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBsaW5lLWhlaWdodDogMThweDtcbn1cbi5yZW1peHVpX2Rlc2NyaXB0aW9udGV4dCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuLnJlbWl4dWlfZGVzY3JpcHRpb250ZXh0OmZpcnN0LWxldHRlciB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG4ucmVtaXh1aV9yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuLnJlbWl4dWlfaXNTdHVjayB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpO1xuICAvKiBjb2xvcjogICovXG59XG4ucmVtaXh1aV92ZXJzaW9uV2FybmluZyB7XG4gIHBhZGRpbmc6IDRweDtcbiAgbWFyZ2luOiAwIDhweDtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZm9udC1zaXplOiA5cHg7XG4gIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBjdXJzb3I6IGRlZmF1bHQ7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiAycHg7XG59XG5cbi5yZW1peHVpX3Blcm1pc3Npb25zIHtcbiAgcG9zaXRpb246IHN0aWNreTtcbiAgYm90dG9tOiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiA1cHggMjBweDtcbn1cbi5yZW1peHVpX3Blcm1pc3Npb25zIGJ1dHRvbiB7XG4gIHBhZGRpbmc6IDJweCA1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5yZW1peHVpX3Blcm1pc3Npb25Gb3JtIGg0IHtcbiAgZm9udC1zaXplOiAxLjNyZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5yZW1peHVpX3Blcm1pc3Npb25Gb3JtIGg2IHtcbiAgZm9udC1zaXplOiAxLjFyZW07XG59XG4ucmVtaXh1aV9wZXJtaXNzaW9uRm9ybSBociB7XG4gIHdpZHRoOiA4MCU7XG59XG4ucmVtaXh1aV9wZXJtaXNzaW9uS2V5IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnJlbWl4dWlfcGVybWlzc2lvbktleSBpIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLnJlbWl4dWlfY2hlY2tib3gge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnJlbWl4dWlfY2hlY2tib3ggbGFiZWwge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cbiJdfQ== */\", '', '']]","module.exports = [[module.id, \".remixui_sol.success,\\n.remixui_sol.error,\\n.remixui_sol.warning {\\n    white-space: pre-line;\\n    word-wrap: break-word;\\n    cursor: pointer;\\n    position: relative;\\n    margin: 0.5em 0 1em 0;\\n    border-radius: 5px;\\n    line-height: 20px;\\n    padding: 8px 15px;\\n}\\n\\n.remixui_sol.success pre,\\n.remixui_sol.error pre,\\n.remixui_sol.warning pre {\\n    white-space: pre-line;\\n    overflow-y: hidden;\\n    background-color: transparent;\\n    margin: 0;\\n    font-size: 12px;\\n    border: 0 none;\\n    padding: 0;\\n    border-radius: 0;\\n}\\n\\n.remixui_sol.success .close,\\n.remixui_sol.error .close,\\n.remixui_sol.warning .close {\\n    visibility: hidden;\\n    white-space: pre-line;\\n    font-weight: bold;\\n    position: absolute;\\n    color: hsl(0, 0%, 0%); /* black in style-guide.js */\\n    top: 0;\\n    right: 0;\\n    padding: 0.5em;\\n}\\n\\n.remixui_sol.error {\\n}\\n\\n.remixui_sol.warning {\\n}\\n\\n.remixui_sol.success {\\n  /* background-color:  // styles.rightPanel.message_Success_BackgroundColor; */\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbmRlcmVyLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0lBR0kscUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGlCQUFpQjtBQUNyQjs7QUFFQTs7O0lBR0kscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQiw2QkFBNkI7SUFDN0IsU0FBUztJQUNULGVBQWU7SUFDZixjQUFjO0lBQ2QsVUFBVTtJQUNWLGdCQUFnQjtBQUNwQjs7QUFFQTs7O0lBR0ksa0JBQWtCO0lBQ2xCLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLHFCQUFxQixFQUFFLDRCQUE0QjtJQUNuRCxNQUFNO0lBQ04sUUFBUTtJQUNSLGNBQWM7QUFDbEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0VBQ0UsNkVBQTZFO0FBQy9FIiwiZmlsZSI6InJlbmRlcmVyLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZW1peHVpX3NvbC5zdWNjZXNzLFxuLnJlbWl4dWlfc29sLmVycm9yLFxuLnJlbWl4dWlfc29sLndhcm5pbmcge1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtbGluZTtcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtYXJnaW46IDAuNWVtIDAgMWVtIDA7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgIHBhZGRpbmc6IDhweCAxNXB4O1xufVxuXG4ucmVtaXh1aV9zb2wuc3VjY2VzcyBwcmUsXG4ucmVtaXh1aV9zb2wuZXJyb3IgcHJlLFxuLnJlbWl4dWlfc29sLndhcm5pbmcgcHJlIHtcbiAgICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XG4gICAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIG1hcmdpbjogMDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgYm9yZGVyOiAwIG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xufVxuXG4ucmVtaXh1aV9zb2wuc3VjY2VzcyAuY2xvc2UsXG4ucmVtaXh1aV9zb2wuZXJyb3IgLmNsb3NlLFxuLnJlbWl4dWlfc29sLndhcm5pbmcgLmNsb3NlIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IHByZS1saW5lO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBjb2xvcjogaHNsKDAsIDAlLCAwJSk7IC8qIGJsYWNrIGluIHN0eWxlLWd1aWRlLmpzICovXG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHBhZGRpbmc6IDAuNWVtO1xufVxuXG4ucmVtaXh1aV9zb2wuZXJyb3Ige1xufVxuXG4ucmVtaXh1aV9zb2wud2FybmluZyB7XG59XG5cbi5yZW1peHVpX3NvbC5zdWNjZXNzIHtcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogIC8vIHN0eWxlcy5yaWdodFBhbmVsLm1lc3NhZ2VfU3VjY2Vzc19CYWNrZ3JvdW5kQ29sb3I7ICovXG59XG4iXX0= */\", '', '']]","module.exports = [[module.id, \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZW1peC11aS1zZXR0aW5ncy5jc3MifQ== */\", '', '']]","module.exports = [[module.id, \".remixui_title {\\n  font-size: 1.1em;\\n  font-weight: bold;\\n  margin-bottom: 1em;\\n}\\n.remixui_panicError {\\n  color: red;\\n  font-size: 20px;\\n}\\n.remixui_crow {\\n  display: flex;\\n  overflow: auto;\\n  clear: both;\\n  padding: .2em;\\n}\\n.remixui_checkboxText {\\n  font-weight: normal;\\n}\\n.remixui_crow label {\\n  cursor:pointer;\\n}\\n.remixui_crowNoFlex {\\n  overflow: auto;\\n  clear: both;\\n}\\n.remixui_info {\\n  padding: 10px;\\n  word-break: break-word;\\n}\\n.remixui_contract {\\n  display: block;\\n  margin: 3% 0;\\n}\\n.remixui_nightlyBuilds {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n.remixui_autocompileContainer {\\n  display: flex;\\n  align-items: center;\\n}\\n.remixui_runs {\\n  width: 40%;\\n}\\n.remixui_hideWarningsContainer {\\n  display: flex;\\n  align-items: center;\\n}\\n.remixui_autocompile {}\\n.remixui_autocompileTitle {\\n  font-weight: bold;\\n  margin: 1% 0;\\n}\\n.remixui_autocompileText {\\n  margin: 1% 0;\\n  font-size: 12px;\\n  overflow: hidden;\\n  word-break: normal;\\n  line-height: initial;\\n}\\n.remixui_warnCompilationSlow {\\n  margin-left: 1%;\\n}\\n.remixui_compilerConfig {\\n  display: flex;\\n  align-items: center;\\n}\\n.remixui_compilerConfig label {\\n  margin: 0;\\n}\\n.remixui_compilerSection {\\n  padding: 12px 24px 16px;\\n}\\n.remixui_compilerLabel {\\n  margin-bottom: 2px;\\n  font-size: 11px;\\n  line-height: 12px;\\n  text-transform: uppercase;\\n}\\n.remixui_copyButton {\\n  padding: 6px;\\n  font-weight: bold;\\n  font-size: 11px;\\n  line-height: 15px;\\n}\\n.remixui_name {\\n  display: flex;\\n}\\n.remixui_size {\\n  display: flex;\\n}\\n.remixui_checkboxes {\\n  display: flex;\\n  width: 100%;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n}\\n.remixui_compileButton {\\n  width: 100%;\\n  margin: 15px 0 10px 0;\\n  font-size: 12px;\\n}\\n.remixui_container {\\n  margin: 0;\\n}\\n.remixui_optimizeContainer {\\n  display: flex;\\n}\\n.remixui_noContractAlert {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.remixui_contractHelperButtons {\\n  margin-top: 6px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  float: right;\\n}\\n.remixui_copyToClipboard {\\n  font-size: 1rem;\\n}\\n.remixui_copyIcon {\\n  margin-right: 5px;\\n}\\n.remixui_log {\\n  display: flex;\\n  flex-direction: column;\\n  margin-bottom: 5%;\\n  overflow: visible;\\n}\\n.remixui_key {\\n  margin-right: 5px;\\n  text-transform: uppercase;\\n  width: 100%;\\n}\\n.remixui_value {\\n  display: flex;\\n  width: 100%;\\n  margin-top: 1.5%;\\n}\\n.remixui_questionMark {\\n  margin-left: 2%;\\n  cursor: pointer;\\n}\\n.remixui_questionMark:hover {\\n}\\n.remixui_detailsJSON {\\n  padding: 8px 0;\\n  border: none;\\n}\\n.remixui_icon {\\n  margin-right: 0.3em;\\n}\\n.remixui_errorBlobs {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  word-break: break-word;\\n}\\n.remixui_storageLogo {\\n  width: 20px;\\n  height: 20px;\\n}\\n.remixui_spinningIcon {\\n  display: inline-block;\\n  position: relative;\\n  animation: spin 2s infinite linear;\\n  -moz-animation: spin 2s infinite linear;\\n  -o-animation: spin 2s infinite linear;\\n  -webkit-animation: spin 2s infinite linear;\\n}\\n@keyframes spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n@-webkit-keyframes spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n.remixui_bouncingIcon {\\n  display: inline-block;\\n  position: relative;\\n  -webkit-animation: bounce 2s infinite linear;\\n  animation: bounce 2s infinite linear;\\n}\\n@-webkit-keyframes bounce {\\n    0% { top: 0; }\\n    50% { top: -0.2em; }\\n    70% { top: -0.3em; }\\n    100% { top: 0; }\\n}\\n@keyframes bounce {\\n    0% { top: 0; }\\n    50% { top: -0.2em; }\\n    70% { top: -0.3em; }\\n    100% { top: 0; }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLGNBQWM7RUFDZCxXQUFXO0VBQ1gsYUFBYTtBQUNmO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGNBQWM7QUFDaEI7QUFDQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0FBQ2I7QUFDQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7QUFDeEI7QUFDQTtFQUNFLGNBQWM7RUFDZCxZQUFZO0FBQ2Q7QUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxVQUFVO0FBQ1o7QUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7QUFDQSxzQkFBc0I7QUFDdEI7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtBQUNkO0FBQ0E7RUFDRSxZQUFZO0VBQ1osZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSxlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxTQUFTO0FBQ1g7QUFDQTtFQUNFLHVCQUF1QjtBQUN6QjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0UsYUFBYTtBQUNmO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsV0FBVztFQUNYLDhCQUE4QjtFQUM5QixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxXQUFXO0VBQ1gscUJBQXFCO0VBQ3JCLGVBQWU7QUFDakI7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsYUFBYTtBQUNmO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsOEJBQThCO0VBQzlCLFlBQVk7QUFDZDtBQUNBO0VBQ0UsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGlCQUFpQjtFQUNqQixpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsV0FBVztBQUNiO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsV0FBVztFQUNYLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGVBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7RUFDRSxjQUFjO0VBQ2QsWUFBWTtBQUNkO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkO0FBQ0E7RUFDRSxxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLGtDQUFrQztFQUNsQyx1Q0FBdUM7RUFDdkMscUNBQXFDO0VBQ3JDLDBDQUEwQztBQUM1QztBQUNBO0VBQ0UsS0FBSyx1QkFBdUIsRUFBRTtFQUM5QixPQUFPLHlCQUF5QixFQUFFO0FBQ3BDO0FBQ0E7RUFDRSxLQUFLLHVCQUF1QixFQUFFO0VBQzlCLE9BQU8seUJBQXlCLEVBQUU7QUFDcEM7QUFjQTtFQUNFLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFHbEIsNENBQTRDO0VBQzVDLG9DQUFvQztBQUN0QztBQUVBO0lBQ0ksS0FBSyxNQUFNLEVBQUU7SUFDYixNQUFNLFdBQVcsRUFBRTtJQUNuQixNQUFNLFdBQVcsRUFBRTtJQUNuQixPQUFPLE1BQU0sRUFBRTtBQUNuQjtBQW1CQTtJQUNJLEtBQUssTUFBTSxFQUFFO0lBQ2IsTUFBTSxXQUFXLEVBQUU7SUFDbkIsTUFBTSxXQUFXLEVBQUU7SUFDbkIsT0FBTyxNQUFNLEVBQUU7QUFDbkIiLCJmaWxlIjoic3R5bGUuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlbWl4dWlfdGl0bGUge1xuICBmb250LXNpemU6IDEuMWVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLWJvdHRvbTogMWVtO1xufVxuLnJlbWl4dWlfcGFuaWNFcnJvciB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cbi5yZW1peHVpX2Nyb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBvdmVyZmxvdzogYXV0bztcbiAgY2xlYXI6IGJvdGg7XG4gIHBhZGRpbmc6IC4yZW07XG59XG4ucmVtaXh1aV9jaGVja2JveFRleHQge1xuICBmb250LXdlaWdodDogbm9ybWFsO1xufVxuLnJlbWl4dWlfY3JvdyBsYWJlbCB7XG4gIGN1cnNvcjpwb2ludGVyO1xufVxuLnJlbWl4dWlfY3Jvd05vRmxleCB7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBjbGVhcjogYm90aDtcbn1cbi5yZW1peHVpX2luZm8ge1xuICBwYWRkaW5nOiAxMHB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuLnJlbWl4dWlfY29udHJhY3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAzJSAwO1xufVxuLnJlbWl4dWlfbmlnaHRseUJ1aWxkcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ucmVtaXh1aV9hdXRvY29tcGlsZUNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ucmVtaXh1aV9ydW5zIHtcbiAgd2lkdGg6IDQwJTtcbn1cbi5yZW1peHVpX2hpZGVXYXJuaW5nc0NvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ucmVtaXh1aV9hdXRvY29tcGlsZSB7fVxuLnJlbWl4dWlfYXV0b2NvbXBpbGVUaXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW46IDElIDA7XG59XG4ucmVtaXh1aV9hdXRvY29tcGlsZVRleHQge1xuICBtYXJnaW46IDElIDA7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd29yZC1icmVhazogbm9ybWFsO1xuICBsaW5lLWhlaWdodDogaW5pdGlhbDtcbn1cbi5yZW1peHVpX3dhcm5Db21waWxhdGlvblNsb3cge1xuICBtYXJnaW4tbGVmdDogMSU7XG59XG4ucmVtaXh1aV9jb21waWxlckNvbmZpZyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ucmVtaXh1aV9jb21waWxlckNvbmZpZyBsYWJlbCB7XG4gIG1hcmdpbjogMDtcbn1cbi5yZW1peHVpX2NvbXBpbGVyU2VjdGlvbiB7XG4gIHBhZGRpbmc6IDEycHggMjRweCAxNnB4O1xufVxuLnJlbWl4dWlfY29tcGlsZXJMYWJlbCB7XG4gIG1hcmdpbi1ib3R0b206IDJweDtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBsaW5lLWhlaWdodDogMTJweDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cbi5yZW1peHVpX2NvcHlCdXR0b24ge1xuICBwYWRkaW5nOiA2cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDExcHg7XG4gIGxpbmUtaGVpZ2h0OiAxNXB4O1xufVxuLnJlbWl4dWlfbmFtZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4ucmVtaXh1aV9zaXplIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5yZW1peHVpX2NoZWNrYm94ZXMge1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogMTAwJTtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG4ucmVtaXh1aV9jb21waWxlQnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMTVweCAwIDEwcHggMDtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuLnJlbWl4dWlfY29udGFpbmVyIHtcbiAgbWFyZ2luOiAwO1xufVxuLnJlbWl4dWlfb3B0aW1pemVDb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLnJlbWl4dWlfbm9Db250cmFjdEFsZXJ0IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ucmVtaXh1aV9jb250cmFjdEhlbHBlckJ1dHRvbnMge1xuICBtYXJnaW4tdG9wOiA2cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuLnJlbWl4dWlfY29weVRvQ2xpcGJvYXJkIHtcbiAgZm9udC1zaXplOiAxcmVtO1xufVxuLnJlbWl4dWlfY29weUljb24ge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cbi5yZW1peHVpX2xvZyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1hcmdpbi1ib3R0b206IDUlO1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbn1cbi5yZW1peHVpX2tleSB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICB3aWR0aDogMTAwJTtcbn1cbi5yZW1peHVpX3ZhbHVlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi10b3A6IDEuNSU7XG59XG4ucmVtaXh1aV9xdWVzdGlvbk1hcmsge1xuICBtYXJnaW4tbGVmdDogMiU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5yZW1peHVpX3F1ZXN0aW9uTWFyazpob3ZlciB7XG59XG4ucmVtaXh1aV9kZXRhaWxzSlNPTiB7XG4gIHBhZGRpbmc6IDhweCAwO1xuICBib3JkZXI6IG5vbmU7XG59XG4ucmVtaXh1aV9pY29uIHtcbiAgbWFyZ2luLXJpZ2h0OiAwLjNlbTtcbn1cbi5yZW1peHVpX2Vycm9yQmxvYnMge1xuICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgcGFkZGluZy1yaWdodDogNXB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuLnJlbWl4dWlfc3RvcmFnZUxvZ28ge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xufVxuLnJlbWl4dWlfc3Bpbm5pbmdJY29uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGFuaW1hdGlvbjogc3BpbiAycyBpbmZpbml0ZSBsaW5lYXI7XG4gIC1tb3otYW5pbWF0aW9uOiBzcGluIDJzIGluZmluaXRlIGxpbmVhcjtcbiAgLW8tYW5pbWF0aW9uOiBzcGluIDJzIGluZmluaXRlIGxpbmVhcjtcbiAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gMnMgaW5maW5pdGUgbGluZWFyO1xufVxuQGtleWZyYW1lcyBzcGluIHtcbiAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxufVxuQC13ZWJraXQta2V5ZnJhbWVzIHNwaW4ge1xuICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG59XG5ALW1vei1rZXlmcmFtZXMgc3BpbiB7XG4gIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbn1cbkAtby1rZXlmcmFtZXMgc3BpbiB7XG4gICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxufVxuQC1tcy1rZXlmcmFtZXMgc3BpbiB7XG4gIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbn1cblxuLnJlbWl4dWlfYm91bmNpbmdJY29uIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIC1tb3otYW5pbWF0aW9uOiBib3VuY2UgMnMgaW5maW5pdGUgbGluZWFyO1xuICAtby1hbmltYXRpb246IGJvdW5jZSAycyBpbmZpbml0ZSBsaW5lYXI7XG4gIC13ZWJraXQtYW5pbWF0aW9uOiBib3VuY2UgMnMgaW5maW5pdGUgbGluZWFyO1xuICBhbmltYXRpb246IGJvdW5jZSAycyBpbmZpbml0ZSBsaW5lYXI7XG59IFxuXG5ALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlIHtcbiAgICAwJSB7IHRvcDogMDsgfVxuICAgIDUwJSB7IHRvcDogLTAuMmVtOyB9XG4gICAgNzAlIHsgdG9wOiAtMC4zZW07IH1cbiAgICAxMDAlIHsgdG9wOiAwOyB9XG59XG5ALW1vei1rZXlmcmFtZXMgYm91bmNlIHtcbiAgICAwJSB7IHRvcDogMDsgfVxuICAgIDUwJSB7IHRvcDogLTAuMmVtOyB9XG4gICAgNzAlIHsgdG9wOiAtMC4zZW07IH1cbiAgICAxMDAlIHsgdG9wOiAwOyB9XG59XG5ALW8ta2V5ZnJhbWVzIGJvdW5jZSB7XG4gICAgMCUgeyB0b3A6IDA7IH1cbiAgICA1MCUgeyB0b3A6IC0wLjJlbTsgfVxuICAgIDcwJSB7IHRvcDogLTAuM2VtOyB9XG4gICAgMTAwJSB7IHRvcDogMDsgfVxufVxuQC1tcy1rZXlmcmFtZXMgYm91bmNlIHtcbiAgICAwJSB7IHRvcDogMDsgfVxuICAgIDUwJSB7IHRvcDogLTAuMmVtOyB9XG4gICAgNzAlIHsgdG9wOiAtMC4zZW07IH1cbiAgICAxMDAlIHsgdG9wOiAwOyB9XG59XG5Aa2V5ZnJhbWVzIGJvdW5jZSB7XG4gICAgMCUgeyB0b3A6IDA7IH1cbiAgICA1MCUgeyB0b3A6IC0wLjJlbTsgfVxuICAgIDcwJSB7IHRvcDogLTAuM2VtOyB9XG4gICAgMTAwJSB7IHRvcDogMDsgfVxufVxuIl19 */\", '', '']]","module.exports = [[module.id, \".remix-ui-tabs {\\n    display: -webkit-box; \\n    max-height: 2.15rem;\\n}\\n.remix-ui-tabs li {\\n    display: inline-block;\\n}\\n.title-tabs {\\n    padding: inherit;\\n    align-items: center;\\n    padding-right: 8px;\\n    padding-left: 2px;\\n    cursor: default;\\n    /*to make it unselectable*/\\n    -webkit-touch-callout: none; /* iOS Safari */\\n    -webkit-user-select: none;   /* Chrome/Safari/Opera */    /* Konqueror */\\n    -moz-user-select: none;      /* Firefox */\\n    -ms-user-select: none;       /* Internet Explorer/Edge */\\n    user-select: none;           /* Non-prefixed version, currently supported by any browser but < IE9 */\\n    vertical-align: middle;\\n}\\n.tab:hover .close-tabs{\\n    visibility: visible\\n}\\n.active .close-tabs {\\n    visibility: visible\\n}\\n.close-tabs {\\n    visibility: hidden;\\n    font-size: medium;\\n}\\n.iconImage {\\n    width: 1rem;\\n    height: 1rem;\\n}\\n.active {\\n    border: 1px solid transparent;\\n    border-top-left-radius: 2px;\\n    border-top-right-radius: 2px;\\n}\\n.tab-scroll {\\n    overflow-x: auto;\\n    overflow-y: hidden;\\n    white-space: nowrap;\\n}\\n/* Hide scrollbar for Chrome, Safari and Opera */\\n.tab-scroll::-webkit-scrollbar {\\n    display: none;\\n}\\n/* Hide scrollbar for IE, Edge and Firefox */\\n.tab-scroll {\\n    -ms-overflow-style: none;  /* IE and Edge */\\n    scrollbar-width: none;  /* Firefox */\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLXRhYnMuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0lBQ3BCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0kscUJBQXFCO0FBQ3pCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsZUFBZTtJQUNmLDBCQUEwQjtJQUMxQiwyQkFBMkIsRUFBRSxlQUFlO0lBQzVDLHlCQUF5QixJQUFJLHdCQUF3QixLQUN4QixjQUFjO0lBQzNDLHNCQUFzQixPQUFPLFlBQVk7SUFDekMscUJBQXFCLFFBQVEsMkJBQTJCO0lBQ3hELGlCQUFpQixZQUFZLHVFQUF1RTtJQUNwRyxzQkFBc0I7QUFDMUI7QUFDQTtJQUNJO0FBQ0o7QUFDQTtJQUNJO0FBQ0o7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSw2QkFBNkI7SUFDN0IsMkJBQTJCO0lBQzNCLDRCQUE0QjtBQUNoQztBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7QUFFQSxnREFBZ0Q7QUFDaEQ7SUFDSSxhQUFhO0FBQ2pCO0FBRUUsNENBQTRDO0FBQzlDO0lBQ0ksd0JBQXdCLEdBQUcsZ0JBQWdCO0lBQzNDLHFCQUFxQixHQUFHLFlBQVk7QUFDeEMiLCJmaWxlIjoicmVtaXgtdWktdGFicy5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVtaXgtdWktdGFicyB7XG4gICAgZGlzcGxheTogLXdlYmtpdC1ib3g7IFxuICAgIG1heC1oZWlnaHQ6IDIuMTVyZW07XG59XG4ucmVtaXgtdWktdGFicyBsaSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuLnRpdGxlLXRhYnMge1xuICAgIHBhZGRpbmc6IGluaGVyaXQ7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nLXJpZ2h0OiA4cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAycHg7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIC8qdG8gbWFrZSBpdCB1bnNlbGVjdGFibGUqL1xuICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTsgLyogaU9TIFNhZmFyaSAqL1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7ICAgLyogQ2hyb21lL1NhZmFyaS9PcGVyYSAqL1xuICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsgICAgLyogS29ucXVlcm9yICovXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgICAgICAvKiBGaXJlZm94ICovXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lOyAgICAgICAvKiBJbnRlcm5ldCBFeHBsb3Jlci9FZGdlICovXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgICAgICAvKiBOb24tcHJlZml4ZWQgdmVyc2lvbiwgY3VycmVudGx5IHN1cHBvcnRlZCBieSBhbnkgYnJvd3NlciBidXQgPCBJRTkgKi9cbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuLnRhYjpob3ZlciAuY2xvc2UtdGFic3tcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlXG59XG4uYWN0aXZlIC5jbG9zZS10YWJzIHtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlXG59XG4uY2xvc2UtdGFicyB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xufVxuLmljb25JbWFnZSB7XG4gICAgd2lkdGg6IDFyZW07XG4gICAgaGVpZ2h0OiAxcmVtO1xufVxuLmFjdGl2ZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMnB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAycHg7XG59XG4udGFiLXNjcm9sbCB7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLyogSGlkZSBzY3JvbGxiYXIgZm9yIENocm9tZSwgU2FmYXJpIGFuZCBPcGVyYSAqL1xuLnRhYi1zY3JvbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICBkaXNwbGF5OiBub25lO1xufVxuICBcbiAgLyogSGlkZSBzY3JvbGxiYXIgZm9yIElFLCBFZGdlIGFuZCBGaXJlZm94ICovXG4udGFiLXNjcm9sbCB7XG4gICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyAgLyogSUUgYW5kIEVkZ2UgKi9cbiAgICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7ICAvKiBGaXJlZm94ICovXG59XG4iXX0= */\", '', '']]","module.exports = [[module.id, \"\\nelement.style {\\n height: 323px !important;\\n}\\n#terminalCliInput{\\n  width: 95%;\\n  background: transparent;\\n  border: none;\\n  font-weight: bold;\\n  color: #a2a3b4;\\n  border-top-style: hidden;\\n\\n\\n\\n  \\n  border-right-style: hidden;\\n  border-left-style: hidden;\\n  border-bottom-style: hidden;\\n}\\n#terminalCliInput:focus {\\n  outline: none;\\n}\\n.border-primary {\\n  border-color: #007aa6!important;\\n}\\n/* seleted option should reflect the theme color */\\n.selectedOptions {\\n  background-color: #222336;\\n}\\n.panel              {\\n    position          : relative;\\n    display           : flex;\\n    flex-direction    : column;\\n    font-size         : 12px;\\n    min-height        : 3em;\\n  }\\n.bar                {\\n    display           : flex;\\n    z-index           : 2;\\n  }\\n.menu               {\\n    position             : relative;\\n    display              : flex;\\n    align-items          : center;\\n    width                : 100%;\\n    max-height           : 35px;\\n    min-height           : 35px;\\n  }\\n.toggleTerminal              {\\n    cursor            : pointer;\\n  }\\n.toggleTerminal:hover              {\\n    color             : var(--secondary);\\n  }\\n.terminal_container   {\\n    display             : flex;\\n    flex-direction      : column;\\n    height              : 100%;\\n    overflow-y          : auto;\\n    font-family         : monospace;\\n    margin              : 0px;\\n    background-repeat   : no-repeat;\\n    background-position : center 15%;\\n    background-size     : auto calc(75% -  1.7em);\\n  }\\n.terminal    {\\n    position          : relative;\\n    display           : flex;\\n    flex-direction    : column;\\n    height            : 100%;\\n  }\\n.journal            {\\n    margin-top        : auto;\\n    font-family       : monospace;\\n  }\\n.block              {\\n    word-break        : break-word;\\n    white-space       : pre-wrap;\\n    line-height       : 2ch;\\n    padding           : 1ch;\\n    margin-top        : 2ch;\\n  }\\n.block > pre        {\\n    max-height        : 200px;\\n  }\\n.cli                {\\n    line-height       : 1.7em;\\n    font-family       : monospace;\\n    padding           : .4em;\\n    color             : var(--primary);\\n  }\\n.prompt             {\\n    margin-right      : 0.5em;\\n    font-family       : monospace;\\n    font-weight       : bold;\\n    font-size         : 14px;\\n    color             : lightgray;\\n  }\\n.input              {\\n    word-break        : break-word;\\n    outline           : none;\\n    font-family       : monospace;\\n  }\\n.search {\\n    display           : flex;\\n    align-items       : center;\\n    width             : 330px;\\n    padding-left      : 20px;\\n    height            : 100%;\\n    padding-top       : 1px;\\n    padding-bottom    : 1px;\\n  }\\n.filter                       {\\n    height                      : 80%;\\n    white-space                 : nowrap;\\n    overflow                    : hidden;\\n    text-overflow               : ellipsis;\\n  }\\n.searchIcon                   {\\n    width                       : 25px;\\n    border-top-left-radius      : 3px;\\n    border-bottom-left-radius   : 3px;\\n    display                     : flex;\\n    align-items                 : center;\\n    justify-content             : center;\\n    margin-right                : 5px;\\n  }\\n.listen         {\\n    margin-right  : 30px;\\n    min-width     : 40px;\\n    height        : 13px;\\n    display       : flex;\\n    align-items   : center;\\n  }\\n.listenLabel {\\n    min-width: 50px;\\n  }\\n.verticalLine {\\n    border-left       : 1px solid var(--secondary);\\n    height            : 65%;\\n  }\\n.dragbarHorizontal  {\\n    position          : absolute;\\n    top               : 0;\\n    height            : 0.2em;\\n    right             : 0;\\n    left              : 0;\\n    cursor            : row-resize;\\n    z-index           : 999;\\n  }\\n.console {\\n    cursor           : pointer;\\n  }\\n.dragbarHorizontal:hover  {\\n    background-color: #007AA6;\\n    border:2px solid #007AA6; \\n  }\\n.listenOnNetwork {\\n    min-height: auto;\\n  }\\n.ghostbar           {\\n    position          : absolute;\\n    height            : 6px;\\n    opacity           : 0.5;\\n    cursor            : row-resize;\\n    z-index           : 9999;\\n    left              : 0;\\n    right             : 0;\\n  }\\n.divider-hitbox {\\n    color: white;\\n    cursor: row-resize;\\n    align-self: stretch;\\n    display: flex;\\n    align-items: center;\\n    padding: 0 1rem;\\n  }\\n.ul {margin-left: 0; padding-left: 20px;}\\n.popup             {\\n    position         : absolute;\\n    text-align       : left;\\n    width            : 95%;\\n    font-family      : monospace;\\n    background-color : var(--secondary);\\n    overflow         : auto;\\n    padding-bottom   : 13px;\\n    z-index          : 80;\\n    bottom           : 1em;\\n    border-width     : 4px;\\n    left             : 2em;\\n  }\\n.autoCompleteItem {\\n    padding          : 4px;\\n    border-radius    : 2px;\\n  }\\n.popup a {\\n    cursor           : pointer;\\n  }\\n.listHandlerShow   {\\n    display          : block;\\n  }\\n.listHandlerHide   {\\n    display          : none;\\n  }\\n.listHandlerButtonShow {\\n    position         : fixed;\\n    width            : 46%;\\n  }\\n.pageNumberAlignment {\\n    font-size        : 10px;\\n    float            : right;\\n  }\\n.modalContent {\\n    position         : absolute;\\n    margin-left      : 20%;\\n    margin-bottom    : 32px;\\n    bottom           : 0px;\\n    padding          : 0;\\n    line-height      : 18px;\\n    font-size        : 12px;\\n    width            : 40%;\\n    box-shadow       : 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\\n    -webkit-animation-name: animatebottom;\\n    -webkit-animation-duration: 0.4s;\\n    -webkit-animation-name   : animatetop;\\n            animation-name   : animatetop;\\n    animation-duration: 0.4s\\n  }\\n@-webkit-keyframes animatetop {\\n    from {bottom: -300px; opacity: 0}\\n    to {bottom: 0; opacity: 1}\\n  }\\n@keyframes animatetop {\\n    from {bottom: -300px; opacity: 0}\\n    to {bottom: 0; opacity: 1}\\n  }\\n/* tx logger css*/\\n.log {\\n    display: flex;\\n    cursor: pointer;\\n    align-items: center;\\n    cursor: pointer;\\n  }\\n.log:hover {\\n    opacity: 0.8;\\n  }\\n.txStatus {\\n    display: flex;\\n    font-size: 20px;\\n    margin-right: 20px;\\n    float: left;\\n  }\\n.succeeded {\\n    color: var(--success);\\n  }\\n.failed {\\n    color: var(--danger);\\n  }\\n.terminal_arrow {\\n    color: var(--text-info);\\n    font-size: 20px;\\n    cursor: pointer;\\n    display: flex;\\n    margin-left: 10px;\\n  }\\n.terminal_arrow:hover {\\n    color: var(--secondary);\\n  }\\n.notavailable {\\n  }\\n.call {\\n    font-size: 7px;\\n    border-radius: 50%;\\n    min-width: 20px;\\n    min-height: 20px;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    color: var(--text-info);\\n    text-transform: uppercase;\\n    font-weight: bold;\\n  }\\n.txItem {\\n    color: var(--text-info);\\n    margin-right: 5px;\\n    float: left;\\n  }\\n.txItemTitle {\\n    font-weight: bold;\\n  }\\n.tx {\\n    color: var(--text-info);\\n    font-weight: bold;\\n    float: left;\\n    margin-right: 10px;\\n  }\\n.txTable,\\n  .tr,\\n  .td {\\n    border-collapse: collapse;\\n    font-size: 10px;\\n    color: var(--text-info);\\n    border: 1px solid var(--text-info);\\n    transition: max-height 0.3s, padding 0.3s;\\n  }\\ntable .active {\\n    transition: max-height 0.6s, padding 0.6s;\\n  }\\n#txTable {\\n    margin-top: 1%;\\n    margin-bottom: 5%;\\n    align-self: center;\\n    width: 85%;\\n  }\\n.tr, .td {\\n    padding: 4px;\\n    vertical-align: baseline;\\n  }\\n.td:first-child {\\n    min-width: 30%;\\n    width: 30%;\\n    align-items: baseline;\\n    font-weight: bold;\\n  }\\n.tableTitle {\\n    width: 25%;\\n  }\\n.buttons {\\n    display: flex;\\n    margin-left: auto;\\n  }\\n.debug {\\n    white-space: nowrap;\\n  }\\n.debug:hover {\\n    opacity: 0.8;\\n  }\\n/* Style the accordion section */\\n.accordion__section {\\n  display: flex;\\n  flex-direction: column;\\n}\\n/* Style the buttons that are used to open and close the accordion panel */\\n.accordion {\\n  background-color: #eee;\\n  color: #444;\\n  cursor: pointer;\\n  padding: 18px;\\n  display: flex;\\n  align-items: center;\\n  border: none;\\n  outline: none;\\n  transition: background-color 0.6s ease;\\n}\\n/* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */\\n/* .accordion:hover,\\n.active {\\n  background-color: #ccc;\\n} */\\n/* Style the accordion content title */\\n.accordion__title {\\n  font-family: \\\"Open Sans\\\", sans-serif;\\n  font-weight: 600;\\n  font-size: 14px;\\n}\\n/* Style the accordion chevron icon */\\n.accordion__icon {\\n  margin-left: auto;\\n  transition: transform 0.6s ease;\\n}\\n/* Style to rotate icon when state is active */\\n.rotate {\\n  transform: rotate(90deg);\\n}\\n/* Style the accordion content panel. Note: hidden by default */\\n.accordion__content {\\n  background-color: white;\\n  overflow: hidden;\\n  transition: max-height 0.6s ease;\\n}\\n/* Style the accordion content text */\\n.accordion__text {\\n  font-family: \\\"Open Sans\\\", sans-serif;\\n  font-weight: 400;\\n  font-size: 14px;\\n  padding: 18px;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,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RUFDaEIsZUFBZTtBQUNqQjtBQUVBLHFDQUFxQztBQUNyQztFQUNFLGlCQUFpQjtFQUNqQiwrQkFBK0I7QUFDakM7QUFFQSw4Q0FBOEM7QUFDOUM7RUFDRSx3QkFBd0I7QUFDMUI7QUFFQSwrREFBK0Q7QUFDL0Q7RUFDRSx1QkFBdUI7RUFDdkIsZ0JBQWdCO0VBQ2hCLGdDQUFnQztBQUNsQztBQUVBLHFDQUFxQztBQUNyQztFQUNFLG9DQUFvQztFQUNwQyxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGFBQWE7QUFDZiIsImZpbGUiOiJyZW1peC11aS10ZXJtaW5hbC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbmVsZW1lbnQuc3R5bGUge1xuIGhlaWdodDogMzIzcHggIWltcG9ydGFudDtcbn1cbiN0ZXJtaW5hbENsaUlucHV0e1xuICB3aWR0aDogOTUlO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyOiBub25lO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICNhMmEzYjQ7XG4gIGJvcmRlci10b3Atc3R5bGU6IGhpZGRlbjtcblxuXG5cbiAgXG4gIGJvcmRlci1yaWdodC1zdHlsZTogaGlkZGVuO1xuICBib3JkZXItbGVmdC1zdHlsZTogaGlkZGVuO1xuICBib3JkZXItYm90dG9tLXN0eWxlOiBoaWRkZW47XG59XG4jdGVybWluYWxDbGlJbnB1dDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5ib3JkZXItcHJpbWFyeSB7XG4gIGJvcmRlci1jb2xvcjogIzAwN2FhNiFpbXBvcnRhbnQ7XG59XG5cbi8qIHNlbGV0ZWQgb3B0aW9uIHNob3VsZCByZWZsZWN0IHRoZSB0aGVtZSBjb2xvciAqL1xuLnNlbGVjdGVkT3B0aW9ucyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyMjIzMzY7XG59XG5cbi5wYW5lbCAgICAgICAgICAgICAge1xuICAgIHBvc2l0aW9uICAgICAgICAgIDogcmVsYXRpdmU7XG4gICAgZGlzcGxheSAgICAgICAgICAgOiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uICAgIDogY29sdW1uO1xuICAgIGZvbnQtc2l6ZSAgICAgICAgIDogMTJweDtcbiAgICBtaW4taGVpZ2h0ICAgICAgICA6IDNlbTtcbiAgfVxuICAuYmFyICAgICAgICAgICAgICAgIHtcbiAgICBkaXNwbGF5ICAgICAgICAgICA6IGZsZXg7XG4gICAgei1pbmRleCAgICAgICAgICAgOiAyO1xuICB9XG4gIC5tZW51ICAgICAgICAgICAgICAge1xuICAgIHBvc2l0aW9uICAgICAgICAgICAgIDogcmVsYXRpdmU7XG4gICAgZGlzcGxheSAgICAgICAgICAgICAgOiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zICAgICAgICAgIDogY2VudGVyO1xuICAgIHdpZHRoICAgICAgICAgICAgICAgIDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0ICAgICAgICAgICA6IDM1cHg7XG4gICAgbWluLWhlaWdodCAgICAgICAgICAgOiAzNXB4O1xuICB9XG4gIC50b2dnbGVUZXJtaW5hbCAgICAgICAgICAgICAge1xuICAgIGN1cnNvciAgICAgICAgICAgIDogcG9pbnRlcjtcbiAgfVxuICAudG9nZ2xlVGVybWluYWw6aG92ZXIgICAgICAgICAgICAgIHtcbiAgICBjb2xvciAgICAgICAgICAgICA6IHZhcigtLXNlY29uZGFyeSk7XG4gIH1cbiAgLnRlcm1pbmFsX2NvbnRhaW5lciAgIHtcbiAgICBkaXNwbGF5ICAgICAgICAgICAgIDogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbiAgICAgIDogY29sdW1uO1xuICAgIGhlaWdodCAgICAgICAgICAgICAgOiAxMDAlO1xuICAgIG92ZXJmbG93LXkgICAgICAgICAgOiBhdXRvO1xuICAgIGZvbnQtZmFtaWx5ICAgICAgICAgOiBtb25vc3BhY2U7XG4gICAgbWFyZ2luICAgICAgICAgICAgICA6IDBweDtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdCAgIDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb24gOiBjZW50ZXIgMTUlO1xuICAgIGJhY2tncm91bmQtc2l6ZSAgICAgOiBhdXRvIGNhbGMoNzUlIC0gIDEuN2VtKTtcbiAgfVxuICAudGVybWluYWwgICAge1xuICAgIHBvc2l0aW9uICAgICAgICAgIDogcmVsYXRpdmU7XG4gICAgZGlzcGxheSAgICAgICAgICAgOiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uICAgIDogY29sdW1uO1xuICAgIGhlaWdodCAgICAgICAgICAgIDogMTAwJTtcbiAgfVxuICAuam91cm5hbCAgICAgICAgICAgIHtcbiAgICBtYXJnaW4tdG9wICAgICAgICA6IGF1dG87XG4gICAgZm9udC1mYW1pbHkgICAgICAgOiBtb25vc3BhY2U7XG4gIH1cbiAgLmJsb2NrICAgICAgICAgICAgICB7XG4gICAgd29yZC1icmVhayAgICAgICAgOiBicmVhay13b3JkO1xuICAgIHdoaXRlLXNwYWNlICAgICAgIDogcHJlLXdyYXA7XG4gICAgbGluZS1oZWlnaHQgICAgICAgOiAyY2g7XG4gICAgcGFkZGluZyAgICAgICAgICAgOiAxY2g7XG4gICAgbWFyZ2luLXRvcCAgICAgICAgOiAyY2g7XG4gIH1cbiAgLmJsb2NrID4gcHJlICAgICAgICB7XG4gICAgbWF4LWhlaWdodCAgICAgICAgOiAyMDBweDtcbiAgfVxuICAuY2xpICAgICAgICAgICAgICAgIHtcbiAgICBsaW5lLWhlaWdodCAgICAgICA6IDEuN2VtO1xuICAgIGZvbnQtZmFtaWx5ICAgICAgIDogbW9ub3NwYWNlO1xuICAgIHBhZGRpbmcgICAgICAgICAgIDogLjRlbTtcbiAgICBjb2xvciAgICAgICAgICAgICA6IHZhcigtLXByaW1hcnkpO1xuICB9XG4gIC5wcm9tcHQgICAgICAgICAgICAge1xuICAgIG1hcmdpbi1yaWdodCAgICAgIDogMC41ZW07XG4gICAgZm9udC1mYW1pbHkgICAgICAgOiBtb25vc3BhY2U7XG4gICAgZm9udC13ZWlnaHQgICAgICAgOiBib2xkO1xuICAgIGZvbnQtc2l6ZSAgICAgICAgIDogMTRweDtcbiAgICBjb2xvciAgICAgICAgICAgICA6IGxpZ2h0Z3JheTtcbiAgfVxuICAuaW5wdXQgICAgICAgICAgICAgIHtcbiAgICB3b3JkLWJyZWFrICAgICAgICA6IGJyZWFrLXdvcmQ7XG4gICAgb3V0bGluZSAgICAgICAgICAgOiBub25lO1xuICAgIGZvbnQtZmFtaWx5ICAgICAgIDogbW9ub3NwYWNlO1xuICB9XG4gIC5zZWFyY2gge1xuICAgIGRpc3BsYXkgICAgICAgICAgIDogZmxleDtcbiAgICBhbGlnbi1pdGVtcyAgICAgICA6IGNlbnRlcjtcbiAgICB3aWR0aCAgICAgICAgICAgICA6IDMzMHB4O1xuICAgIHBhZGRpbmctbGVmdCAgICAgIDogMjBweDtcbiAgICBoZWlnaHQgICAgICAgICAgICA6IDEwMCU7XG4gICAgcGFkZGluZy10b3AgICAgICAgOiAxcHg7XG4gICAgcGFkZGluZy1ib3R0b20gICAgOiAxcHg7XG4gIH1cbiAgLmZpbHRlciAgICAgICAgICAgICAgICAgICAgICAge1xuICAgIGhlaWdodCAgICAgICAgICAgICAgICAgICAgICA6IDgwJTtcbiAgICB3aGl0ZS1zcGFjZSAgICAgICAgICAgICAgICAgOiBub3dyYXA7XG4gICAgb3ZlcmZsb3cgICAgICAgICAgICAgICAgICAgIDogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3cgICAgICAgICAgICAgICA6IGVsbGlwc2lzO1xuICB9XG4gIC5zZWFyY2hJY29uICAgICAgICAgICAgICAgICAgIHtcbiAgICB3aWR0aCAgICAgICAgICAgICAgICAgICAgICAgOiAyNXB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgICA6IDNweDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzICAgOiAzcHg7XG4gICAgZGlzcGxheSAgICAgICAgICAgICAgICAgICAgIDogZmxleDtcbiAgICBhbGlnbi1pdGVtcyAgICAgICAgICAgICAgICAgOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50ICAgICAgICAgICAgIDogY2VudGVyO1xuICAgIG1hcmdpbi1yaWdodCAgICAgICAgICAgICAgICA6IDVweDtcbiAgfVxuICAubGlzdGVuICAgICAgICAge1xuICAgIG1hcmdpbi1yaWdodCAgOiAzMHB4O1xuICAgIG1pbi13aWR0aCAgICAgOiA0MHB4O1xuICAgIGhlaWdodCAgICAgICAgOiAxM3B4O1xuICAgIGRpc3BsYXkgICAgICAgOiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zICAgOiBjZW50ZXI7XG4gIH1cbiAgLmxpc3RlbkxhYmVsIHtcbiAgICBtaW4td2lkdGg6IDUwcHg7XG4gIH1cbiAgLnZlcnRpY2FsTGluZSB7XG4gICAgYm9yZGVyLWxlZnQgICAgICAgOiAxcHggc29saWQgdmFyKC0tc2Vjb25kYXJ5KTtcbiAgICBoZWlnaHQgICAgICAgICAgICA6IDY1JTtcbiAgfVxuICAuZHJhZ2Jhckhvcml6b250YWwgIHtcbiAgICBwb3NpdGlvbiAgICAgICAgICA6IGFic29sdXRlO1xuICAgIHRvcCAgICAgICAgICAgICAgIDogMDtcbiAgICBoZWlnaHQgICAgICAgICAgICA6IDAuMmVtO1xuICAgIHJpZ2h0ICAgICAgICAgICAgIDogMDtcbiAgICBsZWZ0ICAgICAgICAgICAgICA6IDA7XG4gICAgY3Vyc29yICAgICAgICAgICAgOiByb3ctcmVzaXplO1xuICAgIHotaW5kZXggICAgICAgICAgIDogOTk5O1xuICB9XG4gIFxuICAuY29uc29sZSB7XG4gICAgY3Vyc29yICAgICAgICAgICA6IHBvaW50ZXI7XG4gIH1cblxuICAuZHJhZ2Jhckhvcml6b250YWw6aG92ZXIgIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3QUE2O1xuICAgIGJvcmRlcjoycHggc29saWQgIzAwN0FBNjsgXG4gIH1cbiAgLmxpc3Rlbk9uTmV0d29yayB7XG4gICAgbWluLWhlaWdodDogYXV0bztcbiAgfVxuICAuZ2hvc3RiYXIgICAgICAgICAgIHtcbiAgICBwb3NpdGlvbiAgICAgICAgICA6IGFic29sdXRlO1xuICAgIGhlaWdodCAgICAgICAgICAgIDogNnB4O1xuICAgIG9wYWNpdHkgICAgICAgICAgIDogMC41O1xuICAgIGN1cnNvciAgICAgICAgICAgIDogcm93LXJlc2l6ZTtcbiAgICB6LWluZGV4ICAgICAgICAgICA6IDk5OTk7XG4gICAgbGVmdCAgICAgICAgICAgICAgOiAwO1xuICAgIHJpZ2h0ICAgICAgICAgICAgIDogMDtcbiAgfVxuXG5cbiAgLmRpdmlkZXItaGl0Ym94IHtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgY3Vyc29yOiByb3ctcmVzaXplO1xuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDAgMXJlbTtcbiAgfVxuXG4gIC51bCB7bWFyZ2luLWxlZnQ6IDA7IHBhZGRpbmctbGVmdDogMjBweDt9XG5cbiAgLnBvcHVwICAgICAgICAgICAgIHtcbiAgICBwb3NpdGlvbiAgICAgICAgIDogYWJzb2x1dGU7XG4gICAgdGV4dC1hbGlnbiAgICAgICA6IGxlZnQ7XG4gICAgd2lkdGggICAgICAgICAgICA6IDk1JTtcbiAgICBmb250LWZhbWlseSAgICAgIDogbW9ub3NwYWNlO1xuICAgIGJhY2tncm91bmQtY29sb3IgOiB2YXIoLS1zZWNvbmRhcnkpO1xuICAgIG92ZXJmbG93ICAgICAgICAgOiBhdXRvO1xuICAgIHBhZGRpbmctYm90dG9tICAgOiAxM3B4O1xuICAgIHotaW5kZXggICAgICAgICAgOiA4MDtcbiAgICBib3R0b20gICAgICAgICAgIDogMWVtO1xuICAgIGJvcmRlci13aWR0aCAgICAgOiA0cHg7XG4gICAgbGVmdCAgICAgICAgICAgICA6IDJlbTtcbiAgfVxuXG4gIC5hdXRvQ29tcGxldGVJdGVtIHtcbiAgICBwYWRkaW5nICAgICAgICAgIDogNHB4O1xuICAgIGJvcmRlci1yYWRpdXMgICAgOiAycHg7XG4gIH1cblxuICAucG9wdXAgYSB7XG4gICAgY3Vyc29yICAgICAgICAgICA6IHBvaW50ZXI7XG4gIH1cblxuICAubGlzdEhhbmRsZXJTaG93ICAge1xuICAgIGRpc3BsYXkgICAgICAgICAgOiBibG9jaztcbiAgfVxuXG4gIC5saXN0SGFuZGxlckhpZGUgICB7XG4gICAgZGlzcGxheSAgICAgICAgICA6IG5vbmU7XG4gIH1cblxuICAubGlzdEhhbmRsZXJCdXR0b25TaG93IHtcbiAgICBwb3NpdGlvbiAgICAgICAgIDogZml4ZWQ7XG4gICAgd2lkdGggICAgICAgICAgICA6IDQ2JTtcbiAgfVxuXG4gIC5wYWdlTnVtYmVyQWxpZ25tZW50IHtcbiAgICBmb250LXNpemUgICAgICAgIDogMTBweDtcbiAgICBmbG9hdCAgICAgICAgICAgIDogcmlnaHQ7XG4gIH1cblxuICAubW9kYWxDb250ZW50IHtcbiAgICBwb3NpdGlvbiAgICAgICAgIDogYWJzb2x1dGU7XG4gICAgbWFyZ2luLWxlZnQgICAgICA6IDIwJTtcbiAgICBtYXJnaW4tYm90dG9tICAgIDogMzJweDtcbiAgICBib3R0b20gICAgICAgICAgIDogMHB4O1xuICAgIHBhZGRpbmcgICAgICAgICAgOiAwO1xuICAgIGxpbmUtaGVpZ2h0ICAgICAgOiAxOHB4O1xuICAgIGZvbnQtc2l6ZSAgICAgICAgOiAxMnB4O1xuICAgIHdpZHRoICAgICAgICAgICAgOiA0MCU7XG4gICAgYm94LXNoYWRvdyAgICAgICA6IDAgNHB4IDhweCAwIHJnYmEoMCwwLDAsMC4yKSwwIDZweCAyMHB4IDAgcmdiYSgwLDAsMCwwLjE5KTtcbiAgICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBhbmltYXRlYm90dG9tO1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzO1xuICAgIGFuaW1hdGlvbi1uYW1lICAgOiBhbmltYXRldG9wO1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC40c1xuICB9XG5cbiAgQC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGV0b3Age1xuICAgIGZyb20ge2JvdHRvbTogLTMwMHB4OyBvcGFjaXR5OiAwfVxuICAgIHRvIHtib3R0b206IDA7IG9wYWNpdHk6IDF9XG4gIH1cblxuICBAa2V5ZnJhbWVzIGFuaW1hdGV0b3Age1xuICAgIGZyb20ge2JvdHRvbTogLTMwMHB4OyBvcGFjaXR5OiAwfVxuICAgIHRvIHtib3R0b206IDA7IG9wYWNpdHk6IDF9XG4gIH1cblxuXG5cblxuICAvKiB0eCBsb2dnZXIgY3NzKi9cblxuICAubG9nIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICAubG9nOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAwLjg7XG4gIH1cblxuICAudHhTdGF0dXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgfVxuICAuc3VjY2VlZGVkIHtcbiAgICBjb2xvcjogdmFyKC0tc3VjY2Vzcyk7XG4gIH1cbiAgLmZhaWxlZCB7XG4gICAgY29sb3I6IHZhcigtLWRhbmdlcik7XG4gIH1cblxuICAudGVybWluYWxfYXJyb3cge1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWluZm8pO1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgfVxuICAudGVybWluYWxfYXJyb3c6aG92ZXIge1xuICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnkpO1xuICB9XG4gIC5ub3RhdmFpbGFibGUge1xuICB9XG4gIC5jYWxsIHtcbiAgICBmb250LXNpemU6IDdweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgbWluLXdpZHRoOiAyMHB4O1xuICAgIG1pbi1oZWlnaHQ6IDIwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWluZm8pO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgLnR4SXRlbSB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtaW5mbyk7XG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnR4SXRlbVRpdGxlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICAudHgge1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWluZm8pO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgfVxuICAudHhUYWJsZSxcbiAgLnRyLFxuICAudGQge1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWluZm8pO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXRleHQtaW5mbyk7XG4gICAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjNzLCBwYWRkaW5nIDAuM3M7XG4gIH1cbiAgdGFibGUgLmFjdGl2ZSB7XG4gICAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjZzLCBwYWRkaW5nIDAuNnM7XG4gIH1cbiAgI3R4VGFibGUge1xuICAgIG1hcmdpbi10b3A6IDElO1xuICAgIG1hcmdpbi1ib3R0b206IDUlO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICB3aWR0aDogODUlO1xuICB9XG4gIC50ciwgLnRkIHtcbiAgICBwYWRkaW5nOiA0cHg7XG4gICAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xuICB9XG4gIC50ZDpmaXJzdC1jaGlsZCB7XG4gICAgbWluLXdpZHRoOiAzMCU7XG4gICAgd2lkdGg6IDMwJTtcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgLnRhYmxlVGl0bGUge1xuICAgIHdpZHRoOiAyNSU7XG4gIH1cbiAgLmJ1dHRvbnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIH1cbiAgLmRlYnVnIHtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG4gIC5kZWJ1Zzpob3ZlciB7XG4gICAgb3BhY2l0eTogMC44O1xuICB9XG5cblxuICAvKiBTdHlsZSB0aGUgYWNjb3JkaW9uIHNlY3Rpb24gKi9cbi5hY2NvcmRpb25fX3NlY3Rpb24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4vKiBTdHlsZSB0aGUgYnV0dG9ucyB0aGF0IGFyZSB1c2VkIHRvIG9wZW4gYW5kIGNsb3NlIHRoZSBhY2NvcmRpb24gcGFuZWwgKi9cbi5hY2NvcmRpb24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICBjb2xvcjogIzQ0NDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiAxOHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBib3JkZXI6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC42cyBlYXNlO1xufVxuXG4vKiBBZGQgYSBiYWNrZ3JvdW5kIGNvbG9yIHRvIHRoZSBidXR0b24gaWYgaXQgaXMgY2xpY2tlZCBvbiAoYWRkIHRoZSAuYWN0aXZlIGNsYXNzIHdpdGggSlMpLCBhbmQgd2hlbiB5b3UgbW92ZSB0aGUgbW91c2Ugb3ZlciBpdCAoaG92ZXIpICovXG4vKiAuYWNjb3JkaW9uOmhvdmVyLFxuLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XG59ICovXG5cbi8qIFN0eWxlIHRoZSBhY2NvcmRpb24gY29udGVudCB0aXRsZSAqL1xuLmFjY29yZGlvbl9fdGl0bGUge1xuICBmb250LWZhbWlseTogXCJPcGVuIFNhbnNcIiwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4vKiBTdHlsZSB0aGUgYWNjb3JkaW9uIGNoZXZyb24gaWNvbiAqL1xuLmFjY29yZGlvbl9faWNvbiB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC42cyBlYXNlO1xufVxuXG4vKiBTdHlsZSB0byByb3RhdGUgaWNvbiB3aGVuIHN0YXRlIGlzIGFjdGl2ZSAqL1xuLnJvdGF0ZSB7XG4gIHRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcbn1cblxuLyogU3R5bGUgdGhlIGFjY29yZGlvbiBjb250ZW50IHBhbmVsLiBOb3RlOiBoaWRkZW4gYnkgZGVmYXVsdCAqL1xuLmFjY29yZGlvbl9fY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IDAuNnMgZWFzZTtcbn1cblxuLyogU3R5bGUgdGhlIGFjY29yZGlvbiBjb250ZW50IHRleHQgKi9cbi5hY2NvcmRpb25fX3RleHQge1xuICBmb250LWZhbWlseTogXCJPcGVuIFNhbnNcIiwgc2Fucy1zZXJpZjtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBwYWRkaW5nOiAxOHB4O1xufVxuXG4iXX0= */\", '', '']]","module.exports = [[module.id, \".remixui_tooltip {\\n    z-index: 1001;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    position: fixed;\\n    min-height: 50px;\\n    padding: 16px 24px 12px;\\n    border-radius: 3px;\\n    left: 40%;\\n    font-size: 14px;\\n    text-align: center;\\n    bottom: -0px;\\n    flex-direction: row;\\n}\\n@-webkit-keyframes remixui_animatebottom  {\\n  0% {bottom: -300px}\\n  100% {bottom: 0px}\\n}\\n@keyframes remixui_animatebottom  {\\n  0% {bottom: -300px}\\n  100% {bottom: 0px}\\n}\\n@-webkit-keyframes remixui_animatetop  {\\n  0% {bottom: 0px}\\n  100% {bottom: -300px}\\n}\\n@keyframes remixui_animatetop  {\\n  0% {bottom: 0px}\\n  100% {bottom: -300px}\\n}\\n.remixui_animateTop {\\n  -webkit-animation-name: remixui_animatetop;\\n  -webkit-animation-duration: 2s;\\n  animation-name: remixui_animatetop;\\n  animation-duration: 2s;\\n}\\n.remixui_animateBottom {\\n  -webkit-animation-name: remixui_animatebottom;\\n  -webkit-animation-duration: 2s;\\n  animation-name: remixui_animatebottom;\\n  animation-duration: 2s;    \\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvYXN0ZXIuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCO0FBQ0E7RUFDRSxJQUFJLGNBQWM7RUFDbEIsTUFBTSxXQUFXO0FBQ25CO0FBQ0E7RUFDRSxJQUFJLGNBQWM7RUFDbEIsTUFBTSxXQUFXO0FBQ25CO0FBQ0E7RUFDRSxJQUFJLFdBQVc7RUFDZixNQUFNLGNBQWM7QUFDdEI7QUFDQTtFQUNFLElBQUksV0FBVztFQUNmLE1BQU0sY0FBYztBQUN0QjtBQUNBO0VBQ0UsMENBQTBDO0VBQzFDLDhCQUE4QjtFQUM5QixrQ0FBa0M7RUFDbEMsc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSw2Q0FBNkM7RUFDN0MsOEJBQThCO0VBQzlCLHFDQUFxQztFQUNyQyxzQkFBc0I7QUFDeEIiLCJmaWxlIjoidG9hc3Rlci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVtaXh1aV90b29sdGlwIHtcbiAgICB6LWluZGV4OiAxMDAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG4gICAgcGFkZGluZzogMTZweCAyNHB4IDEycHg7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIGxlZnQ6IDQwJTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJvdHRvbTogLTBweDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuQC13ZWJraXQta2V5ZnJhbWVzIHJlbWl4dWlfYW5pbWF0ZWJvdHRvbSAge1xuICAwJSB7Ym90dG9tOiAtMzAwcHh9XG4gIDEwMCUge2JvdHRvbTogMHB4fVxufVxuQGtleWZyYW1lcyByZW1peHVpX2FuaW1hdGVib3R0b20gIHtcbiAgMCUge2JvdHRvbTogLTMwMHB4fVxuICAxMDAlIHtib3R0b206IDBweH1cbn1cbkAtd2Via2l0LWtleWZyYW1lcyByZW1peHVpX2FuaW1hdGV0b3AgIHtcbiAgMCUge2JvdHRvbTogMHB4fVxuICAxMDAlIHtib3R0b206IC0zMDBweH1cbn1cbkBrZXlmcmFtZXMgcmVtaXh1aV9hbmltYXRldG9wICB7XG4gIDAlIHtib3R0b206IDBweH1cbiAgMTAwJSB7Ym90dG9tOiAtMzAwcHh9XG59XG4ucmVtaXh1aV9hbmltYXRlVG9wIHtcbiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcmVtaXh1aV9hbmltYXRldG9wO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XG4gIGFuaW1hdGlvbi1uYW1lOiByZW1peHVpX2FuaW1hdGV0b3A7XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XG59XG4ucmVtaXh1aV9hbmltYXRlQm90dG9tIHtcbiAgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcmVtaXh1aV9hbmltYXRlYm90dG9tO1xuICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XG4gIGFuaW1hdGlvbi1uYW1lOiByZW1peHVpX2FuaW1hdGVib3R0b207XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7ICAgIFxufVxuIl19 */\", '', '']]","module.exports = [[module.id, \".li_tv {\\n    list-style-type: none;\\n    -webkit-margin-before: 0px;\\n    -webkit-margin-after: 0px;\\n    -webkit-margin-start: 0px;\\n    -webkit-margin-end: 0px;\\n    -webkit-padding-start: 0px;\\n  }\\n  .ul_tv {\\n    list-style-type: none;\\n    -webkit-margin-before: 0px;\\n    -webkit-margin-after: 0px;\\n    -webkit-margin-start: 0px;\\n    -webkit-margin-end: 0px;\\n    -webkit-padding-start: 0px;\\n  }\\n  .caret_tv {\\n    width: 10px;\\n    flex-shrink: 0;\\n    padding-right: 5px;\\n  }\\n  .label_item {\\n    word-break: break-all;\\n  }\\n  .label_key {\\n    min-width: -webkit-max-content;\\n    min-width: -moz-max-content;\\n    min-width: max-content;\\n    max-width: 80%;\\n    word-break: break-word;\\n  }\\n  .label_value {\\n    min-width: 10%;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLXRyZWUtdmlldy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7SUFDckIsMEJBQTBCO0lBQzFCLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsdUJBQXVCO0lBQ3ZCLDBCQUEwQjtFQUM1QjtFQUNBO0lBQ0UscUJBQXFCO0lBQ3JCLDBCQUEwQjtJQUMxQix5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLHVCQUF1QjtJQUN2QiwwQkFBMEI7RUFDNUI7RUFDQTtJQUNFLFdBQVc7SUFDWCxjQUFjO0lBQ2Qsa0JBQWtCO0VBQ3BCO0VBQ0E7SUFDRSxxQkFBcUI7RUFDdkI7RUFDQTtJQUNFLDhCQUFzQjtJQUF0QiwyQkFBc0I7SUFBdEIsc0JBQXNCO0lBQ3RCLGNBQWM7SUFDZCxzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLGNBQWM7RUFDaEIiLCJmaWxlIjoicmVtaXgtdWktdHJlZS12aWV3LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5saV90diB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIC13ZWJraXQtbWFyZ2luLWJlZm9yZTogMHB4O1xuICAgIC13ZWJraXQtbWFyZ2luLWFmdGVyOiAwcHg7XG4gICAgLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDBweDtcbiAgICAtd2Via2l0LW1hcmdpbi1lbmQ6IDBweDtcbiAgICAtd2Via2l0LXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgfVxuICAudWxfdHYge1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICAtd2Via2l0LW1hcmdpbi1iZWZvcmU6IDBweDtcbiAgICAtd2Via2l0LW1hcmdpbi1hZnRlcjogMHB4O1xuICAgIC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwcHg7XG4gICAgLXdlYmtpdC1tYXJnaW4tZW5kOiAwcHg7XG4gICAgLXdlYmtpdC1wYWRkaW5nLXN0YXJ0OiAwcHg7XG4gIH1cbiAgLmNhcmV0X3R2IHtcbiAgICB3aWR0aDogMTBweDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIH1cbiAgLmxhYmVsX2l0ZW0ge1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbiAgfVxuICAubGFiZWxfa2V5IHtcbiAgICBtaW4td2lkdGg6IG1heC1jb250ZW50O1xuICAgIG1heC13aWR0aDogODAlO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gIH1cbiAgLmxhYmVsX3ZhbHVlIHtcbiAgICBtaW4td2lkdGg6IDEwJTtcbiAgfSJdfQ== */\", '', '']]","module.exports = [[module.id, \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0cmVlLXZpZXctaXRlbS5jc3MifQ== */\", '', '']]","module.exports = [[module.id, \".remixui_contextContainer\\n{\\n  display: block;\\n  position: fixed;\\n  border-radius: 2px;\\n  z-index: 1000;\\n  box-shadow: 0 0 4px var(--dark);\\n}\\n.remixui_contextContainer:focus {\\n    outline: none;\\n}\\n.remixui_liitem\\n{\\n  padding: 2px;\\n  padding-left: 6px;\\n  cursor: pointer;\\n  color: var(--text-dark);\\n  background-color: var(--light);\\n}\\n.remixui_liitem:hover\\n{\\n  background-color:  var(--secondary);\\n}\\n#remixui_menuitems\\n{\\n  list-style: none;\\n  margin: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtZXhwbG9yZXItY29udGV4dC1tZW51LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsK0JBQStCO0FBQ2pDO0FBQ0E7SUFDSSxhQUFhO0FBQ2pCO0FBQ0E7O0VBRUUsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsdUJBQXVCO0VBQ3ZCLDhCQUE4QjtBQUNoQztBQUNBOztFQUVFLG1DQUFtQztBQUNyQztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2IiLCJmaWxlIjoiZmlsZS1leHBsb3Jlci1jb250ZXh0LW1lbnUuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlbWl4dWlfY29udGV4dENvbnRhaW5lclxue1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIHotaW5kZXg6IDEwMDA7XG4gIGJveC1zaGFkb3c6IDAgMCA0cHggdmFyKC0tZGFyayk7XG59XG4ucmVtaXh1aV9jb250ZXh0Q29udGFpbmVyOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xufVxuLnJlbWl4dWlfbGlpdGVtXG57XG4gIHBhZGRpbmc6IDJweDtcbiAgcGFkZGluZy1sZWZ0OiA2cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6IHZhcigtLXRleHQtZGFyayk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTtcbn1cbi5yZW1peHVpX2xpaXRlbTpob3Zlclxue1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAgdmFyKC0tc2Vjb25kYXJ5KTtcbn1cbiNyZW1peHVpX21lbnVpdGVtc1xue1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBtYXJnaW46IDBweDtcbn0iXX0= */\", '', '']]","module.exports = [[module.id, \".remixui_label {\\n    margin-top        : 4px;\\n}\\n.remixui_leaf {\\n    overflow          : hidden;\\n    text-overflow     : ellipsis;\\n    width             : 90%;\\n    margin-bottom     : 0px;\\n}\\n.remixui_fileexplorer       {\\n    box-sizing        : border-box;\\n    -webkit-user-select       : none;\\n       -moz-user-select       : none;\\n        -ms-user-select       : none;\\n            user-select       : none;\\n}\\ninput[type=\\\"file\\\"] {\\n    display: none;\\n}\\n.remixui_folder,\\n.remixui_file               {\\n    font-size         : 14px;\\n    cursor            : pointer;\\n}\\n.remixui_file               {\\n    padding           : 4px;\\n}\\n.remixui_newFile            {\\n    padding-right     : 10px;\\n}\\n.remixui_newFile i          {\\n    cursor            : pointer;\\n}\\n.remixui_newFile:hover    {\\n    transform         : scale(1.3);\\n}\\n.remixui_menu               {\\n    margin-left       : 20px;\\n}\\n.remixui_items              {\\n    display           : inline\\n}\\n.remixui_remove             {\\n    margin-left       : auto;\\n    padding-left      : 5px;\\n    padding-right     : 5px;\\n}\\n.remixui_activeMode         {\\n    display           : flex;\\n    width             : 100%;\\n    margin-right      : 10px;\\n    padding-right     : 19px;\\n}\\n.remixui_activeMode > div   {\\n    min-width         : 10px;\\n}\\nul                  {\\n    padding           : 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtZXhwbG9yZXIuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksdUJBQXVCO0FBQzNCO0FBQ0E7SUFDSSwwQkFBMEI7SUFDMUIsNEJBQTRCO0lBQzVCLHVCQUF1QjtJQUN2Qix1QkFBdUI7QUFDM0I7QUFDQTtJQUNJLDhCQUE4QjtJQUM5QixnQ0FBd0I7T0FBeEIsNkJBQXdCO1FBQXhCLDRCQUF3QjtZQUF4Qix3QkFBd0I7QUFDNUI7QUFDQTtJQUNJLGFBQWE7QUFDakI7QUFDQTs7SUFFSSx3QkFBd0I7SUFDeEIsMkJBQTJCO0FBQy9CO0FBQ0E7SUFDSSx1QkFBdUI7QUFDM0I7QUFDQTtJQUNJLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0ksMkJBQTJCO0FBQy9CO0FBQ0E7SUFDSSw4QkFBOEI7QUFDbEM7QUFDQTtJQUNJLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0k7QUFDSjtBQUNBO0lBQ0ksd0JBQXdCO0lBQ3hCLHVCQUF1QjtJQUN2Qix1QkFBdUI7QUFDM0I7QUFDQTtJQUNJLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0ksd0JBQXdCO0FBQzVCO0FBQ0E7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoiZmlsZS1leHBsb3Jlci5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVtaXh1aV9sYWJlbCB7XG4gICAgbWFyZ2luLXRvcCAgICAgICAgOiA0cHg7XG59XG4ucmVtaXh1aV9sZWFmIHtcbiAgICBvdmVyZmxvdyAgICAgICAgICA6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93ICAgICA6IGVsbGlwc2lzO1xuICAgIHdpZHRoICAgICAgICAgICAgIDogOTAlO1xuICAgIG1hcmdpbi1ib3R0b20gICAgIDogMHB4O1xufVxuLnJlbWl4dWlfZmlsZWV4cGxvcmVyICAgICAgIHtcbiAgICBib3gtc2l6aW5nICAgICAgICA6IGJvcmRlci1ib3g7XG4gICAgdXNlci1zZWxlY3QgICAgICAgOiBub25lO1xufVxuaW5wdXRbdHlwZT1cImZpbGVcIl0ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG4ucmVtaXh1aV9mb2xkZXIsXG4ucmVtaXh1aV9maWxlICAgICAgICAgICAgICAge1xuICAgIGZvbnQtc2l6ZSAgICAgICAgIDogMTRweDtcbiAgICBjdXJzb3IgICAgICAgICAgICA6IHBvaW50ZXI7XG59XG4ucmVtaXh1aV9maWxlICAgICAgICAgICAgICAge1xuICAgIHBhZGRpbmcgICAgICAgICAgIDogNHB4O1xufVxuLnJlbWl4dWlfbmV3RmlsZSAgICAgICAgICAgIHtcbiAgICBwYWRkaW5nLXJpZ2h0ICAgICA6IDEwcHg7XG59XG4ucmVtaXh1aV9uZXdGaWxlIGkgICAgICAgICAge1xuICAgIGN1cnNvciAgICAgICAgICAgIDogcG9pbnRlcjtcbn1cbi5yZW1peHVpX25ld0ZpbGU6aG92ZXIgICAge1xuICAgIHRyYW5zZm9ybSAgICAgICAgIDogc2NhbGUoMS4zKTtcbn1cbi5yZW1peHVpX21lbnUgICAgICAgICAgICAgICB7XG4gICAgbWFyZ2luLWxlZnQgICAgICAgOiAyMHB4O1xufVxuLnJlbWl4dWlfaXRlbXMgICAgICAgICAgICAgIHtcbiAgICBkaXNwbGF5ICAgICAgICAgICA6IGlubGluZVxufVxuLnJlbWl4dWlfcmVtb3ZlICAgICAgICAgICAgIHtcbiAgICBtYXJnaW4tbGVmdCAgICAgICA6IGF1dG87XG4gICAgcGFkZGluZy1sZWZ0ICAgICAgOiA1cHg7XG4gICAgcGFkZGluZy1yaWdodCAgICAgOiA1cHg7XG59XG4ucmVtaXh1aV9hY3RpdmVNb2RlICAgICAgICAge1xuICAgIGRpc3BsYXkgICAgICAgICAgIDogZmxleDtcbiAgICB3aWR0aCAgICAgICAgICAgICA6IDEwMCU7XG4gICAgbWFyZ2luLXJpZ2h0ICAgICAgOiAxMHB4O1xuICAgIHBhZGRpbmctcmlnaHQgICAgIDogMTlweDtcbn1cbi5yZW1peHVpX2FjdGl2ZU1vZGUgPiBkaXYgICB7XG4gICAgbWluLXdpZHRoICAgICAgICAgOiAxMHB4O1xufVxudWwgICAgICAgICAgICAgICAgICB7XG4gICAgcGFkZGluZyAgICAgICAgICAgOiAwO1xufVxuIl19 */\", '', '']]","module.exports = [[module.id, \".remixui_container {\\n    display           : flex;\\n    flex-direction    : row;\\n    width             : 100%;\\n    height            : 100%;\\n    box-sizing        : border-box;\\n  }\\n  .remixui_fileexplorer       {\\n    display           : flex;\\n    flex-direction    : column;\\n    position          : relative;\\n    width             : 100%;\\n    padding-left      : 6px;\\n    padding-right     : 6px;\\n    padding-top       : 6px;\\n  }\\n  .remixui_fileExplorerTree   {\\n    cursor            : default;\\n  }\\n  .remixui_gist            {\\n    padding           : 10px;\\n  }\\n  .remixui_gist i          {\\n    cursor            : pointer;\\n  }\\n  .remixui_gist i:hover    {\\n    color             : orange;\\n  }\\n  .remixui_connectToLocalhost {\\n    padding           : 10px;\\n  }\\n  .remixui_connectToLocalhost i {\\n    cursor            : pointer;\\n  }\\n  .remixui_connectToLocalhost i:hover   {\\n    color             : var(--secondary)\\n  }\\n  .remixui_uploadFile         {\\n    padding           : 10px;\\n  }\\n  .remixui_uploadFile label:hover   {\\n    color             : var(--secondary)\\n  }\\n  .remixui_uploadFile label   {\\n    cursor            : pointer;\\n  }\\n  .remixui_treeview {\\n    overflow-y        : auto;\\n  }\\n  .remixui_dialog {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n  .remixui_dialogParagraph {\\n    margin-bottom: 2em;\\n    word-break: break-word;\\n  }\\n  .remixui_menuicon {\\n    padding-right   : 10px;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWl4LXVpLXdvcmtzcGFjZS5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx3QkFBd0I7SUFDeEIsdUJBQXVCO0lBQ3ZCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsOEJBQThCO0VBQ2hDO0VBQ0E7SUFDRSx3QkFBd0I7SUFDeEIsMEJBQTBCO0lBQzFCLDRCQUE0QjtJQUM1Qix3QkFBd0I7SUFDeEIsdUJBQXVCO0lBQ3ZCLHVCQUF1QjtJQUN2Qix1QkFBdUI7RUFDekI7RUFDQTtJQUNFLDJCQUEyQjtFQUM3QjtFQUNBO0lBQ0Usd0JBQXdCO0VBQzFCO0VBQ0E7SUFDRSwyQkFBMkI7RUFDN0I7RUFDQTtJQUNFLDBCQUEwQjtFQUM1QjtFQUNBO0lBQ0Usd0JBQXdCO0VBQzFCO0VBQ0E7SUFDRSwyQkFBMkI7RUFDN0I7RUFDQTtJQUNFO0VBQ0Y7RUFDQTtJQUNFLHdCQUF3QjtFQUMxQjtFQUNBO0lBQ0U7RUFDRjtFQUNBO0lBQ0UsMkJBQTJCO0VBQzdCO0VBQ0E7SUFDRSx3QkFBd0I7RUFDMUI7RUFDQTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLGtCQUFrQjtJQUNsQixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLHNCQUFzQjtFQUN4QiIsImZpbGUiOiJyZW1peC11aS13b3Jrc3BhY2UuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlbWl4dWlfY29udGFpbmVyIHtcbiAgICBkaXNwbGF5ICAgICAgICAgICA6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb24gICAgOiByb3c7XG4gICAgd2lkdGggICAgICAgICAgICAgOiAxMDAlO1xuICAgIGhlaWdodCAgICAgICAgICAgIDogMTAwJTtcbiAgICBib3gtc2l6aW5nICAgICAgICA6IGJvcmRlci1ib3g7XG4gIH1cbiAgLnJlbWl4dWlfZmlsZWV4cGxvcmVyICAgICAgIHtcbiAgICBkaXNwbGF5ICAgICAgICAgICA6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb24gICAgOiBjb2x1bW47XG4gICAgcG9zaXRpb24gICAgICAgICAgOiByZWxhdGl2ZTtcbiAgICB3aWR0aCAgICAgICAgICAgICA6IDEwMCU7XG4gICAgcGFkZGluZy1sZWZ0ICAgICAgOiA2cHg7XG4gICAgcGFkZGluZy1yaWdodCAgICAgOiA2cHg7XG4gICAgcGFkZGluZy10b3AgICAgICAgOiA2cHg7XG4gIH1cbiAgLnJlbWl4dWlfZmlsZUV4cGxvcmVyVHJlZSAgIHtcbiAgICBjdXJzb3IgICAgICAgICAgICA6IGRlZmF1bHQ7XG4gIH1cbiAgLnJlbWl4dWlfZ2lzdCAgICAgICAgICAgIHtcbiAgICBwYWRkaW5nICAgICAgICAgICA6IDEwcHg7XG4gIH1cbiAgLnJlbWl4dWlfZ2lzdCBpICAgICAgICAgIHtcbiAgICBjdXJzb3IgICAgICAgICAgICA6IHBvaW50ZXI7XG4gIH1cbiAgLnJlbWl4dWlfZ2lzdCBpOmhvdmVyICAgIHtcbiAgICBjb2xvciAgICAgICAgICAgICA6IG9yYW5nZTtcbiAgfVxuICAucmVtaXh1aV9jb25uZWN0VG9Mb2NhbGhvc3Qge1xuICAgIHBhZGRpbmcgICAgICAgICAgIDogMTBweDtcbiAgfVxuICAucmVtaXh1aV9jb25uZWN0VG9Mb2NhbGhvc3QgaSB7XG4gICAgY3Vyc29yICAgICAgICAgICAgOiBwb2ludGVyO1xuICB9XG4gIC5yZW1peHVpX2Nvbm5lY3RUb0xvY2FsaG9zdCBpOmhvdmVyICAge1xuICAgIGNvbG9yICAgICAgICAgICAgIDogdmFyKC0tc2Vjb25kYXJ5KVxuICB9XG4gIC5yZW1peHVpX3VwbG9hZEZpbGUgICAgICAgICB7XG4gICAgcGFkZGluZyAgICAgICAgICAgOiAxMHB4O1xuICB9XG4gIC5yZW1peHVpX3VwbG9hZEZpbGUgbGFiZWw6aG92ZXIgICB7XG4gICAgY29sb3IgICAgICAgICAgICAgOiB2YXIoLS1zZWNvbmRhcnkpXG4gIH1cbiAgLnJlbWl4dWlfdXBsb2FkRmlsZSBsYWJlbCAgIHtcbiAgICBjdXJzb3IgICAgICAgICAgICA6IHBvaW50ZXI7XG4gIH1cbiAgLnJlbWl4dWlfdHJlZXZpZXcge1xuICAgIG92ZXJmbG93LXkgICAgICAgIDogYXV0bztcbiAgfSAgXG4gIC5yZW1peHVpX2RpYWxvZyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG4gIC5yZW1peHVpX2RpYWxvZ1BhcmFncmFwaCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMmVtO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gIH1cbiAgLnJlbWl4dWlfbWVudWljb24ge1xuICAgIHBhZGRpbmctcmlnaHQgICA6IDEwcHg7XG4gIH1cbiAgIl19 */\", '', '']]","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import Web3 from 'web3'\nimport remixDebug, { TransactionDebugger as Debugger } from '@remix-project/remix-debug'\nimport { CompilationOutput, Sources } from '@remix-ui/debugger-ui'\nimport type { CompilationResult } from '@remix-project/remix-solidity-ts'\n\nexport const DebuggerApiMixin = (Base) => class extends Base {\n\n  initialWeb3\n\n  initDebuggerApi () {\n    this.debugHash = null\n        \n    const self = this\n    this.web3Provider = {\n      sendAsync (payload, callback) {\n        self.call('web3Provider', 'sendAsync', payload)\n          .then(result => callback(null, result))\n          .catch(e => callback(e))\n      }\n    }\n    this._web3 = new Web3(this.web3Provider)\n    // this._web3 can be overwritten and reset to initial value in 'debug' method\n    this.initialWeb3 = this._web3\n    remixDebug.init.extendWeb3(this._web3)\n\n    this.offsetToLineColumnConverter = {\n      async offsetToLineColumn (rawLocation, file, sources, asts) {\n        return await self.call('offsetToLineColumnConverter', 'offsetToLineColumn', rawLocation, file, sources, asts)\n      }\n    }\n  }\n\n  // on()\n  // call()\n  // onDebugRequested()\n  // onRemoveHighlights()\n\n  web3 () {\n    return this._web3\n  }\n\n  async discardHighlight () {\n    await this.call('editor', 'discardHighlight')\n  }\n\n  async highlight (lineColumnPos, path) {\n    await this.call('editor', 'highlight', lineColumnPos, path, '', { focus: true })\n  }\n\n  async getFile (path) {\n    return await this.call('fileManager', 'getFile', path)\n  }\n\n  async setFile (path, content) {\n    await this.call('fileManager', 'setFile', path, content)\n  }\n\n  onBreakpointCleared (listener) {\n    this.onBreakpointClearedListener = listener\n  }\n\n  onBreakpointAdded (listener) {\n    this.onBreakpointAddedListener = listener\n  }\n\n  onEditorContentChanged (listener) {\n    this.onEditorContentChangedListener = listener\n  }\n\n  onEnvChanged (listener) {\n    this.onEnvChangedListener = listener\n  }\n\n  onDebugRequested (listener) {\n    this.onDebugRequestedListener = listener\n  }\n\n  onRemoveHighlights (listener) {\n    this.onRemoveHighlightsListener = listener\n  }\n\n  async fetchContractAndCompile (address, receipt) {\n    const target = (address && remixDebug.traceHelper.isContractCreation(address)) ? receipt.contractAddress : address\n    const targetAddress = target || receipt.contractAddress || receipt.to\n    const codeAtAddress = await this._web3.eth.getCode(targetAddress)\n    const output = await this.call('fetchAndCompile', 'resolve', targetAddress, codeAtAddress, 'browser/.debug')\n    if (output) {\n      return new CompilerAbstract(output.languageversion, output.data, output.source)\n    }\n    return null\n  }\n\n  async getDebugWeb3 () {\n    let web3\n    let network\n    try {\n      network = await this.call('network', 'detectNetwork')    \n    } catch (e) {\n      web3 = this.web3()\n    }\n    if (!web3) {\n      const webDebugNode = remixDebug.init.web3DebugNode(network.name)\n      web3 = !webDebugNode ? this.web3() : webDebugNode\n    }\n    remixDebug.init.extendWeb3(web3)\n    return web3\n  }\n\n  async getTrace (hash) {\n    if (!hash) return\n    const web3 = await this.getDebugWeb3()\n    const currentReceipt = await web3.eth.getTransactionReceipt(hash)\n    const debug = new Debugger({\n      web3,\n      offsetToLineColumnConverter: this.offsetToLineColumnConverter,\n      compilationResult: async (address) => {\n        try {\n          return await this.fetchContractAndCompile(address, currentReceipt)\n        } catch (e) {\n          console.error(e)\n        }\n        return null\n      },\n      debugWithGeneratedSources: false\n    })\n    return await debug.debugger.traceManager.getTrace(hash)\n  }\n\n  debug (hash, web3?) {\n    this.debugHash = hash\n    if (web3) this._web3 = web3\n    else this._web3 = this.initialWeb3\n    remixDebug.init.extendWeb3(this._web3)\n    if (this.onDebugRequestedListener) this.onDebugRequestedListener(hash, web3)\n  }\n\n  onActivation () {\n    this.on('editor', 'breakpointCleared', (fileName, row) => { if (this.onBreakpointClearedListener) this.onBreakpointClearedListener(fileName, row) })\n    this.on('editor', 'breakpointAdded', (fileName, row) => { if (this.onBreakpointAddedListener) this.onBreakpointAddedListener(fileName, row) })\n    this.on('editor', 'contentChanged', () => { if (this.onEditorContentChangedListener) this.onEditorContentChangedListener() })  \n    this.on('network', 'providerChanged', (provider) => { if (this.onEnvChangedListener) this.onEnvChangedListener(provider) })\n  }\n\n  onDeactivation () {\n    if (this.onRemoveHighlightsListener) this.onRemoveHighlightsListener()\n    this.off('editor', 'breakpointCleared')\n    this.off('editor', 'breakpointAdded')\n    this.off('editor', 'contentChanged')\n  }\n\n  showMessage (title: string, message: string) {}\n}\n\nexport class CompilerAbstract implements CompilationOutput { // this is a subset of /remix-ide/src/app/compiler/compiler-abstract.js\n  languageversion\n  data\n  source\n\n  constructor (languageversion: string, data: CompilationResult, source: { sources: Sources, target: string }) {\n    this.languageversion = languageversion\n    this.data = data\n    this.source = source // source code\n  }\n\n  getSourceName (fileIndex) {\n    if (this.data && this.data.sources) {\n      return Object.keys(this.data.sources)[fileIndex]\n    } else if (Object.keys(this.source.sources).length === 1) {\n      // if we don't have ast, we return the only one filename present.\n      const sourcesArray = Object.keys(this.source.sources)\n      return sourcesArray[0]\n    }\n    return null\n  }  \n}\n\n","export * from './app/debugger-api';\n","import { compile } from '@remix-project/remix-solidity'\nimport { CompileTabLogic, parseContracts } from '@remix-ui/solidity-compiler' // eslint-disable-line\nimport type { ConfigurationSettings } from '@remix-project/remix-lib-ts'\n\nexport const CompilerApiMixin = (Base) => class extends Base {\n  currentFile: string\n  contractMap: {\n    file: string\n  } | Record<string, any>\n\n  compileErrors: any\n  compileTabLogic: CompileTabLogic\n  contractsDetails: Record<string, any>\n\n  configurationSettings: ConfigurationSettings\n\n  onCurrentFileChanged: (fileName: string) => void\n  onResetResults: () => void\n  onSetWorkspace: (workspace: any) => void\n  onNoFileSelected: () => void\n  onCompilationFinished: (contractsDetails: any, contractMap: any) => void\n  onSessionSwitched: () => void\n  onContentChanged: () => void\n\n  initCompilerApi () {\n    this.configurationSettings = null\n\n    this._view = {\n      warnCompilationSlow: null,\n      errorContainer: null,\n      contractEl: null\n    }\n\n    this.contractsDetails = {}\n    this.data = {\n      eventHandlers: {},\n      loading: false\n    }\n\n    this.contractMap = {}\n    this.contractsDetails = {}\n\n    this.compileErrors = {}\n    this.compiledFileName = ''\n    this.currentFile = ''\n  }\n\n  onActivation () {\n    this.listenToEvents()\n  }\n\n  onDeactivation () {\n    this.off('editor', 'contentChanged')\n\n    if (this.data.eventHandlers.onLoadingCompiler) {\n      this.compiler.event.unregister('loadingCompiler', this.data.eventHandlers.onLoadingCompiler)\n    }\n\n    if (this.data.eventHandlers.onCompilerLoaded) {\n      this.compiler.event.unregister('compilerLoaded', this.data.eventHandlers.onCompilerLoaded)\n    }\n\n    if (this.data.eventHandlers.onCompilationFinished) {\n      this.compiler.event.unregister('compilationFinished', this.data.eventHandlers.onCompilationFinished)\n    }\n\n    this.off('filePanel', 'setWorkspace')\n\n    this.off('remixd', 'rootFolderChanged')\n\n    this.off('editor', 'sessionSwitched')\n\n    if (this.data.eventHandlers.onStartingCompilation) {\n      this.compileTabLogic.event.off('startingCompilation', this.data.eventHandlers.onStartingCompilation)\n    }\n\n    if (this.data.eventHandlers.onRemoveAnnotations) {\n      this.compileTabLogic.event.off('removeAnnotations', this.data.eventHandlers.onRemoveAnnotations)\n    }\n\n    this.off('fileManager', 'currentFileChanged')\n\n    this.off('fileManager', 'noFileSelected')\n\n    this.off('themeModule', 'themeChanged')\n\n    if (this.data.eventHandlers.onKeyDown) {\n      window.document.removeEventListener('keydown', this.data.eventHandlers.onKeyDown)\n    }\n  }\n\n  resolveContentAndSave (url) {\n    return this.call('contentImport', 'resolveAndSave', url)\n  }\n\n  compileWithHardhat (configFile) {\n    return this.call('hardhat', 'compile', configFile)\n  }\n\n  logToTerminal (content) {\n    return this.call('terminal', 'log', content)\n  }\n\n  getCompilationResult () {\n    return this.compileTabLogic.compiler.state.lastCompilationResult\n  }\n\n  getCompilerState () {\n    return this.compileTabLogic.getCompilerState()\n  }\n\n  /**\n   * compile using @arg fileName.\n   * The module UI will be updated accordingly to the new compilation result.\n   * This function is used by remix-plugin compiler API.\n   * @param {string} fileName to compile\n   */\n  compile (fileName) {\n    this.currentFile = fileName\n    return this.compileTabLogic.compileFile(fileName)\n  }\n\n  compileFile (event) {\n    if (event.path.length > 0) {\n      this.currentFile = event.path[0]\n      this.compileTabLogic.compileFile(event.path[0])\n    }\n  }\n\n  /**\n   * compile using @arg compilationTargets and @arg settings\n   * The module UI will *not* be updated, the compilation result is returned\n   * This function is used by remix-plugin compiler API.\n   * @param {object} map of source files.\n   * @param {object} settings {evmVersion, optimize, runs, version, language}\n   */\n  async compileWithParameters (compilationTargets, settings) {\n    const compilerState = this.getCompilerState()\n    settings.version = settings.version || compilerState.currentVersion\n    const res = await compile(compilationTargets, settings, (url, cb) => this.call('contentImport', 'resolveAndSave', url).then((result) => cb(null, result)).catch((error) => cb(error.message)))\n    return res\n  }\n\n  // This function is used for passing the compiler configuration to 'remix-tests'\n  getCurrentCompilerConfig () {\n    const compilerState = this.getCompilerState()\n    const compilerDetails: any = {\n      currentVersion: compilerState.currentVersion,\n      evmVersion: compilerState.evmVersion,\n      optimize: compilerState.optimize,\n      runs: compilerState.runs\n    }\n    if (this.data.loading) {\n      compilerDetails.currentVersion = this.data.loadingUrl\n      compilerDetails.isUrl = true\n    }\n    return compilerDetails\n  }\n\n  /**\n   * set the compiler configuration\n   * This function is used by remix-plugin compiler API.\n   * @param {object} settings {evmVersion, optimize, runs, version, language}\n   */\n  setCompilerConfig (settings) {\n    this.configurationSettings = settings\n  }\n\n  fileExists (fileName) {\n    return this.call('fileManager', 'exists', fileName)\n  }\n\n  writeFile (fileName, content) {\n    return this.call('fileManager', 'writeFile', fileName, content)\n  }\n\n  readFile (fileName) {\n    return this.call('fileManager', 'readFile', fileName)\n  }\n\n  open (fileName) {\n    return this.call('fileManager', 'open', fileName)\n  }\n\n  saveCurrentFile () {\n    return this.call('fileManager', 'saveCurrentFile')\n  }\n\n  resetResults () {\n    this.currentFile = ''\n    this.contractsDetails = {}\n    this.emit('statusChanged', { key: 'none' })\n    if (this.onResetResults) this.onResetResults()\n  }\n\n  listenToEvents () {\n    this.on('editor', 'contentChanged', () => {\n      this.emit('statusChanged', { key: 'edited', title: 'the content has changed, needs recompilation', type: 'info' })\n      if (this.onContentChanged) this.onContentChanged()\n    })\n\n    this.data.eventHandlers.onLoadingCompiler = (url) => {\n      this.data.loading = true\n      this.data.loadingUrl = url\n      this.emit('statusChanged', { key: 'loading', title: 'loading compiler...', type: 'info' })\n    }\n    this.compiler.event.register('loadingCompiler', this.data.eventHandlers.onLoadingCompiler)\n\n    this.data.eventHandlers.onCompilerLoaded = () => {\n      this.data.loading = false\n      this.emit('statusChanged', { key: 'none' })\n    }\n    this.compiler.event.register('compilerLoaded', this.data.eventHandlers.onCompilerLoaded)\n\n    this.data.eventHandlers.onStartingCompilation = () => {\n      this.emit('statusChanged', { key: 'loading', title: 'compiling...', type: 'info' })\n    }\n\n    this.data.eventHandlers.onRemoveAnnotations = () => {\n      this.call('editor', 'clearAnnotations')\n    }\n\n    this.on('filePanel', 'setWorkspace', (workspace) => {\n      this.resetResults()\n      if (this.onSetWorkspace) this.onSetWorkspace(workspace.isLocalhost)\n    })\n\n    this.on('remixd', 'rootFolderChanged', () => {\n      this.resetResults()\n      if (this.onSetWorkspace) this.onSetWorkspace(true)\n    })\n\n    this.on('editor', 'sessionSwitched', () => {\n      if (this.onSessionSwitched) this.onSessionSwitched()\n    })\n\n    this.compileTabLogic.event.on('startingCompilation', this.data.eventHandlers.onStartingCompilation)\n    this.compileTabLogic.event.on('removeAnnotations', this.data.eventHandlers.onRemoveAnnotations)\n\n    this.data.eventHandlers.onCurrentFileChanged = (name) => {\n      this.currentFile = name\n      if (this.onCurrentFileChanged) this.onCurrentFileChanged(name)\n    }\n    this.on('fileManager', 'currentFileChanged', this.data.eventHandlers.onCurrentFileChanged)\n\n    this.data.eventHandlers.onNoFileSelected = () => {\n      this.currentFile = ''\n      if (this.onNoFileSelected) this.onNoFileSelected()\n    }\n    this.on('fileManager', 'noFileSelected', this.data.eventHandlers.onNoFileSelected)\n\n    this.data.eventHandlers.onCompilationFinished = (success, data, source) => {\n      this.compileErrors = data\n      if (success) {\n        // forwarding the event to the appManager infra\n        this.emit('compilationFinished', source.target, source, 'soljson', data)\n        if (data.errors && data.errors.length > 0) {\n          this.emit('statusChanged', {\n            key: data.errors.length,\n            title: `compilation finished successful with warning${data.errors.length > 1 ? 's' : ''}`,\n            type: 'warning'\n          })\n        } else this.emit('statusChanged', { key: 'succeed', title: 'compilation successful', type: 'success' })\n        // Store the contracts\n        this.contractsDetails = {}\n        this.compiler.visitContracts((contract) => {\n          this.contractsDetails[contract.name] = parseContracts(\n            contract.name,\n            contract.object,\n            this.compiler.getSource(contract.file)\n          )\n        })\n      } else {\n        const count = (data.errors ? data.errors.filter(error => error.severity === 'error').length : 0 + (data.error ? 1 : 0))\n        this.emit('statusChanged', { key: count, title: `compilation failed with ${count} error${count > 1 ? 's' : ''}`, type: 'error' })\n      }\n      // Update contract Selection\n      this.contractMap = {}\n      if (success) this.compiler.visitContracts((contract) => { this.contractMap[contract.name] = contract })\n      if (this.onCompilationFinished) this.onCompilationFinished(this.contractsDetails, this.contractMap)\n    }\n    this.compiler.event.register('compilationFinished', this.data.eventHandlers.onCompilationFinished)\n\n    this.data.eventHandlers.onThemeChanged = (theme) => {\n      const invert = theme.quality === 'dark' ? 1 : 0\n      const img = document.getElementById('swarmLogo')\n      if (img) {\n        img.style.filter = `invert(${invert})`\n      }\n    }\n    this.on('themeModule', 'themeChanged', this.data.eventHandlers.onThemeChanged)\n\n    // Run the compiler instead of trying to save the website\n    this.data.eventHandlers.onKeyDown = (e) => {\n      // ctrl+s or command+s\n      if ((e.metaKey || e.ctrlKey) && e.keyCode === 83) {\n        e.preventDefault()\n        this.compileTabLogic.runCompiler(this.getAppParameter('hardhat-compilation'))\n      }\n    }\n    window.document.addEventListener('keydown', this.data.eventHandlers.onKeyDown)\n  }\n}\n","export * from './app/compiler-api'\n","'use strict'\nimport { basicLogo } from './app/ui/svgLogo'\n\nimport { RunTab, makeUdapp } from './app/udapp'\n\nimport PanelsResize from './lib/panels-resize'\nimport { RemixEngine } from './remixEngine'\nimport { RemixAppManager } from './remixAppManager'\nimport { FramingService } from './framingService'\nimport { WalkthroughService } from './walkthroughService'\nimport { MainView } from './app/panels/main-view'\nimport { ThemeModule } from './app/tabs/theme-module'\nimport { NetworkModule } from './app/tabs/network-module'\nimport { Web3ProviderModule } from './app/tabs/web3-provider'\nimport { SidePanel } from './app/components/side-panel'\nimport { HiddenPanel } from './app/components/hidden-panel'\nimport { VerticalIcons } from './app/components/vertical-icons'\nimport { LandingPage } from './app/ui/landing-page/landing-page'\nimport { MainPanel } from './app/components/main-panel'\n\nimport { OffsetToLineColumnConverter, CompilerMetadata, CompilerArtefacts, FetchAndCompile, CompilerImports } from '@remix-project/core-plugin'\n\nimport migrateFileSystem from './migrateFileSystem'\n\nconst isElectron = require('is-electron')\nconst csjs = require('csjs-inject')\nconst yo = require('yo-yo')\nconst remixLib = require('@remix-project/remix-lib')\nconst registry = require('./global/registry')\n\nconst QueryParams = require('./lib/query-params')\nconst Storage = remixLib.Storage\nconst RemixDProvider = require('./app/files/remixDProvider')\nconst HardhatProvider = require('./app/tabs/hardhat-provider')\nconst Config = require('./config')\nconst modalDialogCustom = require('./app/ui/modal-dialog-custom')\nconst modalDialog = require('./app/ui/modaldialog')\nconst FileManager = require('./app/files/fileManager')\nconst FileProvider = require('./app/files/fileProvider')\nconst DGitProvider = require('./app/files/dgitProvider')\nconst WorkspaceFileProvider = require('./app/files/workspaceFileProvider')\nconst toolTip = require('./app/ui/tooltip')\n\nconst Blockchain = require('./blockchain/blockchain.js')\n\nconst PluginManagerComponent = require('./app/components/plugin-manager-component')\n\nconst CompileTab = require('./app/tabs/compile-tab')\nconst SettingsTab = require('./app/tabs/settings-tab')\nconst AnalysisTab = require('./app/tabs/analysis-tab')\nconst { DebuggerTab } = require('./app/tabs/debugger-tab')\nconst TestTab = require('./app/tabs/test-tab')\nconst FilePanel = require('./app/panels/file-panel')\nconst Editor = require('./app/editor/editor')\nconst Terminal = require('./app/panels/terminal')\nconst ContextualListener = require('./app/editor/contextualListener')\nconst _paq = window._paq = window._paq || []\n\nconst css = csjs`\n  html { box-sizing: border-box; }\n  *, *:before, *:after { box-sizing: inherit; }\n  body                 {\n    /* font: 14px/1.5 Lato, \"Helvetica Neue\", Helvetica, Arial, sans-serif; */\n    font-size          : .8rem;\n  }\n  pre {\n    overflow-x: auto;\n  }\n  .remixIDE            {\n    width              : 100vw;\n    height             : 100vh;\n    overflow           : hidden;\n    flex-direction     : row;\n    display            : flex;\n  }\n  .mainpanel           {\n    display            : flex;\n    flex-direction     : column;\n    overflow           : hidden;\n    flex               : 1;\n  }\n  .iconpanel           {\n    display            : flex;\n    flex-direction     : column;\n    overflow           : hidden;\n    width              : 50px;\n    user-select        : none;\n  }\n  .sidepanel           {\n    display            : flex;\n    flex-direction     : row-reverse;\n    width              : 320px;\n  }\n  .highlightcode       {\n    position           : absolute;\n    z-index            : 20;\n    background-color   : var(--info);\n  }\n  .highlightcode_fullLine {\n    position           : absolute;\n    z-index            : 20;\n    background-color   : var(--info);\n    opacity            : 0.5;\n  }\n  .centered {\n    position           : fixed;\n    top                : 20%;\n    left               : 45%;\n    width              : 200px;\n    height             : 200px;\n  }\n  .centered svg path {\n    fill: var(--secondary);\n  }\n  .centered svg polygon {\n    fill              : var(--secondary);\n  }\n  .onboarding {\n    color             : var(--text-info);\n    background-color  : var(--info);\n  }\n  .matomoBtn {\n    width              : 100px;\n  }\n`\n\nclass App {\n  constructor (api = {}, events = {}, opts = {}) {\n    var self = this\n    self.appManager = new RemixAppManager({})\n    self._components = {}\n    self._view = {}\n    self._view.splashScreen = yo`\n      <div class=${css.centered}>\n        ${basicLogo()}\n        <div class=\"info-secondary\" style=\"text-align:center\">\n          REMIX IDE\n        </div>\n      </div>\n    `\n    document.body.appendChild(self._view.splashScreen)\n\n    // setup storage\n    const configStorage = new Storage('config-v0.8:')\n\n    // load app config\n    const config = new Config(configStorage)\n    registry.put({ api: config, name: 'config' })\n\n    // load file system\n    self._components.filesProviders = {}\n    self._components.filesProviders.browser = new FileProvider('browser')\n    registry.put({ api: self._components.filesProviders.browser, name: 'fileproviders/browser' })\n    self._components.filesProviders.localhost = new RemixDProvider(self.appManager)\n    registry.put({ api: self._components.filesProviders.localhost, name: 'fileproviders/localhost' })\n    self._components.filesProviders.workspace = new WorkspaceFileProvider()\n    registry.put({ api: self._components.filesProviders.workspace, name: 'fileproviders/workspace' })\n\n    registry.put({ api: self._components.filesProviders, name: 'fileproviders' })\n\n    migrateFileSystem(self._components.filesProviders.browser)\n  }\n\n  init () {\n    this.run().catch(console.error)\n  }\n\n  render () {\n    var self = this\n    if (self._view.el) return self._view.el\n    // not resizable\n    self._view.iconpanel = yo`\n      <div id=\"icon-panel\" data-id=\"remixIdeIconPanel\" class=\"${css.iconpanel} bg-light\">\n      ${''}\n      </div>\n    `\n\n    // center panel, resizable\n    self._view.sidepanel = yo`\n      <div id=\"side-panel\" data-id=\"remixIdeSidePanel\" style=\"min-width: 320px;\" class=\"${css.sidepanel} border-right border-left\">\n        ${''}\n      </div>\n    `\n\n    // handle the editor + terminal\n    self._view.mainpanel = yo`\n      <div id=\"main-panel\" data-id=\"remixIdeMainPanel\" class=${css.mainpanel}>\n        ${''}\n      </div>\n    `\n\n    self._components.resizeFeature = new PanelsResize(self._view.sidepanel)\n\n    self._view.el = yo`\n      <div style=\"visibility:hidden\" class=${css.remixIDE} data-id=\"remixIDE\">\n        ${self._view.iconpanel}\n        ${self._view.sidepanel}\n        ${self._components.resizeFeature.render()}\n        ${self._view.mainpanel}\n      </div>\n    `\n    return self._view.el\n  }\n\n  async run () {\n    var self = this\n\n    // check the origin and warn message\n    if (window.location.hostname === 'yann300.github.io') {\n      modalDialogCustom.alert('This UNSTABLE ALPHA branch of Remix has been moved to http://ethereum.github.io/remix-live-alpha.')\n    } else if (window.location.hostname === 'remix-alpha.ethereum.org' ||\n    (window.location.hostname === 'ethereum.github.io' && window.location.pathname.indexOf('/remix-live-alpha') === 0)) {\n      modalDialogCustom.alert('Welcome to the Remix alpha instance. Please use it to try out latest features. But use preferably https://remix.ethereum.org for any production work.')\n    } else if (window.location.protocol.indexOf('http') === 0 &&\n    window.location.hostname !== 'remix.ethereum.org' &&\n    window.location.hostname !== 'localhost' &&\n    window.location.hostname !== '127.0.0.1') {\n      modalDialogCustom.alert(`The Remix IDE has moved to http://remix.ethereum.org.\\n\n  This instance of Remix you are visiting WILL NOT BE UPDATED.\\n\n  Please make a backup of your contracts and start using http://remix.ethereum.org`)\n    }\n    if (window.location.protocol.indexOf('https') === 0) {\n      toolTip('You are using an `https` connection. Please switch to `http` if you are using Remix against an `http Web3 provider` or allow Mixed Content in your browser.')\n    }\n\n    const hosts = ['127.0.0.1:8080', '192.168.0.101:8080', 'localhost:8080']\n    // workaround for Electron support\n    if (!isElectron() && !hosts.includes(window.location.host)) {\n      // Oops! Accidentally trigger refresh or bookmark.\n      window.onbeforeunload = function () {\n        return 'Are you sure you want to leave?'\n      }\n    }\n\n    // APP_MANAGER\n    const appManager = self.appManager\n    const pluginLoader = appManager.pluginLoader\n    const workspace = pluginLoader.get()\n    const engine = new RemixEngine()\n    engine.register(appManager)\n\n    // SERVICES\n    // ----------------- theme service ---------------------------------\n    const themeModule = new ThemeModule(registry)\n    registry.put({ api: themeModule, name: 'themeModule' })\n    themeModule.initTheme(() => {\n      setTimeout(() => {\n        document.body.removeChild(self._view.splashScreen)\n        self._view.el.style.visibility = 'visible'\n      }, 1500)\n    })\n    // ----------------- editor service ----------------------------\n    const editor = new Editor() // wrapper around ace editor\n    registry.put({ api: editor, name: 'editor' })\n    editor.event.register('requiringToSaveCurrentfile', () => fileManager.saveCurrentFile())\n\n    // ----------------- fileManager service ----------------------------\n    const fileManager = new FileManager(editor, appManager)\n    registry.put({ api: fileManager, name: 'filemanager' })\n    // ----------------- dGit provider ---------------------------------\n    const dGitProvider = new DGitProvider()\n\n    // ----------------- import content service ------------------------\n    const contentImport = new CompilerImports()\n\n    const blockchain = new Blockchain(registry.get('config').api)\n\n    // ----------------- compilation metadata generation service ---------\n    const compilerMetadataGenerator = new CompilerMetadata()\n    // ----------------- compilation result service (can keep track of compilation results) ----------------------------\n    const compilersArtefacts = new CompilerArtefacts() // store all the compilation results (key represent a compiler name)\n    registry.put({ api: compilersArtefacts, name: 'compilersartefacts' })\n\n    // service which fetch contract artifacts from sourve-verify, put artifacts in remix and compile it\n    const fetchAndCompile = new FetchAndCompile()\n    // ----------------- network service (resolve network id / name) -----\n    const networkModule = new NetworkModule(blockchain)\n    // ----------------- represent the current selected web3 provider ----\n    const web3Provider = new Web3ProviderModule(blockchain)\n    const hardhatProvider = new HardhatProvider(blockchain)\n    // ----------------- convert offset to line/column service -----------\n    const offsetToLineColumnConverter = new OffsetToLineColumnConverter()\n    registry.put({ api: offsetToLineColumnConverter, name: 'offsettolinecolumnconverter' })\n\n    // -------------------Terminal----------------------------------------\n    makeUdapp(blockchain, compilersArtefacts, (domEl) => terminal.logHtml(domEl))\n    const terminal = new Terminal(\n      { appManager, blockchain },\n      {\n        getPosition: (event) => {\n          var limitUp = 36\n          var limitDown = 20\n          var height = window.innerHeight\n          var newpos = (event.pageY < limitUp) ? limitUp : event.pageY\n          newpos = (newpos < height - limitDown) ? newpos : height - limitDown\n          return height - newpos\n        }\n      }\n    )\n    const contextualListener = new ContextualListener({ editor })\n\n    engine.register([\n      blockchain,\n      contentImport,\n      themeModule,\n      editor,\n      fileManager,\n      compilerMetadataGenerator,\n      compilersArtefacts,\n      networkModule,\n      offsetToLineColumnConverter,\n      contextualListener,\n      terminal,\n      web3Provider,\n      fetchAndCompile,\n      dGitProvider,\n      hardhatProvider\n    ])\n\n    // LAYOUT & SYSTEM VIEWS\n    const appPanel = new MainPanel()\n    const mainview = new MainView(contextualListener, editor, appPanel, fileManager, appManager, terminal)\n    registry.put({ api: mainview, name: 'mainview' })\n\n    engine.register([\n      appPanel,\n      mainview.tabProxy\n    ])\n\n    // those views depend on app_manager\n    const menuicons = new VerticalIcons(appManager)\n    const sidePanel = new SidePanel(appManager, menuicons)\n    const hiddenPanel = new HiddenPanel()\n    const pluginManagerComponent = new PluginManagerComponent(appManager, engine)\n    const filePanel = new FilePanel(appManager)\n    const landingPage = new LandingPage(appManager, menuicons, fileManager, filePanel, contentImport)\n    const settings = new SettingsTab(\n      registry.get('config').api,\n      editor,\n      appManager\n    )\n\n    // adding Views to the DOM\n    self._view.mainpanel.appendChild(mainview.render())\n    self._view.iconpanel.appendChild(menuicons.render())\n    self._view.sidepanel.appendChild(sidePanel.render())\n    document.body.appendChild(hiddenPanel.render()) // Hidden Panel is display none, it can be directly on body\n\n    engine.register([\n      menuicons,\n      landingPage,\n      hiddenPanel,\n      sidePanel,\n      filePanel,\n      pluginManagerComponent,\n      settings\n    ])\n\n    const queryParams = new QueryParams()\n    const params = queryParams.get()\n\n    const onAcceptMatomo = () => {\n      _paq.push(['forgetUserOptOut'])\n      // @TODO remove next line when https://github.com/matomo-org/matomo/commit/9e10a150585522ca30ecdd275007a882a70c6df5 is used\n      document.cookie = 'mtm_consent_removed=; expires=Thu, 01 Jan 1970 00:00:01 GMT;'\n      settings.updateMatomoAnalyticsChoice(true)\n      const el = document.getElementById('modal-dialog')\n      el.parentElement.removeChild(el)\n      startWalkthroughService()\n    }\n    const onDeclineMatomo = () => {\n      settings.updateMatomoAnalyticsChoice(false)\n      _paq.push(['optUserOut'])\n      const el = document.getElementById('modal-dialog')\n      el.parentElement.removeChild(el)\n      startWalkthroughService()\n    }\n\n    const startWalkthroughService = () => {\n      const walkthroughService = new WalkthroughService(localStorage)\n      if (!params.code && !params.url && !params.minimizeterminal && !params.gist && !params.minimizesidepanel) {\n        walkthroughService.start()\n      }\n    }\n\n    // Ask to opt in to Matomo for remix, remix-alpha and remix-beta\n    const matomoDomains = {\n      'remix-alpha.ethereum.org': 27,\n      'remix-beta.ethereum.org': 25,\n      'remix.ethereum.org': 23\n    }\n    if (matomoDomains[window.location.hostname] && !registry.get('config').api.exists('settings/matomo-analytics')) {\n      modalDialog(\n        'Help us to improve Remix IDE',\n        yo`\n        <div>\n          <p>An Opt-in version of <a href=\"https://matomo.org\" target=\"_blank\">Matomo</a>, an open source data analytics platform is being used to improve Remix IDE.</p>\n          <p>We realize that our users have sensitive information in their code and that their privacy - your privacy - must be protected.</p>\n          <p>All data collected through Matomo is stored on our own server - no data is ever given to third parties.  Our analytics reports are public: <a href=\"https://matomo.ethereum.org/index.php?module=MultiSites&action=index&idSite=23&period=day&date=yesterday\" target=\"_blank\">take a look</a>.</p>\n          <p>We do not collect nor store any personally identifiable information (PII).</p>\n          <p>For more info, see: <a href=\"https://medium.com/p/66ef69e14931/\" target=\"_blank\">Matomo Analyitcs on Remix iDE</a>.</p>\n          <p>You can change your choice in the Settings panel anytime.</p>\n          <div class=\"d-flex justify-content-around pt-3 border-top\">\n            <button class=\"btn btn-primary ${css.matomoBtn}\" onclick=${() => onAcceptMatomo()}>Sure</button>\n            <button class=\"btn btn-secondary ${css.matomoBtn}\" onclick=${() => onDeclineMatomo()}>Decline</button>\n          </div>\n        </div>`,\n        {\n          label: '',\n          fn: null\n        },\n        {\n          label: '',\n          fn: null\n        }\n      )\n    } else {\n      startWalkthroughService()\n    }\n\n    // CONTENT VIEWS & DEFAULT PLUGINS\n    const compileTab = new CompileTab(registry.get('config').api, registry.get('filemanager').api)\n    const run = new RunTab(\n      blockchain,\n      registry.get('config').api,\n      registry.get('filemanager').api,\n      registry.get('editor').api,\n      filePanel,\n      registry.get('compilersartefacts').api,\n      networkModule,\n      mainview,\n      registry.get('fileproviders/browser').api\n    )\n    const analysis = new AnalysisTab(registry)\n    const debug = new DebuggerTab()\n    const test = new TestTab(\n      registry.get('filemanager').api,\n      registry.get('offsettolinecolumnconverter').api,\n      filePanel,\n      compileTab,\n      appManager,\n      contentImport\n    )\n\n    engine.register([\n      compileTab,\n      run,\n      debug,\n      analysis,\n      test,\n      filePanel.remixdHandle,\n      filePanel.gitHandle,\n      filePanel.hardhatHandle,\n      filePanel.slitherHandle\n    ])\n\n    if (isElectron()) {\n      appManager.activatePlugin('remixd')\n    }\n\n    try {\n      engine.register(await appManager.registeredPlugins())\n    } catch (e) {\n      console.log('couldn\\'t register iframe plugins', e.message)\n    }\n\n    await appManager.activatePlugin(['editor'])\n    await appManager.activatePlugin(['theme', 'fileManager', 'compilerMetadata', 'compilerArtefacts', 'network', 'web3Provider', 'offsetToLineColumnConverter'])\n    await appManager.activatePlugin(['mainPanel', 'menuicons', 'tabs'])\n    await appManager.activatePlugin(['sidePanel']) // activating  host plugin separately\n    await appManager.activatePlugin(['home'])\n    await appManager.activatePlugin(['settings'])\n    await appManager.activatePlugin(['hiddenPanel', 'pluginManager', 'contextualListener', 'terminal', 'blockchain', 'fetchAndCompile', 'contentImport'])\n\n    appManager.on('filePanel', 'workspaceInitializationCompleted', async () => {\n      await appManager.registerContextMenuItems()\n    })\n    await appManager.activatePlugin(['filePanel'])\n    // Set workspace after initial activation\n    appManager.on('editor', 'editorMounted', () => {\n      if (Array.isArray(workspace)) {\n        appManager.activatePlugin(workspace).then(async () => {\n          try {\n            if (params.deactivate) {\n              await appManager.deactivatePlugin(params.deactivate.split(','))\n            }\n          } catch (e) {\n            console.log(e)\n          }\n\n          if (params.code) {\n            // if code is given in url we focus on solidity plugin\n            menuicons.select('solidity')\n          } else {\n            // If plugins are loaded from the URL params, we focus on the last one.\n            if (pluginLoader.current === 'queryParams' && workspace.length > 0) menuicons.select(workspace[workspace.length - 1])\n          }\n\n          if (params.call) {\n            const callDetails = params.call.split('//')\n            if (callDetails.length > 1) {\n              toolTip(`initiating ${callDetails[0]} ...`)\n              // @todo(remove the timeout when activatePlugin is on 0.3.0)\n              appManager.call(...callDetails).catch(console.error)\n            }\n          }\n        }).catch(console.error)\n      }\n    })\n    // activate solidity plugin\n    appManager.activatePlugin(['solidity', 'udapp'])\n\n    // Load and start the service who manager layout and frame\n    const framingService = new FramingService(sidePanel, menuicons, mainview, this._components.resizeFeature)\n\n    if (params.embed) framingService.embed()\n    framingService.start(params)\n  }\n}\n\nmodule.exports = App\n","import { AbstractPanel } from './panel'\nimport * as packageJson from '../../../../../package.json'\nconst csjs = require('csjs-inject')\nconst yo = require('yo-yo')\n\nconst css = csjs`\n  .pluginsContainer {\n    display: none;\n  }\n`\n\nconst profile = {\n  name: 'hiddenPanel',\n  displayName: 'Hidden Panel',\n  description: '',\n  version: packageJson.version,\n  methods: ['addView', 'removeView']\n}\n\nexport class HiddenPanel extends AbstractPanel {\n  constructor () {\n    super(profile)\n  }\n\n  render () {\n    return yo`\n      <div class=${css.pluginsContainer}>\n        ${this.view}\n      </div>`\n  }\n}\n","import { AbstractPanel } from './panel'\nimport * as packageJson from '../../../../../package.json'\nconst yo = require('yo-yo')\nconst csjs = require('csjs-inject')\n\nconst css = csjs`\n  .pluginsContainer {\n    height: 100%;\n    display: flex;\n    overflow-y: hidden;\n  }\n`\n\nconst profile = {\n  name: 'mainPanel',\n  displayName: 'Main Panel',\n  description: '',\n  version: packageJson.version,\n  methods: ['addView', 'removeView']\n}\n\nexport class MainPanel extends AbstractPanel {\n  constructor () {\n    super(profile)\n  }\n\n  focus (name) {\n    this.emit('focusChanged', name)\n    super.focus(name)\n  }\n\n  render () {\n    return yo`\n      <div class=${css.pluginsContainer} data-id=\"mainPanelPluginsContainer\" id='mainPanelPluginsContainer-id'>\n        ${this.view}\n      </div>`\n  }\n}\n","import { EventEmitter } from 'events'\nimport { HostPlugin } from '@remixproject/engine-web'\nconst csjs = require('csjs-inject')\nconst yo = require('yo-yo')\n\nconst css = csjs`\n  .plugins        {\n    height: 100%;\n  }\n  .plugItIn       {\n    display        : none;\n    height         : 100%;\n  }\n  .plugItIn > div {\n    overflow-y     : auto;\n    overflow-x     : hidden;\n    height         : 100%;\n    width          : 100%;\n  }\n  .plugItIn.active     {\n    display        : block;\n  }\n  .pluginsContainer {\n    height         : 100%;\n    overflow-y     : hidden;\n  }\n`\n\n/** Abstract class used for hosting the view of a plugin */\nexport class AbstractPanel extends HostPlugin {\n  constructor (profile) {\n    super(profile)\n    this.events = new EventEmitter()\n    this.contents = {}\n    this.active = undefined\n\n    // View where the plugin HTMLElement leaves\n    this.view = yo`<div id=\"plugins\" class=\"${css.plugins}\"></div>`\n  }\n\n  /**\n   * Add the plugin to the panel\n   * @param {String} name the name of the plugin\n   * @param {HTMLElement} content the HTMLContent of the plugin\n   */\n  add (view, name) {\n    if (this.contents[name]) throw new Error(`Plugin ${name} already rendered`)\n    view.style.height = '100%'\n    view.style.width = '100%'\n    view.style.border = '0'\n\n    const isIframe = view.tagName === 'IFRAME'\n    view.style.display = isIframe ? 'none' : 'block'\n    const loading = isIframe ? yo`\n      <div class=\"d-flex justify-content-center align-items-center\">\n        <div class=\"spinner-border\" role=\"status\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </div>  \n    ` : ''\n    this.contents[name] = yo`<div class=\"${css.plugItIn}\" >${view}${loading}</div>`\n\n    if (view.tagName === 'IFRAME') {\n      view.addEventListener('load', () => {\n        if (this.contents[name].contains(loading)) {\n          this.contents[name].removeChild(loading)\n        }\n        view.style.display = 'block'\n      })\n    }\n    this.contents[name].style.display = 'none'\n    this.view.appendChild(this.contents[name])\n  }\n\n  addView (profile, view) {\n    this.add(view, profile.name)\n  }\n\n  removeView (profile) {\n    this.remove(profile.name)\n  }\n\n  /**\n   * Remove a plugin from the panel\n   * @param {String} name The name of the plugin to remove\n   */\n  remove (name) {\n    const el = this.contents[name]\n    delete this.contents[name]\n    if (el) el.parentElement.removeChild(el)\n    if (name === this.active) this.active = undefined\n  }\n\n  /**\n   * Display the content of this specific plugin\n   * @param {String} name The name of the plugin to display the content\n   */\n  showContent (name) {\n    if (!this.contents[name]) throw new Error(`Plugin ${name} is not yet activated`)\n    // hiding the current view and display the `moduleName`\n    if (this.active) {\n      this.contents[this.active].style.display = 'none'\n    }\n    this.contents[name].style.display = 'flex'\n    this.active = name\n  }\n\n  focus (name) {\n    this.showContent(name)\n  }\n}\n","import { ViewPlugin } from '@remixproject/engine-web'\nimport { PluginManagerSettings } from './plugin-manager-settings'\nimport React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport {RemixUiPluginManager} from '@remix-ui/plugin-manager' // eslint-disable-line\nimport * as packageJson from '../../../../../package.json'\nconst _paq = window._paq = window._paq || []\n\nconst profile = {\n  name: 'pluginManager',\n  displayName: 'Plugin manager',\n  methods: [],\n  events: [],\n  icon: 'assets/img/pluginManager.webp',\n  description: 'Start/stop services, modules and plugins',\n  kind: 'settings',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/plugin_manager.html',\n  version: packageJson.version\n}\n\nclass PluginManagerComponent extends ViewPlugin {\n  constructor (appManager, engine) {\n    super(profile)\n    this.appManager = appManager\n    this.engine = engine\n    this.pluginManagerSettings = new PluginManagerSettings()\n    this.htmlElement = document.createElement('div')\n    this.htmlElement.setAttribute('id', 'pluginManager')\n    this.filter = ''\n\n    this.activePlugins = []\n    this.inactivePlugins = []\n    this.activeProfiles = this.appManager.actives\n    this._paq = _paq\n    this.listenOnEvent()\n  }\n\n  /**\n   * Checks and returns true or false if plugin name\n   * passed in exists in the actives string array in\n   * RemixAppManager\n   * @param {string} name name of Plugin\n   */\n  isActive (name) {\n    return this.appManager.actives.includes(name)\n  }\n\n  /**\n   * Delegates to method activatePlugin in\n   * RemixAppManager to enable plugin activation\n   * @param {string} name name of Plugin\n   */\n  activateP (name) {\n    this.appManager.activatePlugin(name)\n    _paq.push(['trackEvent', 'manager', 'activate', name])\n  }\n\n  /**\n   * Takes the name of a local plugin and does both\n   * activation and registration\n   * @param {Profile} pluginName\n   * @returns {void}\n   */\n  async activateAndRegisterLocalPlugin (localPlugin) {\n    if (localPlugin) {\n      this.engine.register(localPlugin)\n      this.appManager.activatePlugin(localPlugin.profile.name)\n      this.getAndFilterPlugins()\n      localStorage.setItem('plugins/local', JSON.stringify(localPlugin.profile))\n    }\n  }\n\n  /**\n   * Calls and triggers the event deactivatePlugin\n   * with with manager permission passing in the name\n   * of the plugin\n   * @param {string} name name of Plugin\n   */\n  deactivateP (name) {\n    this.call('manager', 'deactivatePlugin', name)\n    _paq.push(['trackEvent', 'manager', 'deactivate', name])\n  }\n\n  onActivation () {\n    this.renderComponent()\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <RemixUiPluginManager\n        pluginComponent={this}\n        pluginManagerSettings={this.pluginManagerSettings}\n      />,\n      this.htmlElement)\n  }\n\n  render () {\n    return this.htmlElement\n  }\n\n  getAndFilterPlugins (filter) {\n    this.filter = typeof filter === 'string' ? filter.toLowerCase() : this.filter\n\n    const isFiltered = (profile) => (profile.displayName ? profile.displayName : profile.name).toLowerCase().includes(this.filter)\n    const isNotRequired = (profile) => !this.appManager.isRequired(profile.name)\n    const isNotDependent = (profile) => !this.appManager.isDependent(profile.name)\n    const isNotHome = (profile) => profile.name !== 'home'\n    const sortByName = (profileA, profileB) => {\n      const nameA = ((profileA.displayName) ? profileA.displayName : profileA.name).toUpperCase()\n      const nameB = ((profileB.displayName) ? profileB.displayName : profileB.name).toUpperCase()\n      return (nameA < nameB) ? -1 : (nameA > nameB) ? 1 : 0\n    }\n    const activatedPlugins = []\n    const deactivatedPlugins = []\n    const tempArray = this.appManager.getAll()\n      .filter(isFiltered)\n      .filter(isNotRequired)\n      .filter(isNotDependent)\n      .filter(isNotHome)\n      .sort(sortByName)\n\n    tempArray.forEach(profile => {\n      if (this.appManager.actives.includes(profile.name)) {\n        activatedPlugins.push(profile)\n      } else {\n        deactivatedPlugins.push(profile)\n      }\n    })\n    this.activePlugins = activatedPlugins\n    this.inactivePlugins = deactivatedPlugins\n    this.renderComponent()\n  }\n\n  listenOnEvent () {\n    this.engine.event.on('onRegistration', () => this.renderComponent())\n    this.appManager.event.on('activate', () => {\n      this.getAndFilterPlugins()\n    })\n    this.appManager.event.on('deactivate', () => {\n      this.getAndFilterPlugins()\n    })\n  }\n}\n\nmodule.exports = PluginManagerComponent\n","const yo = require('yo-yo')\nconst csjs = require('csjs-inject')\nconst modalDialog = require('../ui/modaldialog')\n\nconst css = csjs`\n.remixui_permissions {\n  position: sticky;\n  bottom: 0;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 5px 20px;\n}\n.permissions button {\n  padding: 2px 5px;\n  cursor: pointer;\n}\n.permissionForm h4 {\n  font-size: 1.3rem;\n  text-align: center;\n}\n.permissionForm h6 {\n  font-size: 1.1rem;\n}\n.permissionForm hr {\n  width: 80%;\n}\n.permissionKey {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.permissionKey i {\n  cursor: pointer;\n}\n.checkbox {\n  display: flex;\n  align-items: center;\n}\n.checkbox label {\n  margin: 0;\n  font-size: 1rem;\n}\n`\n\nexport class PluginManagerSettings {\n  constructor () {\n    const fromLocal = window.localStorage.getItem('plugins/permissions')\n    this.permissions = JSON.parse(fromLocal || '{}')\n  }\n\n  openDialog () {\n    this.currentSetting = this.settings()\n    modalDialog('Plugin Manager Permissions', this.currentSetting,\n      { fn: () => this.onValidation() }\n    )\n  }\n\n  onValidation () {\n    const permissions = JSON.stringify(this.permissions)\n    window.localStorage.setItem('plugins/permissions', permissions)\n  }\n\n  /** Clear one permission from a plugin */\n  clearPersmission (from, to, method) {\n    // eslint-disable-next-line no-debugger\n    debugger\n    if (this.permissions[to] && this.permissions[to][method]) {\n      delete this.permissions[to][method][from]\n      if (Object.keys(this.permissions[to][method]).length === 0) {\n        delete this.permissions[to][method]\n      }\n      if (Object.keys(this.permissions[to]).length === 0) {\n        delete this.permissions[to]\n      }\n      yo.update(this.currentSetting, this.settings())\n    }\n  }\n\n  /** Clear all persmissions from a plugin */\n  clearAllPersmission (to) {\n    // eslint-disable-next-line no-debugger\n    debugger\n    if (!this.permissions[to]) return\n    delete this.permissions[to]\n    yo.update(this.currentSetting, this.settings())\n  }\n\n  settings () {\n    const permissionByToPlugin = (toPlugin, funcObj) => {\n      const permissionByMethod = (methodName, fromPlugins) => {\n        const togglePermission = (fromPlugin) => {\n          this.permissions[toPlugin][methodName][fromPlugin].allow = !this.permissions[toPlugin][methodName][fromPlugin].allow\n        }\n        return Object.keys(fromPlugins).map(fromName => {\n          const fromPluginPermission = fromPlugins[fromName]\n          const checkbox = fromPluginPermission.allow\n            ? yo`<input onchange=${() => togglePermission(fromName)} class=\"mr-2\" type=\"checkbox\" checked id=\"permission-checkbox-${toPlugin}-${methodName}-${toPlugin}\" aria-describedby=\"module ${fromPluginPermission} asks permission for ${methodName}\" />`\n            : yo`<input onchange=${() => togglePermission(fromName)} class=\"mr-2\" type=\"checkbox\" id=\"permission-checkbox-${toPlugin}-${methodName}-${toPlugin}\" aria-describedby=\"module ${fromPluginPermission} asks permission for ${methodName}\" />`\n          return yo`\n            <div class=\"form-group ${css.permissionKey}\">\n              <div class=\"${css.checkbox}\">\n                ${checkbox}\n                <label for=\"permission-checkbox-${toPlugin}-${methodName}-${toPlugin}\" data-id=\"permission-label-${toPlugin}-${methodName}-${toPlugin}\">Allow <u>${fromName}</u> to call <u>${methodName}</u></label>\n              </div>\n              <i onclick=\"${() => this.clearPersmission(fromName, toPlugin, methodName)}\" class=\"fa fa-trash-alt\" data-id=\"pluginManagerSettingsRemovePermission-${toPlugin}-${methodName}-${toPlugin}\"></i>\n            </div>\n          `\n        })\n      }\n\n      const permissionsByFunctions = Object\n        .keys(funcObj)\n        .map(methodName => permissionByMethod(methodName, funcObj[methodName]))\n\n      return yo`\n      <div border p-2>\n        <div class=\"pb-2 ${css.permissionKey}\">\n          <h3>${toPlugin} permissions:</h3>\n          <i onclick=\"${() => this.clearAllPersmission(toPlugin)}\" class=\"far fa-trash-alt\" data-id=\"pluginManagerSettingsClearAllPermission-${toPlugin}\"></i>\n        </div>\n        ${permissionsByFunctions}\n      </div>`\n    }\n\n    const byToPlugin = Object\n      .keys(this.permissions)\n      .map(toPlugin => permissionByToPlugin(toPlugin, this.permissions[toPlugin]))\n\n    const title = byToPlugin.length === 0\n      ? yo`<h4>No Permission requested yet.</h4>`\n      : yo`<h4>Current Permission settings</h4>`\n\n    return yo`<form class=\"${css.permissionForm}\" data-id=\"pluginManagerSettingsPermissionForm\">\n      ${title}\n      <hr/>\n      ${byToPlugin}\n    </form>`\n  }\n\n  render () {\n    return yo`\n    <footer class=\"bg-light ${css.permissions} remix-bg-opacity\">\n      <button onclick=\"${() => this.openDialog()}\" class=\"btn btn-primary settings-button\" data-id=\"pluginManagerPermissionsButton\">Permissions</button>\n    </footer>`\n  }\n}\n","import { AbstractPanel } from './panel'\nimport * as packageJson from '../../../../../package.json'\nconst csjs = require('csjs-inject')\nconst yo = require('yo-yo')\n\nconst css = csjs`\n  .panel {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    flex: auto;\n  }\n  .swapitTitle {\n    margin: 0;\n    text-transform: uppercase;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .swapitTitle i{\n    padding-left: 6px;\n    font-size: 14px;\n  }\n  .swapitHeader {\n    display: flex;\n    align-items: center;\n    padding: 16px 24px 15px;\n    justify-content: space-between;\n  }\n  .icons i {\n    height: 80%;\n    cursor: pointer;\n  }\n  .pluginsContainer {\n    height: 100%;\n    overflow-y: auto;\n  }\n  .titleInfo {\n    padding-left: 10px;\n  }\n  .versionBadge {\n    background-color: var(--light);\n    padding: 0 7px;\n    font-weight: bolder;\n    margin-left: 5px;\n    text-transform: lowercase;\n    cursor: default;\n  }\n`\n\nconst sidePanel = {\n  name: 'sidePanel',\n  displayName: 'Side Panel',\n  description: '',\n  version: packageJson.version,\n  methods: ['addView', 'removeView']\n}\n\n// TODO merge with vertical-icons.js\nexport class SidePanel extends AbstractPanel {\n  constructor (appManager, verticalIcons) {\n    super(sidePanel)\n    this.appManager = appManager\n    this.header = yo`<header></header>`\n    this.renderHeader()\n    this.verticalIcons = verticalIcons\n\n    // Toggle content\n    verticalIcons.events.on('toggleContent', (name) => {\n      if (!this.contents[name]) return\n      if (this.active === name) {\n        // TODO: Only keep `this.emit` (issue#2210)\n        this.emit('toggle', name)\n        this.events.emit('toggle', name)\n        return\n      }\n      this.showContent(name)\n      // TODO: Only keep `this.emit` (issue#2210)\n      this.emit('showing', name)\n      this.events.emit('showing', name)\n    })\n    // Force opening\n    verticalIcons.events.on('showContent', (name) => {\n      if (!this.contents[name]) return\n      this.showContent(name)\n      // TODO: Only keep `this.emit` (issue#2210)\n      this.emit('showing', name)\n      this.events.emit('showing', name)\n    })\n  }\n\n  focus (name) {\n    this.emit('focusChanged', name)\n    super.focus(name)\n  }\n\n  removeView (profile) {\n    super.removeView(profile)\n    this.emit('pluginDisabled', profile.name)\n    this.verticalIcons.unlinkContent(profile)\n  }\n\n  addView (profile, view) {\n    super.addView(profile, view)\n    this.verticalIcons.linkContent(profile)\n  }\n\n  /**\n   * Display content and update the header\n   * @param {String} name The name of the plugin to display\n   */\n  async showContent (name) {\n    super.showContent(name)\n    this.renderHeader()\n    this.emit('focusChanged', name)\n  }\n\n  /** The header of the side panel */\n  async renderHeader () {\n    let name = ' - '\n    let docLink = ''\n    let versionWarning\n    if (this.active) {\n      const profile = await this.appManager.getProfile(this.active)\n      name = profile.displayName ? profile.displayName : profile.name\n      docLink = profile.documentation ? yo`<a href=\"${profile.documentation}\" class=\"${css.titleInfo}\" title=\"link to documentation\" target=\"_blank\"><i aria-hidden=\"true\" class=\"fas fa-book\"></i></a>` : ''\n      if (profile.version && profile.version.match(/\\b(\\w*alpha\\w*)\\b/g)) {\n        versionWarning = yo`<small title=\"Version Alpha\" class=\"badge-light ${css.versionBadge}\">alpha</small>`\n      }\n      // Beta\n      if (profile.version && profile.version.match(/\\b(\\w*beta\\w*)\\b/g)) {\n        versionWarning = yo`<small title=\"Version Beta\" class=\"badge-light ${css.versionBadge}\">beta</small>`\n      }\n    }\n\n    const header = yo`\n      <header class=\"${css.swapitHeader}\">\n        <h6 class=\"${css.swapitTitle}\" data-id=\"sidePanelSwapitTitle\">${name}</h6>\n        ${docLink}\n        ${versionWarning}\n      </header>\n    `\n    yo.update(this.header, header)\n  }\n\n  render () {\n    return yo`\n      <section class=\"${css.panel} plugin-manager\">\n        ${this.header}\n        <div class=\"${css.pluginsContainer}\">\n          ${this.view}\n        </div>\n      </section>`\n  }\n}\n","import * as packageJson from '../../../../../package.json'\nimport { basicLogo } from '../ui/svgLogo'\nvar yo = require('yo-yo')\nvar csjs = require('csjs-inject')\nvar helper = require('../../lib/helper')\nconst globalRegistry = require('../../global/registry')\nconst contextMenu = require('../ui/contextMenu')\nconst { Plugin } = require('@remixproject/engine')\nconst EventEmitter = require('events')\nlet VERTICALMENU_HANDLE\n\nconst profile = {\n  name: 'menuicons',\n  displayName: 'Vertical Icons',\n  description: '',\n  version: packageJson.version,\n  methods: ['select']\n}\n\n// TODO merge with side-panel.js. VerticalIcons should not be a plugin\nexport class VerticalIcons extends Plugin {\n  constructor (appManager) {\n    super(profile)\n    this.events = new EventEmitter()\n    this.appManager = appManager\n    this.icons = {}\n    this.iconKind = {}\n    this.iconStatus = {}\n\n    const themeModule = globalRegistry.get('themeModule').api\n    themeModule.events.on('themeChanged', (theme) => {\n      this.onThemeChanged(theme.quality)\n    })\n  }\n\n  linkContent (profile) {\n    if (!profile.icon) return\n    this.addIcon(profile)\n    this.listenOnStatus(profile)\n  }\n\n  unlinkContent (profile) {\n    this.removeIcon(profile)\n  }\n\n  listenOnStatus (profile) {\n    // the list of supported keys. 'none' will remove the status\n    const keys = ['edited', 'succeed', 'none', 'loading', 'failed']\n    const types = ['error', 'warning', 'success', 'info', '']\n    const fn = (status) => {\n      if (!types.includes(status.type) && status.type) throw new Error(`type should be ${keys.join()}`)\n      if (status.key === undefined) throw new Error('status key should be defined')\n\n      if (typeof status.key === 'string' && (!keys.includes(status.key))) {\n        throw new Error('key should contain either number or ' + keys.join())\n      }\n      this.setIconStatus(profile.name, status)\n    }\n    this.iconStatus[profile.name] = fn\n    this.on(profile.name, 'statusChanged', this.iconStatus[profile.name])\n  }\n\n  /**\n   * Add an icon to the map\n   * @param {ModuleProfile} profile The profile of the module\n   */\n  addIcon ({ kind, name, icon, displayName, tooltip, documentation }) {\n    let title = (tooltip || displayName || name)\n    title = title.replace(/^\\w/, c => c.toUpperCase())\n    this.icons[name] = yo`\n      <div\n        class=\"${css.icon} m-2\"\n        onclick=\"${() => { this.toggle(name) }}\"\n        plugin=\"${name}\"\n        title=\"${title}\"\n        oncontextmenu=\"${(e) => this.itemContextMenu(e, name, documentation)}\"\n        data-id=\"verticalIconsKind${name}\"\n        id=\"verticalIconsKind${name}\"\n      >\n        <img class=\"image\" src=\"${icon}\" alt=\"${name}\" />\n      </div>`\n    this.iconKind[kind || 'none'].appendChild(this.icons[name])\n  }\n\n  /**\n   * resolve a classes list for @arg key\n   * @param {Object} key\n   * @param {Object} type\n   */\n  resolveClasses (key, type) {\n    let classes = css.status\n    switch (key) {\n      case 'succeed':\n        classes += ' fas fa-check-circle text-' + type + ' ' + css.statusCheck\n        break\n      case 'edited':\n        classes += ' fas fa-sync text-' + type + ' ' + css.statusCheck\n        break\n      case 'loading':\n        classes += ' fas fa-spinner text-' + type + ' ' + css.statusCheck\n        break\n      case 'failed':\n        classes += ' fas fa-exclamation-triangle text-' + type + ' ' + css.statusCheck\n        break\n      default: {\n        classes += ' badge badge-pill badge-' + type\n      }\n    }\n    return classes\n  }\n\n  /**\n   * Set a new status for the @arg name\n   * @param {String} name\n   * @param {Object} status\n   */\n  setIconStatus (name, status) {\n    const el = this.icons[name]\n    if (!el) return\n    const statusEl = el.querySelector('i')\n    if (statusEl) {\n      el.removeChild(statusEl)\n    }\n    if (status.key === 'none') return // remove status\n\n    let text = ''\n    let key = ''\n    if (typeof status.key === 'number') {\n      key = status.key.toString()\n      text = key\n    } else key = helper.checkSpecialChars(status.key) ? '' : status.key\n\n    let type = ''\n    if (status.type === 'error') {\n      type = 'danger' // to use with bootstrap\n    } else type = helper.checkSpecialChars(status.type) ? '' : status.type\n    const title = helper.checkSpecialChars(status.title) ? '' : status.title\n\n    el.appendChild(yo`<i\n      title=\"${title}\"\n      class=\"${this.resolveClasses(key, type)}\"\n      aria-hidden=\"true\"\n    >\n    ${text}\n    </i>`)\n\n    el.classList.add(`${css.icon}`)\n  }\n\n  /**\n   * Remove an icon from the map\n   * @param {ModuleProfile} profile The profile of the module\n   */\n  removeIcon ({ kind, name }) {\n    if (this.icons[name]) this.iconKind[kind || 'none'].removeChild(this.icons[name])\n  }\n\n  /**\n   *  Remove active for the current activated icons\n   */\n  removeActive () {\n    // reset filters\n    const images = this.view.querySelectorAll('.image')\n    images.forEach(function (im) {\n      im.style.setProperty('filter', 'invert(0.5)')\n    })\n\n    // remove active\n    const currentActive = this.view.querySelector('.active')\n    if (currentActive) {\n      currentActive.classList.remove('active')\n    }\n  }\n\n  /**\n   *  Add active for the new activated icon\n   * @param {string} name Name of profile of the module to activate\n   */\n  addActive (name) {\n    if (name === 'home') return\n    const themeType = globalRegistry.get('themeModule').api.currentTheme().quality\n    const invert = themeType === 'dark' ? 1 : 0\n    const brightness = themeType === 'dark' ? '150' : '0' // should be >100 for icons with color\n    const nextActive = this.view.querySelector(`[plugin=\"${name}\"]`)\n    if (nextActive) {\n      const image = nextActive.querySelector('.image')\n      nextActive.classList.add('active')\n      image.style.setProperty('filter', `invert(${invert}) grayscale(1) brightness(${brightness}%)`)\n    }\n  }\n\n  /**\n   * Set an icon as active\n   * @param {string} name Name of profile of the module to activate\n   */\n  select (name) {\n    this.updateActivations(name)\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('showContent', name)\n    this.events.emit('showContent', name)\n  }\n\n  /**\n   * Toggles the side panel for plugin\n   * @param {string} name Name of profile of the module to activate\n   */\n  toggle (name) {\n    this.updateActivations(name)\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('toggleContent', name)\n    this.events.emit('toggleContent', name)\n  }\n\n  updateActivations (name) {\n    this.removeActive()\n    this.addActive(name)\n  }\n\n  onThemeChanged (themeType) {\n    const invert = themeType === 'dark' ? 1 : 0\n    const active = this.view.querySelector('.active')\n    if (active) {\n      const image = active.querySelector('.image')\n      image.style.setProperty('filter', `invert(${invert})`)\n    }\n  }\n\n  async itemContextMenu (e, name, documentation) {\n    const actions = {}\n    if (await this.appManager.canDeactivatePlugin(profile, { name })) {\n      actions.Deactivate = () => {\n        // this.call('manager', 'deactivatePlugin', name)\n        this.appManager.deactivatePlugin(name)\n        if (e.target.parentElement.classList.contains('active')) {\n          this.select('filePanel')\n        }\n      }\n    }\n    const links = {}\n    if (documentation) {\n      links.Documentation = documentation\n    }\n    if (Object.keys(actions).length || Object.keys(links).length) {\n      VERTICALMENU_HANDLE && VERTICALMENU_HANDLE.hide(null, true)\n      VERTICALMENU_HANDLE = contextMenu(e, actions, links)\n    }\n    e.preventDefault()\n    e.stopPropagation()\n  }\n\n  render () {\n    const home = yo`\n      <div\n        class=\"m-1 mt-2 ${css.homeIcon}\"\n        onclick=\"${async () => {\n          await this.appManager.activatePlugin('home')\n          this.call('tabs', 'focus', 'home')\n        }}\"\n        plugin=\"home\" title=\"Home\"\n        data-id=\"verticalIconsHomeIcon\"\n        id=\"verticalIconsHomeIcon\"\n      >\n        ${basicLogo()}\n      </div>\n    `\n    this.iconKind.fileexplorer = yo`<div id='fileExplorerIcons' data-id=\"verticalIconsFileExplorerIcons\"></div>`\n    this.iconKind.compiler = yo`<div id='compileIcons'></div>`\n    this.iconKind.udapp = yo`<div id='runIcons'></div>`\n    this.iconKind.testing = yo`<div id='testingIcons'></div>`\n    this.iconKind.analysis = yo`<div id='analysisIcons'></div>`\n    this.iconKind.debugging = yo`<div id='debuggingIcons' data-id=\"verticalIconsDebuggingIcons\"></div>`\n    this.iconKind.none = yo`<div id='otherIcons'></div>`\n    this.iconKind.settings = yo`<div id='settingsIcons' data-id=\"verticalIconsSettingsIcons\"></div>`\n\n    this.view = yo`\n      <div class=\"h-100\">\n        <div class=${css.icons}>\n          ${home}\n          ${this.iconKind.fileexplorer}\n          ${this.iconKind.compiler}\n          ${this.iconKind.udapp}\n          ${this.iconKind.testing}\n          ${this.iconKind.analysis}\n          ${this.iconKind.debugging}\n          ${this.iconKind.none}\n          ${this.iconKind.settings}\n        </div>\n      </div>\n    `\n    return this.view\n  }\n}\n\nconst css = csjs`\n  .homeIcon {\n      display: block;\n      width: 42px;\n      height: 42px;\n      margin-bottom: 20px;\n      cursor: pointer;\n  }\n  .homeIcon svg path {\n    fill: var(--primary);\n  }\n  .homeIcon svg polygon {\n    fill: var(--primary);\n  }\n  .icons {\n  }\n  .icon {\n    cursor: pointer;\n    margin-bottom: 12px;\n    width: 36px;\n    height: 36px;\n    padding: 3px;\n    position: relative;\n    border-radius: 8px;\n  }\n  .icon img {\n    width: 28px;\n    height: 28px;\n    padding: 4px;\n    filter: invert(0.5);\n  }\n  .image {\n  }\n  .icon svg {\n    width: 28px;\n    height: 28px;\n    padding: 4px;\n  }\n  .icon[title='Settings'] {\n    position: absolute;\n    bottom: 0;\n  }\n  .status {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n  .statusCheck {\n    font-size: 1.2em;\n  }\n  .statusWithBG\n    border-radius: 8px;\n    background-color: var(--danger);\n    color: var(--light);\n    font-size: 12px;\n    height: 15px;\n    text-align: center;\n    font-weight: bold;\n    padding-left: 5px;\n    padding-right: 5px;\n  }\n`\n","'use strict'\nimport { sourceMappingDecoder } from '@remix-project/remix-debug'\nconst yo = require('yo-yo')\nconst globalRegistry = require('../../global/registry')\n\nconst css = require('./styles/contextView-styles')\n\n/*\n  Display information about the current focused code:\n   - if it's a reference, display information about the declaration\n   - jump to the declaration\n   - number of references\n   - rename declaration/references\n*/\nclass ContextView {\n  constructor (opts, localRegistry) {\n    this._components = {}\n    this._components.registry = localRegistry || globalRegistry\n    this.contextualListener = opts.contextualListener\n    this.editor = opts.editor\n    this._deps = {\n      compilersArtefacts: this._components.registry.get('compilersartefacts').api,\n      offsetToLineColumnConverter: this._components.registry.get('offsettolinecolumnconverter').api,\n      config: this._components.registry.get('config').api,\n      fileManager: this._components.registry.get('filemanager').api\n    }\n    this._view = null\n    this._nodes = null\n    this._current = null\n    this.sourceMappingDecoder = sourceMappingDecoder\n    this.previousElement = null\n    this.contextualListener.event.register('contextChanged', nodes => {\n      this.show()\n      this._nodes = nodes\n      this.update()\n    })\n    this.contextualListener.event.register('stopHighlighting', () => {\n    })\n  }\n\n  render () {\n    const view = yo`\n      <div class=\"${css.contextview} ${css.contextviewcontainer} bg-light text-dark border-0\">\n        <div class=${css.container}>\n          ${this._renderTarget()}\n        </div>\n      </div>`\n    if (!this._view) {\n      this._view = view\n    }\n    return view\n  }\n\n  hide () {\n    if (this._view) {\n      this._view.style.display = 'none'\n    }\n  }\n\n  show () {\n    if (this._view) {\n      this._view.style.display = 'block'\n    }\n  }\n\n  update () {\n    if (this._view) {\n      yo.update(this._view, this.render())\n    }\n  }\n\n  _renderTarget () {\n    let last\n    const previous = this._current\n    if (this._nodes && this._nodes.length) {\n      last = this._nodes[this._nodes.length - 1]\n      if (isDefinition(last)) {\n        this._current = last\n      } else {\n        const target = this.contextualListener.declarationOf(last)\n        if (target) {\n          this._current = target\n        } else {\n          this._current = null\n        }\n      }\n    }\n    if (!this._current || !previous || previous.id !== this._current.id || (this.previousElement && !this.previousElement.children.length)) {\n      this.previousElement = this._render(this._current, last)\n    }\n    return this.previousElement\n  }\n\n  _jumpToInternal (position) {\n    const jumpToLine = (lineColumn) => {\n      if (lineColumn.start && lineColumn.start.line && lineColumn.start.column) {\n        this.editor.gotoLine(lineColumn.start.line, lineColumn.end.column + 1)\n      }\n    }\n    const lastCompilationResult = this._deps.compilersArtefacts.__last\n    if (lastCompilationResult && lastCompilationResult.languageversion.indexOf('soljson') === 0 && lastCompilationResult.data) {\n      const lineColumn = this._deps.offsetToLineColumnConverter.offsetToLineColumn(\n        position,\n        position.file,\n        lastCompilationResult.getSourceCode().sources,\n        lastCompilationResult.getAsts())\n      const filename = lastCompilationResult.getSourceName(position.file)\n      // TODO: refactor with rendererAPI.errorClick\n      if (filename !== this._deps.config.get('currentFile')) {\n        const provider = this._deps.fileManager.fileProviderOf(filename)\n        if (provider) {\n          provider.exists(filename).then(exist => {\n            this._deps.fileManager.open(filename)\n            jumpToLine(lineColumn)\n          }).catch(error => {\n            if (error) return console.log(error)\n          })\n        }\n      } else {\n        jumpToLine(lineColumn)\n      }\n    }\n  }\n\n  _render (node, nodeAtCursorPosition) {\n    if (!node) return yo`<div></div>`\n    let references = this.contextualListener.referencesOf(node)\n    const type = node.typeDescriptions && node.typeDescriptions.typeString ? node.typeDescriptions.typeString : node.nodeType\n    references = `${references ? references.length : '0'} reference(s)`\n\n    let ref = 0\n    const nodes = this.contextualListener.getActiveHighlights()\n    for (const k in nodes) {\n      if (nodeAtCursorPosition.id === nodes[k].nodeId) {\n        ref = k\n        break\n      }\n    }\n\n    // JUMP BETWEEN REFERENCES\n    const jump = (e) => {\n      e.target.dataset.action === 'next' ? ref++ : ref--\n      if (ref < 0) ref = nodes.length - 1\n      if (ref >= nodes.length) ref = 0\n      this._jumpToInternal(nodes[ref].position)\n    }\n\n    const jumpTo = () => {\n      if (node && node.src) {\n        const position = this.sourceMappingDecoder.decode(node.src)\n        if (position) {\n          this._jumpToInternal(position)\n        }\n      }\n    }\n\n    const showGasEstimation = () => {\n      if (node.nodeType === 'FunctionDefinition') {\n        const result = this.contextualListener.gasEstimation(node)\n        const executionCost = ' Execution cost: ' + result.executionCost + ' gas'\n        const codeDepositCost = 'Code deposit cost: ' + result.codeDepositCost + ' gas'\n        const estimatedGas = result.codeDepositCost ? `${codeDepositCost}, ${executionCost}` : `${executionCost}`\n        return yo`\n          <div class=${css.gasEstimation}>\n            <i class=\"fas fa-gas-pump ${css.gasStationIcon}\" title='Gas estimation'></i>\n            <span>${estimatedGas}</span>\n          </div>\n        `\n      }\n    }\n\n    return yo`\n      <div class=${css.line}>${showGasEstimation()}\n        <div title=${type} class=${css.type}>${type}</div>\n        <div title=${node.name} class=${css.name}>${node.name}</div>\n        <i class=\"fas fa-share ${css.jump}\" aria-hidden=\"true\" onclick=${jumpTo}></i>\n        <span class=${css.referencesnb}>${references}</span>\n        <i data-action='previous' class=\"fas fa-chevron-up ${css.jump}\" aria-hidden=\"true\" onclick=${jump}></i>\n        <i data-action='next' class=\"fas fa-chevron-down ${css.jump}\" aria-hidden=\"true\" onclick=${jump}></i>\n      </div>\n    `\n  }\n}\n\nfunction isDefinition (node) {\n  return node.nodeType === 'ContractDefinition' ||\n  node.nodeType === 'FunctionDefinition' ||\n  node.nodeType === 'ModifierDefinition' ||\n  node.nodeType === 'VariableDeclaration' ||\n  node.nodeType === 'StructDefinition' ||\n  node.nodeType === 'EventDefinition'\n}\n\nmodule.exports = ContextView\n","'use strict'\nimport { Plugin } from '@remixproject/engine'\nimport * as packageJson from '../../../../../package.json'\n\nimport { sourceMappingDecoder } from '@remix-project/remix-debug'\nconst { AstWalker } = require('@remix-project/remix-astwalker')\nconst EventManager = require('../../lib/events')\nconst globalRegistry = require('../../global/registry')\n\nconst profile = {\n  name: 'contextualListener',\n  methods: [],\n  events: [],\n  version: packageJson.version\n}\n\n/*\n  trigger contextChanged(nodes)\n*/\nclass ContextualListener extends Plugin {\n  constructor (opts) {\n    super(profile)\n    this.event = new EventManager()\n    this._components = {}\n    this._components.registry = globalRegistry\n    this.editor = opts.editor\n    this.pluginManager = opts.pluginManager\n    this._deps = {\n      compilersArtefacts: this._components.registry.get('compilersartefacts').api,\n      config: this._components.registry.get('config').api,\n      offsetToLineColumnConverter: this._components.registry.get('offsettolinecolumnconverter').api\n    }\n    this._index = {\n      Declarations: {},\n      FlatReferences: {}\n    }\n    this._activeHighlights = []\n    this.editor.event.register('contentChanged', () => { this._stopHighlighting() })\n\n    this.sourceMappingDecoder = sourceMappingDecoder\n    this.astWalker = new AstWalker()\n  }\n\n  onActivation () {\n    this.on('solidity', 'compilationFinished', (file, source, languageVersion, data) => {\n      if (languageVersion.indexOf('soljson') !== 0) return\n      this._stopHighlighting()\n      this._index = {\n        Declarations: {},\n        FlatReferences: {}\n      }\n      this._buildIndex(data, source)\n    })\n\n    setInterval(() => {\n      if (this._deps.compilersArtefacts.__last && this._deps.compilersArtefacts.__last.languageversion.indexOf('soljson') === 0) {\n        this._highlightItems(this.editor.getCursorPosition(), this._deps.compilersArtefacts.__last, this._deps.config.get('currentFile'))\n      }\n    }, 1000)\n  }\n\n  getActiveHighlights () {\n    return [...this._activeHighlights]\n  }\n\n  declarationOf (node) {\n    if (node && node.referencedDeclaration) {\n      return this._index.FlatReferences[node.referencedDeclaration]\n    }\n    return null\n  }\n\n  referencesOf (node) {\n    return this._index.Declarations[node.id]\n  }\n\n  _highlightItems (cursorPosition, compilationResult, file) {\n    if (this.currentPosition === cursorPosition) return\n    if (this.currentFile !== file) {\n      this.currentFile = file\n      this.currentPosition = cursorPosition\n      return\n    }\n    this._stopHighlighting()\n    this.currentPosition = cursorPosition\n    this.currentFile = file\n    if (compilationResult && compilationResult.data && compilationResult.data.sources[file]) {\n      const nodes = this.sourceMappingDecoder.nodesAtPosition(null, cursorPosition, compilationResult.data.sources[file])\n      this.nodes = nodes\n      if (nodes && nodes.length && nodes[nodes.length - 1]) {\n        this._highlightExpressions(nodes[nodes.length - 1], compilationResult)\n      }\n      this.event.trigger('contextChanged', [nodes])\n    }\n  }\n\n  _buildIndex (compilationResult, source) {\n    if (compilationResult && compilationResult.sources) {\n      const callback = (node) => {\n        if (node && node.referencedDeclaration) {\n          if (!this._index.Declarations[node.referencedDeclaration]) {\n            this._index.Declarations[node.referencedDeclaration] = []\n          }\n          this._index.Declarations[node.referencedDeclaration].push(node)\n        }\n        this._index.FlatReferences[node.id] = node\n      }\n      for (const s in compilationResult.sources) {\n        this.astWalker.walkFull(compilationResult.sources[s].ast, callback)\n      }\n    }\n  }\n\n  _highlight (node, compilationResult) {\n    if (!node) return\n    const position = this.sourceMappingDecoder.decode(node.src)\n    const eventId = this._highlightInternal(position, node)\n    const lastCompilationResult = this._deps.compilersArtefacts.__last\n    if (eventId && lastCompilationResult && lastCompilationResult.languageversion.indexOf('soljson') === 0) {\n      this._activeHighlights.push({ eventId, position, fileTarget: lastCompilationResult.getSourceName(position.file), nodeId: node.id })\n    }\n  }\n\n  _highlightInternal (position, node) {\n    if (node.nodeType === 'Block') return\n    const lastCompilationResult = this._deps.compilersArtefacts.__last\n    if (lastCompilationResult && lastCompilationResult.languageversion.indexOf('soljson') === 0) {\n      let lineColumn = this._deps.offsetToLineColumnConverter.offsetToLineColumn(position, position.file, lastCompilationResult.getSourceCode().sources, lastCompilationResult.getAsts())\n      if (node.nodes && node.nodes.length) {\n        // If node has children, highlight the entire line. if not, just highlight the current source position of the node.\n        lineColumn = {\n          start: {\n            line: lineColumn.start.line,\n            column: 0\n          },\n          end: {\n            line: lineColumn.start.line + 1,\n            column: 0\n          }\n        }\n      }\n      const fileName = lastCompilationResult.getSourceName(position.file)\n      if (fileName) {\n        return this.call('editor', 'highlight', lineColumn, fileName, '', { focus: false })\n      }\n    }\n    return null\n  }\n\n  _highlightExpressions (node, compilationResult) {\n    const highlights = (id) => {\n      if (this._index.Declarations && this._index.Declarations[id]) {\n        const refs = this._index.Declarations[id]\n        for (const ref in refs) {\n          const node = refs[ref]\n          this._highlight(node, compilationResult)\n        }\n      }\n    }\n    if (node && node.referencedDeclaration) {\n      highlights(node.referencedDeclaration)\n      const current = this._index.FlatReferences[node.referencedDeclaration]\n      this._highlight(current, compilationResult)\n    } else {\n      highlights(node.id)\n      this._highlight(node, compilationResult)\n    }\n    this.results = compilationResult\n  }\n\n  _stopHighlighting () {\n    this.call('editor', 'discardHighlight')\n    this.event.trigger('stopHighlighting', [])\n    this._activeHighlights = []\n  }\n\n  gasEstimation (node) {\n    this._loadContractInfos(node)\n    let executionCost, codeDepositCost\n    if (node.nodeType === 'FunctionDefinition') {\n      const visibility = node.visibility\n      if (node.kind !== 'constructor') {\n        const fnName = node.name\n        const fn = fnName + this._getInputParams(node)\n        if (visibility === 'public' || visibility === 'external') {\n          executionCost = this.estimationObj === null ? '-' : this.estimationObj.external[fn]\n        } else if (visibility === 'private' || visibility === 'internal') {\n          executionCost = this.estimationObj === null ? '-' : this.estimationObj.internal[fn]\n        }\n      } else {\n        executionCost = this.creationCost\n        codeDepositCost = this.codeDepositCost\n      }\n    } else {\n      executionCost = '-'\n    }\n    return { executionCost, codeDepositCost }\n  }\n\n  _loadContractInfos (node) {\n    for (const i in this.nodes) {\n      if (this.nodes[i].id === node.scope) {\n        const contract = this.nodes[i]\n        this.contract = this.results.data.contracts[this.results.source.target][contract.name]\n        this.estimationObj = this.contract.evm.gasEstimates\n        this.creationCost = this.estimationObj === null ? '-' : this.estimationObj.creation.totalCost\n        this.codeDepositCost = this.estimationObj === null ? '-' : this.estimationObj.creation.codeDepositCost\n      }\n    }\n  }\n\n  _getInputParams (node) {\n    const params = []\n    const target = node.parameters\n    // for (const i in node.children) {\n    //   if (node.children[i].name === 'ParameterList') {\n    //     target = node.children[i]\n    //     break\n    //   }\n    // }\n    if (target) {\n      const children = target.parameters\n      for (const j in children) {\n        if (children[j].nodeType === 'VariableDeclaration') {\n          params.push(children[j].typeDescriptions.typeString)\n        }\n      }\n    }\n    return '(' + params.toString() + ')'\n  }\n}\n\nmodule.exports = ContextualListener\n","'use strict'\nimport React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport { EditorUI } from '@remix-ui/editor' // eslint-disable-line\nimport { Plugin } from '@remixproject/engine'\nimport * as packageJson from '../../../../../package.json'\n\nconst EventManager = require('../../lib/events')\n\nconst profile = {\n  displayName: 'Editor',\n  name: 'editor',\n  description: 'service - editor',\n  version: packageJson.version,\n  methods: ['highlight', 'discardHighlight', 'clearAnnotations', 'addAnnotation', 'gotoLine']\n}\n\nclass Editor extends Plugin {\n  constructor () {\n    super(profile)\n\n    this._themes = {\n      light: 'light',\n      dark: 'vs-dark',\n      remixDark: 'remix-dark'\n    }\n\n    // Init\n    this.event = new EventManager()\n    this.sessions = {}\n    this.sourceAnnotationsPerFile = {}\n    this.markerPerFile = {}\n    this.readOnlySessions = {}\n    this.previousInput = ''\n    this.saveTimeout = null\n    this.emptySession = null\n    this.modes = {\n      sol: 'sol',\n      yul: 'sol',\n      mvir: 'move',\n      js: 'javascript',\n      py: 'python',\n      vy: 'python',\n      zok: 'zokrates',\n      lex: 'lexon',\n      txt: 'text',\n      json: 'json',\n      abi: 'json',\n      rs: 'rust'\n    }\n\n    this.activated = false\n\n    this.events = {\n      onBreakPointAdded: (file, line) => this.triggerEvent('breakpointAdded', [file, line]),\n      onBreakPointCleared: (file, line) => this.triggerEvent('breakpointCleared', [file, line]),\n      onDidChangeContent: (file) => this._onChange(file),\n      onEditorMounted: () => this.triggerEvent('editorMounted', [])\n    }\n\n    // to be implemented by the react component\n    this.api = {}\n  }\n\n  render () {\n    if (this.el) return this.el\n\n    this.el = document.createElement('div')\n    this.el.setAttribute('id', 'editorView')\n    this.el.currentContent = () => this.currentContent() // used by e2e test\n    this.el.setCurrentContent = (value) => {\n      if (this.sessions[this.currentFile]) {\n        this.sessions[this.currentFile].setValue(value)\n        this._onChange(this.currentFile)\n      }\n    }\n    this.el.gotoLine = (line) => this.gotoLine(line, 0)\n    return this.el\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <EditorUI\n        editorAPI={this.api}\n        themeType={this.currentThemeType}\n        currentFile={this.currentFile}\n        sourceAnnotationsPerFile={this.sourceAnnotationsPerFile}\n        markerPerFile={this.markerPerFile}\n        events={this.events}\n        plugin={this}\n      />\n      , this.el)\n  }\n\n  triggerEvent (name, params) {\n    this.event.trigger(name, params) // internal stack\n    this.emit(name, ...params) // plugin stack\n  }\n\n  async onActivation () {\n    this.activated = true\n    this.on('sidePanel', 'focusChanged', (name) => {\n      this.keepDecorationsFor(name, 'sourceAnnotationsPerFile')\n      this.keepDecorationsFor(name, 'markerPerFile')\n    })\n    this.on('sidePanel', 'pluginDisabled', (name) => {\n      this.clearAllDecorationsFor(name)\n    })\n\n    this.on('theme', 'themeLoaded', (theme) => {\n      this.currentThemeType = theme.quality\n      this.renderComponent()\n    })\n    try {\n      this.currentThemeType = (await this.call('theme', 'currentTheme')).quality\n    } catch (e) {\n      console.log('unable to select the theme ' + e.message)\n    }\n    this.renderComponent()\n  }\n\n  onDeactivation () {\n    this.off('sidePanel', 'focusChanged')\n    this.off('sidePanel', 'pluginDisabled')\n  }\n\n  async _onChange (file) {\n    const currentFile = await this.call('fileManager', 'file')\n    if (!currentFile) {\n      return\n    }\n    if (currentFile !== file) {\n      return\n    }\n    const input = this.get(currentFile)\n    if (!input) {\n      return\n    }\n    // if there's no change, don't do anything\n    if (input === this.previousInput) {\n      return\n    }\n    this.previousInput = input\n\n    // fire storage update\n    // NOTE: save at most once per 5 seconds\n    if (this.saveTimeout) {\n      window.clearTimeout(this.saveTimeout)\n    }\n    this.triggerEvent('contentChanged', [])\n\n    this.saveTimeout = window.setTimeout(() => {\n      this.triggerEvent('requiringToSaveCurrentfile', [])\n    }, 5000)\n  }\n\n  _switchSession (path) {\n    if (path === this.currentFile) return\n    this.triggerEvent('sessionSwitched', [])\n    this.currentFile = path\n    this.renderComponent()\n  }\n\n  /**\n   * Get Ace mode base of the extension of the session file\n   * @param {string} path Path of the file\n   */\n  _getMode (path) {\n    if (!path) return this.modes.txt\n    const root = path.split('#')[0].split('?')[0]\n    let ext = root.indexOf('.') !== -1 ? /[^.]+$/.exec(root) : null\n    if (ext) ext = ext[0]\n    else ext = 'txt'\n    return ext && this.modes[ext] ? this.modes[ext] : this.modes.txt\n  }\n\n  /**\n   * Create an editor session\n   * @param {string} path path of the file\n   * @param {string} content Content of the file to open\n   * @param {string} mode Mode for this file [Default is `text`]\n   */\n  _createSession (path, content, mode) {\n    if (!this.activated) return\n    this.emit('addModel', content, mode, path, false)\n    return {\n      path,\n      language: mode,\n      setValue: (content) => {\n        this.emit('setValue', path, content)\n      },\n      getValue: () => {\n        return this.api.getValue(path, content)\n      },\n      dispose: () => {\n        this.emit('disposeModel', path)\n      }\n    }\n  }\n\n  /**\n   * Attempts to find the string in the current document\n   * @param {string} string\n   */\n  find (string) {\n    return this.api.findMatches(this.currentFile, string)\n  }\n\n  /**\n   * Display an Empty read-only session\n   */\n  displayEmptyReadOnlySession () {\n    if (!this.activated) return\n    this.currentFile = null\n    this.emit('addModel', '', 'text', '_blank', true)\n  }\n\n  /**\n   * Set the text in the current session, if any.\n   * @param {string} text New text to be place.\n   */\n  setText (text) {\n    if (this.currentFile && this.sessions[this.currentFile]) {\n      this.sessions[this.currentFile].setValue(text)\n    }\n  }\n\n  /**\n   * Upsert and open a session.\n   * @param {string} path Path of the session to open.\n   * @param {string} content Content of the document or update.\n   */\n  open (path, content) {\n    /*\n      we have the following cases:\n       - URL prepended with \"localhost\"\n       - URL prepended with \"browser\"\n       - URL not prepended with the file explorer. We assume (as it is in the whole app, that this is a \"browser\" URL\n    */\n    if (!this.sessions[path]) {\n      const session = this._createSession(path, content, this._getMode(path))\n      this.sessions[path] = session\n      this.readOnlySessions[path] = false\n    } else if (this.sessions[path].getValue() !== content) {\n      this.sessions[path].setValue(content)\n    }\n    this._switchSession(path)\n  }\n\n  /**\n   * Upsert and Open a session and set it as Read-only.\n   * @param {string} path Path of the session to open.\n   * @param {string} content Content of the document or update.\n   */\n  openReadOnly (path, content) {\n    if (!this.sessions[path]) {\n      const session = this._createSession(path, content, this._getMode(path))\n      this.sessions[path] = session\n      this.readOnlySessions[path] = true\n    }\n    this._switchSession(path)\n  }\n\n  /**\n   * Content of the current session\n   * @return {String} content of the file referenced by @arg path\n   */\n  currentContent () {\n    return this.get(this.current())\n  }\n\n  /**\n   * Content of the session targeted by @arg path\n   * if @arg path is null, the content of the current session is returned\n   * @param {string} path Path of the session to get.\n   * @return {String} content of the file referenced by @arg path\n   */\n  get (path) {\n    if (!path || this.currentFile === path) {\n      return this.api.getValue(path)\n    } else if (this.sessions[path]) {\n      return this.sessions[path].getValue()\n    }\n  }\n\n  /**\n   * Path of the currently editing file\n   * returns `undefined` if no session is being editer\n   * @return {String} path of the current session\n   */\n  current () {\n    return this.currentFile\n  }\n\n  /**\n   * The position of the cursor\n   */\n  getCursorPosition () {\n    return this.api.getCursorPosition()\n  }\n\n  /**\n   * Remove the current session from the list of sessions.\n   */\n  discardCurrentSession () {\n    if (this.sessions[this.currentFile]) {\n      delete this.sessions[this.currentFile]\n      this.currentFile = null\n    }\n  }\n\n  /**\n   * Remove a session based on its path.\n   * @param {string} path\n   */\n  discard (path) {\n    if (this.sessions[path]) {\n      this.sessions[path].dispose()\n      delete this.sessions[path]\n    }\n    if (this.currentFile === path) this.currentFile = null\n  }\n\n  /**\n   * Increment the font size (in pixels) for the editor text.\n   * @param {number} incr The amount of pixels to add to the font.\n   */\n  editorFontSize (incr) {\n    if (!this.activated) return\n    const newSize = this.api.getFontSize() + incr\n    if (newSize >= 6) {\n      this.emit('setFontSize', newSize)\n    }\n  }\n\n  /**\n   * Resize the editor, and sets whether or not line wrapping is enabled.\n   * @param {boolean} useWrapMode Enable (or disable) wrap mode\n   */\n  resize (useWrapMode) {\n    if (!this.activated) return\n    this.emit('setWordWrap', useWrapMode)\n  }\n\n  /**\n   * Moves the cursor and focus to the specified line and column number\n   * @param {number} line\n   * @param {number} col\n   */\n  gotoLine (line, col) {\n    if (!this.activated) return\n    this.emit('focus')\n    this.emit('revealLine', line + 1, col)\n  }\n\n  /**\n   * Scrolls to a line. If center is true, it puts the line in middle of screen (or attempts to).\n   * @param {number} line The line to scroll to\n   */\n  scrollToLine (line) {\n    if (!this.activated) return\n    this.emit('revealLine', line + 1, 0)\n  }\n\n  /**\n   * Clears all the decorations for the given @arg filePath and @arg plugin, if none is given, the current sesssion is used.\n   * An annotation has the following shape:\n      column: -1\n      row: -1\n      text: \"browser/Untitled1.sol: Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing \"SPDX-License-Identifier: <SPDX-License>\" to each source file. Use \"SPDX-License-Identifier: UNLICENSED\" for non-open-source code. Please see https://spdx.org for more information.\"\n      type: \"warning\"\n   * @param {String} filePath\n   * @param {String} plugin\n   * @param {String} typeOfDecoration\n   */\n  clearDecorationsByPlugin (filePath, plugin, typeOfDecoration) {\n    if (filePath && !this.sessions[filePath]) throw new Error('file not found' + filePath)\n    const path = filePath || this.currentFile\n\n    const currentAnnotations = this[typeOfDecoration][path]\n    if (!currentAnnotations) return\n\n    const newAnnotations = []\n    for (const annotation of currentAnnotations) {\n      if (annotation.from !== plugin) newAnnotations.push(annotation)\n    }\n\n    this[typeOfDecoration][path] = newAnnotations\n    this.renderComponent()\n  }\n\n  keepDecorationsFor (name, typeOfDecoration) {\n    if (!this.currentFile) return\n    if (!this[typeOfDecoration][this.currentFile]) return\n\n    const annotations = this[typeOfDecoration][this.currentFile]\n    for (const annotation of annotations) {\n      annotation.hide = annotation.from !== name\n    }\n    this.renderComponent()\n  }\n\n  /**\n   * Clears all the decorations and for all the sessions for the given @arg plugin\n   * An annotation has the following shape:\n      column: -1\n      row: -1\n      text: \"browser/Untitled1.sol: Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing \"SPDX-License-Identifier: <SPDX-License>\" to each source file. Use \"SPDX-License-Identifier: UNLICENSED\" for non-open-source code. Please see https://spdx.org for more information.\"\n      type: \"warning\"\n   * @param {String} filePath\n   */\n  clearAllDecorationsFor (plugin) {\n    for (const session in this.sessions) {\n      this.clearDecorationsByPlugin(session, plugin, 'sourceAnnotationsPerFile')\n      this.clearDecorationsByPlugin(session, plugin, 'markerPerFile')\n    }\n  }\n\n  /**\n   * Clears all the annotations for the given @arg filePath, the plugin name is retrieved from the context, if none is given, the current sesssion is used.\n   * An annotation has the following shape:\n      column: -1\n      row: -1\n      text: \"browser/Untitled1.sol: Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing \"SPDX-License-Identifier: <SPDX-License>\" to each source file. Use \"SPDX-License-Identifier: UNLICENSED\" for non-open-source code. Please see https://spdx.org for more information.\"\n      type: \"warning\"\n   * @param {String} filePath\n   * @param {String} plugin\n   */\n  clearAnnotations (filePath) {\n    filePath = filePath || this.currentFile\n    const { from } = this.currentRequest\n    this.clearDecorationsByPlugin(filePath, from, 'sourceAnnotationsPerFile')\n  }\n\n  async addDecoration (decoration, filePath, typeOfDecoration) {\n    if (!filePath) return\n    filePath = await this.call('fileManager', 'getPathFromUrl', filePath)\n    filePath = filePath.file\n    if (!this.sessions[filePath]) throw new Error('file not found' + filePath)\n    const path = filePath || this.currentFile\n\n    const { from } = this.currentRequest\n    if (!this[typeOfDecoration][path]) this[typeOfDecoration][path] = []\n    decoration.from = from\n    this[typeOfDecoration][path].push(decoration)\n    this.renderComponent()\n  }\n\n  /**\n   * Add an annotation to the current session.\n   * An annotation has the following shape:\n      column: -1\n      row: -1\n      text: \"browser/Untitled1.sol: Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing \"SPDX-License-Identifier: <SPDX-License>\" to each source file. Use \"SPDX-License-Identifier: UNLICENSED\" for non-open-source code. Please see https://spdx.org for more information.\"\n      type: \"warning\"\n   * @param {Object} annotation\n   * @param {String} filePath\n   */\n  async addAnnotation (annotation, filePath) {\n    filePath = filePath || this.currentFile\n    await this.addDecoration(annotation, filePath, 'sourceAnnotationsPerFile')\n  }\n\n  async highlight (position, filePath, highlightColor, opt = { focus: true }) {\n    filePath = filePath || this.currentFile\n    if (opt.focus) {\n      await this.call('fileManager', 'open', filePath)\n      this.scrollToLine(position.start.line)\n    }\n    await this.addDecoration({ position }, filePath, 'markerPerFile')\n  }\n\n  discardHighlight () {\n    const { from } = this.currentRequest\n    for (const session in this.sessions) {\n      this.clearDecorationsByPlugin(session, from, 'markerPerFile')\n    }\n  }\n}\n\nmodule.exports = Editor\n","'use strict'\n\nconst storage = `// SPDX-License-Identifier: GPL-3.0\n\npragma solidity >=0.7.0 <0.9.0;\n\n/**\n * @title Storage\n * @dev Store & retrieve value in a variable\n */\ncontract Storage {\n\n    uint256 number;\n\n    /**\n     * @dev Store value in variable\n     * @param num value to store\n     */\n    function store(uint256 num) public {\n        number = num;\n    }\n\n    /**\n     * @dev Return value \n     * @return value of 'number'\n     */\n    function retrieve() public view returns (uint256){\n        return number;\n    }\n}`\n\nconst owner = `// SPDX-License-Identifier: GPL-3.0\n\npragma solidity >=0.7.0 <0.9.0;\n\n/**\n * @title Owner\n * @dev Set & change owner\n */\ncontract Owner {\n\n    address private owner;\n    \n    // event for EVM logging\n    event OwnerSet(address indexed oldOwner, address indexed newOwner);\n    \n    // modifier to check if caller is owner\n    modifier isOwner() {\n        // If the first argument of 'require' evaluates to 'false', execution terminates and all\n        // changes to the state and to Ether balances are reverted.\n        // This used to consume all gas in old EVM versions, but not anymore.\n        // It is often a good idea to use 'require' to check if functions are called correctly.\n        // As a second argument, you can also provide an explanation about what went wrong.\n        require(msg.sender == owner, \"Caller is not owner\");\n        _;\n    }\n    \n    /**\n     * @dev Set contract deployer as owner\n     */\n    constructor() {\n        owner = msg.sender; // 'msg.sender' is sender of current call, contract deployer for a constructor\n        emit OwnerSet(address(0), owner);\n    }\n\n    /**\n     * @dev Change owner\n     * @param newOwner address of new owner\n     */\n    function changeOwner(address newOwner) public isOwner {\n        emit OwnerSet(owner, newOwner);\n        owner = newOwner;\n    }\n\n    /**\n     * @dev Return owner address \n     * @return address of owner\n     */\n    function getOwner() external view returns (address) {\n        return owner;\n    }\n}`\n\nconst ballot = `// SPDX-License-Identifier: GPL-3.0\n\npragma solidity >=0.7.0 <0.9.0;\n\n/** \n * @title Ballot\n * @dev Implements voting process along with vote delegation\n */\ncontract Ballot {\n   \n    struct Voter {\n        uint weight; // weight is accumulated by delegation\n        bool voted;  // if true, that person already voted\n        address delegate; // person delegated to\n        uint vote;   // index of the voted proposal\n    }\n\n    struct Proposal {\n        // If you can limit the length to a certain number of bytes, \n        // always use one of bytes1 to bytes32 because they are much cheaper\n        bytes32 name;   // short name (up to 32 bytes)\n        uint voteCount; // number of accumulated votes\n    }\n\n    address public chairperson;\n\n    mapping(address => Voter) public voters;\n\n    Proposal[] public proposals;\n\n    /** \n     * @dev Create a new ballot to choose one of 'proposalNames'.\n     * @param proposalNames names of proposals\n     */\n    constructor(bytes32[] memory proposalNames) {\n        chairperson = msg.sender;\n        voters[chairperson].weight = 1;\n\n        for (uint i = 0; i < proposalNames.length; i++) {\n            // 'Proposal({...})' creates a temporary\n            // Proposal object and 'proposals.push(...)'\n            // appends it to the end of 'proposals'.\n            proposals.push(Proposal({\n                name: proposalNames[i],\n                voteCount: 0\n            }));\n        }\n    }\n    \n    /** \n     * @dev Give 'voter' the right to vote on this ballot. May only be called by 'chairperson'.\n     * @param voter address of voter\n     */\n    function giveRightToVote(address voter) public {\n        require(\n            msg.sender == chairperson,\n            \"Only chairperson can give right to vote.\"\n        );\n        require(\n            !voters[voter].voted,\n            \"The voter already voted.\"\n        );\n        require(voters[voter].weight == 0);\n        voters[voter].weight = 1;\n    }\n\n    /**\n     * @dev Delegate your vote to the voter 'to'.\n     * @param to address to which vote is delegated\n     */\n    function delegate(address to) public {\n        Voter storage sender = voters[msg.sender];\n        require(!sender.voted, \"You already voted.\");\n        require(to != msg.sender, \"Self-delegation is disallowed.\");\n\n        while (voters[to].delegate != address(0)) {\n            to = voters[to].delegate;\n\n            // We found a loop in the delegation, not allowed.\n            require(to != msg.sender, \"Found loop in delegation.\");\n        }\n        sender.voted = true;\n        sender.delegate = to;\n        Voter storage delegate_ = voters[to];\n        if (delegate_.voted) {\n            // If the delegate already voted,\n            // directly add to the number of votes\n            proposals[delegate_.vote].voteCount += sender.weight;\n        } else {\n            // If the delegate did not vote yet,\n            // add to her weight.\n            delegate_.weight += sender.weight;\n        }\n    }\n\n    /**\n     * @dev Give your vote (including votes delegated to you) to proposal 'proposals[proposal].name'.\n     * @param proposal index of proposal in the proposals array\n     */\n    function vote(uint proposal) public {\n        Voter storage sender = voters[msg.sender];\n        require(sender.weight != 0, \"Has no right to vote\");\n        require(!sender.voted, \"Already voted.\");\n        sender.voted = true;\n        sender.vote = proposal;\n\n        // If 'proposal' is out of the range of the array,\n        // this will throw automatically and revert all\n        // changes.\n        proposals[proposal].voteCount += sender.weight;\n    }\n\n    /** \n     * @dev Computes the winning proposal taking all previous votes into account.\n     * @return winningProposal_ index of winning proposal in the proposals array\n     */\n    function winningProposal() public view\n            returns (uint winningProposal_)\n    {\n        uint winningVoteCount = 0;\n        for (uint p = 0; p < proposals.length; p++) {\n            if (proposals[p].voteCount > winningVoteCount) {\n                winningVoteCount = proposals[p].voteCount;\n                winningProposal_ = p;\n            }\n        }\n    }\n\n    /** \n     * @dev Calls winningProposal() function to get the index of the winner contained in the proposals array and then\n     * @return winnerName_ the name of the winner\n     */\n    function winnerName() public view\n            returns (bytes32 winnerName_)\n    {\n        winnerName_ = proposals[winningProposal()].name;\n    }\n}\n`\n\nconst ballotTest = `// SPDX-License-Identifier: GPL-3.0\n\npragma solidity >=0.7.0 <0.9.0;\nimport \"remix_tests.sol\"; // this import is automatically injected by Remix.\nimport \"../contracts/3_Ballot.sol\";\n\ncontract BallotTest {\n   \n    bytes32[] proposalNames;\n   \n    Ballot ballotToTest;\n    function beforeAll () public {\n        proposalNames.push(bytes32(\"candidate1\"));\n        ballotToTest = new Ballot(proposalNames);\n    }\n    \n    function checkWinningProposal () public {\n        ballotToTest.vote(0);\n        Assert.equal(ballotToTest.winningProposal(), uint(0), \"proposal at index 0 should be the winning proposal\");\n        Assert.equal(ballotToTest.winnerName(), bytes32(\"candidate1\"), \"candidate1 should be the winner name\");\n    }\n    \n    function checkWinninProposalWithReturnValue () public view returns (bool) {\n        return ballotToTest.winningProposal() == 0;\n    }\n}\n`\nconst deployWithWeb3 = `// Right click on the script name and hit \"Run\" to execute\n(async () => {\n    try {\n        console.log('Running deployWithWeb3 script...')\n        \n        const contractName = 'Storage' // Change this for other contract\n        const constructorArgs = []    // Put constructor args (if any) here for your contract\n    \n        // Note that the script needs the ABI which is generated from the compilation artifact.\n        // Make sure contract is compiled and artifacts are generated\n        const artifactsPath = \\`browser/contracts/artifacts/\\${contractName}.json\\` // Change this for different path\n\n        const metadata = JSON.parse(await remix.call('fileManager', 'getFile', artifactsPath))\n        const accounts = await web3.eth.getAccounts()\n    \n        let contract = new web3.eth.Contract(metadata.abi)\n    \n        contract = contract.deploy({\n            data: metadata.data.bytecode.object,\n            arguments: constructorArgs\n        })\n    \n        const newContractInstance = await contract.send({\n            from: accounts[0],\n            gas: 1500000,\n            gasPrice: '30000000000'\n        })\n        console.log('Contract deployed at address: ', newContractInstance.options.address)\n    } catch (e) {\n        console.log(e.message)\n    }\n  })()`\n\nconst deployWithEthers = `// Right click on the script name and hit \"Run\" to execute\n(async () => {\n    try {\n        console.log('Running deployWithEthers script...')\n    \n        const contractName = 'Storage' // Change this for other contract\n        const constructorArgs = []    // Put constructor args (if any) here for your contract\n\n        // Note that the script needs the ABI which is generated from the compilation artifact.\n        // Make sure contract is compiled and artifacts are generated\n        const artifactsPath = \\`browser/contracts/artifacts/\\${contractName}.json\\` // Change this for different path\n    \n        const metadata = JSON.parse(await remix.call('fileManager', 'getFile', artifactsPath))\n        // 'web3Provider' is a remix global variable object\n        const signer = (new ethers.providers.Web3Provider(web3Provider)).getSigner()\n    \n        let factory = new ethers.ContractFactory(metadata.abi, metadata.data.bytecode.object, signer);\n    \n        let contract = await factory.deploy(...constructorArgs);\n    \n        console.log('Contract Address: ', contract.address);\n    \n        // The contract is NOT deployed yet; we must wait until it is mined\n        await contract.deployed()\n        console.log('Deployment successful.')\n    } catch (e) {\n        console.log(e.message)\n    }\n})()`\n\nconst readme = `REMIX EXAMPLE PROJECT\n\nRemix example project is present when Remix loads very first time or there are no files existing in the File Explorer. \nIt contains 3 directories:\n\n1. 'contracts': Holds three contracts with different complexity level, denoted with number prefix in file name.\n2. 'scripts': Holds two scripts to deploy a contract. It is explained below.\n3. 'tests': Contains one test file for 'Ballot' contract with unit tests in Solidity.\n\nSCRIPTS\n\nThe 'scripts' folder contains example async/await scripts for deploying the 'Storage' contract.\nFor the deployment of any other contract, 'contractName' and 'constructorArgs' should be updated (along with other code if required). \nScripts have full access to the web3.js and ethers.js libraries.\n\nTo run a script, right click on file name in the file explorer and click 'Run'. Remember, Solidity file must already be compiled.\n\nOutput from script will appear in remix terminal.\n`\n\nmodule.exports = {\n  storage: { name: 'contracts/1_Storage.sol', content: storage },\n  owner: { name: 'contracts/2_Owner.sol', content: owner },\n  ballot: { name: 'contracts/3_Ballot.sol', content: ballot },\n  deployWithWeb3: { name: 'scripts/deploy_web3.js', content: deployWithWeb3 },\n  deployWithEthers: { name: 'scripts/deploy_ethers.js', content: deployWithEthers },\n  ballot_test: { name: 'tests/4_Ballot_test.sol', content: ballotTest },\n  readme: { name: 'README.txt', content: readme }\n}\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n  .contextview {\n    opacity             : 1;\n    position            : relative;\n    height              : 25px;\n  }\n  .container {\n    padding             : 1px 15px;\n  }\n  .line {\n    display             : flex;\n    justify-content     : flex-end;\n    align-items         : center;\n    text-overflow       : ellipsis;\n    overflow            : hidden;\n    white-space         : nowrap;\n    font-size           : 13px;\n  }\n  .type {\n    font-style        : italic;\n    margin-right      : 5px;\n  }\n  .name  {\n    font-weight       : bold;\n  }\n  .jump {\n    cursor            : pointer;\n    margin            : 0 5px;\n  }\n  .jump:hover              {\n    color             : var(--secondary);\n  }\n  .referencesnb {\n    float             : right;\n    margin-left       : 15px;\n  }\n  .gasEstimation {\n    margin-right      : 15px;\n    display           : flex;\n    align-items       : center;\n  }\n  .gasStationIcon {\n    margin-right      : 5px;\n  }\n  .contextviewcontainer {\n    z-index           : 50;\n    border-radius     : 1px;\n    border            : 2px solid var(--secondary);\n  }\n  .contextviewcontainer{\n    z-index           : 50;\n    border-radius     : 1px;\n    border            : 2px solid var(--secondary);\n  }\n`\n\nmodule.exports = css\n","'use strict'\n\nimport {\n  Plugin\n} from '@remixproject/engine'\nimport git from 'isomorphic-git'\nimport IpfsHttpClient from 'ipfs-http-client'\nimport {\n  saveAs\n} from 'file-saver'\nimport http from 'isomorphic-git/http/web'\n\nconst JSZip = require('jszip')\nconst path = require('path')\nconst FormData = require('form-data')\nconst axios = require('axios')\n\nconst profile = {\n  name: 'dGitProvider',\n  displayName: 'Decentralized git',\n  description: '',\n  icon: 'assets/img/fileManager.webp',\n  version: '0.0.1',\n  methods: ['init', 'localStorageUsed', 'addremote', 'delremote', 'remotes', 'fetch', 'clone', 'export', 'import', 'status', 'log', 'commit', 'add', 'remove', 'rm', 'lsfiles', 'readblob', 'resolveref', 'branches', 'branch', 'checkout', 'currentbranch', 'push', 'pin', 'pull', 'pinList', 'unPin', 'setIpfsConfig', 'zip', 'setItem', 'getItem'],\n  kind: 'file-system'\n}\nclass DGitProvider extends Plugin {\n  constructor () {\n    super(profile)\n    this.ipfsconfig = {\n      host: 'ipfs.remixproject.org',\n      port: 443,\n      protocol: 'https',\n      ipfsurl: 'https://ipfs.remixproject.org/ipfs/'\n    }\n    this.globalIPFSConfig = {\n      host: 'ipfs.io',\n      port: 443,\n      protocol: 'https',\n      ipfsurl: 'https://ipfs.io/ipfs/'\n    }\n    this.remixIPFS = {\n      host: 'ipfs.remixproject.org',\n      port: 443,\n      protocol: 'https',\n      ipfsurl: 'https://ipfs.remixproject.org/ipfs/'\n    }\n    this.ipfsSources = [this.remixIPFS, this.globalIPFSConfig, this.ipfsconfig]\n  }\n\n  async getGitConfig () {\n    const workspace = await this.call('filePanel', 'getCurrentWorkspace')\n    return {\n      fs: window.remixFileSystem,\n      dir: workspace.absolutePath\n    }\n  }\n\n  async parseInput (input) {\n    return {\n      corsProxy: 'https://corsproxy.remixproject.org/',\n      http,\n      onAuth: url => {\n        const auth = {\n          username: input.token,\n          password: ''\n        }\n        return auth\n      }\n    }\n  }\n\n  async init (input) {\n    await git.init({\n      ...await this.getGitConfig(),\n      defaultBranch: (input && input.branch) || 'main'\n    })\n  }\n\n  async status (cmd) {\n    const status = await git.statusMatrix({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    return status\n  }\n\n  async add (cmd) {\n    await git.add({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    await this.call('fileManager', 'refresh')\n  }\n\n  async rm (cmd) {\n    await git.remove({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    await this.call('fileManager', 'refresh')\n  }\n\n  async checkout (cmd) {\n    await git.checkout({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    await this.call('fileManager', 'refresh')\n  }\n\n  async log (cmd) {\n    const status = await git.log({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    return status\n  }\n\n  async remotes () {\n    let remotes = []\n    try {\n      remotes = await git.listRemotes({ ...await this.getGitConfig() })\n    } catch (e) {\n    }\n    return remotes\n  }\n\n  async branch (cmd) {\n    const status = await git.branch({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    await this.call('fileManager', 'refresh')\n    return status\n  }\n\n  async currentbranch () {\n    const name = await git.currentBranch({\n      ...await this.getGitConfig()\n    })\n    return name\n  }\n\n  async branches () {\n    const cmd = {\n      ...await this.getGitConfig()\n    }\n    const remotes = await this.remotes()\n    let branches = []\n    branches = (await git.listBranches(cmd)).map((branch) => { return { remote: undefined, name: branch } })\n    for (const remote of remotes) {\n      cmd.remote = remote.remote\n      const remotebranches = (await git.listBranches(cmd)).map((branch) => { return { remote: remote.remote, name: branch } })\n      branches = [...branches, ...remotebranches]\n    }\n    return branches\n  }\n\n  async commit (cmd) {\n    await this.init()\n    try {\n      const sha = await git.commit({\n        ...await this.getGitConfig(),\n        ...cmd\n      })\n      return sha\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  async lsfiles (cmd) {\n    const filesInStaging = await git.listFiles({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    return filesInStaging\n  }\n\n  async resolveref (cmd) {\n    const oid = await git.resolveRef({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    return oid\n  }\n\n  async readblob (cmd) {\n    const readBlobResult = await git.readBlob({\n      ...await this.getGitConfig(),\n      ...cmd\n    })\n    return readBlobResult\n  }\n\n  async setIpfsConfig (config) {\n    this.ipfsconfig = config\n    return new Promise((resolve, reject) => {\n      resolve(this.checkIpfsConfig())\n    })\n  }\n\n  async checkIpfsConfig (config) {\n    this.ipfs = IpfsHttpClient(config || this.ipfsconfig)\n    try {\n      await this.ipfs.config.getAll()\n      return true\n    } catch (e) {\n      return false\n    }\n  }\n\n  async addremote (input) {\n    await git.addRemote({ ...await this.getGitConfig(), url: input.url, remote: input.remote })\n  }\n\n  async delremote (input) {\n    await git.deleteRemote({ ...await this.getGitConfig(), remote: input.remote })\n  }\n\n  async localStorageUsed () {\n    return this.calculateLocalStorage()\n  }\n\n  async clone (input) {\n    const permission = await this.askUserPermission('clone', 'Import multiple files into your workspaces.')\n    if (!permission) return false\n    if (this.calculateLocalStorage() > 10000) throw new Error('The local storage of the browser is full.')\n    await this.call('filePanel', 'createWorkspace', `workspace_${Date.now()}`, true)\n\n    const cmd = {\n      url: input.url,\n      singleBranch: input.singleBranch,\n      ref: input.branch,\n      depth: input.depth || 10,\n      ...await this.parseInput(input),\n      ...await this.getGitConfig()\n    }\n\n    const result = await git.clone(cmd)\n    await this.call('fileManager', 'refresh')\n    return result\n  }\n\n  async push (input) {\n    const cmd = {\n      force: input.force,\n      ref: input.ref,\n      remoteRef: input.remoteRef,\n      remote: input.remote,\n      author: {\n        name: input.name,\n        email: input.email\n      },\n      ...await this.parseInput(input),\n      ...await this.getGitConfig()\n    }\n    return await git.push(cmd)\n  }\n\n  async pull (input) {\n    const cmd = {\n      ref: input.ref,\n      remoteRef: input.remoteRef,\n      author: {\n        name: input.name,\n        email: input.email\n      },\n      remote: input.remote,\n      ...await this.parseInput(input),\n      ...await this.getGitConfig()\n    }\n    const result = await git.pull(cmd)\n    await this.call('fileManager', 'refresh')\n    return result\n  }\n\n  async fetch (input) {\n    const cmd = {\n      ref: input.ref,\n      remoteRef: input.remoteRef,\n      author: {\n        name: input.name,\n        email: input.email\n      },\n      remote: input.remote,\n      ...await this.parseInput(input),\n      ...await this.getGitConfig()\n    }\n    const result = await git.fetch(cmd)\n    await this.call('fileManager', 'refresh')\n    return result\n  }\n\n  async export (config) {\n    if (!this.checkIpfsConfig(config)) return false\n    const workspace = await this.call('filePanel', 'getCurrentWorkspace')\n    const files = await this.getDirectory('/')\n    this.filesToSend = []\n    for (const file of files) {\n      const c = window.remixFileSystem.readFileSync(`${workspace.absolutePath}/${file}`)\n      const ob = {\n        path: file,\n        content: c\n      }\n      this.filesToSend.push(ob)\n    }\n    const addOptions = {\n      wrapWithDirectory: true\n    }\n    const r = await this.ipfs.add(this.filesToSend, addOptions)\n    return r.cid.string\n  }\n\n  async pin (pinataApiKey, pinataSecretApiKey) {\n    const workspace = await this.call('filePanel', 'getCurrentWorkspace')\n    const files = await this.getDirectory('/')\n    this.filesToSend = []\n\n    const data = new FormData()\n    files.forEach(async (file) => {\n      const c = window.remixFileSystem.readFileSync(`${workspace.absolutePath}/${file}`)\n      data.append('file', new Blob([c]), `base/${file}`)\n    })\n    // get last commit data\n    let ob\n    try {\n      const commits = await this.log({ ref: 'HEAD' })\n      ob = {\n        ref: commits[0].oid,\n        message: commits[0].commit.message,\n        commits: JSON.stringify(commits.map((commit) => {\n          return {\n            oid: commit.oid,\n            commit: {\n              parent: commit.commit?.parent,\n              tree: commit.commit?.tree,\n              message: commit.commit?.message,\n              committer: {\n                timestamp: commit.commit?.committer?.timestamp\n              }\n            }\n          }\n        }))\n      }\n    } catch (e) {\n      ob = {\n        ref: 'no commits',\n        message: 'no commits'\n      }\n    }\n    const today = new Date()\n    const metadata = JSON.stringify({\n      name: `remix - ${workspace.name} - ${today.toLocaleString()}`,\n      keyvalues: ob\n    })\n    const pinataOptions = JSON.stringify({\n      wrapWithDirectory: false\n    })\n    data.append('pinataOptions', pinataOptions)\n    data.append('pinataMetadata', metadata)\n    const url = 'https://api.pinata.cloud/pinning/pinFileToIPFS'\n    try {\n      const result = await axios\n        .post(url, data, {\n          maxBodyLength: 'Infinity',\n          headers: {\n            'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\n            pinata_api_key: pinataApiKey,\n            pinata_secret_api_key: pinataSecretApiKey\n          }\n        })\n      // also commit to remix IPFS for availability after pinning to Pinata\n      return await this.export(this.remixIPFS) || result.data.IpfsHash\n    } catch (error) {\n      throw new Error(error)\n    }\n  }\n\n  async pinList (pinataApiKey, pinataSecretApiKey) {\n    const url = 'https://api.pinata.cloud/data/pinList?status=pinned'\n    try {\n      const result = await axios\n        .get(url, {\n          maxBodyLength: 'Infinity',\n          headers: {\n            pinata_api_key: pinataApiKey,\n            pinata_secret_api_key: pinataSecretApiKey\n          }\n        })\n      return result.data\n    } catch (error) {\n      throw new Error(error)\n    }\n  }\n\n  async unPin (pinataApiKey, pinataSecretApiKey, hashToUnpin) {\n    const url = `https://api.pinata.cloud/pinning/unpin/${hashToUnpin}`\n    try {\n      await axios\n        .delete(url, {\n          headers: {\n            pinata_api_key: pinataApiKey,\n            pinata_secret_api_key: pinataSecretApiKey\n          }\n        })\n      return true\n    } catch (error) {\n      throw new Error(error)\n    }\n  };\n\n  async importIPFSFiles (config, cid, workspace) {\n    const ipfs = IpfsHttpClient(config)\n    let result = false\n    try {\n      const data = ipfs.get(cid, { timeout: 60000 })\n      for await (const file of data) {\n        if (file.path) result = true\n        file.path = file.path.replace(cid, '')\n        if (!file.content) {\n          continue\n        }\n        const content = []\n        for await (const chunk of file.content) {\n          content.push(chunk)\n        }\n        const dir = path.dirname(file.path)\n        try {\n          this.createDirectories(`${workspace.absolutePath}/${dir}`)\n        } catch (e) { throw new Error(e) }\n        try {\n          window.remixFileSystem.writeFileSync(`${workspace.absolutePath}/${file.path}`, Buffer.concat(content) || new Uint8Array())\n        } catch (e) { throw new Error(e) }\n      }\n    } catch (e) {\n      throw new Error(e)\n    }\n    return result\n  }\n\n  calculateLocalStorage () {\n    var _lsTotal = 0\n    var _xLen; var _x\n    for (_x in localStorage) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (!localStorage.hasOwnProperty(_x)) {\n        continue\n      }\n      _xLen = ((localStorage[_x].length + _x.length) * 2)\n      _lsTotal += _xLen\n    };\n    return (_lsTotal / 1024).toFixed(2)\n  }\n\n  async import (cmd) {\n    const permission = await this.askUserPermission('import', 'Import multiple files into your workspaces.')\n    if (!permission) return false\n    if (this.calculateLocalStorage() > 10000) throw new Error('The local storage of the browser is full.')\n    const cid = cmd.cid\n    await this.call('filePanel', 'createWorkspace', `workspace_${Date.now()}`, true)\n    const workspace = await this.call('filePanel', 'getCurrentWorkspace')\n    let result\n    if (cmd.local) {\n      result = await this.importIPFSFiles(this.ipfsconfig, cid, workspace)\n    } else {\n      result = await this.importIPFSFiles(this.remixIPFS, cid, workspace) || await this.importIPFSFiles(this.ipfsconfig, cid, workspace) || await this.importIPFSFiles(this.globalIPFSConfig, cid, workspace)\n    }\n    await this.call('fileManager', 'refresh')\n    if (!result) throw new Error(`Cannot pull files from IPFS at ${cid}`)\n  }\n\n  async getItem (name) {\n    if (typeof window !== 'undefined') {\n      return window.localStorage.getItem(name)\n    }\n  }\n\n  async setItem (name, content) {\n    try {\n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(name, content)\n      }\n    } catch (e) {\n      console.log(e)\n      return false\n    }\n    return true\n  }\n\n  async zip () {\n    const zip = new JSZip()\n    const workspace = await this.call('filePanel', 'getCurrentWorkspace')\n    const files = await this.getDirectory('/')\n    this.filesToSend = []\n    for (const file of files) {\n      const c = window.remixFileSystem.readFileSync(`${workspace.absolutePath}/${file}`)\n      zip.file(file, c)\n    }\n    await zip.generateAsync({\n      type: 'blob'\n    })\n      .then(function (content) {\n        saveAs(content, `${workspace.name}.zip`)\n      })\n  }\n\n  async createDirectories (strdirectories) {\n    const ignore = ['.', '/.', '']\n    if (ignore.indexOf(strdirectories) > -1) return false\n    const directories = strdirectories.split('/')\n    for (let i = 0; i < directories.length; i++) {\n      let previouspath = ''\n      if (i > 0) previouspath = '/' + directories.slice(0, i).join('/')\n      const finalPath = previouspath + '/' + directories[i]\n      try {\n        if (!window.remixFileSystem.existsSync(finalPath)) {\n          window.remixFileSystem.mkdirSync(finalPath)\n        }\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  async getDirectory (dir) {\n    let result = []\n    const files = await this.call('fileManager', 'readdir', dir)\n    const fileArray = normalize(files)\n    for (const fi of fileArray) {\n      if (fi) {\n        const type = fi.data.isDirectory\n        if (type === true) {\n          result = [\n            ...result,\n            ...(await this.getDirectory(\n              `${fi.filename}`\n            ))\n          ]\n        } else {\n          result = [...result, fi.filename]\n        }\n      }\n    }\n    return result\n  }\n}\n\nconst normalize = (filesList) => {\n  const folders = []\n  const files = []\n  Object.keys(filesList || {}).forEach(key => {\n    if (filesList[key].isDirectory) {\n      folders.push({\n        filename: key,\n        data: filesList[key]\n      })\n    } else {\n      files.push({\n        filename: key,\n        data: filesList[key]\n      })\n    }\n  })\n  return [...folders, ...files]\n}\n\nmodule.exports = DGitProvider\n","'use strict'\n\nimport yo from 'yo-yo'\nimport async from 'async'\nimport { Plugin } from '@remixproject/engine'\nimport * as packageJson from '../../../../../package.json'\nconst EventEmitter = require('events')\nconst globalRegistry = require('../../global/registry')\nconst toaster = require('../ui/tooltip')\nconst modalDialogCustom = require('../ui/modal-dialog-custom')\nconst helper = require('../../lib/helper.js')\n\n/*\n  attach to files event (removed renamed)\n  trigger: currentFileChanged\n*/\n\nconst profile = {\n  name: 'fileManager',\n  displayName: 'File manager',\n  description: 'Service - read/write to any files or folders, require giving permissions',\n  icon: 'assets/img/fileManager.webp',\n  permission: true,\n  version: packageJson.version,\n  methods: ['closeAllFiles', 'closeFile', 'file', 'exists', 'open', 'writeFile', 'readFile', 'copyFile', 'copyDir', 'rename', 'mkdir', 'readdir', 'remove', 'getCurrentFile', 'getFile', 'getFolder', 'setFile', 'switchFile', 'refresh', 'getProviderOf', 'getProviderByName', 'getPathFromUrl', 'getUrlFromPath', 'saveCurrentFile'],\n  kind: 'file-system'\n}\nconst errorMsg = {\n  ENOENT: 'No such file or directory',\n  EISDIR: 'Path is a directory',\n  ENOTDIR: 'Path is not on a directory',\n  EEXIST: 'File already exists',\n  EPERM: 'Permission denied'\n}\nconst createError = (err) => {\n  return new Error(`${errorMsg[err.code]} ${err.message || ''}`)\n}\n\nclass FileManager extends Plugin {\n  constructor (editor, appManager) {\n    super(profile)\n    this.mode = 'browser'\n    this.openedFiles = {} // list all opened files\n    this.events = new EventEmitter()\n    this.editor = editor\n    this._components = {}\n    this._components.registry = globalRegistry\n    this.appManager = appManager\n    this.init()\n  }\n\n  getOpenedFiles () {\n    return this.openedFiles\n  }\n\n  setMode (mode) {\n    this.mode = mode\n  }\n\n  limitPluginScope (path) {\n    return path.replace(/^\\/browser\\//, '').replace(/^browser\\//, '') // forbids plugin to access the root filesystem\n  }\n\n  normalize (path) {\n    return path.replace(/^\\/+/, '')\n  }\n\n  /**\n   * Emit error if path doesn't exist\n   * @param {string} path path of the file/directory\n   * @param {string} message message to display if path doesn't exist.\n   */\n  async _handleExists (path, message) {\n    const exists = await this.exists(path)\n\n    if (!exists) {\n      throw createError({ code: 'ENOENT', message })\n    }\n  }\n\n  /**\n   * Emit error if path is not a file\n   * @param {string} path path of the file/directory\n   * @param {string} message message to display if path is not a file.\n   */\n  async _handleIsFile (path, message) {\n    const isFile = await this.isFile(path)\n\n    if (!isFile) {\n      throw createError({ code: 'EISDIR', message })\n    }\n  }\n\n  /**\n   * Emit error if path is not a directory\n   * @param {string} path path of the file/directory\n   * @param {string} message message to display if path is not a directory.\n   */\n  async _handleIsDir (path, message) {\n    const isDir = await this.isDirectory(path)\n\n    if (!isDir) {\n      throw createError({ code: 'ENOTDIR', message })\n    }\n  }\n\n  /** The current opened file */\n  file () {\n    try {\n      const file = this.currentFile()\n\n      if (!file) throw createError({ code: 'ENOENT', message: 'No file selected' })\n      return file\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Verify if the path exists (directory or file)\n   * @param {string} path path of the directory or file\n   * @returns {boolean} true if the path exists\n   */\n  exists (path) {\n    try {\n      path = this.normalize(path)\n      path = this.limitPluginScope(path)\n      const provider = this.fileProviderOf(path)\n      const result = provider.exists(path)\n\n      return result\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /*\n  * refresh the file explorer\n  */\n  refresh () {\n    const provider = this.fileProviderOf('/')\n    // emit rootFolderChanged so that File Explorer reloads the file tree\n    provider.event.emit('rootFolderChanged', provider.workspace || '/')\n    this.emit('rootFolderChanged', provider.workspace || '/')\n  }\n\n  /**\n   * Verify if the path provided is a file\n   * @param {string} path path of the directory or file\n   * @returns {boolean} true if path is a file.\n   */\n  isFile (path) {\n    const provider = this.fileProviderOf(path)\n    const result = provider.isFile(path)\n\n    return result\n  }\n\n  /**\n   * Verify if the path provided is a directory\n   * @param {string} path path of the directory\n   * @returns {boolean} true if path is a directory.\n   */\n  async isDirectory (path) {\n    const provider = this.fileProviderOf(path)\n    const result = await provider.isDirectory(path)\n\n    return result\n  }\n\n  /**\n   * Open the content of the file in the context (eg: Editor)\n   * @param {string} path path of the file\n   * @returns {void}\n   */\n  async open (path) {\n    path = this.normalize(path)\n    path = this.limitPluginScope(path)\n    path = this.getPathFromUrl(path).file\n    await this._handleExists(path, `Cannot open file ${path}`)\n    await this._handleIsFile(path, `Cannot open file ${path}`)\n    await this.openFile(path)\n  }\n\n  /**\n   * Set the content of a specific file\n   * @param {string} path path of the file\n   * @param {string} data content to write on the file\n   * @returns {void}\n   */\n  async writeFile (path, data) {\n    try {\n      path = this.normalize(path)\n      path = this.limitPluginScope(path)\n      if (await this.exists(path)) {\n        await this._handleIsFile(path, `Cannot write file ${path}`)\n        return await this.setFileContent(path, data)\n      } else {\n        const ret = await this.setFileContent(path, data)\n        this.emit('fileAdded', path)\n        return ret\n      }\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Return the content of a specific file\n   * @param {string} path path of the file\n   * @returns {string} content of the file\n   */\n  async readFile (path) {\n    try {\n      path = this.normalize(path)\n      path = this.limitPluginScope(path)\n      await this._handleExists(path, `Cannot read file ${path}`)\n      await this._handleIsFile(path, `Cannot read file ${path}`)\n      return this.getFileContent(path)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Upsert a file with the content of the source file\n   * @param {string} src path of the source file\n   * @param {string} dest path of the destrination file\n   * @returns {void}\n   */\n  async copyFile (src, dest, customName) {\n    try {\n      src = this.normalize(src)\n      dest = this.normalize(dest)\n      src = this.limitPluginScope(src)\n      dest = this.limitPluginScope(dest)\n      await this._handleExists(src, `Cannot copy from ${src}. Path does not exist.`)\n      await this._handleIsFile(src, `Cannot copy from ${src}. Path is not a file.`)\n      await this._handleExists(dest, `Cannot paste content into ${dest}. Path does not exist.`)\n      await this._handleIsDir(dest, `Cannot paste content into ${dest}. Path is not directory.`)\n      const content = await this.readFile(src)\n      let copiedFilePath = dest + (customName ? '/' + customName : '/' + `Copy_${helper.extractNameFromKey(src)}`)\n      copiedFilePath = await helper.createNonClashingNameAsync(copiedFilePath, this)\n\n      await this.writeFile(copiedFilePath, content)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Upsert a directory with the content of the source directory\n   * @param {string} src path of the source dir\n   * @param {string} dest path of the destination dir\n   * @returns {void}\n   */\n  async copyDir (src, dest) {\n    try {\n      src = this.normalize(src)\n      dest = this.normalize(dest)\n      src = this.limitPluginScope(src)\n      dest = this.limitPluginScope(dest)\n      await this._handleExists(src, `Cannot copy from ${src}. Path does not exist.`)\n      await this._handleIsDir(src, `Cannot copy from ${src}. Path is not a directory.`)\n      await this._handleExists(dest, `Cannot paste content into ${dest}. Path does not exist.`)\n      await this._handleIsDir(dest, `Cannot paste content into ${dest}. Path is not directory.`)\n      await this.inDepthCopy(src, dest)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  async inDepthCopy (src, dest, count = 0) {\n    const content = await this.readdir(src)\n    let copiedFolderPath = count === 0 ? dest + '/' + `Copy_${helper.extractNameFromKey(src)}` : dest + '/' + helper.extractNameFromKey(src)\n    copiedFolderPath = await helper.createNonClashingDirNameAsync(copiedFolderPath, this)\n\n    await this.mkdir(copiedFolderPath)\n\n    for (const [key, value] of Object.entries(content)) {\n      if (!value.isDirectory) {\n        await this.copyFile(key, copiedFolderPath, helper.extractNameFromKey(key))\n      } else {\n        await this.inDepthCopy(key, copiedFolderPath, count + 1)\n      }\n    }\n  }\n\n  /**\n   * Change the path of a file/directory\n   * @param {string} oldPath current path of the file/directory\n   * @param {string} newPath new path of the file/directory\n   * @returns {void}\n   */\n  async rename (oldPath, newPath) {\n    try {\n      oldPath = this.normalize(oldPath)\n      newPath = this.normalize(newPath)\n      oldPath = this.limitPluginScope(oldPath)\n      newPath = this.limitPluginScope(newPath)\n      await this._handleExists(oldPath, `Cannot rename ${oldPath}`)\n      const isFile = await this.isFile(oldPath)\n      const newPathExists = await this.exists(newPath)\n      const provider = this.fileProviderOf(oldPath)\n\n      if (isFile) {\n        if (newPathExists) {\n          modalDialogCustom.alert('File already exists.')\n          return\n        }\n        return provider.rename(oldPath, newPath, false)\n      } else {\n        if (newPathExists) {\n          modalDialogCustom.alert('Folder already exists.')\n          return\n        }\n        return provider.rename(oldPath, newPath, true)\n      }\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Create a directory\n   * @param {string} path path of the new directory\n   * @returns {void}\n   */\n  async mkdir (path) {\n    try {\n      path = this.normalize(path)\n      path = this.limitPluginScope(path)\n      if (await this.exists(path)) {\n        throw createError({ code: 'EEXIST', message: `Cannot create directory ${path}` })\n      }\n      const provider = this.fileProviderOf(path)\n\n      return provider.createDir(path)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Get the list of files in the directory\n   * @param {string} path path of the directory\n   * @returns {string[]} list of the file/directory name in this directory\n   */\n  async readdir (path) {\n    try {\n      path = this.normalize(path)\n      path = this.limitPluginScope(path)\n      await this._handleExists(path)\n      await this._handleIsDir(path)\n\n      return new Promise((resolve, reject) => {\n        const provider = this.fileProviderOf(path)\n\n        provider.resolveDirectory(path, (error, filesProvider) => {\n          if (error) reject(error)\n          resolve(filesProvider)\n        })\n      })\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  /**\n   * Removes a file or directory recursively\n   * @param {string} path path of the directory/file to remove\n   * @returns {void}\n   */\n  async remove (path) {\n    try {\n      path = this.normalize(path)\n      path = this.limitPluginScope(path)\n      await this._handleExists(path, `Cannot remove file or directory ${path}`)\n      const provider = this.fileProviderOf(path)\n      return await provider.remove(path)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n\n  init () {\n    this._deps = {\n      config: this._components.registry.get('config').api,\n      browserExplorer: this._components.registry.get('fileproviders/browser').api,\n      localhostExplorer: this._components.registry.get('fileproviders/localhost').api,\n      workspaceExplorer: this._components.registry.get('fileproviders/workspace').api,\n      filesProviders: this._components.registry.get('fileproviders').api\n    }\n    this._deps.browserExplorer.event.on('fileChanged', (path) => { this.fileChangedEvent(path) })\n    this._deps.browserExplorer.event.on('fileRenamed', (oldName, newName, isFolder) => { this.fileRenamedEvent(oldName, newName, isFolder) })\n    this._deps.localhostExplorer.event.on('fileRenamed', (oldName, newName, isFolder) => { this.fileRenamedEvent(oldName, newName, isFolder) })\n    this._deps.browserExplorer.event.on('fileRemoved', (path) => { this.fileRemovedEvent(path) })\n    this._deps.browserExplorer.event.on('fileAdded', (path) => { this.fileAddedEvent(path) })\n    this._deps.localhostExplorer.event.on('fileRemoved', (path) => { this.fileRemovedEvent(path) })\n    this._deps.localhostExplorer.event.on('errored', (event) => { this.removeTabsOf(this._deps.localhostExplorer) })\n    this._deps.localhostExplorer.event.on('closed', (event) => { this.removeTabsOf(this._deps.localhostExplorer) })\n    this._deps.workspaceExplorer.event.on('fileChanged', (path) => { this.fileChangedEvent(path) })\n    this._deps.workspaceExplorer.event.on('fileRenamed', (oldName, newName, isFolder) => { this.fileRenamedEvent(oldName, newName, isFolder) })\n    this._deps.workspaceExplorer.event.on('fileRemoved', (path) => { this.fileRemovedEvent(path) })\n    this._deps.workspaceExplorer.event.on('fileAdded', (path) => { this.fileAddedEvent(path) })\n\n    this.getCurrentFile = this.file\n    this.getFile = this.readFile\n    this.getFolder = this.readdir\n    this.setFile = this.writeFile\n    this.switchFile = this.open\n  }\n\n  fileAddedEvent (path) {\n    this.emit('fileAdded', path)\n  }\n\n  fileChangedEvent (path) {\n    this.emit('fileChanged', path)\n  }\n\n  fileRenamedEvent (oldName, newName, isFolder) {\n    if (!isFolder) {\n      this._deps.config.set('currentFile', '')\n      this.editor.discard(oldName)\n      if (this.openedFiles[oldName]) {\n        delete this.openedFiles[oldName]\n        this.openedFiles[newName] = newName\n      }\n      this.openFile(newName)\n    } else {\n      for (var k in this.openedFiles) {\n        if (k.indexOf(oldName + '/') === 0) {\n          var newAbsolutePath = k.replace(oldName, newName)\n          this.openedFiles[newAbsolutePath] = newAbsolutePath\n          delete this.openedFiles[k]\n          if (this._deps.config.get('currentFile') === k) {\n            this._deps.config.set('currentFile', '')\n          }\n        }\n      }\n    }\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('fileRenamed', oldName, newName, isFolder)\n    this.events.emit('fileRenamed', oldName, newName, isFolder)\n  }\n\n  currentFileProvider () {\n    var path = this.currentPath()\n    if (path) {\n      return this.fileProviderOf(path)\n    }\n    return null\n  }\n\n  currentFile () {\n    return this._deps.config.get('currentFile')\n  }\n\n  async closeAllFiles () {\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('filesAllClosed')\n    this.events.emit('filesAllClosed')\n    for (const file in this.openedFiles) {\n      this.closeFile(file)\n    }\n  }\n\n  async closeFile (name) {\n    delete this.openedFiles[name]\n    if (!Object.keys(this.openedFiles).length) {\n      this._deps.config.set('currentFile', '')\n      // TODO: Only keep `this.emit` (issue#2210)\n      this.emit('noFileSelected')\n      this.events.emit('noFileSelected')\n    }\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('fileClosed', name)\n    this.events.emit('fileClosed', name)\n  }\n\n  currentPath () {\n    var currentFile = this._deps.config.get('currentFile')\n    return this.extractPathOf(currentFile)\n  }\n\n  extractPathOf (file) {\n    var reg = /(.*)(\\/).*/\n    var path = reg.exec(file)\n    return path ? path[1] : '/'\n  }\n\n  getFileContent (path) {\n    const provider = this.fileProviderOf(path)\n\n    if (!provider) throw createError({ code: 'ENOENT', message: `${path} not available` })\n    // TODO: change provider to Promise\n    return new Promise((resolve, reject) => {\n      if (this.currentFile() === path) return resolve(this.editor.currentContent())\n      provider.get(path, (err, content) => {\n        if (err) reject(err)\n        resolve(content)\n      })\n    })\n  }\n\n  async setFileContent (path, content) {\n    if (this.currentRequest) {\n      const canCall = await this.askUserPermission('writeFile', '')\n      const required = this.appManager.isRequired(this.currentRequest.from)\n      if (canCall && !required) {\n        // inform the user about modification after permission is granted and even if permission was saved before\n        toaster(yo`\n          <div>\n            <i class=\"fas fa-exclamation-triangle text-danger mr-1\"></i>\n            <span>\n              ${this.currentRequest.from}\n              <span class=\"font-weight-bold text-warning\">\n                is modifying \n              </span>${path}\n            </span>\n          </div>\n        `, '', { time: 3000 })\n      }\n    }\n    return await this._setFileInternal(path, content)\n  }\n\n  _setFileInternal (path, content) {\n    const provider = this.fileProviderOf(path)\n    if (!provider) throw createError({ code: 'ENOENT', message: `${path} not available` })\n    // TODO : Add permission\n    // TODO : Change Provider to Promise\n    return new Promise((resolve, reject) => {\n      provider.set(path, content, (error) => {\n        if (error) reject(error)\n        this.syncEditor(path)\n        this.emit('fileSaved', path)\n        resolve(true)\n      })\n    })\n  }\n\n  _saveAsCopy (path, content) {\n    const fileProvider = this.fileProviderOf(path)\n    if (fileProvider) {\n      helper.createNonClashingNameWithPrefix(path, fileProvider, '', (error, copyName) => {\n        if (error) {\n          copyName = path + '.' + this.currentRequest.from\n        }\n        this._setFileInternal(copyName, content)\n        this.openFile(copyName)\n      })\n    }\n  }\n\n  /**\n   * Try to resolve the given file path (the actual path in the file system)\n   * e.g if it's specified a github link, npm library, or any external content,\n   * it returns the actual path where the content can be found.\n   * @param {string} file url we are trying to resolve\n   * @returns {{ string, provider }} file path resolved and its provider.\n   */\n  getPathFromUrl (file) {\n    const provider = this.fileProviderOf(file)\n    if (!provider) throw new Error(`no provider for ${file}`)\n    return {\n      file: provider.getPathFromUrl(file) || file, // in case an external URL is given as input, we resolve it to the right internal path\n      provider\n    }\n  }\n\n  /**\n   * Try to resolve the given file URl. opposite of getPathFromUrl\n   * @param {string} file path we are trying to resolve\n   * @returns {{ string, provider }} file url resolved and its provider.\n   */\n  getUrlFromPath (file) {\n    const provider = this.fileProviderOf(file)\n    if (!provider) throw new Error(`no provider for ${file}`)\n    return {\n      file: provider.getUrlFromPath(file) || file, // in case an external URL is given as input, we resolve it to the right internal path\n      provider\n    }\n  }\n\n  removeTabsOf (provider) {\n    for (var tab in this.openedFiles) {\n      if (this.fileProviderOf(tab).type === provider.type) {\n        this.fileRemovedEvent(tab)\n      }\n    }\n  }\n\n  fileRemovedEvent (path) {\n    if (path === this._deps.config.get('currentFile')) {\n      this._deps.config.set('currentFile', '')\n    }\n    this.editor.discard(path)\n    delete this.openedFiles[path]\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('fileRemoved', path)\n    this.events.emit('fileRemoved', path)\n    this.openFile()\n  }\n\n  unselectCurrentFile () {\n    this.saveCurrentFile()\n    this._deps.config.set('currentFile', '')\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('noFileSelected')\n    this.events.emit('noFileSelected')\n  }\n\n  async openFile (file) {\n    if (!file) {\n      this.emit('noFileSelected')\n      this.events.emit('noFileSelected')\n    } else {\n      file = this.normalize(file)\n      this.saveCurrentFile()\n      const resolved = this.getPathFromUrl(file)\n      file = resolved.file\n      const provider = resolved.provider\n      this._deps.config.set('currentFile', file)\n      this.openedFiles[file] = file\n      await (() => {\n        return new Promise((resolve, reject) => {\n          provider.get(file, (error, content) => {\n            if (error) {\n              console.log(error)\n              reject(error)\n            } else {\n              if (provider.isReadOnly(file)) {\n                this.editor.openReadOnly(file, content)\n              } else {\n                this.editor.open(file, content)\n              }\n              // TODO: Only keep `this.emit` (issue#2210)\n              this.emit('currentFileChanged', file)\n              this.events.emit('currentFileChanged', file)\n              resolve()\n            }\n          })\n        })\n      })()\n    }\n  }\n\n  /**\n  * Async API method getProviderOf\n  * @param {string} file\n  *\n  */\n\n  async getProviderOf (file) {\n    const cancall = await this.askUserPermission('getProviderByName')\n    if (cancall) {\n      return file ? this.fileProviderOf(file) : this.currentFileProvider()\n    }\n  }\n\n  /**\n  * Async API method getProviderByName\n  * @param {string} name\n  *\n  */\n\n  async getProviderByName (name) {\n    const cancall = await this.askUserPermission('getProviderByName')\n    if (cancall) {\n      return this.getProvider(name)\n    }\n  }\n\n  getProvider (name) {\n    return this._deps.filesProviders[name]\n  }\n\n  fileProviderOf (file) {\n    if (file.startsWith('localhost') || this.mode === 'localhost') {\n      return this._deps.filesProviders.localhost\n    }\n    if (file.startsWith('browser')) {\n      return this._deps.filesProviders.browser\n    }\n    return this._deps.filesProviders.workspace\n  }\n\n  // returns the list of directories inside path\n  dirList (path) {\n    const dirPaths = []\n    const collectList = (path) => {\n      return new Promise((resolve, reject) => {\n        this.readdir(path).then((ls) => {\n          const promises = Object.keys(ls).map((item, index) => {\n            if (ls[item].isDirectory && !dirPaths.includes(item)) {\n              dirPaths.push(item)\n              resolve(dirPaths)\n            }\n            return new Promise((resolve, reject) => { resolve() })\n          })\n          Promise.all(promises).then(() => { resolve(dirPaths) })\n        })\n      })\n    }\n    return collectList(path)\n  }\n\n  isRemixDActive () {\n    return this.appManager.isActive('remixd')\n  }\n\n  saveCurrentFile () {\n    var currentFile = this._deps.config.get('currentFile')\n    if (currentFile && this.editor.current()) {\n      var input = this.editor.get(currentFile)\n      if ((input !== null) && (input !== undefined)) {\n        var provider = this.fileProviderOf(currentFile)\n        if (provider) {\n          provider.set(currentFile, input)\n          this.emit('fileSaved', currentFile)\n        } else {\n          console.log('cannot save ' + currentFile + '. Does not belong to any explorer')\n        }\n      }\n    }\n  }\n\n  syncEditor (path) {\n    var currentFile = this._deps.config.get('currentFile')\n    if (path !== currentFile) return\n    var provider = this.fileProviderOf(currentFile)\n    if (provider) {\n      provider.get(currentFile, (error, content) => {\n        if (error) console.log(error)\n        this.editor.setText(content)\n      })\n    } else {\n      console.log('cannot save ' + currentFile + '. Does not belong to any explorer')\n    }\n  }\n\n  setBatchFiles (filesSet, fileProvider, override, callback) {\n    const self = this\n    if (!fileProvider) fileProvider = 'browser'\n    if (override === undefined) override = false\n\n    async.each(Object.keys(filesSet), (file, callback) => {\n      if (override) {\n        try {\n          self._deps.filesProviders[fileProvider].set(file, filesSet[file].content)\n        } catch (e) {\n          return callback(e.message || e)\n        }\n        self.syncEditor(fileProvider + file)\n        return callback()\n      }\n\n      helper.createNonClashingName(file, self._deps.filesProviders[fileProvider],\n        (error, name) => {\n          if (error) {\n            modalDialogCustom.alert('Unexpected error loading the file ' + error)\n          } else if (helper.checkSpecialChars(name)) {\n            modalDialogCustom.alert('Special characters are not allowed')\n          } else {\n            try {\n              self._deps.filesProviders[fileProvider].set(name, filesSet[file].content)\n            } catch (e) {\n              return callback(e.message || e)\n            }\n            self.syncEditor(fileProvider + name)\n          }\n          callback()\n        })\n    }, (error) => {\n      if (callback) callback(error)\n    })\n  }\n\n  currentWorkspace () {\n    if (this.mode !== 'localhost') {\n      const file = this.currentFile() || ''\n      const provider = this.fileProviderOf(file)\n\n      return provider.workspace\n    }\n  }\n}\n\nmodule.exports = FileManager\n","'use strict'\n\nimport { CompilerImports } from '@remix-project/core-plugin'\nconst EventManager = require('events')\nconst modalDialogCustom = require('../ui/modal-dialog-custom')\nconst tooltip = require('../ui/tooltip')\nconst remixLib = require('@remix-project/remix-lib')\nconst Storage = remixLib.Storage\n\nclass FileProvider {\n  constructor (name) {\n    this.event = new EventManager()\n    this.type = name\n    this.providerExternalsStorage = new Storage('providerExternals:')\n    this.externalFolders = [this.type + '/swarm', this.type + '/ipfs', this.type + '/github', this.type + '/gists', this.type + '/https']\n    this.reverseKey = this.type + '-reverse-'\n  }\n\n  addNormalizedName (path, url) {\n    if (this.type) path = this.type + '/' + path\n    this.providerExternalsStorage.set(path, url)\n    this.providerExternalsStorage.set(this.reverseKey + url, path)\n  }\n\n  removeNormalizedName (path) {\n    const value = this.providerExternalsStorage.get(path)\n    this.providerExternalsStorage.remove(path)\n    this.providerExternalsStorage.remove(this.reverseKey + value)\n  }\n\n  normalizedNameExists (path) {\n    return this.providerExternalsStorage.exists(path)\n  }\n\n  getNormalizedName (path) {\n    return this.providerExternalsStorage.get(path)\n  }\n\n  getPathFromUrl (url) {\n    return this.providerExternalsStorage.get(this.reverseKey + url)\n  }\n\n  getUrlFromPath (path) {\n    if (!path.startsWith(this.type)) path = this.type + '/' + path\n    return this.providerExternalsStorage.get(path)\n  }\n\n  isExternalFolder (path) {\n    return this.externalFolders.includes(path)\n  }\n\n  discardChanges (path) {\n    this.remove(path)\n    const compilerImport = new CompilerImports()\n    this.providerExternalsStorage.keys().map(value => {\n      if (value.indexOf(path) === 0) {\n        compilerImport.import(\n          this.getNormalizedName(value),\n          true,\n          (loadingMsg) => { tooltip(loadingMsg) },\n          (error, content, cleanUrl, type, url) => {\n            if (error) {\n              modalDialogCustom.alert(error)\n            } else {\n              this.addExternal(type + '/' + cleanUrl, content, url)\n            }\n          }\n        )\n      }\n    })\n  }\n\n  async exists (path) {\n    // todo check the type (directory/file) as well #2386\n    // currently it is not possible to have a file and folder with same path\n    const ret = this._exists(path)\n\n    return ret\n  }\n\n  _exists (path) {\n    path = this.getPathFromUrl(path) || path // ensure we actually use the normalized path from here\n    var unprefixedpath = this.removePrefix(path)\n    return path === this.type ? true : window.remixFileSystem.existsSync(unprefixedpath)\n  }\n\n  init (cb) {\n    cb()\n  }\n\n  get (path, cb) {\n    cb = cb || function () {}\n    path = this.getPathFromUrl(path) || path // ensure we actually use the normalized path from here\n    var unprefixedpath = this.removePrefix(path)\n    var exists = window.remixFileSystem.existsSync(unprefixedpath)\n    if (!exists) return cb(null, null)\n    window.remixFileSystem.readFile(unprefixedpath, 'utf8', (err, content) => {\n      cb(err, content)\n    })\n  }\n\n  set (path, content, cb) {\n    cb = cb || function () {}\n    var unprefixedpath = this.removePrefix(path)\n    var exists = window.remixFileSystem.existsSync(unprefixedpath)\n    if (exists && window.remixFileSystem.readFileSync(unprefixedpath, 'utf8') === content) {\n      cb()\n      return true\n    }\n    if (!exists && unprefixedpath.indexOf('/') !== -1) {\n      // the last element is the filename and we should remove it\n      this.createDir(path.substr(0, path.lastIndexOf('/')))\n    }\n    try {\n      window.remixFileSystem.writeFileSync(unprefixedpath, content)\n    } catch (e) {\n      cb(e)\n      return false\n    }\n    if (!exists) {\n      this.event.emit('fileAdded', this._normalizePath(unprefixedpath), false)\n    } else {\n      this.event.emit('fileChanged', this._normalizePath(unprefixedpath))\n    }\n    cb()\n    return true\n  }\n\n  createDir (path, cb) {\n    const unprefixedpath = this.removePrefix(path)\n    const paths = unprefixedpath.split('/')\n    if (paths.length && paths[0] === '') paths.shift()\n    let currentCheck = ''\n    paths.forEach((value) => {\n      currentCheck = currentCheck + '/' + value\n      if (!window.remixFileSystem.existsSync(currentCheck)) {\n        window.remixFileSystem.mkdirSync(currentCheck)\n        this.event.emit('folderAdded', this._normalizePath(currentCheck))\n      }\n    })\n    if (cb) cb()\n  }\n\n  // this will not add a folder as readonly but keep the original url to be able to restore it later\n  addExternal (path, content, url) {\n    if (url) this.addNormalizedName(path, url)\n    return this.set(path, content)\n  }\n\n  isReadOnly (path) {\n    return false\n  }\n\n  isDirectory (path) {\n    const unprefixedpath = this.removePrefix(path)\n\n    return path === this.type ? true : window.remixFileSystem.statSync(unprefixedpath).isDirectory()\n  }\n\n  isFile (path) {\n    path = this.getPathFromUrl(path) || path // ensure we actually use the normalized path from here\n    path = this.removePrefix(path)\n    return window.remixFileSystem.statSync(path).isFile()\n  }\n\n  /**\n   * Removes the folder recursively\n   * @param {*} path is the folder to be removed\n   */\n  remove (path) {\n    return new Promise((resolve, reject) => {\n      path = this.removePrefix(path)\n      if (window.remixFileSystem.existsSync(path)) {\n        const stat = window.remixFileSystem.statSync(path)\n        try {\n          if (!stat.isDirectory()) {\n            resolve(this.removeFile(path))\n          } else {\n            const items = window.remixFileSystem.readdirSync(path)\n            if (items.length !== 0) {\n              items.forEach((item, index) => {\n                const curPath = `${path}${path.endsWith('/') ? '' : '/'}${item}`\n                if (window.remixFileSystem.statSync(curPath).isDirectory()) { // delete folder\n                  this.remove(curPath)\n                } else { // delete file\n                  this.removeFile(curPath)\n                }\n              })\n              if (window.remixFileSystem.readdirSync(path).length === 0) window.remixFileSystem.rmdirSync(path, console.log)\n            } else {\n              // folder is empty\n              window.remixFileSystem.rmdirSync(path, console.log)\n            }\n            this.event.emit('fileRemoved', this._normalizePath(path))\n          }\n        } catch (e) {\n          console.log(e)\n          return resolve(false)\n        }\n      }\n      return resolve(true)\n    })\n  }\n\n  /**\n   * copy the folder recursively (internal use)\n   * @param {string} path is the folder to be copied over\n   * @param {Function} visitFile is a function called for each visited files\n   * @param {Function} visitFolder is a function called for each visited folders\n   */\n  _copyFolderToJsonInternal (path, visitFile, visitFolder) {\n    visitFile = visitFile || (() => {})\n    visitFolder = visitFolder || (() => {})\n    return new Promise((resolve, reject) => {\n      const json = {}\n      path = this.removePrefix(path)\n      if (window.remixFileSystem.existsSync(path)) {\n        try {\n          const items = window.remixFileSystem.readdirSync(path)\n          visitFolder({ path })\n          if (items.length !== 0) {\n            items.forEach(async (item, index) => {\n              const file = {}\n              const curPath = `${path}${path.endsWith('/') ? '' : '/'}${item}`\n              if (window.remixFileSystem.statSync(curPath).isDirectory()) {\n                file.children = await this._copyFolderToJsonInternal(curPath, visitFile, visitFolder)\n              } else {\n                file.content = window.remixFileSystem.readFileSync(curPath, 'utf8')\n                visitFile({ path: curPath, content: file.content })\n              }\n              json[curPath] = file\n            })\n          }\n        } catch (e) {\n          console.log(e)\n          return reject(e)\n        }\n      }\n      return resolve(json)\n    })\n  }\n\n  /**\n   * copy the folder recursively\n   * @param {string} path is the folder to be copied over\n   * @param {Function} visitFile is a function called for each visited files\n   * @param {Function} visitFolder is a function called for each visited folders\n   */\n  copyFolderToJson (path, visitFile, visitFolder) {\n    visitFile = visitFile || (() => {})\n    visitFolder = visitFolder || (() => {})\n    return this._copyFolderToJsonInternal(path, visitFile, visitFolder)\n  }\n\n  removeFile (path) {\n    path = this.removePrefix(path)\n    if (window.remixFileSystem.existsSync(path) && !window.remixFileSystem.statSync(path).isDirectory()) {\n      window.remixFileSystem.unlinkSync(path, console.log)\n      this.event.emit('fileRemoved', this._normalizePath(path))\n      return true\n    } else return false\n  }\n\n  rename (oldPath, newPath, isFolder) {\n    var unprefixedoldPath = this.removePrefix(oldPath)\n    var unprefixednewPath = this.removePrefix(newPath)\n    if (this._exists(unprefixedoldPath)) {\n      window.remixFileSystem.renameSync(unprefixedoldPath, unprefixednewPath)\n      this.event.emit('fileRenamed',\n        this._normalizePath(unprefixedoldPath),\n        this._normalizePath(unprefixednewPath),\n        isFolder\n      )\n      return true\n    }\n    return false\n  }\n\n  resolveDirectory (path, callback) {\n    path = this.removePrefix(path)\n    if (path.indexOf('/') !== 0) path = '/' + path\n\n    window.remixFileSystem.readdir(path, (error, files) => {\n      var ret = {}\n\n      if (files) {\n        files.forEach(element => {\n          path = path.replace(/^\\/|\\/$/g, '') // remove first and last slash\n          element = element.replace(/^\\/|\\/$/g, '') // remove first and last slash\n          const absPath = (path === '/' ? '' : path) + '/' + element\n          ret[absPath.indexOf('/') === 0 ? absPath.substr(1, absPath.length) : absPath] = { isDirectory: window.remixFileSystem.statSync(absPath).isDirectory() }\n          // ^ ret does not accept path starting with '/'\n        })\n      }\n      callback(error, ret)\n    })\n  }\n\n  removePrefix (path) {\n    path = path.indexOf(this.type) === 0 ? path.replace(this.type, '') : path\n    if (path === '') return '/'\n    return path\n  }\n\n  _normalizePath (path) {\n    return this.type + path\n  }\n}\n\nmodule.exports = FileProvider\n","import { WebsocketPlugin } from '@remixproject/engine-web'\nimport * as packageJson from '../../../../../package.json'\n\nconst profile = {\n  name: 'git',\n  displayName: 'Git',\n  url: 'ws://127.0.0.1:65521',\n  methods: ['execute'],\n  description: 'Using Remixd daemon, allow to access git API',\n  kind: 'other',\n  version: packageJson.version\n}\n\nexport class GitHandle extends WebsocketPlugin {\n  constructor () {\n    super(profile)\n  }\n}\n","import { WebsocketPlugin } from '@remixproject/engine-web'\nimport * as packageJson from '../../../../../package.json'\n\nconst profile = {\n  name: 'hardhat',\n  displayName: 'Hardhat',\n  url: 'ws://127.0.0.1:65522',\n  methods: ['compile'],\n  description: 'Using Remixd daemon, allow to access hardhat API',\n  kind: 'other',\n  version: packageJson.version\n}\n\nexport class HardhatHandle extends WebsocketPlugin {\n  constructor () {\n    super(profile)\n  }\n}\n","'use strict'\nconst FileProvider = require('./fileProvider')\n\nmodule.exports = class RemixDProvider extends FileProvider {\n  constructor (appManager) {\n    super('localhost')\n    this._appManager = appManager\n    this.error = { EEXIST: 'File already exists' }\n    this._isReady = false\n    this._readOnlyFiles = {}\n    this._readOnlyMode = false\n    this.filesContent = {}\n    this.files = {}\n  }\n\n  _registerEvent () {\n    var remixdEvents = ['connecting', 'connected', 'errored', 'closed']\n    remixdEvents.forEach((event) => {\n      this._appManager.on('remixd', event, (value) => {\n        this.event.emit(event, value)\n      })\n    })\n\n    this._appManager.on('remixd', 'folderAdded', (path) => {\n      this.event.emit('folderAdded', path)\n    })\n\n    this._appManager.on('remixd', 'fileAdded', (path) => {\n      this.event.emit('fileAdded', path)\n    })\n\n    this._appManager.on('remixd', 'fileChanged', (path) => {\n      this.event.emit('fileChanged', path)\n    })\n\n    this._appManager.on('remixd', 'fileRemoved', (path) => {\n      this.event.emit('fileRemoved', path)\n    })\n\n    this._appManager.on('remixd', 'fileRenamed', (oldPath, newPath) => {\n      this.event.emit('fileRenamed', oldPath, newPath)\n    })\n\n    this._appManager.on('remixd', 'rootFolderChanged', (path) => {\n      this.event.emit('rootFolderChanged', path)\n    })\n\n    this._appManager.on('remixd', 'removed', (path) => {\n      this.event.emit('fileRemoved', path)\n    })\n\n    this._appManager.on('remixd', 'changed', (path) => {\n      this.get(path, (_error, content) => {\n        this.event.emit('fileExternallyChanged', path, content)\n      })\n    })\n  }\n\n  isConnected () {\n    return this._isReady\n  }\n\n  close (cb) {\n    this._isReady = false\n    cb()\n    this.event.emit('disconnected')\n  }\n\n  preInit () {\n    this.event.emit('loadingLocalhost')\n  }\n\n  init (cb) {\n    if (this._isReady) return cb && cb()\n    this._appManager.call('remixd', 'folderIsReadOnly', {})\n      .then((result) => {\n        this._isReady = true\n        this._readOnlyMode = result\n        this.event.emit('readOnlyModeChanged', result)\n        this._registerEvent()\n        this.event.emit('connected')\n        cb && cb()\n      }).catch((error) => {\n        cb && cb(error)\n      })\n  }\n\n  exists (path) {\n    if (!this._isReady) throw new Error('provider not ready')\n    const unprefixedpath = this.removePrefix(path)\n\n    return this._appManager.call('remixd', 'exists', { path: unprefixedpath })\n      .then((result) => {\n        return result\n      })\n      .catch((error) => {\n        throw new Error(error)\n      })\n  }\n\n  get (path, cb) {\n    if (!this._isReady) return cb && cb('provider not ready')\n    var unprefixedpath = this.removePrefix(path)\n    this._appManager.call('remixd', 'get', { path: unprefixedpath })\n      .then((file) => {\n        this.filesContent[path] = file.content\n        if (file.readonly) { this._readOnlyFiles[path] = 1 }\n        cb(null, file.content)\n      }).catch((error) => {\n        if (error) console.log(error)\n        // display the last known content.\n        // TODO should perhaps better warn the user that the file is not synced.\n        return cb(null, this.filesContent[path])\n      })\n  }\n\n  async set (path, content, cb) {\n    if (!this._isReady) return cb && cb('provider not ready')\n    const unprefixedpath = this.removePrefix(path)\n\n    return this._appManager.call('remixd', 'set', { path: unprefixedpath, content: content }).then(async (result) => {\n      if (cb) return cb(null, result)\n    }).catch((error) => {\n      if (cb) return cb(error)\n      throw new Error(error)\n    })\n  }\n\n  async createDir (path, cb) {\n    if (!this._isReady) return cb && cb('provider not ready')\n    const unprefixedpath = this.removePrefix(path)\n\n    return this._appManager.call('remixd', 'createDir', { path: unprefixedpath })\n  }\n\n  isReadOnly (path) {\n    return this._readOnlyMode || this._readOnlyFiles[path] === 1\n  }\n\n  remove (path) {\n    return new Promise((resolve, reject) => {\n      if (!this._isReady) return reject(new Error('provider not ready'))\n      const unprefixedpath = this.removePrefix(path)\n      this._appManager.call('remixd', 'remove', { path: unprefixedpath })\n        .then(result => {\n          const path = unprefixedpath\n          delete this.filesContent[path]\n          resolve(true)\n          this.init()\n        }).catch(error => {\n          if (error) console.log(error)\n          resolve(false)\n        })\n    })\n  }\n\n  rename (oldPath, newPath, isFolder) {\n    const unprefixedoldPath = this.removePrefix(oldPath)\n    const unprefixednewPath = this.removePrefix(newPath)\n    if (!this._isReady) return new Promise((resolve, reject) => reject(new Error('provider not ready')))\n    return this._appManager.call('remixd', 'rename', { oldPath: unprefixedoldPath, newPath: unprefixednewPath })\n      .then(result => {\n        const newPath = unprefixednewPath\n        const oldPath = unprefixedoldPath\n\n        this.filesContent[newPath] = this.filesContent[oldPath]\n        delete this.filesContent[oldPath]\n        this.init(() => {\n          this.event.emit('fileRenamed', oldPath, newPath, isFolder)\n        })\n        return result\n      }).catch(error => {\n        console.log(error)\n        if (this.error[error.code]) error = this.error[error.code]\n        this.event.emit('fileRenamedError', this.error[error.code])\n      })\n  }\n\n  isExternalFolder (path) {\n    return false\n  }\n\n  removePrefix (path) {\n    path = path.indexOf(this.type) === 0 ? path.replace(this.type, '') : path\n    if (path[0] === '/') return path.substring(1)\n    if (path === '') return '/'\n    return path\n  }\n\n  resolveDirectory (path, callback) {\n    if (path[0] === '/') path = path.substring(1)\n    const unprefixedpath = this.removePrefix(path)\n\n    if (!this._isReady) return callback && callback('provider not ready')\n    this._appManager.call('remixd', 'resolveDirectory', { path: unprefixedpath }).then((result) => {\n      callback(null, result)\n    }).catch(callback)\n  }\n\n  async isDirectory (path) {\n    const unprefixedpath = this.removePrefix(path)\n    if (!this._isReady) throw new Error('provider not ready')\n    return await this._appManager.call('remixd', 'isDirectory', { path: unprefixedpath })\n  }\n\n  async isFile (path) {\n    const unprefixedpath = this.removePrefix(path)\n    if (!this._isReady) throw new Error('provider not ready')\n    return await this._appManager.call('remixd', 'isFile', { path: unprefixedpath })\n  }\n}\n","import isElectron from 'is-electron'\nimport { WebsocketPlugin } from '@remixproject/engine-web'\nimport * as packageJson from '../../../../../package.json'\nimport { version as remixdVersion } from '../../../../../libs/remixd/package.json'\nvar yo = require('yo-yo')\nvar modalDialog = require('../ui/modaldialog')\nvar modalDialogCustom = require('../ui/modal-dialog-custom')\nvar copyToClipboard = require('../ui/copy-to-clipboard')\n\nvar csjs = require('csjs-inject')\n\nvar css = csjs`\n  .dialog {\n    display: flex;\n    flex-direction: column;\n  }\n  .dialogParagraph {\n    margin-bottom: 2em;\n    word-break: break-word;\n  }\n`\nconst LOCALHOST = ' - connect to localhost - '\n\nconst profile = {\n  name: 'remixd',\n  displayName: 'RemixD',\n  url: 'ws://127.0.0.1:65520',\n  methods: ['folderIsReadOnly', 'resolveDirectory', 'get', 'exists', 'isFile', 'set', 'rename', 'remove', 'isDirectory', 'list', 'createDir'],\n  events: [],\n  description: 'Using Remixd daemon, allow to access file system',\n  kind: 'other',\n  version: packageJson.version\n}\n\nexport class RemixdHandle extends WebsocketPlugin {\n  constructor (localhostProvider, appManager) {\n    super(profile)\n    this.localhostProvider = localhostProvider\n    this.appManager = appManager\n  }\n\n  deactivate () {\n    if (super.socket) super.deactivate()\n    // this.appManager.deactivatePlugin('git') // plugin call doesn't work.. see issue https://github.com/ethereum/remix-plugin/issues/342\n    if (this.appManager.actives.includes('hardhat')) this.appManager.deactivatePlugin('hardhat')\n    if (this.appManager.actives.includes('slither')) this.appManager.deactivatePlugin('slither')\n    this.localhostProvider.close((error) => {\n      if (error) console.log(error)\n    })\n  }\n\n  activate () {\n    this.connectToLocalhost()\n  }\n\n  async canceled () {\n    // await this.appManager.deactivatePlugin('git') // plugin call doesn't work.. see issue https://github.com/ethereum/remix-plugin/issues/342\n    await this.appManager.deactivatePlugin('remixd')\n  }\n\n  /**\n    * connect to localhost if no connection and render the explorer\n    * disconnect from localhost if connected and remove the explorer\n    *\n    * @param {String} txHash - hash of the transaction\n    */\n  async connectToLocalhost () {\n    const connection = (error) => {\n      if (error) {\n        console.log(error)\n        modalDialogCustom.alert(\n          'Cannot connect to the remixd daemon. ' +\n          'Please make sure you have the remixd running in the background.'\n        )\n        this.canceled()\n      } else {\n        const intervalId = setInterval(() => {\n          if (!this.socket || (this.socket && this.socket.readyState === 3)) { // 3 means connection closed\n            clearInterval(intervalId)\n            console.log(error)\n            modalDialogCustom.alert(\n              'Connection to remixd terminated. ' +\n              'Please make sure remixd is still running in the background.'\n            )\n            this.canceled()\n          }\n        }, 3000)\n        this.localhostProvider.init(() => {\n          this.call('filePanel', 'setWorkspace', { name: LOCALHOST, isLocalhost: true }, true)\n        })\n        this.call('manager', 'activatePlugin', 'hardhat')\n        this.call('manager', 'activatePlugin', 'slither')\n      }\n    }\n    if (this.localhostProvider.isConnected()) {\n      this.deactivate()\n    } else if (!isElectron()) {\n      // warn the user only if he/she is in the browser context\n      modalDialog(\n        'Connect to localhost',\n        remixdDialog(),\n        {\n          label: 'Connect',\n          fn: () => {\n            try {\n              this.localhostProvider.preInit()\n              super.activate()\n              setTimeout(() => {\n                if (!this.socket || (this.socket && this.socket.readyState === 3)) { // 3 means connection closed\n                  connection(new Error('Connection with daemon failed.'))\n                } else {\n                  connection()\n                }\n              }, 3000)\n            } catch (error) {\n              connection(error)\n            }\n          }\n        },\n        {\n          label: 'Cancel',\n          fn: () => {\n            this.canceled()\n          }\n        }\n      )\n    } else {\n      try {\n        super.activate()\n        setTimeout(() => { connection() }, 2000)\n      } catch (error) {\n        connection(error)\n      }\n    }\n  }\n}\n\nfunction remixdDialog () {\n  const commandText = 'remixd -s <path-to-the-shared-folder> -u <remix-ide-instance-URL>'\n  return yo`\n    <div class=${css.dialog}>\n      <div class=${css.dialogParagraph}>\n        Access your local file system from Remix IDE using <a target=\"_blank\" href=\"https://www.npmjs.com/package/@remix-project/remixd\">Remixd NPM package</a>.<br/><br/> \n        Remixd needs to be running in the background to load the files in localhost workspace. For more info, please check the <a target=\"_blank\" href=\"https://remix-ide.readthedocs.io/en/latest/remixd.html\">Remixd tutorial</a>.\n      </div>\n      <div class=${css.dialogParagraph}>\n        If you are just looking for the remixd command, here it is:\n        <br><br><b>${commandText}</b>\n        <span class=\"\">${copyToClipboard(() => commandText)}</span>\n      </div>\n      <div class=${css.dialogParagraph}>\n        When connected, a session will be started between <em>${window.location.origin}</em> and your local file system at <i>ws://127.0.0.1:65520</i>.\n         The shared folder will be in the \"File Explorers\" workspace named \"localhost\". \n        <br/>Read more about other <a target=\"_blank\" href=\"https://remix-ide.readthedocs.io/en/latest/remixd.html#ports-usage\">Remixd ports usage</a>\n      </div>\n      <div class=${css.dialogParagraph}>\n        This feature is still in Alpha. We recommend to keep a backup of the shared folder.\n      </div>\n      <div class=${css.dialogParagraph}>\n        <h6 class=\"text-danger\">\n          Before using, make sure remixd version is latest i.e. <b>${remixdVersion}</b>\n          <br><a target=\"_blank\" href=\"https://remix-ide.readthedocs.io/en/latest/remixd.html#update-to-the-latest-remixd\">Read here how to update it</a>\n        </h6>\n      </div>\n    </div>\n  `\n}\n","import { WebsocketPlugin } from '@remixproject/engine-web'\nimport * as packageJson from '../../../../../package.json'\n\nconst profile = {\n  name: 'slither',\n  displayName: 'Slither',\n  url: 'ws://127.0.0.1:65523',\n  methods: ['analyse'],\n  description: 'Using Remixd daemon, run slither static analysis',\n  kind: 'other',\n  version: packageJson.version,\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/slither.html'\n}\n\nexport class SlitherHandle extends WebsocketPlugin {\n  constructor () {\n    super(profile)\n  }\n}\n","'use strict'\n\nconst EventManager = require('events')\nconst FileProvider = require('./fileProvider')\nconst pathModule = require('path')\n\nclass WorkspaceFileProvider extends FileProvider {\n  constructor () {\n    super('')\n    this.workspacesPath = '.workspaces'\n    this.workspace = null\n    this.event = new EventManager()\n  }\n\n  setWorkspace (workspace) {\n    if (!workspace) return\n    workspace = workspace.replace(/^\\/|\\/$/g, '') // remove first and last slash\n    this.workspace = workspace\n  }\n\n  getWorkspace () {\n    return this.workspace\n  }\n\n  isReady () {\n    return this.workspace !== null\n  }\n\n  clearWorkspace () {\n    this.workspace = null\n  }\n\n  removePrefix (path) {\n    path = path.replace(/^\\/|\\/$/g, '') // remove first and last slash\n    if (path.startsWith(this.workspacesPath + '/' + this.workspace)) return path\n    const splitPath = path.split('/')\n\n    if (splitPath[0] === this.workspace) {\n      splitPath[0] = this.workspacesPath + '/' + this.workspace\n      path = splitPath.join('/')\n      return path\n    }\n    path = super.removePrefix(path)\n    let ret = this.workspacesPath + '/' + this.workspace + '/' + (path === '/' ? '' : path)\n\n    ret = ret.replace(/^\\/|\\/$/g, '')\n    if (!this.isSubDirectory(this.workspacesPath + '/' + this.workspace, ret)) throw new Error('Cannot read/write to path outside workspace')\n    return ret\n  }\n\n  isSubDirectory (parent, child) {\n    if (!parent) return false\n    if (parent === child) return true\n    const relative = pathModule.relative(parent, child)\n\n    return !!relative && relative.split(pathModule.sep)[0] !== '..'\n  }\n\n  resolveDirectory (path, callback) {\n    super.resolveDirectory(path, (error, files) => {\n      if (error) return callback(error)\n      const unscoped = {}\n      for (const file in files) {\n        unscoped[file.replace(this.workspacesPath + '/' + this.workspace + '/', '')] = files[file]\n      }\n      callback(null, unscoped)\n    })\n  }\n\n  async copyFolderToJson (directory, visitFile, visitFolder) {\n    visitFile = visitFile || (() => {})\n    visitFolder = visitFolder || (() => {})\n    const regex = new RegExp(`.workspaces/${this.workspace}/`, 'g')\n    let json = await super._copyFolderToJsonInternal(directory, ({ path, content }) => {\n      visitFile({ path: path.replace(regex, ''), content })\n    }, ({ path }) => {\n      visitFolder({ path: path.replace(regex, '') })\n    })\n    json = JSON.stringify(json).replace(regex, '')\n    return JSON.parse(json)\n  }\n\n  _normalizePath (path) {\n    return path.replace(this.workspacesPath + '/' + this.workspace + '/', '')\n  }\n\n  async createWorkspace (name) {\n    try {\n      if (!name) name = 'default_workspace'\n      this.setWorkspace(name)\n      await super.createDir(name)\n      this.event.emit('createWorkspace', name)\n    } catch (e) {\n      throw new Error(e)\n    }\n  }\n}\n\nmodule.exports = WorkspaceFileProvider\n","import { ViewPlugin } from '@remixproject/engine-web'\n\nimport * as packageJson from '../../../../../package.json'\nimport React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport { FileSystemProvider } from '@remix-ui/workspace' // eslint-disable-line\nconst { RemixdHandle } = require('../files/remixd-handle.js')\nconst { GitHandle } = require('../files/git-handle.js')\nconst { HardhatHandle } = require('../files/hardhat-handle.js')\nconst { SlitherHandle } = require('../files/slither-handle.js')\nconst globalRegistry = require('../../global/registry')\n/*\n  Overview of APIs:\n   * fileManager: @args fileProviders (browser, shared-folder, swarm, github, etc ...) & config & editor\n      - listen on browser & localhost file provider (`fileRenamed` & `fileRemoved`)\n      - update the tabs, switchFile\n      - trigger `currentFileChanged`\n      - set the current file in the config\n   * fileProvider: currently browser, swarm, localhost, github, gist\n      - link to backend\n      - provide properties `type`, `readonly`\n      - provide API `resolveDirectory`, `remove`, `exists`, `rename`, `get`, `set`\n      - trigger `fileExternallyChanged`, `fileRemoved`, `fileRenamed`, `fileRenamedError`, `fileAdded`\n   * file-explorer: treeview @args fileProvider\n      - listen on events triggered by fileProvider\n      - call fileProvider API\n*/\n\nconst profile = {\n  name: 'filePanel',\n  displayName: 'File explorers',\n  methods: ['createNewFile', 'uploadFile', 'getCurrentWorkspace', 'getWorkspaces', 'createWorkspace', 'setWorkspace', 'registerContextMenuItem', 'renameWorkspace', 'deleteWorkspace'],\n  events: ['setWorkspace', 'workspaceRenamed', 'workspaceDeleted', 'workspaceCreated'],\n  icon: 'assets/img/fileManager.webp',\n  description: ' - ',\n  kind: 'fileexplorer',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/file_explorer.html',\n  version: packageJson.version\n}\nmodule.exports = class Filepanel extends ViewPlugin {\n  constructor (appManager) {\n    super(profile)\n    this.registry = globalRegistry\n    this.fileProviders = this.registry.get('fileproviders').api\n    this.fileManager = this.registry.get('filemanager').api\n\n    this.el = document.createElement('div')\n    this.el.setAttribute('id', 'fileExplorerView')\n\n    this.remixdHandle = new RemixdHandle(this.fileProviders.localhost, appManager)\n    this.gitHandle = new GitHandle()\n    this.hardhatHandle = new HardhatHandle()\n    this.slitherHandle = new SlitherHandle()\n    this.workspaces = []\n    this.appManager = appManager\n    this.currentWorkspaceMetadata = {}\n  }\n\n  onActivation () {\n    this.renderComponent()\n  }\n\n  render () {\n    return this.el\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <FileSystemProvider plugin={this} />\n      , this.el)\n  }\n\n  /**\n   * @param item { id: string, name: string, type?: string[], path?: string[], extension?: string[], pattern?: string[] }\n   * @param callback (...args) => void\n   */\n  registerContextMenuItem (item) {\n    return new Promise((resolve, reject) => {\n      this.emit('registerContextMenuItemReducerEvent', item, (err, data) => {\n        if (err) reject(err)\n        else resolve(data)\n      })\n    })\n  }\n\n  removePluginActions (plugin) {\n    return new Promise((resolve, reject) => {\n      this.emit('removePluginActionsReducerEvent', plugin, (err, data) => {\n        if (err) reject(err)\n        else resolve(data)\n      })\n    })\n  }\n\n  getCurrentWorkspace () {\n    return this.currentWorkspaceMetadata\n  }\n\n  getWorkspaces () {\n    return this.workspaces\n  }\n\n  setWorkspaces (workspaces) {\n    this.workspaces = workspaces\n  }\n\n  createNewFile () {\n    return new Promise((resolve, reject) => {\n      const provider = this.fileManager.currentFileProvider()\n      const dir = provider.workspace || '/'\n\n      this.emit('createNewFileInputReducerEvent', dir, (err, data) => {\n        if (err) reject(err)\n        else resolve(data)\n      })\n    })\n  }\n\n  uploadFile (target) {\n    return new Promise((resolve, reject) => {\n      const provider = this.fileManager.currentFileProvider()\n      const dir = provider.workspace || '/'\n\n      return this.emit('uploadFileReducerEvent', dir, target, (err, data) => {\n        if (err) reject(err)\n        else resolve(data)\n      })\n    })\n  }\n\n  createWorkspace (workspaceName, isEmpty) {\n    return new Promise((resolve, reject) => {\n      this.emit('createWorkspaceReducerEvent', workspaceName, isEmpty, (err, data) => {\n        if (err) reject(err)\n        else resolve(data || true)\n      })\n    })\n  }\n\n  renameWorkspace (oldName, workspaceName) {\n    return new Promise((resolve, reject) => {\n      this.emit('renameWorkspaceReducerEvent', oldName, workspaceName, (err, data) => {\n        if (err) reject(err)\n        else resolve(data || true)\n      })\n    })\n  }\n\n  deleteWorkspace (workspaceName) {\n    return new Promise((resolve, reject) => {\n      this.emit('deleteWorkspaceReducerEvent', workspaceName, (err, data) => {\n        if (err) reject(err)\n        else resolve(data || true)\n      })\n    })\n  }\n\n  setWorkspace (workspace) {\n    const workspaceProvider = this.fileProviders.workspace\n\n    this.currentWorkspaceMetadata = { name: workspace.name, isLocalhost: workspace.isLocalhost, absolutePath: `${workspaceProvider.workspacesPath}/${workspace.name}` }\n    this.emit('setWorkspace', workspace)\n  }\n\n  workspaceRenamed (oldName, workspaceName) {\n    this.emit('workspaceRenamed', oldName, workspaceName)\n  }\n\n  workspaceDeleted (workspace) {\n    this.emit('workspaceDeleted', workspace)\n  }\n\n  workspaceCreated (workspace) {\n    this.emit('workspaceCreated', workspace)\n  }\n  /** end section */\n}\n","var yo = require('yo-yo')\nvar EventManager = require('../../lib/events')\n\nvar globalRegistry = require('../../global/registry')\nvar { TabProxy } = require('./tab-proxy.js')\n\nvar ContextView = require('../editor/contextView')\n\nvar csjs = require('csjs-inject')\n\nvar css = csjs`\n  .mainview            {\n    display           : flex;\n    flex-direction    : column;\n    height            : 100%;\n    width             : 100%;\n  }\n`\n\n// @todo(#650) Extract this into two classes: MainPanel (TabsProxy + Iframe/Editor) & BottomPanel (Terminal)\nexport class MainView {\n  constructor (contextualListener, editor, mainPanel, fileManager, appManager, terminal) {\n    var self = this\n    self.event = new EventManager()\n    self._view = {}\n    self._components = {}\n    self._components.registry = globalRegistry\n    self.editor = editor\n    self.fileManager = fileManager\n    self.mainPanel = mainPanel\n    self.txListener = globalRegistry.get('txlistener').api\n    self._components.terminal = terminal\n    self._components.contextualListener = contextualListener\n    this.appManager = appManager\n    this.init()\n  }\n\n  showApp (name) {\n    this.fileManager.unselectCurrentFile()\n    this.mainPanel.showContent(name)\n    this._view.editor.style.display = 'none'\n    this._components.contextView.hide()\n    this._view.mainPanel.style.display = 'block'\n  }\n\n  getAppPanel () {\n    return this.mainPanel\n  }\n\n  init () {\n    var self = this\n    self._deps = {\n      config: self._components.registry.get('config').api,\n      fileManager: self._components.registry.get('filemanager').api\n    }\n\n    self.tabProxy = new TabProxy(self.fileManager, self.editor)\n    /*\n      We listen here on event from the tab component to display / hide the editor and mainpanel\n      depending on the content that should be displayed\n    */\n    self.fileManager.events.on('currentFileChanged', (file) => {\n      // we check upstream for \"fileChanged\"\n      self._view.editor.style.display = 'block'\n      self._view.mainPanel.style.display = 'none'\n      self._components.contextView.show()\n    })\n    self.tabProxy.event.on('openFile', (file) => {\n      self._view.editor.style.display = 'block'\n      self._view.mainPanel.style.display = 'none'\n      self._components.contextView.show()\n    })\n    self.tabProxy.event.on('closeFile', (file) => {\n    })\n    self.tabProxy.event.on('switchApp', self.showApp.bind(self))\n    self.tabProxy.event.on('closeApp', (name) => {\n      self._view.editor.style.display = 'block'\n      self._components.contextView.show()\n      self._view.mainPanel.style.display = 'none'\n    })\n    self.tabProxy.event.on('tabCountChanged', (count) => {\n      if (!count) this.editor.displayEmptyReadOnlySession()\n    })\n    self.data = {\n      _layout: {\n        top: {\n          offset: self._terminalTopOffset(),\n          show: true\n        }\n      }\n    }\n\n    const contextView = new ContextView({ contextualListener: self._components.contextualListener, editor: self.editor })\n\n    self._components.contextView = contextView\n\n    self._components.terminal.event.register('resize', delta => self._adjustLayout('top', delta))\n    if (self.txListener) {\n      self._components.terminal.event.register('listenOnNetWork', (listenOnNetWork) => {\n        self.txListener.setListenOnNetwork(listenOnNetWork)\n      })\n    }\n  }\n\n  _terminalTopOffset () {\n    return this._deps.config.get('terminal-top-offset') || 150\n  }\n\n  _adjustLayout (direction, delta) {\n    var limitUp = 0\n    var limitDown = 32\n    var containerHeight = window.innerHeight - limitUp // - menu bar containerHeight\n    var self = this\n    var layout = self.data._layout[direction]\n    if (layout) {\n      if (delta === undefined) {\n        layout.show = !layout.show\n        if (layout.show) delta = layout.offset\n        else delta = 0\n      } else {\n        layout.show = true\n        self._deps.config.set(`terminal-${direction}-offset`, delta)\n        layout.offset = delta\n      }\n    }\n    var tmp = delta - limitDown\n    delta = tmp > 0 ? tmp : 0\n    if (direction === 'top') {\n      var mainPanelHeight = containerHeight - delta\n      mainPanelHeight = mainPanelHeight < 0 ? 0 : mainPanelHeight\n      self._view.editor.style.height = `${mainPanelHeight}px`\n      self._view.mainPanel.style.height = `${mainPanelHeight}px`\n      self._view.terminal.style.height = `${delta}px` // - menu bar height\n      self.editor.resize((document.querySelector('#editorWrap') || {}).checked)\n      self._components.terminal.scroll2bottom()\n    }\n  }\n\n  minimizeTerminal () {\n    this._adjustLayout('top')\n  }\n\n  showTerminal (offset) {\n    this._adjustLayout('top', offset || this._terminalTopOffset())\n  }\n\n  getTerminal () {\n    return this._components.terminal\n  }\n\n  getEditor () {\n    var self = this\n    return self.editor\n  }\n\n  refresh () {\n    var self = this\n    self._view.tabs.onmouseenter()\n  }\n\n  log (data = {}) {\n    var self = this\n    var command = self._components.terminal.commands[data.type]\n    if (typeof command === 'function') command(data.value)\n  }\n\n  logMessage (msg) {\n    var self = this\n    self.log({ type: 'log', value: msg })\n  }\n\n  logHtmlMessage (msg) {\n    var self = this\n    self.log({ type: 'html', value: msg })\n  }\n\n  render () {\n    var self = this\n    if (self._view.mainview) return self._view.mainview\n    self._view.editor = self.editor.render()\n    self._view.editor.style.display = 'none'\n    self._view.mainPanel = self.mainPanel.render()\n    self._view.terminal = self._components.terminal.render()\n    self._view.mainview = yo`\n      <div class=${css.mainview}>\n        ${self.tabProxy.renderTabsbar()}\n        ${self._view.editor}\n        ${self._view.mainPanel}\n        ${self._components.contextView.render()}\n        ${self._view.terminal}\n      </div>\n    `\n    // INIT\n    self._adjustLayout('top', self.data._layout.top.offset)\n\n    document.addEventListener('keydown', (e) => {\n      if (e.altKey && e.keyCode === 84) self.tabProxy.switchNextTab() // alt + t\n    })\n\n    return self._view.mainview\n  }\n\n  registerCommand (name, command, opts) {\n    var self = this\n    return self._components.terminal.registerCommand(name, command, opts)\n  }\n\n  updateTerminalFilter (filter) {\n    this._components.terminal.updateJournal(filter)\n  }\n}\n","import React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport { Plugin } from '@remixproject/engine'\nimport { TabsUI } from '@remix-ui/tabs'\nconst EventEmitter = require('events')\nconst helper = require('../../lib/helper')\n\nconst profile = {\n  name: 'tabs',\n  methods: ['focus'],\n  kind: 'other'\n}\n\n// @todo(#650) Merge this with MainPanel into one plugin\nexport class TabProxy extends Plugin {\n  constructor (fileManager, editor) {\n    super(profile)\n    this.event = new EventEmitter()\n    this.fileManager = fileManager\n    this.editor = editor\n    this.data = {}\n    this._view = {}\n    this._handlers = {}\n    this.loadedTabs = []\n  }\n\n  onActivation () {\n    this.on('theme', 'themeChanged', (theme) => {\n      // update invert for all icons\n      this.updateImgStyles()\n    })\n\n    this.on('fileManager', 'filesAllClosed', () => {\n      this.call('manager', 'activatePlugin', 'home')\n      this.tabsApi.activateTab('home')\n    })\n\n    this.on('fileManager', 'fileRemoved', (name) => {\n      const workspace = this.fileManager.currentWorkspace()\n\n      if (this.fileManager.mode === 'browser') {\n        name = name.startsWith(workspace + '/') ? name : workspace + '/' + name\n        this.removeTab(name)\n      } else {\n        name = name.startsWith(this.fileManager.mode + '/') ? name : this.fileManager.mode + '/' + name\n        this.removeTab(name)\n      }\n    })\n\n    this.on('fileManager', 'fileClosed', (name) => {\n      const workspace = this.fileManager.currentWorkspace()\n\n      if (this.fileManager.mode === 'browser') {\n        name = name.startsWith(workspace + '/') ? name : workspace + '/' + name\n        this.removeTab(name)\n      } else {\n        name = name.startsWith(this.fileManager.mode + '/') ? name : this.fileManager.mode + '/' + name\n        this.removeTab(name)\n      }\n    })\n\n    this.on('fileManager', 'currentFileChanged', (file) => {\n      const workspace = this.fileManager.currentWorkspace()\n\n      if (this.fileManager.mode === 'browser') {\n        const workspacePath = workspace + '/' + file\n\n        if (this._handlers[workspacePath]) {\n          this.tabsApi.activateTab(workspacePath)\n          return\n        }\n        this.addTab(workspacePath, '', () => {\n          this.fileManager.open(file)\n          this.event.emit('openFile', file)\n        },\n        () => {\n          this.fileManager.closeFile(file)\n          this.event.emit('closeFile', file)\n        })\n        this.tabsApi.activateTab(workspacePath)\n      } else {\n        const path = file.startsWith(this.fileManager.mode + '/') ? file : this.fileManager.mode + '/' + file\n\n        if (this._handlers[path]) {\n          this.tabsApi.activateTab(path)\n          return\n        }\n        this.addTab(path, '', () => {\n          this.fileManager.open(file)\n          this.event.emit('openFile', file)\n        },\n        () => {\n          this.fileManager.closeFile(file)\n          this.event.emit('closeFile', file)\n        })\n        this.tabsApi.activateTab(path)\n      }\n    })\n\n    this.on('fileManager', 'fileRenamed', (oldName, newName, isFolder) => {\n      const workspace = this.fileManager.currentWorkspace()\n\n      if (this.fileManager.mode === 'browser') {\n        if (isFolder) {\n          for (const tab of this.loadedTabs) {\n            if (tab.name.indexOf(workspace + '/' + oldName + '/') === 0) {\n              const newTabName = workspace + '/' + newName + tab.name.slice(workspace + '/' + oldName.length, tab.name.length)\n              this.renameTab(tab.name, newTabName)\n            }\n          }\n          return\n        }\n        // should change the tab title too\n        this.renameTab(workspace + '/' + oldName, workspace + '/' + newName)\n      } else {\n        if (isFolder) {\n          for (const tab of this.loadedTabs) {\n            if (tab.name.indexOf(this.fileManager.mode + '/' + oldName + '/') === 0) {\n              const newTabName = this.fileManager.mode + '/' + newName + tab.name.slice(this.fileManager.mode + '/' + oldName.length, tab.name.length)\n              this.renameTab(tab.name, newTabName)\n            }\n          }\n          return\n        }\n        // should change the tab title too\n        this.renameTab(this.fileManager.mode + '/' + oldName, this.fileManager.mode + '/' + newName)\n      }\n    })\n\n    this.on('manager', 'pluginActivated', ({ name, location, displayName, icon }) => {\n      if (location === 'mainPanel') {\n        this.addTab(\n          name,\n          displayName,\n          () => this.event.emit('switchApp', name),\n          () => {\n            this.event.emit('closeApp', name)\n            this.call('manager', 'deactivatePlugin', name)\n          },\n          icon\n        )\n        this.switchTab(name)\n      }\n    })\n\n    this.on('manager', 'pluginDeactivated', (profile) => {\n      this.removeTab(profile.name)\n    })\n  }\n\n  focus (name) {\n    this.event.emit('switchApp', name)\n    this.tabsApi.activateTab(name)\n  }\n\n  updateImgStyles () {\n    const images = this.el.getElementsByClassName('iconImage')\n    for (const element of images) {\n      this.call('theme', 'fixInvert', element)\n    }\n  }\n\n  switchTab (tabName) {\n    if (this._handlers[tabName]) {\n      this._handlers[tabName].switchTo()\n      this.tabsApi.activateTab(tabName)\n    }\n  }\n\n  switchNextTab () {\n    const active = this.tabsApi.active()\n    if (active && this._handlers[active]) {\n      const handlers = Object.keys(this._handlers)\n      let i = handlers.indexOf(active)\n      if (i >= 0) {\n        i = handlers[i + 1] ? i + 1 : 0\n        this.switchTab(handlers[i])\n      }\n    }\n  }\n\n  switchPreviousTab () {\n    const active = this.tabsApi.active()\n    if (active && this._handlers[active]) {\n      const handlers = Object.keys(this._handlers)\n      let i = handlers.indexOf(active)\n      if (i >= 0) {\n        i = handlers[i - 1] ? i - 1 : handlers.length - 1\n        this.switchTab(handlers[i])\n      }\n    }\n  }\n\n  renameTab (oldName, newName) {\n    this.addTab(newName, '', () => {\n      this.fileManager.open(newName)\n      this.event.emit('openFile', newName)\n    },\n    () => {\n      this.fileManager.closeFile(newName)\n      this.event.emit('closeFile', newName)\n    })\n    this.removeTab(oldName)\n  }\n\n  addTab (name, title, switchTo, close, icon) {\n    if (this._handlers[name]) return this.renderComponent()\n\n    var slash = name.split('/')\n    const tabPath = slash.reverse()\n    const tempTitle = []\n\n    if (!title) {\n      for (let i = 0; i < tabPath.length; i++) {\n        tempTitle.push(tabPath[i])\n        const formatPath = [...tempTitle].reverse()\n        const index = this.loadedTabs.findIndex(({ title }) => title === formatPath.join('/'))\n\n        if (index === -1) {\n          title = formatPath.join('/')\n          const titleLength = formatPath.length\n          this.loadedTabs.push({\n            id: name,\n            name,\n            title,\n            icon,\n            tooltip: name,\n            iconClass: helper.getPathIcon(name)\n          })\n          formatPath.shift()\n          if (formatPath.length > 0) {\n            const index = this.loadedTabs.findIndex(({ title }) => title === formatPath.join('/'))\n            if (index > -1) {\n              const duplicateTabName = this.loadedTabs[index].name\n              const duplicateTabPath = duplicateTabName.split('/')\n              const duplicateTabFormatPath = [...duplicateTabPath].reverse()\n              const duplicateTabTitle = duplicateTabFormatPath.slice(0, titleLength).reverse().join('/')\n              this.loadedTabs[index] = {\n                id: duplicateTabName,\n                name: duplicateTabName,\n                title: duplicateTabTitle,\n                icon,\n                tooltip: duplicateTabName,\n                iconClass: helper.getPathIcon(duplicateTabName)\n              }\n            }\n          }\n          break\n        }\n      }\n    } else {\n      this.loadedTabs.push({\n        id: name,\n        name,\n        title,\n        icon,\n        tooltip: name,\n        iconClass: helper.getPathIcon(name)\n      })\n    }\n\n    this.renderComponent()\n    this.updateImgStyles()\n    this._handlers[name] = { switchTo, close }\n  }\n\n  removeTab (name) {\n    delete this._handlers[name]\n    let previous = null\n    this.loadedTabs = this.loadedTabs.filter((tab, index) => {\n      if (tab.name === name) previous = this.loadedTabs[index - 1]\n      return tab.name !== name\n    })\n    this.renderComponent()\n    this.updateImgStyles()\n    if (previous) this.switchTab(previous.name)\n  }\n\n  addHandler (type, fn) {\n    this.handlers[type] = fn\n  }\n\n  renderComponent () {\n    const onSelect = (index) => {\n      if (this.loadedTabs[index]) {\n        const name = this.loadedTabs[index].name\n        if (this._handlers[name]) this._handlers[name].switchTo()\n        this.event.emit('tabCountChanged', this.loadedTabs.length)\n      }\n    }\n\n    const onClose = (index) => {\n      if (this.loadedTabs[index]) {\n        const name = this.loadedTabs[index].name\n        if (this._handlers[name]) this._handlers[name].close()\n        this.event.emit('tabCountChanged', this.loadedTabs.length)\n      }\n    }\n\n    const onZoomIn = () => this.editor.editorFontSize(1)\n    const onZoomOut = () => this.editor.editorFontSize(-1)\n\n    const onReady = (api) => { this.tabsApi = api }\n\n    ReactDOM.render(\n      <TabsUI tabs={this.loadedTabs} onSelect={onSelect} onClose={onClose} onZoomIn={onZoomIn} onZoomOut={onZoomOut} onReady={onReady} />\n      , this.el)\n  }\n\n  renderTabsbar () {\n    this.el = document.createElement('div')\n    this.renderComponent()\n    return this.el\n  }\n}\n","/* global Node, requestAnimationFrame */   // eslint-disable-line\nimport React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport { RemixUiTerminal } from '@remix-ui/terminal' // eslint-disable-line\nimport { Plugin } from '@remixproject/engine'\nimport * as packageJson from '../../../../../package.json'\nconst vm = require('vm')\nconst EventManager = require('../../lib/events')\n\nconst CommandInterpreterAPI = require('../../lib/cmdInterpreterAPI')\nconst AutoCompletePopup = require('../ui/auto-complete-popup')\n\nimport { CompilerImports } from '@remix-project/core-plugin' // eslint-disable-line\nconst globalRegistry = require('../../global/registry')\nconst GistHandler = require('../../lib/gist-handler')\n\nconst KONSOLES = []\n\nfunction register (api) { KONSOLES.push(api) }\n\nconst profile = {\n  displayName: 'Terminal',\n  name: 'terminal',\n  methods: ['log'],\n  events: [],\n  description: ' - ',\n  version: packageJson.version\n}\n\nclass Terminal extends Plugin {\n  constructor (opts, api) {\n    super(profile)\n    this.fileImport = new CompilerImports()\n    this.gistHandler = new GistHandler()\n    this.event = new EventManager()\n    this.globalRegistry = globalRegistry\n    this.element = document.createElement('div')\n    this.element.setAttribute('class', 'panel')\n    this.element.setAttribute('id', 'terminal-view')\n    this.element.setAttribute('data-id', 'terminalContainer-view')\n    this.eventsDecoder = this.globalRegistry.get('eventsDecoder').api\n    this.txListener = this.globalRegistry.get('txlistener').api\n    this._deps = {\n      fileManager: this.globalRegistry.get('filemanager').api,\n      editor: this.globalRegistry.get('editor').api,\n      compilersArtefacts: this.globalRegistry.get('compilersartefacts').api,\n      offsetToLineColumnConverter: this.globalRegistry.get('offsettolinecolumnconverter').api\n    }\n    this.commandHelp = {\n      'remix.loadgist(id)': 'Load a gist in the file explorer.',\n      'remix.loadurl(url)': 'Load the given url in the file explorer. The url can be of type github, swarm, ipfs or raw http',\n      'remix.execute(filepath)': 'Run the script specified by file path. If filepath is empty, script currently displayed in the editor is executed.',\n      'remix.exeCurrent()': 'Run the script currently displayed in the editor',\n      'remix.help()': 'Display this help message'\n    }\n    this.blockchain = opts.blockchain\n    this.vm = vm\n    this._api = api\n    this._opts = opts\n    this.config = this.globalRegistry.get('config').api\n    this.version = packageJson.version\n    this.data = {\n      lineLength: opts.lineLength || 80, // ????\n      session: [],\n      activeFilters: { commands: {}, input: '' },\n      filterFns: {}\n    }\n    this._view = { el: null, bar: null, input: null, term: null, journal: null, cli: null }\n    this._components = {}\n    this._components.cmdInterpreter = new CommandInterpreterAPI(this, null, this.blockchain)\n    this._components.autoCompletePopup = new AutoCompletePopup(this._opts)\n    this._commands = {}\n    this.commands = {}\n    this._JOURNAL = []\n    this._jobs = []\n    this._INDEX = {}\n    this._INDEX.all = []\n    this._INDEX.allMain = []\n    this._INDEX.commands = {}\n    this._INDEX.commandsMain = {}\n    if (opts.shell) this._shell = opts.shell // ???\n    register(this)\n    this.event.register('debuggingRequested', async (hash) => {\n      // TODO should probably be in the run module\n      if (!await this._opts.appManager.isActive('debugger')) await this._opts.appManager.activatePlugin('debugger')\n      this.call('menuicons', 'select', 'debugger')\n      this.call('debugger', 'debug', hash)\n    })\n  }\n\n  onActivation () {\n    this.renderComponent()\n  }\n\n  onDeactivation () {\n    this.off('scriptRunner', 'log')\n    this.off('scriptRunner', 'info')\n    this.off('scriptRunner', 'warn')\n    this.off('scriptRunner', 'error')\n  }\n\n  logHtml (html) {\n    this.terminalApi.logHtml(html)\n  }\n\n  log (message) {\n    this.terminalApi.log(message)\n  }\n\n  render () {\n    return this.element\n  }\n\n  renderComponent () {\n    const onReady = (api) => { this.terminalApi = api }\n    ReactDOM.render(\n      <RemixUiTerminal\n        plugin={this}\n        onReady={onReady}\n      />,\n      this.element\n    )\n  }\n\n  scroll2bottom () {\n    setTimeout(function () {\n    }, 0)\n  }\n}\n\nmodule.exports = Terminal\n","import React from 'react' // eslint-disable-line\nimport { ViewPlugin } from '@remixproject/engine-web'\nimport ReactDOM from 'react-dom'\nimport { EventEmitter } from 'events'\nimport {RemixUiStaticAnalyser} from '@remix-ui/static-analyser' // eslint-disable-line\nimport * as packageJson from '../../../../../package.json'\nvar Renderer = require('../ui/renderer')\n\nvar EventManager = require('../../lib/events')\n\nconst profile = {\n  name: 'solidityStaticAnalysis',\n  displayName: 'Solidity static analysis',\n  methods: [],\n  events: [],\n  icon: 'assets/img/staticAnalysis.webp',\n  description: 'Checks the contract code for security vulnerabilities and bad practices.',\n  kind: 'analysis',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/static_analysis.html',\n  version: packageJson.version\n}\n\nclass AnalysisTab extends ViewPlugin {\n  constructor (registry) {\n    super(profile)\n    this.event = new EventManager()\n    this.events = new EventEmitter()\n    this.registry = registry\n    this.element = document.createElement('div')\n    this.element.setAttribute('id', 'staticAnalyserView')\n    this._components = {\n      renderer: new Renderer(this)\n    }\n    this._components.registry = this.registry\n    this._deps = {\n      offsetToLineColumnConverter: this.registry.get(\n        'offsettolinecolumnconverter').api\n    }\n  }\n\n  async onActivation () {\n    const isSolidityActive = await this.call('manager', 'isActive', 'solidity')\n    if (!isSolidityActive) {\n      await this.call('manager', 'activatePlugin', 'solidity')\n    }\n    this.renderComponent()\n  }\n\n  render () {\n    return this.element\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <RemixUiStaticAnalyser\n        registry={this.registry}\n        analysisModule={this}\n        event={this.event}\n      />,\n      this.element,\n      () => {\n        this.event.register('staticAnaysisWarning', (count) => {\n          if (count > 0) {\n            this.emit('statusChanged', { key: count, title: `${count} warning${count === 1 ? '' : 's'}`, type: 'warning' })\n          } else if (count === 0) {\n            this.emit('statusChanged', { key: 'succeed', title: 'no warning', type: 'success' })\n          } else {\n            // count ==-1 no compilation result\n            this.emit('statusChanged', { key: 'none' })\n          }\n        })\n      }\n    )\n  }\n}\n\nmodule.exports = AnalysisTab\n","/* global */\nimport React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport { SolidityCompiler } from '@remix-ui/solidity-compiler' // eslint-disable-line\nimport { CompileTabLogic } from '@remix-ui/solidity-compiler' // eslint-disable-line\nimport { CompilerApiMixin } from '@remixproject/solidity-compiler-plugin'\nimport { ViewPlugin } from '@remixproject/engine-web'\nimport QueryParams from '../../lib/query-params'\n// import { ICompilerApi } from '@remix-project/remix-lib-ts'\nimport * as packageJson from '../../../../../package.json'\n\nconst yo = require('yo-yo')\nconst addTooltip = require('../ui/tooltip')\n\nconst css = require('./styles/compile-tab-styles')\n\nconst profile = {\n  name: 'solidity',\n  displayName: 'Solidity compiler',\n  icon: 'assets/img/solidity.webp',\n  description: 'Compile solidity contracts',\n  kind: 'compiler',\n  permission: true,\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/solidity_editor.html',\n  version: packageJson.version,\n  methods: ['getCompilationResult', 'compile', 'compileWithParameters', 'setCompilerConfig', 'compileFile', 'getCompilerState']\n}\n\n// EditorApi:\n// - events: ['compilationFinished'],\n// - methods: ['getCompilationResult']\n\nclass CompileTab extends CompilerApiMixin(ViewPlugin) { // implements ICompilerApi\n  constructor (config, fileManager) {\n    super(profile)\n    this.fileManager = fileManager\n    this.config = config\n    this.queryParams = new QueryParams()\n    this.compileTabLogic = new CompileTabLogic(this, this.contentImport)\n    this.compiler = this.compileTabLogic.compiler\n    this.compileTabLogic.init()\n    this.initCompilerApi()\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <SolidityCompiler api={this}/>\n      , this.el)\n  }\n\n  onCurrentFileChanged () {\n    this.renderComponent()\n  }\n\n  onResetResults () {\n    this.renderComponent()\n  }\n\n  onSetWorkspace () {\n    this.renderComponent()\n  }\n\n  onNoFileSelected () {\n    this.renderComponent()\n  }\n\n  onCompilationFinished () {\n    this.renderComponent()\n  }\n\n  render () {\n    if (this.el) return this.el\n    this.el = yo`\n      <div class=\"${css.debuggerTabView}\" id=\"compileTabView\">\n        <div id=\"compiler\" class=\"${css.compiler}\"></div>\n      </div>`\n    this.renderComponent()\n\n    return this.el\n  }\n\n  async compileWithParameters (compilationTargets, settings) {\n    return await super.compileWithParameters(compilationTargets, settings)\n  }\n\n  getCompilationResult () {\n    return super.getCompilationResult()\n  }\n\n  getFileManagerMode () {\n    return this.fileManager.mode\n  }\n\n  /**\n   * set the compiler configuration\n   * This function is used by remix-plugin compiler API.\n   * @param {object} settings {evmVersion, optimize, runs, version, language}\n   */\n  setCompilerConfig (settings) {\n    super.setCompilerConfig(settings)\n    this.renderComponent()\n    // @todo(#2875) should use loading compiler return value to check whether the compiler is loaded instead of \"setInterval\"\n    addTooltip(yo`<div><b>${this.currentRequest.from}</b> is updating the <b>Solidity compiler configuration</b>.<pre class=\"text-left\">${JSON.stringify(settings, null, '\\t')}</pre></div>`)\n  }\n\n  compile (fileName) {\n    addTooltip(yo`<div><b>${this.currentRequest.from}</b> is requiring to compile <b>${fileName}</b></div>`)\n    super.compile(fileName)\n  }\n\n  compileFile (event) {\n    return super.compileFile(event)\n  }\n\n  async onActivation () {\n    super.onActivation()\n    this.on('filePanel', 'workspaceInitializationCompleted', () => {\n      this.call('filePanel', 'registerContextMenuItem', {\n        id: 'solidity',\n        name: 'compileFile',\n        label: 'Compile',\n        type: [],\n        extension: ['.sol'],\n        path: [],\n        pattern: []\n      })\n    })\n    try {\n      this.currentFile = await this.call('fileManager', 'file')\n    } catch (error) {\n      if (error.message !== 'Error: No such file or directory No file selected') throw error\n    }\n  }\n\n  getCompilerParameters () {\n    const params = this.queryParams.get()\n    params.optimize = (params.optimize === 'false' || params.optimize === null || params.optimize === undefined) ? false : params.optimize\n    params.optimize = params.optimize === 'true' ? true : params.optimize\n    return params\n  }\n\n  setCompilerParameters (params) {\n    this.queryParams.update(params)\n  }\n\n  getAppParameter (name) {\n    // first look in the URL params then in the local storage\n    const params = this.queryParams.get()\n    const param = params[name] ? params[name] : this.config.get(name)\n    if (param === 'true') return true\n    if (param === 'false') return false\n    return param\n  }\n\n  setAppParameter (name, value) {\n    this.config.set(name, value)\n  }\n}\n\nmodule.exports = CompileTab\n","import toaster from '../ui/tooltip'\nimport { DebuggerUI } from '@remix-ui/debugger-ui' // eslint-disable-line\nimport { DebuggerApiMixin } from '@remixproject/debugger-plugin'\nimport { ViewPlugin } from '@remixproject/engine-web'\nimport * as packageJson from '../../../../../package.json'\nimport React from 'react' // eslint-disable-line\nimport ReactDOM from 'react-dom'\nimport modalDialogCustom from '../ui/modal-dialog-custom'\nimport * as remixBleach from '../../lib/remixBleach'\nconst css = require('./styles/debugger-tab-styles')\nconst yo = require('yo-yo')\n\nconst profile = {\n  name: 'debugger',\n  displayName: 'Debugger',\n  methods: ['debug', 'getTrace'],\n  events: [],\n  icon: 'assets/img/debuggerLogo.webp',\n  description: 'Debug transactions',\n  kind: 'debugging',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/debugger.html',\n  version: packageJson.version\n}\n\nexport class DebuggerTab extends DebuggerApiMixin(ViewPlugin) {\n  constructor () {\n    super(profile)\n    this.el = null\n    this.initDebuggerApi()\n  }\n\n  render () {\n    if (this.el) return this.el\n\n    this.el = yo`\n      <div class=\"${css.debuggerTabView}\" id=\"debugView\">\n        <div id=\"debugger\" class=\"${css.debugger}\"></div>\n      </div>`\n\n    this.on('fetchAndCompile', 'compiling', (settings) => {\n      toaster(yo`<div><b>Recompiling and debugging with params</b><pre class=\"text-left\">${JSON.stringify(settings, null, '\\t')}</pre></div>`)\n    })\n\n    this.on('fetchAndCompile', 'compilationFailed', (data) => {\n      toaster(yo`<div><b>Compilation failed...</b> continuing <i>without</i> source code debugging.</div>`)\n    })\n\n    this.on('fetchAndCompile', 'notFound', (contractAddress) => {\n      toaster(yo`<div><b>Contract ${contractAddress} not found in source code repository</b> continuing <i>without</i> source code debugging.</div>`)\n    })\n\n    this.on('fetchAndCompile', 'usingLocalCompilation', (contractAddress) => {\n      toaster(yo`<div><b>Using compilation result from Solidity module</b></div>`)\n    })\n\n    this.on('fetchAndCompile', 'sourceVerificationNotAvailable', () => {\n      toaster(yo`<div><b>Source verification plugin not activated or not available.</b> continuing <i>without</i> source code debugging.</div>`)\n    })\n\n    this.renderComponent()\n\n    return this.el\n  }\n\n  showMessage (title, message) {\n    try {\n      modalDialogCustom.alert(title, remixBleach.sanitize(message))\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <DebuggerUI debuggerAPI={this} />\n      , this.el)\n  }\n}\n","import * as packageJson from '../../../../../package.json'\nimport { Plugin } from '@remixproject/engine'\nimport Web3 from 'web3'\nconst yo = require('yo-yo')\nconst modalDialogCustom = require('../ui/modal-dialog-custom')\n\nconst profile = {\n  name: 'hardhat-provider',\n  displayName: 'Hardhat Provider',\n  kind: 'provider',\n  description: 'Hardhat provider',\n  methods: ['sendAsync'],\n  version: packageJson.version\n}\n\nexport default class HardhatProvider extends Plugin {\n  constructor (blockchain) {\n    super(profile)\n    this.provider = null\n    this.blocked = false // used to block any call when trying to recover after a failed connection.\n    this.blockchain = blockchain\n  }\n\n  onDeactivation () {\n    this.provider = null\n    this.blocked = false\n  }\n\n  hardhatProviderDialogBody () {\n    return yo`\n        <div class=\"\">\n          Note: To run Hardhat network node on your system, go to hardhat project folder and run command:\n          <div class=\"border p-1\">npx hardhat node</div>\n        <br>\n        For more info, visit: <a href=\"https://hardhat.org/getting-started/#connecting-a-wallet-or-dapp-to-hardhat-network\" target=\"_blank\">Hardhat Documentation</a>\n        <br><br>\n        Hardhat JSON-RPC Endpoint\n      </div>\n    `\n  }\n\n  sendAsync (data) {\n    return new Promise((resolve, reject) => {\n      if (this.blocked) return reject(new Error('provider unable to connect'))\n      // If provider is not set, allow to open modal only when provider is trying to connect\n      if (!this.provider) {\n        modalDialogCustom.prompt('Hardhat node request', this.hardhatProviderDialogBody(), 'http://127.0.0.1:8545', (target) => {\n          this.provider = new Web3.providers.HttpProvider(target)\n          this.sendAsyncInternal(data, resolve, reject)\n        }, () => {\n          this.sendAsyncInternal(data, resolve, reject)\n        })\n      } else {\n        this.sendAsyncInternal(data, resolve, reject)\n      }\n    })\n  }\n\n  sendAsyncInternal (data, resolve, reject) {\n    if (this.provider) {\n      // Check the case where current environment is VM on UI and it still sends RPC requests\n      // This will be displayed on UI tooltip as 'cannot get account list: Environment Updated !!'\n      if (this.blockchain.getProvider() !== 'Hardhat Provider' && data.method !== 'net_listening') return reject(new Error('Environment Updated !!'))\n      this.provider[this.provider.sendAsync ? 'sendAsync' : 'send'](data, async (error, message) => {\n        if (error) {\n          this.blocked = true\n          modalDialogCustom.alert('Hardhat Provider', `Error while connecting to the hardhat provider: ${error.message}`)\n          await this.call('udapp', 'setEnvironmentMode', { context: 'vm', fork: 'london' })\n          this.provider = null\n          setTimeout(_ => { this.blocked = false }, 1000) // we wait 1 second for letting remix to switch to vm\n          return reject(error)\n        }\n        resolve(message)\n      })\n    } else {\n      const result = data.method === 'net_listening' ? 'canceled' : []\n      resolve({ jsonrpc: '2.0', result: result, id: data.id })\n    }\n  }\n}\n\nmodule.exports = HardhatProvider\n","import { Plugin } from '@remixproject/engine'\nimport * as packageJson from '../../../../../package.json'\nimport { Web3 } from 'web3'\n\nexport const profile = {\n  name: 'network',\n  description: 'Manage the network (mainnet, ropsten, goerli...) and the provider (web3, vm, injected)',\n  methods: ['getNetworkProvider', 'getEndpoint', 'detectNetwork', 'addNetwork', 'removeNetwork'],\n  version: packageJson.version,\n  kind: 'network'\n}\n\n// Network API has :\n// - events: ['providerChanged']\n// - methods: ['getNetworkProvider', 'getEndpoint', 'detectNetwork', 'addNetwork', 'removeNetwork']\n\nexport class NetworkModule extends Plugin {\n  constructor (blockchain) {\n    super(profile)\n    this.blockchain = blockchain\n    // TODO: See with remix-lib to make sementic coherent\n    this.blockchain.event.register('contextChanged', (provider) => {\n      this.emit('providerChanged', provider)\n    })\n  }\n\n  /** Return the current network provider (web3, vm, injected) */\n  getNetworkProvider () {\n    return this.blockchain.getProvider()\n  }\n\n  /** Return the current network */\n  detectNetwork () {\n    return new Promise((resolve, reject) => {\n      this.blockchain.detectNetwork((error, network) => {\n        error ? reject(error) : resolve(network)\n      })\n    })\n  }\n\n  /** Return the url only if network provider is 'web3' */\n  getEndpoint () {\n    const provider = this.blockchain.getProvider()\n    if (provider !== 'web3') {\n      throw new Error('no endpoint: current provider is either injected or vm')\n    }\n    return this.blockchain.web3().currentProvider.host\n  }\n\n  /** Add a custom network to the list of available networks */\n  addNetwork (network) { // { name, url }\n    const provider = network.url === 'ipc' ? new Web3.providers.IpcProvider() : new Web3.providers.HttpProvider(network.url)\n    this.blockchain.addProvider({ name: network.name, provider })\n  }\n\n  /** Remove a network to the list of availble networks */\n  removeNetwork (name) {\n    this.blockchain.removeProvider(name)\n  }\n}\n","import publishToStorage from '../../../publishToStorage'\nconst yo = require('yo-yo')\nconst ethJSUtil = require('ethereumjs-util')\nconst css = require('../styles/run-tab-styles')\nconst modalDialogCustom = require('../../ui/modal-dialog-custom')\nconst remixLib = require('@remix-project/remix-lib')\nconst EventManager = remixLib.EventManager\nconst confirmDialog = require('../../ui/confirmDialog')\nconst modalDialog = require('../../ui/modaldialog')\nconst MultiParamManager = require('../../ui/multiParamManager')\nconst helper = require('../../../lib/helper')\nconst addTooltip = require('../../ui/tooltip')\nconst _paq = window._paq = window._paq || []\n\nclass ContractDropdownUI {\n  constructor (blockchain, dropdownLogic, logCallback, runView) {\n    this.blockchain = blockchain\n    this.dropdownLogic = dropdownLogic\n    this.logCallback = logCallback\n    this.runView = runView\n    this.event = new EventManager()\n\n    this.listenToEvents()\n    this.ipfsCheckedState = false\n    this.exEnvironment = blockchain.getProvider()\n    this.listenToContextChange()\n    this.loadType = 'other'\n  }\n\n  listenToEvents () {\n    this.dropdownLogic.event.register('newlyCompiled', (success, data, source, compiler, compilerFullName, file) => {\n      if (!this.selectContractNames) return\n      this.selectContractNames.innerHTML = ''\n      if (success) {\n        this.dropdownLogic.getCompiledContracts(compiler, compilerFullName).forEach((contract) => {\n          this.selectContractNames.appendChild(yo`<option value=\"${contract.name}\" compiler=\"${compilerFullName}\">${contract.name} - ${contract.file}</option>`)\n        })\n      }\n      this.enableAtAddress(success)\n      this.enableContractNames(success)\n      this.setInputParamsPlaceHolder()\n\n      if (success) {\n        this.compFails.style.display = 'none'\n      } else {\n        this.compFails.style.display = 'block'\n      }\n    })\n  }\n\n  listenToContextChange () {\n    this.blockchain.event.register('networkStatus', ({ error, network }) => {\n      if (error) {\n        console.log('can\\'t detect network')\n        return\n      }\n      this.exEnvironment = this.blockchain.getProvider()\n      this.networkName = network.name\n      this.networkId = network.id\n\n      const savedConfig = window.localStorage.getItem(`ipfs/${this.exEnvironment}/${this.networkName}`)\n\n      // check if an already selected option exist else use default workflow\n      if (savedConfig !== null) {\n        this.setCheckedState(savedConfig)\n      } else {\n        this.setCheckedState(this.networkName === 'Main')\n      }\n    })\n  }\n\n  setCheckedState (value) {\n    value = value === 'true' ? true : value === 'false' ? false : value\n    this.ipfsCheckedState = value\n    if (this.ipfsCheckbox) this.ipfsCheckbox.checked = value\n  }\n\n  toggleCheckedState () {\n    if (this.exEnvironment === 'vm') this.networkName = 'VM'\n    this.ipfsCheckedState = !this.ipfsCheckedState\n    window.localStorage.setItem(`ipfs/${this.exEnvironment}/${this.networkName}`, this.ipfsCheckedState)\n  }\n\n  enableContractNames (enable) {\n    if (enable) {\n      if (this.selectContractNames.value === '') return\n      this.selectContractNames.removeAttribute('disabled')\n      this.selectContractNames.setAttribute('title', 'Select contract for Deploy or At Address.')\n    } else {\n      this.selectContractNames.setAttribute('disabled', true)\n      if (this.loadType === 'sol') {\n        this.selectContractNames.setAttribute('title', ' Select and compile *.sol file to deploy or access a contract.')\n      } else {\n        this.selectContractNames.setAttribute('title', ' Selected *.abi file allows accessing contracts, select and compile *.sol file to deploy and access one.')\n      }\n    }\n  }\n\n  enableAtAddress (enable) {\n    if (enable) {\n      const address = this.atAddressButtonInput.value\n      if (!address || !ethJSUtil.isValidAddress(address)) {\n        this.enableAtAddress(false)\n        return\n      }\n      this.atAddress.removeAttribute('disabled')\n      this.atAddress.setAttribute('title', 'Interact with the given contract.')\n    } else {\n      this.atAddress.setAttribute('disabled', true)\n      if (this.atAddressButtonInput.value === '') {\n        this.atAddress.setAttribute('title', ' Compile *.sol file or select *.abi file & then enter the address of deployed contract.')\n      } else {\n        this.atAddress.setAttribute('title', ' Compile *.sol file or select *.abi file.')\n      }\n    }\n  }\n\n  render () {\n    this.compFails = yo`<i title=\"No contract compiled yet or compilation failed. Please check the compile tab for more information.\" class=\"m-2 ml-3 fas fa-times-circle ${css.errorIcon}\" ></i>`\n    this.atAddress = yo`<button class=\"${css.atAddress} btn btn-sm btn-info\" id=\"runAndDeployAtAdressButton\" onclick=${this.loadFromAddress.bind(this)}>At Address</button>`\n    this.atAddressButtonInput = yo`<input class=\"${css.input} ${css.ataddressinput} ataddressinput form-control\" placeholder=\"Load contract from Address\" title=\"address of contract\" oninput=${this.atAddressChanged.bind(this)} />`\n    this.selectContractNames = yo`<select class=\"${css.contractNames} custom-select\" disabled title=\"Please compile *.sol file to deploy or access a contract\"></select>`\n    this.abiLabel = yo`<span class=\"py-1\">ABI file selected</span>`\n    if (this.exEnvironment === 'vm') this.networkName = 'VM'\n    this.enableAtAddress(false)\n    this.abiLabel.style.display = 'none'\n\n    const savedConfig = window.localStorage.getItem(`ipfs/${this.exEnvironment}/${this.networkName}`)\n    this.ipfsCheckedState = savedConfig === 'true' ? true : false // eslint-disable-line\n\n    this.ipfsCheckbox = yo`\n      <input\n        id=\"deployAndRunPublishToIPFS\"\n        data-id=\"contractDropdownIpfsCheckbox\"\n        class=\"form-check-input custom-control-input\"\n        type=\"checkbox\"\n        onchange=${() => this.toggleCheckedState()}\n      >\n    `\n    if (this.ipfsCheckedState) this.ipfsCheckbox.checked = true\n\n    this.deployCheckBox = yo`\n      <div class=\"d-flex py-1 align-items-center custom-control custom-checkbox\">\n        ${this.ipfsCheckbox}\n        <label\n          for=\"deployAndRunPublishToIPFS\"\n          data-id=\"contractDropdownIpfsCheckboxLabel\"\n          class=\"m-0 form-check-label custom-control-label ${css.checkboxAlign}\"\n          title=\"Publishing the source code and metadata to IPFS facilitates source code verification using Sourcify and will greatly foster contract adoption (auditing, debugging, calling it, etc...)\"\n        >\n          Publish to IPFS\n        </label>\n      </div>\n      `\n    this.createPanel = yo`<div class=\"${css.deployDropdown}\"></div>`\n    this.orLabel = yo`<div class=\"${css.orLabel} mt-2\">or</div>`\n\n    const contractNamesContainer = yo`\n      <div class=\"${css.container}\" data-id=\"contractDropdownContainer\">\n        <label class=\"${css.settingsLabel}\">Contract</label>\n        <div class=\"${css.subcontainer}\">\n          ${this.selectContractNames} ${this.compFails}\n          ${this.abiLabel}\n        </div>\n        <div>\n          ${this.createPanel}\n          ${this.orLabel}\n          <div class=\"${css.button} ${css.atAddressSect}\">\n            ${this.atAddress}\n            ${this.atAddressButtonInput}\n          </div>\n        </div>\n      </div>\n    `\n    this.selectContractNames.addEventListener('change', this.setInputParamsPlaceHolder.bind(this))\n    this.setInputParamsPlaceHolder()\n    if (!this.contractNamesContainer) {\n      this.contractNamesContainer = contractNamesContainer\n    }\n    return contractNamesContainer\n  }\n\n  atAddressChanged (event) {\n    if (!this.atAddressButtonInput.value) {\n      this.enableAtAddress(false)\n    } else {\n      if ((this.selectContractNames && !this.selectContractNames.getAttribute('disabled') && this.loadType === 'sol') ||\n        this.loadType === 'abi') {\n        this.enableAtAddress(true)\n      } else {\n        this.enableAtAddress(false)\n      }\n    }\n  }\n\n  changeCurrentFile (currentFile) {\n    if (!this.selectContractNames) return\n    if (/.(.abi)$/.exec(currentFile)) {\n      this.createPanel.style.display = 'none'\n      this.orLabel.style.display = 'none'\n      this.compFails.style.display = 'none'\n      this.loadType = 'abi'\n      this.contractNamesContainer.style.display = 'block'\n      this.abiLabel.style.display = 'block'\n      this.abiLabel.innerHTML = currentFile\n      this.selectContractNames.style.display = 'none'\n      this.enableContractNames(true)\n      this.enableAtAddress(true)\n    } else if (/.(.sol)$/.exec(currentFile) ||\n        /.(.vy)$/.exec(currentFile) || // vyper\n        /.(.lex)$/.exec(currentFile) || // lexon\n        /.(.contract)$/.exec(currentFile)) {\n      this.createPanel.style.display = 'block'\n      this.orLabel.style.display = 'block'\n      this.contractNamesContainer.style.display = 'block'\n      this.loadType = 'sol'\n      this.selectContractNames.style.display = 'block'\n      this.abiLabel.style.display = 'none'\n      if (this.selectContractNames.value === '') this.enableAtAddress(false)\n    } else {\n      this.loadType = 'other'\n      this.createPanel.style.display = 'block'\n      this.orLabel.style.display = 'block'\n      this.contractNamesContainer.style.display = 'block'\n      this.selectContractNames.style.display = 'block'\n      this.abiLabel.style.display = 'none'\n      if (this.selectContractNames.value === '') this.enableAtAddress(false)\n    }\n  }\n\n  setInputParamsPlaceHolder () {\n    this.createPanel.innerHTML = ''\n    if (this.selectContractNames.selectedIndex < 0 || this.selectContractNames.children.length <= 0) {\n      this.createPanel.innerHTML = 'No compiled contracts'\n      return\n    }\n\n    const selectedContract = this.getSelectedContract()\n    const clickCallback = async (valArray, inputsValues) => {\n      var selectedContract = this.getSelectedContract()\n      this.createInstance(selectedContract, inputsValues)\n    }\n    const createConstructorInstance = new MultiParamManager(\n      0,\n      selectedContract.getConstructorInterface(),\n      clickCallback,\n      selectedContract.getConstructorInputs(),\n      'Deploy',\n      selectedContract.bytecodeObject,\n      true\n    )\n    this.createPanel.appendChild(createConstructorInstance.render())\n    this.createPanel.appendChild(this.deployCheckBox)\n  }\n\n  getSelectedContract () {\n    var contract = this.selectContractNames.children[this.selectContractNames.selectedIndex]\n    var contractName = contract.getAttribute('value')\n    var compilerAtributeName = contract.getAttribute('compiler')\n\n    return this.dropdownLogic.getSelectedContract(contractName, compilerAtributeName)\n  }\n\n  async createInstance (selectedContract, args) {\n    if (selectedContract.bytecodeObject.length === 0) {\n      return modalDialogCustom.alert('This contract may be abstract, not implement an abstract parent\\'s methods completely or not invoke an inherited contract\\'s constructor correctly.')\n    }\n\n    var continueCb = (error, continueTxExecution, cancelCb) => {\n      if (error) {\n        var msg = typeof error !== 'string' ? error.message : error\n        modalDialog('Gas estimation failed', yo`<div>Gas estimation errored with the following message (see below).\n        The transaction execution will likely fail. Do you want to force sending? <br>\n        ${msg}\n        </div>`,\n        {\n          label: 'Send Transaction',\n          fn: () => {\n            continueTxExecution()\n          }\n        }, {\n          label: 'Cancel Transaction',\n          fn: () => {\n            cancelCb()\n          }\n        })\n      } else {\n        continueTxExecution()\n      }\n    }\n\n    const self = this\n\n    var promptCb = (okCb, cancelCb) => {\n      modalDialogCustom.promptPassphrase('Passphrase requested', 'Personal mode is enabled. Please provide passphrase of account', '', okCb, cancelCb)\n    }\n\n    var statusCb = (msg) => {\n      return this.logCallback(msg)\n    }\n\n    var finalCb = (error, contractObject, address) => {\n      self.event.trigger('clearInstance')\n\n      if (error) {\n        return this.logCallback(error)\n      }\n      self.event.trigger('newContractInstanceAdded', [contractObject, address, contractObject.name])\n\n      const data = self.runView.compilersArtefacts.getCompilerAbstract(contractObject.contract.file)\n      self.runView.compilersArtefacts.addResolvedContract(helper.addressToString(address), data)\n      if (self.ipfsCheckedState) {\n        _paq.push(['trackEvent', 'udapp', 'DeployAndPublish', this.networkName + '_' + this.networkId])\n        publishToStorage('ipfs', self.runView.fileProvider, self.runView.fileManager, selectedContract)\n      } else {\n        _paq.push(['trackEvent', 'udapp', 'DeployOnly', this.networkName + '_' + this.networkId])\n      }\n    }\n\n    let contractMetadata\n    try {\n      contractMetadata = await this.runView.call('compilerMetadata', 'deployMetadataOf', selectedContract.name, selectedContract.contract.file)\n    } catch (error) {\n      return statusCb(`creation of ${selectedContract.name} errored: ${error.message ? error.message : error}`)\n    }\n\n    const compilerContracts = this.dropdownLogic.getCompilerContracts()\n    const confirmationCb = this.getConfirmationCb(modalDialog, confirmDialog)\n\n    if (selectedContract.isOverSizeLimit()) {\n      return modalDialog('Contract code size over limit', yo`<div>Contract creation initialization returns data with length of more than 24576 bytes. The deployment will likely fails. <br>\n      More info: <a href=\"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-170.md\" target=\"_blank\">eip-170</a>\n      </div>`,\n      {\n        label: 'Force Send',\n        fn: () => {\n          this.deployContract(selectedContract, args, contractMetadata, compilerContracts, { continueCb, promptCb, statusCb, finalCb }, confirmationCb)\n        }\n      }, {\n        label: 'Cancel',\n        fn: () => {\n          this.logCallback(`creation of ${selectedContract.name} canceled by user.`)\n        }\n      })\n    }\n    this.deployContract(selectedContract, args, contractMetadata, compilerContracts, { continueCb, promptCb, statusCb, finalCb }, confirmationCb)\n  }\n\n  deployContract (selectedContract, args, contractMetadata, compilerContracts, callbacks, confirmationCb) {\n    _paq.push(['trackEvent', 'udapp', 'DeployContractTo', this.networkName + '_' + this.networkId])\n    const { statusCb } = callbacks\n    if (!contractMetadata || (contractMetadata && contractMetadata.autoDeployLib)) {\n      return this.blockchain.deployContractAndLibraries(selectedContract, args, contractMetadata, compilerContracts, callbacks, confirmationCb)\n    }\n    if (Object.keys(selectedContract.bytecodeLinkReferences).length) statusCb(`linking ${JSON.stringify(selectedContract.bytecodeLinkReferences, null, '\\t')} using ${JSON.stringify(contractMetadata.linkReferences, null, '\\t')}`)\n    this.blockchain.deployContractWithLibrary(selectedContract, args, contractMetadata, compilerContracts, callbacks, confirmationCb)\n  }\n\n  getConfirmationCb (modalDialog, confirmDialog) {\n    // this code is the same as in recorder.js. TODO need to be refactored out\n    const confirmationCb = (network, tx, gasEstimation, continueTxExecution, cancelCb) => {\n      if (network.name !== 'Main') {\n        return continueTxExecution(null)\n      }\n      const amount = this.blockchain.fromWei(tx.value, true, 'ether')\n      const content = confirmDialog(tx, network, amount, gasEstimation, this.blockchain.determineGasFees(tx), this.blockchain.determineGasPrice.bind(this.blockchain))\n\n      modalDialog('Confirm transaction', content,\n        {\n          label: 'Confirm',\n          fn: () => {\n            this.blockchain.config.setUnpersistedProperty('doNotShowTransactionConfirmationAgain', content.querySelector('input#confirmsetting').checked)\n            // TODO: check if this is check is still valid given the refactor\n            if (!content.gasPriceStatus) {\n              cancelCb('Given transaction fee is not correct')\n            } else {\n              continueTxExecution(content.txFee)\n            }\n          }\n        }, {\n          label: 'Cancel',\n          fn: () => {\n            return cancelCb('Transaction canceled by user.')\n          }\n        }\n      )\n    }\n\n    return confirmationCb\n  }\n\n  loadFromAddress () {\n    this.event.trigger('clearInstance')\n\n    let address = this.atAddressButtonInput.value\n    if (!ethJSUtil.isValidChecksumAddress(address)) {\n      addTooltip(yo`\n        <span>\n          It seems you are not using a checksumed address.\n          <br>A checksummed address is an address that contains uppercase letters, as specified in <a href=\"https://eips.ethereum.org/EIPS/eip-55\" target=\"_blank\">EIP-55</a>.\n          <br>Checksummed addresses are meant to help prevent users from sending transactions to the wrong address.\n        </span>`)\n      address = ethJSUtil.toChecksumAddress(address)\n    }\n    this.dropdownLogic.loadContractFromAddress(address,\n      (cb) => {\n        modalDialogCustom.confirm('At Address', `Do you really want to interact with ${address} using the current ABI definition?`, cb)\n      },\n      (error, loadType, abi) => {\n        if (error) {\n          return modalDialogCustom.alert(error)\n        }\n        if (loadType === 'abi') {\n          return this.event.trigger('newContractABIAdded', [abi, address])\n        }\n        var selectedContract = this.getSelectedContract()\n        this.event.trigger('newContractInstanceAdded', [selectedContract.object, address, this.selectContractNames.value])\n      }\n    )\n  }\n}\n\nmodule.exports = ContractDropdownUI\n","import { CompilerAbstract } from '@remix-project/remix-solidity'\nconst remixLib = require('@remix-project/remix-lib')\nconst txHelper = remixLib.execution.txHelper\nconst EventManager = remixLib.EventManager\nconst _paq = window._paq = window._paq || []\n\nclass DropdownLogic {\n  constructor (compilersArtefacts, config, editor, runView) {\n    this.compilersArtefacts = compilersArtefacts\n    this.config = config\n    this.editor = editor\n    this.runView = runView\n\n    this.event = new EventManager()\n\n    this.listenToCompilationEvents()\n  }\n\n  // TODO: can be moved up; the event in contractDropdown will have to refactored a method instead\n  listenToCompilationEvents () {\n    const broadcastCompilationResult = (file, source, languageVersion, data) => {\n      // TODO check whether the tab is configured\n      const compiler = new CompilerAbstract(languageVersion, data, source)\n      this.compilersArtefacts[languageVersion] = compiler\n      this.compilersArtefacts.__last = compiler\n      this.event.trigger('newlyCompiled', [true, data, source, compiler, languageVersion, file])\n    }\n    this.runView.on('solidity', 'compilationFinished', (file, source, languageVersion, data) =>\n      broadcastCompilationResult(file, source, languageVersion, data)\n    )\n    this.runView.on('vyper', 'compilationFinished', (file, source, languageVersion, data) =>\n      broadcastCompilationResult(file, source, languageVersion, data)\n    )\n    this.runView.on('lexon', 'compilationFinished', (file, source, languageVersion, data) =>\n      broadcastCompilationResult(file, source, languageVersion, data)\n    )\n    this.runView.on('yulp', 'compilationFinished', (file, source, languageVersion, data) =>\n      broadcastCompilationResult(file, source, languageVersion, data)\n    )\n    this.runView.on('optimism-compiler', 'compilationFinished', (file, source, languageVersion, data) =>\n      broadcastCompilationResult(file, source, languageVersion, data)\n    )\n  }\n\n  loadContractFromAddress (address, confirmCb, cb) {\n    if (/.(.abi)$/.exec(this.config.get('currentFile'))) {\n      confirmCb(() => {\n        var abi\n        try {\n          abi = JSON.parse(this.editor.currentContent())\n        } catch (e) {\n          return cb('Failed to parse the current file as JSON ABI.')\n        }\n        _paq.push(['trackEvent', 'udapp', 'AtAddressLoadWithABI'])\n        cb(null, 'abi', abi)\n      })\n    } else {\n      _paq.push(['trackEvent', 'udapp', 'AtAddressLoadWithArtifacts'])\n      cb(null, 'instance')\n    }\n  }\n\n  getCompiledContracts (compiler, compilerFullName) {\n    var contracts = []\n    compiler.visitContracts((contract) => {\n      contracts.push(contract)\n    })\n    return contracts\n  }\n\n  getSelectedContract (contractName, compilerAtributeName) {\n    if (!contractName) return null\n\n    var compiler = this.compilersArtefacts[compilerAtributeName]\n    if (!compiler) return null\n\n    var contract = compiler.getContract(contractName)\n\n    return {\n      name: contractName,\n      contract: contract,\n      compiler: compiler,\n      abi: contract.object.abi,\n      bytecodeObject: contract.object.evm.bytecode.object,\n      bytecodeLinkReferences: contract.object.evm.bytecode.linkReferences,\n      object: contract.object,\n      deployedBytecode: contract.object.evm.deployedBytecode,\n      getConstructorInterface: () => {\n        return txHelper.getConstructorInterface(contract.object.abi)\n      },\n      getConstructorInputs: () => {\n        var constructorInteface = txHelper.getConstructorInterface(contract.object.abi)\n        return txHelper.inputParametersDeclarationToString(constructorInteface.inputs)\n      },\n      isOverSizeLimit: () => {\n        var deployedBytecode = contract.object.evm.deployedBytecode\n        return (deployedBytecode && deployedBytecode.object.length / 2 > 24576)\n      },\n      metadata: contract.object.metadata\n    }\n  }\n\n  getCompilerContracts () {\n    return this.compilersArtefacts.__last.getData().contracts\n  }\n}\n\nmodule.exports = DropdownLogic\n","var async = require('async')\nvar ethutil = require('ethereumjs-util')\nvar remixLib = require('@remix-project/remix-lib')\nvar EventManager = remixLib.EventManager\nvar format = remixLib.execution.txFormat\nvar txHelper = remixLib.execution.txHelper\nconst helper = require('../../../../lib/helper')\n\n/**\n  * Record transaction as long as the user create them.\n  */\nclass Recorder {\n  constructor (blockchain) {\n    var self = this\n    self.event = new EventManager()\n    self.blockchain = blockchain\n    self.data = { _listen: true, _replay: false, journal: [], _createdContracts: {}, _createdContractsReverse: {}, _usedAccounts: {}, _abis: {}, _contractABIReferences: {}, _linkReferences: {} }\n\n    this.blockchain.event.register('initiatingTransaction', (timestamp, tx, payLoad) => {\n      if (tx.useCall) return\n      var { from, to, value } = tx\n\n      // convert to and from to tokens\n      if (this.data._listen) {\n        var record = { value, parameters: payLoad.funArgs }\n        if (!to) {\n          var abi = payLoad.contractABI\n          var keccak = ethutil.bufferToHex(ethutil.keccakFromString(JSON.stringify(abi)))\n          record.abi = keccak\n          record.contractName = payLoad.contractName\n          record.bytecode = payLoad.contractBytecode\n          record.linkReferences = payLoad.linkReferences\n          if (record.linkReferences && Object.keys(record.linkReferences).length) {\n            for (var file in record.linkReferences) {\n              for (var lib in record.linkReferences[file]) {\n                self.data._linkReferences[lib] = '<address>'\n              }\n            }\n          }\n          self.data._abis[keccak] = abi\n\n          this.data._contractABIReferences[timestamp] = keccak\n        } else {\n          var creationTimestamp = this.data._createdContracts[to]\n          record.to = `created{${creationTimestamp}}`\n          record.abi = this.data._contractABIReferences[creationTimestamp]\n        }\n        record.name = payLoad.funAbi.name\n        record.inputs = txHelper.serializeInputs(payLoad.funAbi)\n        record.type = payLoad.funAbi.type\n        for (var p in record.parameters) {\n          var thisarg = record.parameters[p]\n          var thistimestamp = this.data._createdContracts[thisarg]\n          if (thistimestamp) record.parameters[p] = `created{${thistimestamp}}`\n        }\n\n        this.blockchain.getAccounts((error, accounts) => {\n          if (error) return console.log(error)\n          record.from = `account{${accounts.indexOf(from)}}`\n          self.data._usedAccounts[record.from] = from\n          self.append(timestamp, record)\n        })\n      }\n    })\n\n    this.blockchain.event.register('transactionExecuted', (error, from, to, data, call, txResult, timestamp, _payload) => {\n      if (error) return console.log(error)\n      if (call) return\n      const rawAddress = txResult.receipt.contractAddress\n      if (!rawAddress) return // not a contract creation\n      const address = helper.addressToString(rawAddress)\n      // save back created addresses for the convertion from tokens to real adresses\n      this.data._createdContracts[address] = timestamp\n      this.data._createdContractsReverse[timestamp] = address\n    })\n    this.blockchain.event.register('contextChanged', this.clearAll.bind(this))\n    this.event.register('newTxRecorded', (count) => {\n      this.event.trigger('recorderCountChange', [count])\n    })\n    this.event.register('cleared', () => {\n      this.event.trigger('recorderCountChange', [0])\n    })\n  }\n\n  /**\n    * stop/start saving txs. If not listenning, is basically in replay mode\n    *\n    * @param {Bool} listen\n    */\n  setListen (listen) {\n    this.data._listen = listen\n    this.data._replay = !listen\n  }\n\n  extractTimestamp (value) {\n    var stamp = /created{(.*)}/g.exec(value)\n    if (stamp) {\n      return stamp[1]\n    }\n    return null\n  }\n\n  /**\n    * convert back from/to from tokens to real addresses\n    *\n    * @param {Object} record\n    * @param {Object} accounts\n    * @param {Object} options\n    *\n    */\n  resolveAddress (record, accounts, options) {\n    if (record.to) {\n      var stamp = this.extractTimestamp(record.to)\n      if (stamp) {\n        record.to = this.data._createdContractsReverse[stamp]\n      }\n    }\n    record.from = accounts[record.from]\n    // @TODO: writing browser test\n    return record\n  }\n\n  /**\n    * save the given @arg record\n    *\n    * @param {Number/String} timestamp\n    * @param {Object} record\n    *\n    */\n  append (timestamp, record) {\n    var self = this\n    self.data.journal.push({ timestamp, record })\n    self.event.trigger('newTxRecorded', [self.data.journal.length])\n  }\n\n  /**\n    * basically return the records + associate values (like abis / accounts)\n    *\n    */\n  getAll () {\n    var self = this\n    var records = [].concat(self.data.journal)\n    return {\n      accounts: self.data._usedAccounts,\n      linkReferences: self.data._linkReferences,\n      transactions: records.sort((A, B) => {\n        var stampA = A.timestamp\n        var stampB = B.timestamp\n        return stampA - stampB\n      }),\n      abis: self.data._abis\n    }\n  }\n\n  /**\n    * delete the seen transactions\n    *\n    */\n  clearAll () {\n    var self = this\n    self.data._listen = true\n    self.data._replay = false\n    self.data.journal = []\n    self.data._createdContracts = {}\n    self.data._createdContractsReverse = {}\n    self.data._usedAccounts = {}\n    self.data._abis = {}\n    self.data._contractABIReferences = {}\n    self.data._linkReferences = {}\n    self.event.trigger('cleared', [])\n  }\n\n  /**\n    * run the list of records\n    *\n    * @param {Object} accounts\n    * @param {Object} options\n    * @param {Object} abis\n    * @param {Function} newContractFn\n    *\n    */\n  run (records, accounts, options, abis, linkReferences, confirmationCb, continueCb, promptCb, alertCb, logCallBack, newContractFn) {\n    var self = this\n    self.setListen(false)\n    logCallBack(`Running ${records.length} transaction(s) ...`)\n    async.eachOfSeries(records, function (tx, index, cb) {\n      var record = self.resolveAddress(tx.record, accounts, options)\n      var abi = abis[tx.record.abi]\n      if (!abi) {\n        return alertCb('cannot find ABI for ' + tx.record.abi + '.  Execution stopped at ' + index)\n      }\n      /* Resolve Library */\n      if (record.linkReferences && Object.keys(record.linkReferences).length) {\n        for (var k in linkReferences) {\n          var link = linkReferences[k]\n          var timestamp = self.extractTimestamp(link)\n          if (timestamp && self.data._createdContractsReverse[timestamp]) {\n            link = self.data._createdContractsReverse[timestamp]\n          }\n          tx.record.bytecode = format.linkLibraryStandardFromlinkReferences(k, link.replace('0x', ''), tx.record.bytecode, tx.record.linkReferences)\n        }\n      }\n      /* Encode params */\n      var fnABI\n      if (tx.record.type === 'constructor') {\n        fnABI = txHelper.getConstructorInterface(abi)\n      } else if (tx.record.type === 'fallback') {\n        fnABI = txHelper.getFallbackInterface(abi)\n      } else if (tx.record.type === 'receive') {\n        fnABI = txHelper.getReceiveInterface(abi)\n      } else {\n        fnABI = txHelper.getFunction(abi, record.name + record.inputs)\n      }\n      if (!fnABI) {\n        alertCb('cannot resolve abi of ' + JSON.stringify(record, null, '\\t') + '. Execution stopped at ' + index)\n        return cb('cannot resolve abi')\n      }\n      if (tx.record.parameters) {\n        /* check if we have some params to resolve */\n        try {\n          tx.record.parameters.forEach((value, index) => {\n            var isString = true\n            if (typeof value !== 'string') {\n              isString = false\n              value = JSON.stringify(value)\n            }\n            for (var timestamp in self.data._createdContractsReverse) {\n              value = value.replace(new RegExp('created\\\\{' + timestamp + '\\\\}', 'g'), self.data._createdContractsReverse[timestamp])\n            }\n            if (!isString) value = JSON.parse(value)\n            tx.record.parameters[index] = value\n          })\n        } catch (e) {\n          return alertCb('cannot resolve input parameters ' + JSON.stringify(tx.record.parameters) + '. Execution stopped at ' + index)\n        }\n      }\n      var data = format.encodeData(fnABI, tx.record.parameters, tx.record.bytecode)\n      if (data.error) {\n        alertCb(data.error + '. Record:' + JSON.stringify(record, null, '\\t') + '. Execution stopped at ' + index)\n        return cb(data.error)\n      }\n      logCallBack(`(${index}) ${JSON.stringify(record, null, '\\t')}`)\n      logCallBack(`(${index}) data: ${data.data}`)\n      record.data = { dataHex: data.data, funArgs: tx.record.parameters, funAbi: fnABI, contractBytecode: tx.record.bytecode, contractName: tx.record.contractName, timestamp: tx.timestamp }\n\n      self.blockchain.runTx(record, confirmationCb, continueCb, promptCb,\n        function (err, txResult, rawAddress) {\n          if (err) {\n            console.error(err)\n            return logCallBack(err + '. Execution failed at ' + index)\n          }\n          if (rawAddress) {\n            const address = helper.addressToString(rawAddress)\n            // save back created addresses for the convertion from tokens to real adresses\n            self.data._createdContracts[address] = tx.timestamp\n            self.data._createdContractsReverse[tx.timestamp] = address\n            newContractFn(abi, address, record.contractName)\n          }\n          cb(err)\n        }\n      )\n    }, () => { self.setListen(true); self.clearAll() })\n  }\n\n  runScenario (json, continueCb, promptCb, alertCb, confirmationCb, logCallBack, cb) {\n    if (!json) {\n      return cb('a json content must be provided')\n    }\n    if (typeof json === 'string') {\n      try {\n        json = JSON.parse(json)\n      } catch (e) {\n        return cb('A scenario file is required. It must be json formatted')\n      }\n    }\n\n    try {\n      var txArray = json.transactions || []\n      var accounts = json.accounts || []\n      var options = json.options || {}\n      var abis = json.abis || {}\n      var linkReferences = json.linkReferences || {}\n    } catch (e) {\n      return cb('Invalid Scenario File. Please try again')\n    }\n\n    if (!txArray.length) {\n      return\n    }\n\n    this.run(txArray, accounts, options, abis, linkReferences, confirmationCb, continueCb, promptCb, alertCb, logCallBack, (abi, address, contractName) => {\n      cb(null, abi, address, contractName)\n    })\n  }\n}\n\nmodule.exports = Recorder\n","import { Plugin } from '@remixproject/engine'\n\nimport * as packageJson from '../../../../../../package.json'\nvar yo = require('yo-yo')\nvar remixLib = require('@remix-project/remix-lib')\nvar EventManager = remixLib.EventManager\nvar csjs = require('csjs-inject')\nvar css = require('../styles/run-tab-styles')\n\nvar modalDialogCustom = require('../../ui/modal-dialog-custom')\nvar modalDialog = require('../../ui/modaldialog')\nvar confirmDialog = require('../../ui/confirmDialog')\n\nvar helper = require('../../../lib/helper.js')\n\nconst profile = {\n  name: 'recorder',\n  methods: ['runScenario'],\n  version: packageJson.version\n}\n\nclass RecorderUI extends Plugin {\n  constructor (blockchain, fileManager, recorder, logCallBack, config) {\n    super(profile)\n    this.fileManager = fileManager\n    this.blockchain = blockchain\n    this.recorder = recorder\n    this.logCallBack = logCallBack\n    this.config = config\n    this.event = new EventManager()\n  }\n\n  render () {\n    var css2 = csjs`\n      .container {}\n      .runTxs {}\n      .recorder {}\n    `\n\n    this.runButton = yo`<i class=\"fas fa-play runtransaction ${css2.runTxs} ${css.icon}\"  title=\"Run Transactions\" aria-hidden=\"true\"></i>`\n    this.recordButton = yo`\n      <i class=\"fas fa-save savetransaction ${css2.recorder} ${css.icon}\"\n        onclick=${this.triggerRecordButton.bind(this)} title=\"Save Transactions\" aria-hidden=\"true\">\n      </i>`\n\n    this.runButton.onclick = () => {\n      const file = this.config.get('currentFile')\n      if (!file) return modalDialogCustom.alert('A scenario file has to be selected')\n      this.runScenario(file)\n    }\n  }\n\n  runScenario (file) {\n    if (!file) return modalDialogCustom.alert('Unable to run scenerio, no specified scenario file')\n    var continueCb = (error, continueTxExecution, cancelCb) => {\n      if (error) {\n        var msg = typeof error !== 'string' ? error.message : error\n        modalDialog('Gas estimation failed', yo`<div>Gas estimation errored with the following message (see below).\n        The transaction execution will likely fail. Do you want to force sending? <br>\n        ${msg}\n        </div>`,\n        {\n          label: 'Send Transaction',\n          fn: () => {\n            continueTxExecution()\n          }\n        }, {\n          label: 'Cancel Transaction',\n          fn: () => {\n            cancelCb()\n          }\n        })\n      } else {\n        continueTxExecution()\n      }\n    }\n\n    var promptCb = (okCb, cancelCb) => {\n      modalDialogCustom.promptPassphrase('Passphrase requested', 'Personal mode is enabled. Please provide passphrase of account', '', okCb, cancelCb)\n    }\n\n    var alertCb = (msg) => {\n      modalDialogCustom.alert(msg)\n    }\n\n    const confirmationCb = this.getConfirmationCb(modalDialog, confirmDialog)\n\n    this.fileManager.readFile(file).then((json) => {\n      // TODO: there is still a UI dependency to remove here, it's still too coupled at this point to remove easily\n      this.recorder.runScenario(json, continueCb, promptCb, alertCb, confirmationCb, this.logCallBack, (error, abi, address, contractName) => {\n        if (error) {\n          return modalDialogCustom.alert(error)\n        }\n\n        this.event.trigger('newScenario', [abi, address, contractName])\n      })\n    }).catch((error) => modalDialogCustom.alert(error))\n  }\n\n  getConfirmationCb (modalDialog, confirmDialog) {\n    // this code is the same as in contractDropdown.js. TODO need to be refactored out\n    const confirmationCb = (network, tx, gasEstimation, continueTxExecution, cancelCb) => {\n      if (network.name !== 'Main') {\n        return continueTxExecution(null)\n      }\n      const amount = this.blockchain.fromWei(tx.value, true, 'ether')\n      const content = confirmDialog(tx, network, amount, gasEstimation, this.blockchain.determineGasFees(tx), this.blockchain.determineGasPrice.bind(this.blockchain))\n\n      modalDialog('Confirm transaction', content,\n        {\n          label: 'Confirm',\n          fn: () => {\n            this.config.setUnpersistedProperty('doNotShowTransactionConfirmationAgain', content.querySelector('input#confirmsetting').checked)\n            // TODO: check if this is check is still valid given the refactor\n            if (!content.gasPriceStatus) {\n              cancelCb('Given transaction fee is not correct')\n            } else {\n              continueTxExecution(content.txFee)\n            }\n          }\n        }, {\n          label: 'Cancel',\n          fn: () => {\n            return cancelCb('Transaction canceled by user.')\n          }\n        }\n      )\n    }\n\n    return confirmationCb\n  }\n\n  triggerRecordButton () {\n    this.saveScenario(\n      (path, cb) => {\n        modalDialogCustom.prompt('Save transactions as scenario', 'Transactions will be saved in a file under ' + path, 'scenario.json', cb)\n      },\n      (error) => {\n        if (error) return modalDialogCustom.alert(error)\n      }\n    )\n  }\n\n  saveScenario (promptCb, cb) {\n    var txJSON = JSON.stringify(this.recorder.getAll(), null, 2)\n    var path = this.fileManager.currentPath()\n    promptCb(path, input => {\n      var fileProvider = this.fileManager.fileProviderOf(path)\n      if (!fileProvider) return\n      var newFile = path + '/' + input\n      helper.createNonClashingName(newFile, fileProvider, (error, newFile) => {\n        if (error) return cb('Failed to create file. ' + newFile + ' ' + error)\n        if (!fileProvider.set(newFile, txJSON)) return cb('Failed to create file ' + newFile)\n        this.fileManager.open(newFile)\n      })\n    })\n  }\n}\n\nmodule.exports = RecorderUI\n","import { BN } from 'ethereumjs-util'\nconst $ = require('jquery')\nconst yo = require('yo-yo')\nconst remixLib = require('@remix-project/remix-lib')\nconst EventManager = remixLib.EventManager\nconst css = require('../styles/run-tab-styles')\nconst copyToClipboard = require('../../ui/copy-to-clipboard')\nconst modalDialogCustom = require('../../ui/modal-dialog-custom')\nconst addTooltip = require('../../ui/tooltip')\nconst helper = require('../../../lib/helper.js')\nconst globalRegistry = require('../../../global/registry')\n\nclass SettingsUI {\n  constructor (blockchain, networkModule) {\n    this.blockchain = blockchain\n    this.event = new EventManager()\n    this._components = {}\n\n    this.blockchain.event.register('transactionExecuted', (error, from, to, data, lookupOnly, txResult) => {\n      if (!lookupOnly) this.el.querySelector('#value').value = 0\n      if (error) return\n      this.updateAccountBalances()\n    })\n    this._components = {\n      registry: globalRegistry,\n      networkModule: networkModule\n    }\n    this._components.registry = globalRegistry\n    this._deps = {\n      config: this._components.registry.get('config').api\n    }\n\n    this._deps.config.events.on('settings/personal-mode_changed', this.onPersonalChange.bind(this))\n\n    setInterval(() => {\n      this.updateAccountBalances()\n    }, 1000)\n\n    this.accountListCallId = 0\n    this.loadedAccounts = {}\n  }\n\n  updateAccountBalances () {\n    if (!this.el) return\n    var accounts = $(this.el.querySelector('#txorigin')).children('option')\n    accounts.each((index, account) => {\n      this.blockchain.getBalanceInEther(account.value, (err, balance) => {\n        if (err) return\n        const updated = helper.shortenAddress(account.value, balance)\n        if (updated !== account.innerText) { // check if the balance has been updated and update UI accordingly.\n          account.innerText = updated\n        }\n      })\n    })\n  }\n\n  validateInputKey (e) {\n    // preventing not numeric keys\n    // preventing 000 case\n    if (!helper.isNumeric(e.key) ||\n      (e.key === '0' && !parseInt(this.el.querySelector('#value').value) && this.el.querySelector('#value').value.length > 0)) {\n      e.preventDefault()\n      e.stopImmediatePropagation()\n    }\n  }\n\n  validateValue () {\n    const valueEl = this.el.querySelector('#value')\n    if (!valueEl.value) {\n      // assign 0 if given value is\n      // - empty\n      valueEl.value = 0\n      return\n    }\n\n    let v\n    try {\n      v = new BN(valueEl.value, 10)\n      valueEl.value = v.toString(10)\n    } catch (e) {\n      // assign 0 if given value is\n      // - not valid (for ex 4345-54)\n      // - contains only '0's (for ex 0000) copy past or edit\n      valueEl.value = 0\n    }\n\n    // if giveen value is negative(possible with copy-pasting) set to 0\n    if (v.lt(0)) valueEl.value = 0\n  }\n\n  render () {\n    this.netUI = yo`<span class=\"${css.network} badge badge-secondary\"></span>`\n\n    var environmentEl = yo`\n      <div class=\"${css.crow}\">\n        <label id=\"selectExEnv\" class=\"${css.settingsLabel}\">\n          Environment\n        </label>\n        <div class=\"${css.environment}\">\n          <select id=\"selectExEnvOptions\" data-id=\"settingsSelectEnvOptions\" class=\"form-control ${css.select} custom-select\">\n            <option id=\"vm-mode-london\" data-id=\"settingsVMLondonMode\"\n              title=\"Execution environment does not connect to any node, everything is local and in memory only.\"\n              value=\"vm-london\" name=\"executionContext\" fork=\"london\"> JavaScript VM (London)\n            </option>\n            <option id=\"vm-mode-berlin\" data-id=\"settingsVMBerlinMode\"\n              title=\"Execution environment does not connect to any node, everything is local and in memory only.\"\n              value=\"vm-berlin\" name=\"executionContext\" fork=\"berlin\" > JavaScript VM (Berlin)\n            </option>\n            <option id=\"injected-mode\" data-id=\"settingsInjectedMode\"\n              title=\"Execution environment has been provided by Metamask or similar provider.\"\n              value=\"injected\" name=\"executionContext\"> Injected Web3\n            </option>\n            <option id=\"web3-mode\" data-id=\"settingsWeb3Mode\"\n              title=\"Execution environment connects to node at localhost (or via IPC if available), transactions will be sent to the network and can cause loss of money or worse!\n              If this page is served via https and you access your node via http, it might not work. In this case, try cloning the repository and serving it via http.\"\n              value=\"web3\" name=\"executionContext\"> Web3 Provider\n            </option>\n          </select>\n          <a href=\"https://remix-ide.readthedocs.io/en/latest/run.html#run-setup\" target=\"_blank\"><i class=\"${css.infoDeployAction} ml-2 fas fa-info\" title=\"check out docs to setup Environment\"></i></a>\n        </div>\n      </div>\n    `\n    const networkEl = yo`\n    <div class=\"${css.crow}\">\n        <div class=\"${css.settingsLabel}\">\n        </div>\n        <div class=\"${css.environment}\" data-id=\"settingsNetworkEnv\">\n          ${this.netUI}\n        </div>\n      </div>\n    `\n    const accountEl = yo`\n      <div class=\"${css.crow}\">\n        <label class=\"${css.settingsLabel}\">\n          Account\n          <span id=\"remixRunPlusWraper\" title=\"Create a new account\" onload=${this.updatePlusButton.bind(this)}>\n            <i id=\"remixRunPlus\" class=\"fas fa-plus-circle ${css.icon}\" aria-hidden=\"true\" onclick=${this.newAccount.bind(this)}\"></i>\n          </span>\n        </label>\n        <div class=\"${css.account}\">\n          <select data-id=\"runTabSelectAccount\" name=\"txorigin\" class=\"form-control ${css.select} custom-select pr-4\" id=\"txorigin\"></select>\n          <div style=\"margin-left: -5px;\">${copyToClipboard(() => document.querySelector('#runTabView #txorigin').value)}</div>\n          <i id=\"remixRunSignMsg\" data-id=\"settingsRemixRunSignMsg\" class=\"mx-1 fas fa-edit ${css.icon}\" aria-hidden=\"true\" onclick=${this.signMessage.bind(this)} title=\"Sign a message using this account key\"></i>\n        </div>\n      </div>\n    `\n\n    const gasPriceEl = yo`\n      <div class=\"${css.crow}\">\n        <label class=\"${css.settingsLabel}\">Gas limit</label>\n        <input type=\"number\" class=\"form-control ${css.gasNval} ${css.col2}\" id=\"gasLimit\" value=\"3000000\">\n      </div>\n    `\n\n    const valueEl = yo`\n      <div class=\"${css.crow}\">\n        <label class=\"${css.settingsLabel}\" data-id=\"remixDRValueLabel\">Value</label>\n        <div class=\"${css.gasValueContainer}\">\n          <input\n            type=\"number\"\n            min=\"0\"\n            pattern=\"^[0-9]\"\n            step=\"1\"\n            class=\"form-control ${css.gasNval} ${css.col2}\"\n            id=\"value\"\n            data-id=\"dandrValue\"\n            value=\"0\"\n            title=\"Enter the value and choose the unit\"\n            onkeypress=${(e) => this.validateInputKey(e)}\n            onchange=${() => this.validateValue()}\n          >\n          <select name=\"unit\" class=\"form-control p-1 ${css.gasNvalUnit} ${css.col2_2} custom-select\" id=\"unit\">\n            <option data-unit=\"wei\">Wei</option>\n            <option data-unit=\"gwei\">Gwei</option>\n            <option data-unit=\"finney\">Finney</option>\n            <option data-unit=\"ether\">Ether</option>\n          </select>\n        </div>\n      </div>\n    `\n\n    const el = yo`\n      <div class=\"${css.settings}\">\n        ${environmentEl}\n        ${networkEl}\n        ${accountEl}\n        ${gasPriceEl}\n        ${valueEl}\n      </div>\n    `\n\n    var selectExEnv = environmentEl.querySelector('#selectExEnvOptions')\n    this.setDropdown(selectExEnv)\n\n    this.blockchain.event.register('contextChanged', (context, silent) => {\n      this.setFinalContext()\n    })\n\n    this.blockchain.event.register('networkStatus', ({ error, network }) => {\n      if (error) {\n        this.netUI.innerHTML = 'can\\'t detect network '\n        return\n      }\n      const networkProvider = this._components.networkModule.getNetworkProvider.bind(this._components.networkModule)\n      this.netUI.innerHTML = (networkProvider() !== 'vm') ? `${network.name} (${network.id || '-'}) network` : ''\n    })\n\n    setInterval(() => {\n      this.fillAccountsList()\n    }, 1000)\n\n    this.el = el\n\n    this.fillAccountsList()\n    return el\n  }\n\n  setDropdown (selectExEnv) {\n    this.selectExEnv = selectExEnv\n\n    const addProvider = (network) => {\n      selectExEnv.appendChild(yo`<option\n        title=\"provider name: ${network.name}\"\n        value=\"${network.name}\"\n        name=\"executionContext\"\n      >\n        ${network.name}\n      </option>`)\n      addTooltip(yo`<span><b>${network.name}</b> provider added</span>`)\n    }\n\n    const removeProvider = (name) => {\n      var env = selectExEnv.querySelector(`option[value=\"${name}\"]`)\n      if (env) {\n        selectExEnv.removeChild(env)\n        addTooltip(yo`<span><b>${name}</b> provider removed</span>`)\n      }\n    }\n    this.blockchain.event.register('addProvider', provider => addProvider(provider))\n    this.blockchain.event.register('removeProvider', name => removeProvider(name))\n\n    selectExEnv.addEventListener('change', (event) => {\n      const provider = selectExEnv.options[selectExEnv.selectedIndex]\n      const fork = provider.getAttribute('fork') // can be undefined if connected to an external source (web3 provider / injected)\n      let context = provider.value\n      context = context.startsWith('vm') ? 'vm' : context // context has to be 'vm', 'web3' or 'injected'\n      this.setExecutionContext({ context, fork })\n    })\n\n    selectExEnv.value = this._getProviderDropdownValue()\n  }\n\n  setExecutionContext (context) {\n    this.blockchain.changeExecutionContext(context, () => {\n      modalDialogCustom.prompt('External node request', this.web3ProviderDialogBody(), 'http://127.0.0.1:8545', (target) => {\n        this.blockchain.setProviderFromEndpoint(target, context, (alertMsg) => {\n          if (alertMsg) addTooltip(alertMsg)\n          this.setFinalContext()\n        })\n      }, this.setFinalContext.bind(this))\n    }, (alertMsg) => {\n      addTooltip(alertMsg)\n    }, this.setFinalContext.bind(this))\n  }\n\n  web3ProviderDialogBody () {\n    const thePath = '<path/to/local/folder/for/test/chain>'\n\n    return yo`\n      <div class=\"\">\n        Note: To use Geth & https://remix.ethereum.org, configure it to allow requests from Remix:(see <a href=\"https://geth.ethereum.org/docs/rpc/server\" target=\"_blank\">Geth Docs on rpc server</a>)\n        <div class=\"border p-1\">geth --http --http.corsdomain https://remix.ethereum.org</div>\n        <br>\n        To run Remix & a local Geth test node, use this command: (see <a href=\"https://geth.ethereum.org/getting-started/dev-mode\" target=\"_blank\">Geth Docs on Dev mode</a>)\n        <div class=\"border p-1\">geth --http --http.corsdomain=\"${window.origin}\" --http.api web3,eth,debug,personal,net --vmdebug --datadir ${thePath} --dev console</div>\n        <br>\n        <br> \n        <b>WARNING:</b> It is not safe to use the --http.corsdomain flag with a wildcard: <b>--http.corsdomain *</b>\n        <br>\n        <br>For more info: <a href=\"https://remix-ide.readthedocs.io/en/latest/run.html#more-about-web3-provider\" target=\"_blank\">Remix Docs on Web3 Provider</a>\n        <br>\n        <br> \n        Web3 Provider Endpoint\n      </div>\n    `\n  }\n\n  /**\n   * generate a value used by the env dropdown list.\n   * @return {String} - can return 'vm-berlin, 'vm-london', 'injected' or 'web3'\n   */\n  _getProviderDropdownValue () {\n    const provider = this.blockchain.getProvider()\n    const fork = this.blockchain.getCurrentFork()\n    return provider === 'vm' ? provider + '-' + fork : provider\n  }\n\n  setFinalContext () {\n    // set the final context. Cause it is possible that this is not the one we've originaly selected\n    this.selectExEnv.value = this._getProviderDropdownValue()\n    this.event.trigger('clearInstance', [])\n    this.updatePlusButton()\n  }\n\n  updatePlusButton () {\n    // enable/disable + button\n    const plusBtn = document.getElementById('remixRunPlus')\n    const plusTitle = document.getElementById('remixRunPlusWraper')\n    switch (this.selectExEnv.value) {\n      case 'injected':\n        plusBtn.classList.add(css.disableMouseEvents)\n        plusTitle.title = \"Unfortunately it's not possible to create an account using injected web3. Please create the account directly from your provider (i.e metamask or other of the same type).\"\n\n        break\n      case 'vm':\n        plusBtn.classList.remove(css.disableMouseEvents)\n        plusTitle.title = 'Create a new account'\n\n        break\n\n      case 'web3':\n        this.onPersonalChange()\n\n        break\n      default: {\n        plusBtn.classList.add(css.disableMouseEvents)\n        plusTitle.title = `Unfortunately it's not possible to create an account using an external wallet (${this.selectExEnv.value}).`\n      }\n    }\n  }\n\n  onPersonalChange () {\n    const plusBtn = document.getElementById('remixRunPlus')\n    const plusTitle = document.getElementById('remixRunPlusWraper')\n    if (!this._deps.config.get('settings/personal-mode')) {\n      plusBtn.classList.add(css.disableMouseEvents)\n      plusTitle.title = 'Creating an account is possible only in Personal mode. Please go to Settings to enable it.'\n    } else {\n      plusBtn.classList.remove(css.disableMouseEvents)\n      plusTitle.title = 'Create a new account'\n    }\n  }\n\n  newAccount () {\n    this.blockchain.newAccount(\n      '',\n      (cb) => {\n        modalDialogCustom.promptPassphraseCreation((error, passphrase) => {\n          if (error) {\n            return modalDialogCustom.alert(error)\n          }\n          cb(passphrase)\n        }, () => {})\n      },\n      (error, address) => {\n        if (error) {\n          return addTooltip('Cannot create an account: ' + error)\n        }\n        addTooltip(`account ${address} created`)\n      }\n    )\n  }\n\n  getSelectedAccount () {\n    return this.el.querySelector('#txorigin').selectedOptions[0].value\n  }\n\n  getEnvironment () {\n    return this.blockchain.getProvider()\n  }\n\n  signMessage () {\n    this.blockchain.getAccounts((err, accounts) => {\n      if (err) {\n        return addTooltip(`Cannot get account list: ${err}`)\n      }\n\n      var signMessageDialog = { title: 'Sign a message', text: 'Enter a message to sign', inputvalue: 'Message to sign' }\n      var $txOrigin = this.el.querySelector('#txorigin')\n      if (!$txOrigin.selectedOptions[0] && (this.blockchain.isInjectedWeb3() || this.blockchain.isWeb3Provider())) {\n        return addTooltip('Account list is empty, please make sure the current provider is properly connected to remix')\n      }\n\n      var account = $txOrigin.selectedOptions[0].value\n\n      var promptCb = (passphrase) => {\n        const modal = modalDialogCustom.promptMulti(signMessageDialog, (message) => {\n          this.blockchain.signMessage(message, account, passphrase, (err, msgHash, signedData) => {\n            if (err) {\n              return addTooltip(err)\n            }\n            modal.hide()\n            modalDialogCustom.alert(yo`\n              <div>\n                <b>hash:</b><br>\n                <span id=\"remixRunSignMsgHash\" data-id=\"settingsRemixRunSignMsgHash\">${msgHash}</span>\n                <br><b>signature:</b><br>\n                <span id=\"remixRunSignMsgSignature\" data-id=\"settingsRemixRunSignMsgSignature\">${signedData}</span>\n              </div>\n            `)\n          })\n        }, false)\n      }\n\n      if (this.blockchain.isWeb3Provider()) {\n        return modalDialogCustom.promptPassphrase(\n          'Passphrase to sign a message',\n          'Enter your passphrase for this account to sign the message',\n          '',\n          promptCb,\n          false\n        )\n      }\n      promptCb()\n    })\n  }\n\n  // TODO: unclear what's the goal of accountListCallId, feels like it can be simplified\n  async fillAccountsList () {\n    this.accountListCallId++\n    const callid = this.accountListCallId\n    const txOrigin = this.el.querySelector('#txorigin')\n    let accounts = []\n    try {\n      accounts = await this.blockchain.getAccounts()\n    } catch (e) {\n      addTooltip(`Cannot get account list: ${e}`)\n    }\n    if (!accounts) accounts = []\n    if (this.accountListCallId > callid) return\n    this.accountListCallId++\n    for (const loadedaddress in this.loadedAccounts) {\n      if (accounts.indexOf(loadedaddress) === -1) {\n        txOrigin.removeChild(txOrigin.querySelector('option[value=\"' + loadedaddress + '\"]'))\n        delete this.loadedAccounts[loadedaddress]\n      }\n    }\n    for (const i in accounts) {\n      const address = accounts[i]\n      if (!this.loadedAccounts[address]) {\n        txOrigin.appendChild(yo`<option value=\"${address}\" >${address}</option>`)\n        this.loadedAccounts[address] = 1\n      }\n    }\n    txOrigin.setAttribute('value', accounts[0])\n  }\n}\n\nmodule.exports = SettingsUI\n","import React from 'react' // eslint-disable-line\nimport { ViewPlugin } from '@remixproject/engine-web'\nimport ReactDOM from 'react-dom'\nimport * as packageJson from '../../../../../package.json'\nimport { RemixUiSettings } from '@remix-ui/settings' //eslint-disable-line\nconst globalRegistry = require('../../global/registry')\n\nconst profile = {\n  name: 'settings',\n  displayName: 'Settings',\n  methods: ['get'],\n  events: [],\n  icon: 'assets/img/settings.webp',\n  description: 'Remix-IDE settings',\n  kind: 'settings',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/settings.html',\n  version: packageJson.version,\n  permission: true\n}\n\nmodule.exports = class SettingsTab extends ViewPlugin {\n  constructor (config, editor) {\n    super(profile)\n    this.config = config\n    this.editor = editor\n    this._deps = {\n      themeModule: globalRegistry.get('themeModule').api\n    }\n    this.element = document.createElement('div')\n    this.element.setAttribute('id', 'settingsTab')\n    this.useMatomoAnalytics = null\n  }\n\n  onActivation () {\n    this.renderComponent()\n  }\n\n  render () {\n    return this.element\n  }\n\n  renderComponent () {\n    ReactDOM.render(\n      <RemixUiSettings\n        config = { this.config }\n        editor = { this.editor }\n        _deps = { this._deps }\n        useMatomoAnalytics = {this.useMatomoAnalytics}\n      />,\n      this.element\n    )\n  }\n\n  get (key) {\n    return this.config.get(key)\n  }\n\n  updateMatomoAnalyticsChoice (isChecked) {\n    this.config.set('settings/matomo-analytics', isChecked)\n    this.useMatomoAnalytics = isChecked\n    this.renderComponent()\n  }\n}\n","const csjs = require('csjs-inject')\n\nconst css = csjs`\n  .compilerTabView {\n    padding: 2%;\n  }\n`\n\nmodule.exports = css\n","var csjs = require('csjs-inject')\n\nconst css = csjs`\n  .debuggerTabView {\n    padding: 2%;\n  }\n  .debugger {\n    margin-bottom: 1%;\n  }\n`\n\nmodule.exports = css\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n  .runTabView {\n    display: flex;\n    flex-direction: column;\n  }\n  .runTabView::-webkit-scrollbar {\n    display: none;\n  }\n  .settings {\n    padding: 0 24px 16px;\n  }\n  .crow {\n    display: block;\n    margin-top: 8px;\n  }\n  .col1 {\n    width: 30%;\n    float: left;\n    align-self: center;\n  }\n  .settingsLabel {\n    font-size: 11px;\n    margin-bottom: 4px;\n    text-transform: uppercase;\n  }\n  .environment {\n    display: flex;\n    align-items: center;\n    position: relative;\n    width: 100%;\n  }\n  .environment a {\n    margin-left: 7px;\n  }\n  .account {\n    display: flex;\n    align-items: center;\n  }\n  .account i {\n    margin-left: 12px;\n  }\n  .col2 {\n    border-radius: 3px;\n  }\n  .col2_1 {\n    width: 164px;\n    min-width: 164px;\n  }\n  .col2_2 {\n  }\n  .select {\n    font-weight: normal;\n    width: 100%;\n    overflow: hidden;\n  }\n  .instanceContainer {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 2%;\n    border: none;\n    text-align: center;\n    padding: 0 14px 16px;\n  }\n  .pendingTxsContainer  {\n    display: flex;\n    flex-direction: column;\n    margin-top: 2%;\n    border: none;\n    text-align: center;\n  }\n  .container {\n    padding: 0 24px 16px;\n  }\n  .recorderDescription {\n    margin: 0 15px 15px 0;\n   }\n  .contractNames {\n    width: 100%;\n    border: 1px solid\n  }\n  .subcontainer {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n  .subcontainer i {\n    width: 16px;\n    display: flex;\n    justify-content: center;\n    margin-left: 1px;\n  }\n  .button button{\n    flex: none;\n  }\n  .button {\n    display: flex;\n    align-items: center;\n    margin-top: 13px;\n  }\n  .transaction {\n  }\n  .atAddress {\n    margin: 0;\n    min-width: 100px;\n    width: 100px;\n    height: 100%;\n    word-break: inherit;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    border-right: 0;\n  }\n  .atAddressSect {\n    margin-top: 8px;\n    height: 32px;\n  }\n  .atAddressSect input {\n    height: 32px;\n    border-top-left-radius: 0 !important;\n    border-bottom-left-radius: 0 !important;\n  }\n  .ataddressinput {\n    padding: .25rem;\n  }\n  .create {\n  }\n  .input {\n    font-size: 10px !important;\n  }\n  .noInstancesText {\n    font-style: italic;\n    text-align: left;\n    padding-left: 15px;\n  }\n  .pendingTxsText {\n    font-style: italic;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n  .item {\n    margin-right: 1em;\n    display: flex;\n    align-items: center;\n  }\n  .pendingContainer {\n    display: flex;\n    align-items: baseline;\n  }\n  .pending {\n    height: 25px;\n    text-align: center;\n    padding-left: 10px;\n    border-radius: 3px;\n    margin-left: 5px;\n  }\n  .disableMouseEvents {\n    pointer-events: none;\n  }\n  .icon {\n    cursor: pointer;\n    font-size: 12px;\n    cursor: pointer;\n    margin-left: 5px;\n  }\n  .icon:hover {\n    font-size: 12px;\n    color: var(--warning);\n  }\n  .errorIcon {\n    color: var(--warning);\n    margin-left: 15px;\n  }\n  .failDesc {\n    color: var(--warning);\n    padding-left: 10px;\n    display: inline;\n  }\n  .network {\n    margin-left: 8px;\n    pointer-events: none;\n  }\n  .networkItem {\n    margin-right: 5px;\n  }\n  .transactionActions {\n    display: flex;\n    justify-content: space-evenly;\n    width: 145px;\n  }\n  .orLabel {\n    text-align: center;\n    text-transform: uppercase;\n  }\n  .infoDeployAction {\n    margin-left: 1px;\n    font-size: 13px;\n    color: var(--info);\n  }\n  .gasValueContainer {\n    flex-direction: row;\n    display: flex;\n  }\n  .gasNval {\n    width: 55%;\n    font-size: 0.8rem;\n  }\n  .gasNvalUnit {\n    width: 41%;\n    margin-left: 10px;\n    font-size: 0.8rem;\n  }\n  .deployDropdown {\n    text-align: center;\n    text-transform: uppercase;\n  }\n  .checkboxAlign {\n    padding-top: 2px;\n  }\n`\n\nmodule.exports = css\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n  .testTabView {}\n  .infoBox  {\n    margin: 5%;\n  }\n  .tests {}\n  .testList {\n    line-height: 2em;\n    display: flex;\n    flex-direction: column;\n    margin: 5%;\n    max-height: 300px;\n    overflow-y: auto;\n\n  }\n  .container {\n    margin: 2%;\n    padding-bottom: 5%;\n    max-height: 300px;\n    overflow-y: auto;\n  }\n  .summaryTitle {\n    font-weight: bold;\n  }\n  .testPass {\n  }\n  .testLog {\n    margin-bottom: 1%;\n    border-radius: 4px;\n    padding: 1% 1% 1% 5%;\n  }\n  .testFailureSummary {\n  }\n  .title {\n    font-size: 1.1em;\n    font-weight: bold;\n    margin-bottom: 1em;\n  }\n  .label {\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n  }\n  .labelOnBtn {\n    border: hidden;\n  }\n  .inputFolder {\n    width: 80%;\n  }\n`\nmodule.exports = css\n","import { ViewPlugin } from '@remixproject/engine-web'\nimport { removeMultipleSlashes, removeTrailingSlashes } from '../../lib/helper'\nimport { canUseWorker, urlFromVersion } from '@remix-project/remix-solidity'\nimport { format } from 'util'\nvar yo = require('yo-yo')\nvar async = require('async')\nvar tooltip = require('../ui/tooltip')\nvar Renderer = require('../ui/renderer')\nvar css = require('./styles/test-tab-styles')\nvar { UnitTestRunner, assertLibCode } = require('@remix-project/remix-tests')\n\nconst _paq = window._paq = window._paq || []\n\nconst TestTabLogic = require('./testTab/testTab')\n\nconst profile = {\n  name: 'solidityUnitTesting',\n  displayName: 'Solidity unit testing',\n  methods: ['testFromPath', 'testFromSource', 'setTestFolderPath', 'getTestlibs'],\n  events: [],\n  icon: 'assets/img/unitTesting.webp',\n  description: 'Fast tool to generate unit tests for your contracts',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/unittesting.html'\n}\n\nmodule.exports = class TestTab extends ViewPlugin {\n  constructor (fileManager, offsetToLineColumnConverter, filePanel, compileTab, appManager, contentImport) {\n    super(profile)\n    this.compileTab = compileTab\n    this.contentImport = contentImport\n    this._view = { el: null }\n    this.fileManager = fileManager\n    this.filePanel = filePanel\n    this.data = {}\n    this.appManager = appManager\n    this.renderer = new Renderer(this)\n    this.testRunner = new UnitTestRunner()\n    this.hasBeenStopped = false\n    this.runningTestsNumber = 0\n    this.readyTestsNumber = 0\n    this.areTestsRunning = false\n    this.defaultPath = 'tests'\n    this.offsetToLineColumnConverter = offsetToLineColumnConverter\n    this.allFilesInvolved = ['.deps/remix-tests/remix_tests.sol', '.deps/remix-tests/remix_accounts.sol']\n    this.isDebugging = false\n    this.currentErrors = []\n\n    appManager.event.on('activate', (name) => {\n      if (name === 'solidity') this.updateRunAction()\n    })\n    appManager.event.on('deactivate', (name) => {\n      if (name === 'solidity') this.updateRunAction()\n    })\n  }\n\n  onActivationInternal () {\n    this.testTabLogic = new TestTabLogic(this.fileManager)\n    this.listenToEvents()\n    this.call('filePanel', 'registerContextMenuItem', {\n      id: 'solidityUnitTesting',\n      name: 'setTestFolderPath',\n      label: 'Set path for Unit Testing',\n      type: ['folder'],\n      extension: [],\n      path: [],\n      pattern: []\n    })\n  }\n\n  async setTestFolderPath (event) {\n    if (event.path.length > 0) {\n      await this.setCurrentPath(event.path[0])\n    }\n  }\n\n  getTestlibs () {\n    return { assertLibCode, accountsLibCode: this.testRunner.accountsLibCode }\n  }\n\n  async createTestLibs () {\n    const provider = await this.fileManager.currentFileProvider()\n    if (provider) {\n      provider.addExternal('.deps/remix-tests/remix_tests.sol', assertLibCode, 'remix_tests.sol')\n      provider.addExternal('.deps/remix-tests/remix_accounts.sol', this.testRunner.accountsLibCode, 'remix_accounts.sol')\n    }\n  }\n\n  async onActivation () {\n    const isSolidityActive = await this.call('manager', 'isActive', 'solidity')\n    if (!isSolidityActive) {\n      await this.call('manager', 'activatePlugin', 'solidity')\n    }\n    await this.testRunner.init()\n    await this.createTestLibs()\n    this.updateRunAction()\n  }\n\n  onDeactivation () {\n    this.off('filePanel', 'newTestFileCreated')\n    this.off('filePanel', 'setWorkspace')\n    // 'currentFileChanged' event is added more than once\n    this.fileManager.events.removeAllListeners('currentFileChanged')\n  }\n\n  listenToEvents () {\n    this.on('filePanel', 'newTestFileCreated', async file => {\n      try {\n        await this.testTabLogic.getTests((error, tests) => {\n          if (error) return tooltip(error)\n          this.data.allTests = tests\n          this.data.selectedTests = [...this.data.allTests]\n          this.updateTestFileList(tests)\n          if (!this.testsOutput) return // eslint-disable-line\n        })\n      } catch (e) {\n        console.log(e)\n        this.data.allTests.push(file)\n        this.data.selectedTests.push(file)\n      }\n    })\n\n    this.on('filePanel', 'setWorkspace', async () => {\n      this.setCurrentPath(this.defaultPath)\n    })\n\n    this.on('filePanel', 'workspaceCreated', async () => {\n      this.createTestLibs()\n    })\n\n    this.testRunner.event.on('compilationFinished', (success, data, source) => {\n      if (success) {\n        this.allFilesInvolved.push(...Object.keys(data.sources))\n        // forwarding the event to the appManager infra\n        // This is listened by compilerArtefacts to show data while debugging\n        this.emit('compilationFinished', source.target, source, 'soljson', data)\n      }\n    })\n\n    this.fileManager.events.on('noFileSelected', () => {\n    })\n\n    this.fileManager.events.on('currentFileChanged', (file, provider) => this.updateForNewCurrent(file))\n  }\n\n  async updateForNewCurrent (file) {\n    // Ensure that when someone clicks on compilation error and that opens a new file\n    // Test result, which is compilation error in this case, is not cleared\n    if (this.currentErrors) {\n      if (Array.isArray(this.currentErrors) && this.currentErrors.length > 0) {\n        const errFiles = this.currentErrors.map(err => { if (err.sourceLocation && err.sourceLocation.file) return err.sourceLocation.file })\n        if (errFiles.includes(file)) return\n      } else if (this.currentErrors.sourceLocation && this.currentErrors.sourceLocation.file && this.currentErrors.sourceLocation.file === file) return\n    }\n    // if current file is changed while debugging and one of the files imported in test file are opened\n    // do not clear the test results in SUT plugin\n    if (this.isDebugging && this.allFilesInvolved.includes(file)) return\n    this.data.allTests = []\n    this.updateTestFileList()\n    this.clearResults()\n    this.updateGenerateFileAction()\n    if (!this.areTestsRunning) this.updateRunAction(file)\n    try {\n      await this.testTabLogic.getTests((error, tests) => {\n        if (error) return tooltip(error)\n        this.data.allTests = tests\n        this.data.selectedTests = [...this.data.allTests]\n        this.updateTestFileList(tests)\n        if (!this.testsOutput) return // eslint-disable-line\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  createSingleTest (testFile) {\n    return yo`\n      <div class=\"d-flex align-items-center py-1\">\n        <input class=\"singleTest\" id=\"singleTest${testFile}\" onchange=${(e) => this.toggleCheckbox(e.target.checked, testFile)} type=\"checkbox\" checked=\"true\">\n        <label class=\"singleTestLabel text-nowrap pl-2 mb-0\" for=\"singleTest${testFile}\">${testFile}</label>\n      </div>\n    `\n  }\n\n  listTests () {\n    if (!this.data.allTests || !this.data.allTests.length) return []\n    return this.data.allTests.map(\n      testFile => this.createSingleTest(testFile)\n    )\n  }\n\n  toggleCheckbox (eChecked, test) {\n    if (!this.data.selectedTests) {\n      this.data.selectedTests = this._view.el.querySelectorAll('.singleTest:checked')\n    }\n    let selectedTests = this.data.selectedTests\n    selectedTests = eChecked ? [...selectedTests, test] : selectedTests.filter(el => el !== test)\n    this.data.selectedTests = selectedTests\n    const checkAll = this._view.el.querySelector('[id=\"checkAllTests\"]')\n    const runBtn = document.getElementById('runTestsTabRunAction')\n\n    if (eChecked) {\n      checkAll.checked = true\n      const stopBtnInnerText = document.getElementById('runTestsTabStopAction').innerText\n      if ((this.readyTestsNumber === this.runningTestsNumber || this.hasBeenStopped) && stopBtnInnerText.trim() === 'Stop') {\n        runBtn.removeAttribute('disabled')\n        runBtn.setAttribute('title', 'Run tests')\n      }\n    } else if (!selectedTests.length) {\n      checkAll.checked = false\n      runBtn.setAttribute('disabled', 'disabled')\n      runBtn.setAttribute('title', 'No test file selected')\n    }\n  }\n\n  checkAll (event) {\n    const checkBoxes = this._view.el.querySelectorAll('.singleTest')\n    const checkboxesLabels = this._view.el.querySelectorAll('.singleTestLabel')\n    // checks/unchecks all\n    for (let i = 0; i < checkBoxes.length; i++) {\n      checkBoxes[i].checked = event.target.checked\n      this.toggleCheckbox(event.target.checked, checkboxesLabels[i].innerText)\n    }\n  }\n\n  async discardHighlight () {\n    await this.call('editor', 'discardHighlight')\n  }\n\n  async highlightLocation (location, runningTests, fileName) {\n    if (location) {\n      var split = location.split(':')\n      var file = split[2]\n      location = {\n        start: parseInt(split[0]),\n        length: parseInt(split[1])\n      }\n      location = this.offsetToLineColumnConverter.offsetToLineColumnWithContent(\n        location,\n        parseInt(file),\n        runningTests[fileName].content\n      )\n      await this.call('editor', 'discardHighlight')\n      await this.call('editor', 'highlight', location, fileName, '', { focus: true })\n    }\n  }\n\n  async startDebug (txHash, web3) {\n    this.isDebugging = true\n    if (!await this.appManager.isActive('debugger')) await this.appManager.activatePlugin('debugger')\n    this.call('menuicons', 'select', 'debugger')\n    this.call('debugger', 'debug', txHash, web3)\n  }\n\n  printHHLogs (logsArr, testName) {\n    let finalLogs = `<b>${testName}:</b>\\n`\n    for (const log of logsArr) {\n      let formattedLog\n      // Hardhat implements the same formatting options that can be found in Node.js' console.log,\n      // which in turn uses util.format: https://nodejs.org/dist/latest-v12.x/docs/api/util.html#util_util_format_format_args\n      // For example: console.log(\"Name: %s, Age: %d\", remix, 6) will log 'Name: remix, Age: 6'\n      // We check first arg to determine if 'util.format' is needed\n      if (typeof log[0] === 'string' && (log[0].includes('%s') || log[0].includes('%d'))) {\n        formattedLog = format(log[0], ...log.slice(1))\n      } else {\n        formattedLog = log.join(' ')\n      }\n      finalLogs = finalLogs + '&emsp;' + formattedLog + '\\n'\n    }\n    _paq.push(['trackEvent', 'solidityUnitTesting', 'hardhat', 'console.log'])\n    this.call('terminal', 'log', { type: 'info', value: finalLogs })\n  }\n\n  testCallback (result, runningTests) {\n    this.testsOutput.hidden = false\n    let debugBtn = yo``\n    if ((result.type === 'testPass' || result.type === 'testFailure') && result.debugTxHash) {\n      const { web3, debugTxHash } = result\n      debugBtn = yo`<div id=${result.value.replaceAll(' ', '_')} class=\"btn border btn btn-sm ml-1\" title=\"Start debugging\" onclick=${() => this.startDebug(debugTxHash, web3)}>\n        <i class=\"fas fa-bug\"></i>\n      </div>`\n      debugBtn.style.cursor = 'pointer'\n    }\n    if (result.type === 'contract') {\n      this.testSuite = result.value\n      if (this.testSuites) {\n        this.testSuites.push(this.testSuite)\n      } else {\n        this.testSuites = [this.testSuite]\n      }\n      this.rawFileName = result.filename\n      this.runningTestFileName = this.cleanFileName(this.rawFileName, this.testSuite)\n      this.outputHeader = yo`\n        <div id=\"${this.runningTestFileName}\" data-id=\"testTabSolidityUnitTestsOutputheader\" class=\"pt-1\">\n          <span class=\"font-weight-bold\">${this.testSuite} (${this.rawFileName})</span>\n        </div>\n      `\n      this.testsOutput.appendChild(this.outputHeader)\n    } else if (result.type === 'testPass') {\n      if (result.hhLogs && result.hhLogs.length) this.printHHLogs(result.hhLogs, result.value)\n      this.testsOutput.appendChild(yo`\n        <div\n          id=\"${this.runningTestFileName}\"\n          data-id=\"testTabSolidityUnitTestsOutputheader\"\n          class=\"${css.testPass} ${css.testLog} bg-light mb-2 px-2 text-success border-0\"\n          onclick=${() => this.discardHighlight()}\n        >\n          <div class=\"d-flex my-1 align-items-start justify-content-between\">\n            <span style=\"margin-block: auto\" >  ${result.value}</span>\n            ${debugBtn}\n          </div>\n        </div>\n      `)\n    } else if (result.type === 'testFailure') {\n      if (result.hhLogs && result.hhLogs.length) this.printHHLogs(result.hhLogs, result.value)\n      if (!result.assertMethod) {\n        this.testsOutput.appendChild(yo`\n        <div\n          class=\"bg-light mb-2 px-2 ${css.testLog} d-flex flex-column text-danger border-0\"\n          id=\"UTContext${result.context}\"\n          onclick=${() => this.highlightLocation(result.location, runningTests, result.filename)}\n        >\n          <div class=\"d-flex my-1 align-items-start justify-content-between\">\n            <span>  ${result.value}</span>\n            ${debugBtn}\n          </div>\n          <span class=\"text-dark\">Error Message:</span>\n          <span class=\"pb-2 text-break\">\"${result.errMsg}\"</span>\n        </div>\n      `)\n      } else {\n        const preposition = result.assertMethod === 'equal' || result.assertMethod === 'notEqual' ? 'to' : ''\n        const method = result.assertMethod === 'ok' ? '' : result.assertMethod\n        const expected = result.assertMethod === 'ok' ? '\\'true\\'' : result.expected\n        this.testsOutput.appendChild(yo`\n          <div\n            class=\"bg-light mb-2 px-2 ${css.testLog} d-flex flex-column text-danger border-0\"\n            id=\"UTContext${result.context}\"\n            onclick=${() => this.highlightLocation(result.location, runningTests, result.filename)}\n          >\n            <div class=\"d-flex my-1 align-items-start justify-content-between\">  \n              <span>  ${result.value}</span>\n              ${debugBtn}\n            </div> \n            <span class=\"text-dark\">Error Message:</span>\n            <span class=\"pb-2 text-break\">\"${result.errMsg}\"</span>\n            <span class=\"text-dark\">Assertion:</span>\n            <div class=\"d-flex flex-wrap\">\n              <span>Expected value should be</span>\n              <div class=\"mx-1 font-weight-bold\">${method}</div>\n              <div>${preposition} ${expected}</div>\n            </div>\n            <span class=\"text-dark\">Received value:</span>\n            <span>${result.returned}</span>\n            <span class=\"text-dark text-sm pb-2\">Skipping the remaining tests of the function.</span>\n          </div>\n        `)\n      }\n    } else if (result.type === 'logOnly') {\n      if (result.hhLogs && result.hhLogs.length) this.printHHLogs(result.hhLogs, result.value)\n    }\n  }\n\n  resultsCallback (_err, result, cb) {\n    // total stats for the test\n    // result.passingNum\n    // result.failureNum\n    // result.timePassed\n    cb()\n  }\n\n  cleanFileName (fileName, testSuite) {\n    return fileName ? fileName.replace(/\\//g, '_').replace(/\\./g, '_') + testSuite : fileName\n  }\n\n  setHeader (status) {\n    if (status) {\n      const label = yo`\n        <div\n          class=\"alert-success d-inline-block mb-1 mr-1 p-1 passed_${this.runningTestFileName}\"\n          title=\"All contract tests passed\"\n        >\n          PASS\n        </div>\n      `\n\n      this.outputHeader && yo.update(this.outputHeader, yo`\n        <div id=\"${this.runningTestFileName}\" data-id=\"testTabSolidityUnitTestsOutputheader\" class=\"pt-1\">\n          ${label} <span class=\"font-weight-bold\">${this.testSuite} (${this.rawFileName})</span>\n        </div>\n      `)\n    } else {\n      const label = yo`\n        <div\n          class=\"alert-danger d-inline-block mb-1 mr-1 p-1 failed_${this.runningTestFileName}\"\n          title=\"At least one contract test failed\"\n        >\n          FAIL\n        </div>\n      `\n\n      this.outputHeader && yo.update(this.outputHeader, yo`\n        <div id=\"${this.runningTestFileName}\"  data-id=\"testTabSolidityUnitTestsOutputheader\" class=\"pt-1\">\n          ${label} <span class=\"font-weight-bold\">${this.testSuite} (${this.rawFileName})</span>\n        </div>\n      `)\n    }\n  }\n\n  updateFinalResult (_errors, result, filename) {\n    ++this.readyTestsNumber\n    this.testsOutput.hidden = false\n    if (!result && (_errors && (_errors.errors || (Array.isArray(_errors) && (_errors[0].message || _errors[0].formattedMessage))))) {\n      this.testCallback({ type: 'contract', filename })\n      this.currentErrors = _errors.errors\n      this.setHeader(false)\n    }\n    if (_errors && _errors.errors) {\n      _errors.errors.forEach((err) => this.renderer.error(err.formattedMessage || err.message, this.testsOutput, { type: err.severity, errorType: err.type }))\n    } else if (_errors && Array.isArray(_errors) && (_errors[0].message || _errors[0].formattedMessage)) {\n      _errors.forEach((err) => this.renderer.error(err.formattedMessage || err.message, this.testsOutput, { type: err.severity, errorType: err.type }))\n    } else if (_errors && !_errors.errors && !Array.isArray(_errors)) {\n      // To track error like this: https://github.com/ethereum/remix/pull/1438\n      this.renderer.error(_errors.formattedMessage || _errors.message, this.testsOutput, { type: 'error' })\n    }\n    yo.update(this.resultStatistics, this.createResultLabel())\n    if (result) {\n      const totalTime = parseFloat(result.totalTime).toFixed(2)\n\n      if (result.totalPassing > 0 && result.totalFailing > 0) {\n        this.testsOutput.appendChild(yo`\n          <div class=\"d-flex alert-secondary mb-3 p-3 flex-column\">\n            <span class=\"font-weight-bold\">Result for ${filename}</span>\n            <span class=\"text-success\">Passing: ${result.totalPassing}</span>\n            <span class=\"text-danger\">Failing: ${result.totalFailing}</span>\n            <span>Total time: ${totalTime}s</span>\n          </div>\n        `)\n      } else if (result.totalPassing > 0 && result.totalFailing <= 0) {\n        this.testsOutput.appendChild(yo`\n          <div class=\"d-flex alert-secondary mb-3 p-3 flex-column\">\n            <span class=\"font-weight-bold\">Result for ${filename}</span>\n            <span class=\"text-success\">Passing: ${result.totalPassing}</span>\n            <span>Total time: ${totalTime}s</span>\n          </div>\n        `)\n      } else if (result.totalPassing <= 0 && result.totalFailing > 0) {\n        this.testsOutput.appendChild(yo`\n          <div class=\"d-flex alert-secondary mb-3 p-3 flex-column\">\n            <span class=\"font-weight-bold\">Result for ${filename}</span>\n            <span class=\"text-danger\">Failing: ${result.totalFailing}</span>\n            <span>Total time: ${totalTime}s</span>\n          </div>\n        `)\n      }\n      // fix for displaying right label for multiple tests (testsuites) in a single file\n      this.testSuites.forEach(testSuite => {\n        this.testSuite = testSuite\n        this.runningTestFileName = this.cleanFileName(filename, this.testSuite)\n        this.outputHeader = document.querySelector(`#${this.runningTestFileName}`)\n        this.setHeader(true)\n      })\n\n      result.errors.forEach((error, index) => {\n        this.testSuite = error.context\n        this.runningTestFileName = this.cleanFileName(filename, error.context)\n        this.outputHeader = document.querySelector(`#${this.runningTestFileName}`)\n        const isFailingLabel = document.querySelector(`.failed_${this.runningTestFileName}`)\n        if (!isFailingLabel) this.setHeader(false)\n      })\n      this.testsOutput.appendChild(yo`\n        <div>\n          <p class=\"text-info mb-2 border-top m-0\"></p>\n        </div>\n      `)\n    }\n    if (this.hasBeenStopped && (this.readyTestsNumber !== this.runningTestsNumber)) {\n      // if all tests has been through before stopping no need to print this.\n      this.testsExecutionStopped.hidden = false\n    }\n    if (_errors) this.testsExecutionStoppedError.hidden = false\n    if (_errors || this.hasBeenStopped || this.readyTestsNumber === this.runningTestsNumber) {\n      // All tests are ready or the operation has been canceled or there was a compilation error in one of the test files.\n      const stopBtn = document.getElementById('runTestsTabStopAction')\n      stopBtn.setAttribute('disabled', 'disabled')\n      const stopBtnLabel = document.getElementById('runTestsTabStopActionLabel')\n      stopBtnLabel.innerText = 'Stop'\n      if (this.data.selectedTests.length !== 0) {\n        const runBtn = document.getElementById('runTestsTabRunAction')\n        runBtn.removeAttribute('disabled')\n      }\n      this.areTestsRunning = false\n    }\n  }\n\n  async testFromPath (path) {\n    const fileContent = await this.fileManager.readFile(path)\n    return this.testFromSource(fileContent, path)\n  }\n\n  /**\n   * Changes the current path of Unit Testing Plugin\n   * @param path - the path from where UT plugin takes _test.sol files to run\n   */\n  async setCurrentPath (path) {\n    this.testTabLogic.setCurrentPath(path)\n    this.inputPath.value = path\n    this.updateDirList(path)\n    await this.updateForNewCurrent()\n  }\n\n  /*\n    Test is not associated with the UI\n  */\n  testFromSource (content, path = 'browser/unit_test.sol') {\n    return new Promise((resolve, reject) => {\n      const runningTest = {}\n      runningTest[path] = { content }\n      const { currentVersion, evmVersion, optimize, runs } = this.compileTab.getCurrentCompilerConfig()\n      const currentCompilerUrl = urlFromVersion(currentVersion)\n      const compilerConfig = {\n        currentCompilerUrl,\n        evmVersion,\n        optimize,\n        usingWorker: canUseWorker(currentVersion),\n        runs\n      }\n      this.testRunner.runTestSources(runningTest, compilerConfig, () => {}, () => {}, null, (error, result) => {\n        if (error) return reject(error)\n        resolve(result)\n      }, (url, cb) => {\n        return this.contentImport.resolveAndSave(url).then((result) => cb(null, result)).catch((error) => cb(error.message))\n      })\n    })\n  }\n\n  runTest (testFilePath, callback) {\n    this.isDebugging = false\n    if (this.hasBeenStopped) {\n      this.updateFinalResult()\n      return\n    }\n    this.resultStatistics.hidden = false\n    this.fileManager.readFile(testFilePath).then((content) => {\n      const runningTests = {}\n      runningTests[testFilePath] = { content }\n      const { currentVersion, evmVersion, optimize, runs, isUrl } = this.compileTab.getCurrentCompilerConfig()\n      const currentCompilerUrl = isUrl ? currentVersion : urlFromVersion(currentVersion)\n      const compilerConfig = {\n        currentCompilerUrl,\n        evmVersion,\n        optimize,\n        usingWorker: canUseWorker(currentVersion),\n        runs\n      }\n      const deployCb = async (file, contractAddress) => {\n        const compilerData = await this.call('compilerArtefacts', 'getCompilerAbstract', file)\n        await this.call('compilerArtefacts', 'addResolvedContract', contractAddress, compilerData)\n      }\n      this.testRunner.runTestSources(\n        runningTests,\n        compilerConfig,\n        (result) => this.testCallback(result, runningTests),\n        (_err, result, cb) => this.resultsCallback(_err, result, cb),\n        deployCb,\n        (error, result) => {\n          this.updateFinalResult(error, result, testFilePath)\n          callback(error)\n        }, (url, cb) => {\n          return this.contentImport.resolveAndSave(url).then((result) => cb(null, result)).catch((error) => cb(error.message))\n        }, { testFilePath }\n      )\n    }).catch((error) => {\n      if (error) return // eslint-disable-line\n    })\n  }\n\n  handleCreateFolder () {\n    this.inputPath.value = this.trimTestDirInput(this.inputPath.value)\n    let path = removeMultipleSlashes(this.inputPath.value)\n    if (path !== '/') path = removeTrailingSlashes(path)\n    if (this.inputPath.value === '') this.inputPath.value = this.defaultPath\n    this.inputPath.value = path\n    this.testTabLogic.generateTestFolder(this.inputPath.value)\n    this.createTestFolder.disabled = true\n    this.updateGenerateFileAction().disabled = false\n    this.testTabLogic.setCurrentPath(this.inputPath.value)\n    this.updateRunAction()\n    this.updateForNewCurrent()\n    this.uiPathList.appendChild(yo`<option>${this.inputPath.value}</option>`)\n  }\n\n  clearResults () {\n    yo.update(this.resultStatistics, yo`<span></span>`)\n    this.call('editor', 'clearAnnotations')\n    this.testsOutput.innerHTML = ''\n    this.testsOutput.hidden = true\n    this.testsExecutionStopped.hidden = true\n    this.testsExecutionStoppedError.hidden = true\n  }\n\n  runTests () {\n    this.areTestsRunning = true\n    this.hasBeenStopped = false\n    this.readyTestsNumber = 0\n    this.runningTestsNumber = this.data.selectedTests.length\n    const stopBtn = document.getElementById('runTestsTabStopAction')\n    stopBtn.removeAttribute('disabled')\n    const runBtn = document.getElementById('runTestsTabRunAction')\n    runBtn.setAttribute('disabled', 'disabled')\n    this.clearResults()\n    yo.update(this.resultStatistics, this.createResultLabel())\n    const tests = this.data.selectedTests\n    if (!tests) return\n    this.resultStatistics.hidden = tests.length === 0\n    _paq.push(['trackEvent', 'solidityUnitTesting', 'runTests'])\n    async.eachOfSeries(tests, (value, key, callback) => {\n      if (this.hasBeenStopped) return\n      this.runTest(value, callback)\n    })\n  }\n\n  stopTests () {\n    this.hasBeenStopped = true\n    const stopBtnLabel = document.getElementById('runTestsTabStopActionLabel')\n    stopBtnLabel.innerText = 'Stopping'\n    const stopBtn = document.getElementById('runTestsTabStopAction')\n    stopBtn.setAttribute('disabled', 'disabled')\n    const runBtn = document.getElementById('runTestsTabRunAction')\n    runBtn.setAttribute('disabled', 'disabled')\n  }\n\n  updateGenerateFileAction () {\n    const el = yo`\n      <button\n        class=\"btn border w-50\"\n        data-id=\"testTabGenerateTestFile\"\n        title=\"Generate sample test file.\"\n        onclick=\"${this.testTabLogic.generateTestFile.bind(this.testTabLogic)}\"\n      >\n        Generate\n      </button>\n    `\n    if (!this.generateFileActionElement) {\n      this.generateFileActionElement = el\n    } else {\n      yo.update(this.generateFileActionElement, el)\n    }\n    return this.generateFileActionElement\n  }\n\n  updateRunAction (currentFile) {\n    const el = yo`\n      <button id=\"runTestsTabRunAction\" title=\"Run tests\" data-id=\"testTabRunTestsTabRunAction\" class=\"w-50 btn btn-primary\" onclick=\"${() => this.runTests()}\">\n        <span class=\"fas fa-play ml-2\"></span>\n        <label class=\"${css.labelOnBtn} btn btn-primary p-1 ml-2 m-0\">Run</label>\n      </button>\n    `\n    const isSolidityActive = this.appManager.isActive('solidity')\n    if (!isSolidityActive || !this.listTests().length) {\n      el.setAttribute('disabled', 'disabled')\n      if (!currentFile || (currentFile && currentFile.split('.').pop().toLowerCase() !== 'sol')) {\n        el.setAttribute('title', 'No solidity file selected')\n      } else {\n        el.setAttribute('title', 'The \"Solidity Plugin\" should be activated')\n      }\n    }\n    if (!this.runActionElement) {\n      this.runActionElement = el\n    } else {\n      yo.update(this.runActionElement, el)\n    }\n    return this.runActionElement\n  }\n\n  updateStopAction () {\n    return yo`\n      <button id=\"runTestsTabStopAction\" data-id=\"testTabRunTestsTabStopAction\" class=\"w-50 pl-2 ml-2 btn btn-secondary\" disabled=\"disabled\" title=\"Stop running tests\" onclick=${() => this.stopTests()}\">\n        <span class=\"fas fa-stop ml-2\"></span>\n        <label class=\"${css.labelOnBtn} btn btn-secondary p-1 ml-2 m-0\" id=\"runTestsTabStopActionLabel\">Stop</label>\n      </button>\n    `\n  }\n\n  updateTestFileList (tests) {\n    const testsMessage = (tests && tests.length ? this.listTests() : 'No test file available')\n    const el = yo`<div class=\"${css.testList} py-2 mt-0 border-bottom\">${testsMessage}</div>`\n    if (!this.testFilesListElement) {\n      this.testFilesListElement = el\n    } else {\n      yo.update(this.testFilesListElement, el)\n    }\n    this.updateRunAction()\n    return this.testFilesListElement\n  }\n\n  selectAll () {\n    return yo`\n      <div class=\"d-flex align-items-center mx-3 pb-2 mt-2 border-bottom\">\n        <input id=\"checkAllTests\"\n          type=\"checkbox\"\n          data-id=\"testTabCheckAllTests\"\n          onclick=\"${(event) => { this.checkAll(event) }}\"\n          checked=\"true\"\n        >\n        <label class=\"text-nowrap pl-2 mb-0\" for=\"checkAllTests\"> Select all </label>\n      </div>\n    `\n  }\n\n  infoButton () {\n    return yo`\n      <a class=\"btn border text-decoration-none pr-0 d-flex w-50 ml-2\" title=\"Check out documentation.\" target=\"__blank\" href=\"https://remix-ide.readthedocs.io/en/latest/unittesting.html#test-directory\">\n        <label class=\"btn p-1 ml-2 m-0\">How to use...</label>\n      </a>\n    `\n  }\n\n  createResultLabel () {\n    if (!this.data.selectedTests) return yo`<span></span>`\n    const ready = this.readyTestsNumber ? `${this.readyTestsNumber}` : '0'\n    return yo`<span class='text-info h6'>Progress: ${ready} finished (of ${this.runningTestsNumber})</span>`\n  }\n\n  updateDirList (path) {\n    for (const o of this.uiPathList.querySelectorAll('option')) o.remove()\n    this.testTabLogic.dirList(path).then((options) => {\n      options.forEach((path) => this.uiPathList.appendChild(yo`<option>${path}</option>`))\n    })\n  }\n\n  trimTestDirInput (input) {\n    if (input.includes('/')) return input.split('/').map(e => e.trim()).join('/')\n    else return input.trim()\n  }\n\n  pathAdded (text) {\n    for (const option of this.uiPathList.querySelectorAll('option')) {\n      if (option.innerHTML === text) return true\n    }\n    return false\n  }\n\n  async handleTestDirInput (e) {\n    let testDirInput = this.trimTestDirInput(this.inputPath.value)\n    testDirInput = removeMultipleSlashes(testDirInput)\n    if (testDirInput !== '/') testDirInput = removeTrailingSlashes(testDirInput)\n    if (e.key === 'Enter') {\n      this.inputPath.value = testDirInput\n      if (await this.testTabLogic.pathExists(testDirInput)) {\n        this.testTabLogic.setCurrentPath(testDirInput)\n        this.updateForNewCurrent()\n        return\n      }\n    }\n\n    if (testDirInput) {\n      if (testDirInput.endsWith('/') && testDirInput !== '/') {\n        testDirInput = removeTrailingSlashes(testDirInput)\n        if (this.testTabLogic.currentPath === testDirInput.substr(0, testDirInput.length - 1)) {\n          this.createTestFolder.disabled = true\n          this.updateGenerateFileAction().disabled = true\n        }\n        this.updateDirList(testDirInput)\n      } else {\n        // If there is no matching folder in the workspace with entered text, enable Create button\n        if (await this.testTabLogic.pathExists(testDirInput)) {\n          this.createTestFolder.disabled = true\n          this.updateGenerateFileAction().disabled = false\n        } else {\n          // Enable Create button\n          this.createTestFolder.disabled = false\n          // Disable Generate button because dir does not exist\n          this.updateGenerateFileAction().disabled = true\n        }\n      }\n    } else {\n      this.updateDirList('/')\n    }\n  }\n\n  async handleEnter (e) {\n    this.inputPath.value = removeMultipleSlashes(this.trimTestDirInput(this.inputPath.value))\n    if (this.createTestFolder.disabled) {\n      if (await this.testTabLogic.pathExists(this.inputPath.value)) {\n        this.testTabLogic.setCurrentPath(this.inputPath.value)\n        this.updateForNewCurrent()\n      }\n    }\n  }\n\n  render () {\n    this.onActivationInternal()\n    this.testsOutput = yo`<div class=\"mx-3 mb-2 pb-4 border-top border-primary\" hidden='true' id=\"solidityUnittestsOutput\" data-id=\"testTabSolidityUnitTestsOutput\"></a>`\n    this.testsExecutionStopped = yo`<label class=\"text-warning h6\" data-id=\"testTabTestsExecutionStopped\">The test execution has been stopped</label>`\n    this.testsExecutionStoppedError = yo`<label class=\"text-danger h6\" data-id=\"testTabTestsExecutionStoppedError\">The test execution has been stopped because of error(s) in your test file</label>`\n    this.uiPathList = yo`<datalist id=\"utPathList\"></datalist>`\n    this.inputPath = yo`<input\n      placeholder=${this.defaultPath}\n      list=\"utPathList\"\n      class=\"${css.inputFolder} custom-select\"\n      id=\"utPath\"\n      data-id=\"uiPathInput\"\n      name=\"utPath\"\n      title=\"Press 'Enter' to change the path for test files.\"\n      style=\"background-image: var(--primary);\"\n      onkeyup=${(e) => this.handleTestDirInput(e)}\n      onchange=${async (e) => this.handleEnter(e)}\n    />`\n\n    this.createTestFolder = yo`\n      <button\n        class=\"btn border ml-2\"\n        data-id=\"testTabGenerateTestFolder\"\n        title=\"Create a test folder\"\n        disabled=true\n        onclick=${(e) => this.handleCreateFolder()}\n      >\n        Create\n      </button>\n    `\n\n    const availablePaths = yo`\n      <div>\n        <div class=\"d-flex p-2\">\n          ${this.inputPath}\n          ${this.createTestFolder}\n          ${this.uiPathList}\n        </div>\n      </div>\n    `\n    this.updateDirList('/')\n    this.testsExecutionStopped.hidden = true\n    this.testsExecutionStoppedError.hidden = true\n    this.resultStatistics = this.createResultLabel()\n    this.resultStatistics.hidden = true\n    const el = yo`\n      <div class=\"${css.testTabView} px-2\" id=\"testView\">\n        <div class=\"${css.infoBox}\">\n          <p class=\"text-lg\"> Test your smart contract in Solidity.</p>\n          <p> Select directory to load and generate test files.</p>\n          <label>Test directory:</label>\n          ${availablePaths}\n        </div>\n        <div class=\"${css.tests}\">          \n          <div class=\"d-flex p-2\">\n           ${this.updateGenerateFileAction()}\n           ${this.infoButton()}\n          </div>\n          <div class=\"d-flex p-2\">\n            ${this.updateRunAction()}\n            ${this.updateStopAction()}\n          </div>\n          ${this.selectAll()}\n          ${this.updateTestFileList()}\n          <div class=\"align-items-start flex-column mt-2 mx-3 mb-0\">\n            ${this.resultStatistics}\n            ${this.testsExecutionStopped}\n            ${this.testsExecutionStoppedError}\n          </div>\n          ${this.testsOutput}\n        </div>\n      </div>\n    `\n    this._view.el = el\n    this.testTabLogic.setCurrentPath(this.defaultPath)\n    this.updateForNewCurrent(this.fileManager.currentFile())\n    return el\n  }\n}\n","const helper = require('../../../lib/helper.js')\nconst modalDialogCustom = require('../../ui/modal-dialog-custom')\nconst remixPath = require('path')\n\nclass TestTabLogic {\n  constructor (fileManager) {\n    this.fileManager = fileManager\n    this.currentPath = '/tests'\n  }\n\n  setCurrentPath (path) {\n    if (path.indexOf('/') === 0) return\n    this.currentPath = helper.removeMultipleSlashes(helper.removeTrailingSlashes(path))\n  }\n\n  generateTestFolder (path) {\n    // Todo move this check to File Manager after refactoring\n    // Checking to ignore the value which contains only whitespaces\n    if (!path || !(/\\S/.test(path))) return\n    path = helper.removeMultipleSlashes(path)\n    const fileProvider = this.fileManager.fileProviderOf(path.split('/')[0])\n    fileProvider.exists(path).then(res => {\n      if (!res) fileProvider.createDir(path)\n    })\n  }\n\n  async pathExists (path) {\n    // Checking to ignore the value which contains only whitespaces\n    if (!path || !(/\\S/.test(path))) return\n    const fileProvider = this.fileManager.fileProviderOf(path.split('/')[0])\n    const res = await fileProvider.exists(path, (e, res) => { return res })\n    return res\n  }\n\n  generateTestFile () {\n    let fileName = this.fileManager.currentFile()\n    const hasCurrent = !!fileName && this.fileManager.currentFile().split('.').pop().toLowerCase() === 'sol'\n    if (!hasCurrent) fileName = this.currentPath + '/newFile.sol'\n    const fileProvider = this.fileManager.fileProviderOf(this.currentPath)\n    if (!fileProvider) return\n    const splittedFileName = fileName.split('/')\n    const fileNameToImport = (!hasCurrent) ? fileName : this.currentPath + '/' + splittedFileName[splittedFileName.length - 1]\n    helper.createNonClashingNameWithPrefix(fileNameToImport, fileProvider, '_test', (error, newFile) => {\n      if (error) return modalDialogCustom.alert('Failed to create file. ' + newFile + ' ' + error)\n      if (!fileProvider.set(newFile, this.generateTestContractSample(hasCurrent, fileName))) return modalDialogCustom.alert('Failed to create test file ' + newFile)\n      this.fileManager.open(newFile)\n      this.fileManager.syncEditor(newFile)\n    })\n  }\n\n  dirList (path) {\n    return this.fileManager.dirList(path)\n  }\n\n  isRemixDActive () {\n    return this.fileManager.isRemixDActive()\n  }\n\n  async getTests (cb) {\n    if (!this.currentPath) return cb(null, [])\n    const provider = this.fileManager.fileProviderOf(this.currentPath)\n    if (!provider) return cb(null, [])\n    const tests = []\n    let files = []\n    try {\n      if (await this.fileManager.exists(this.currentPath)) files = await this.fileManager.readdir(this.currentPath)\n    } catch (e) {\n      cb(e.message)\n    }\n    for (var file in files) {\n      const filepath = provider && provider.type ? provider.type + '/' + file : file\n      if (/.(_test.sol)$/.exec(file)) tests.push(filepath)\n    }\n    cb(null, tests, this.currentPath)\n  }\n\n  // @todo(#2758): If currently selected file is compiled and compilation result is available,\n  // 'contractName' should be <compiledContractName> + '_testSuite'\n  generateTestContractSample (hasCurrent, fileToImport, contractName = 'testSuite') {\n    let relative = remixPath.relative(this.currentPath, remixPath.dirname(fileToImport))\n    if (relative === '') relative = '.'\n    const comment = hasCurrent ? `import \"${relative}/${remixPath.basename(fileToImport)}\";` : '// <import file to test>'\n    return `// SPDX-License-Identifier: GPL-3.0\n    \npragma solidity >=0.4.22 <0.9.0;\n\n// This import is automatically injected by Remix\nimport \"remix_tests.sol\"; \n\n// This import is required to use custom transaction context\n// Although it may fail compilation in 'Solidity Compiler' plugin\n// But it will work fine in 'Solidity Unit Testing' plugin\nimport \"remix_accounts.sol\";\n${comment}\n\n// File name has to end with '_test.sol', this file can contain more than one testSuite contracts\ncontract ${contractName} {\n\n    /// 'beforeAll' runs before all other tests\n    /// More special functions are: 'beforeEach', 'beforeAll', 'afterEach' & 'afterAll'\n    function beforeAll() public {\n        // <instantiate contract>\n        Assert.equal(uint(1), uint(1), \"1 should be equal to 1\");\n    }\n\n    function checkSuccess() public {\n        // Use 'Assert' methods: https://remix-ide.readthedocs.io/en/latest/assert_library.html\n        Assert.ok(2 == 2, 'should be true');\n        Assert.greaterThan(uint(2), uint(1), \"2 should be greater than to 1\");\n        Assert.lesserThan(uint(2), uint(3), \"2 should be lesser than to 3\");\n    }\n\n    function checkSuccess2() public pure returns (bool) {\n        // Use the return value (true or false) to test the contract\n        return true;\n    }\n    \n    function checkFailure() public {\n        Assert.notEqual(uint(1), uint(1), \"1 should not be equal to 1\");\n    }\n\n    /// Custom Transaction Context: https://remix-ide.readthedocs.io/en/latest/unittesting.html#customization\n    /// #sender: account-1\n    /// #value: 100\n    function checkSenderAndValue() public payable {\n        // account index varies 0-9, value is in wei\n        Assert.equal(msg.sender, TestsAccounts.getAccount(1), \"Invalid sender\");\n        Assert.equal(msg.value, 100, \"Invalid value\");\n    }\n}\n`\n  }\n}\n\nmodule.exports = TestTabLogic\n","import { Plugin } from '@remixproject/engine'\nimport { EventEmitter } from 'events'\nimport QueryParams from '../../lib/query-params'\nimport * as packageJson from '../../../../../package.json'\nimport yo from 'yo-yo'\nconst _paq = window._paq = window._paq || []\n\nconst themes = [\n  { name: 'Dark', quality: 'dark', url: 'assets/css/themes/remix-dark_tvx1s2.css' },\n  { name: 'Light', quality: 'light', url: 'assets/css/themes/remix-light_powaqg.css' },\n  { name: 'Midcentury', quality: 'light', url: 'assets/css/themes/remix-midcentury_hrzph3.css' },\n  { name: 'Black', quality: 'dark', url: 'assets/css/themes/remix-black_undtds.css' },\n  { name: 'Candy', quality: 'light', url: 'assets/css/themes/remix-candy_ikhg4m.css' },\n\n  { name: 'Cerulean', quality: 'light', url: 'assets/css/themes/bootstrap-cerulean.min.css' },\n  { name: 'Flatly', quality: 'light', url: 'assets/css/themes/bootstrap-flatly.min.css' },\n  { name: 'Spacelab', quality: 'light', url: 'assets/css/themes/bootstrap-spacelab.min.css' },\n  { name: 'Cyborg', quality: 'dark', url: 'assets/css/themes/bootstrap-cyborg.min.css' }\n]\n\nconst profile = {\n  name: 'theme',\n  events: ['themeChanged'],\n  methods: ['switchTheme', 'getThemes', 'currentTheme', 'fixInvert'],\n  version: packageJson.version,\n  kind: 'theme'\n}\n\nexport class ThemeModule extends Plugin {\n  constructor (registry) {\n    super(profile)\n    this.events = new EventEmitter()\n    this._deps = {\n      config: registry.get('config').api\n    }\n    this.themes = themes.reduce((acc, theme) => {\n      theme.url = window.location.origin + window.location.pathname + theme.url\n      return { ...acc, [theme.name]: theme }\n    }, {})\n    let queryTheme = (new QueryParams()).get().theme\n    queryTheme = this.themes[queryTheme] ? queryTheme : null\n    let currentTheme = this._deps.config.get('settings/theme')\n    currentTheme = this.themes[currentTheme] ? currentTheme : null\n    this.active = queryTheme || currentTheme || 'Dark'\n    this.forced = !!queryTheme\n  }\n\n  /** Return the active theme */\n  currentTheme () {\n    return this.themes[this.active]\n  }\n\n  /** Returns all themes as an array */\n  getThemes () {\n    return Object.keys(this.themes).map(key => this.themes[key])\n  }\n\n  /**\n   * Init the theme\n   */\n  initTheme (callback) {\n    if (this.active) {\n      const nextTheme = this.themes[this.active] // Theme\n      document.documentElement.style.setProperty('--theme', nextTheme.quality)\n      const theme = yo`<link rel=\"stylesheet\" href=\"${nextTheme.url}\" id=\"theme-link\"/>`\n      theme.addEventListener('load', () => {\n        if (callback) callback()\n      })\n      document.head.insertBefore(theme, document.head.firstChild)\n    }\n  }\n\n  /**\n   * Change the current theme\n   * @param {string} [themeName] - The name of the theme\n   */\n  switchTheme (themeName) {\n    if (themeName && !Object.keys(this.themes).includes(themeName)) {\n      throw new Error(`Theme ${themeName} doesn't exist`)\n    }\n    const next = themeName || this.active // Name\n    if (next === this.active) return\n    _paq.push(['trackEvent', 'themeModule', 'switchTo', next])\n    const nextTheme = this.themes[next] // Theme\n    if (!this.forced) this._deps.config.set('settings/theme', next)\n    document.getElementById('theme-link').remove()\n    const theme = yo`<link rel=\"stylesheet\" href=\"${nextTheme.url}\" id=\"theme-link\"/>`\n    theme.addEventListener('load', () => {\n      this.emit('themeLoaded', nextTheme)\n      this.events.emit('themeLoaded', nextTheme)\n    })\n    document.head.insertBefore(theme, document.head.firstChild)\n    document.documentElement.style.setProperty('--theme', nextTheme.quality)\n    if (themeName) this.active = themeName\n    // TODO: Only keep `this.emit` (issue#2210)\n    this.emit('themeChanged', nextTheme)\n    this.events.emit('themeChanged', nextTheme)\n  }\n\n  /**\n   * fixes the invertion for images since this should be adjusted when we switch between dark/light qualified themes\n   * @param {element} [image] - the dom element which invert should be fixed to increase visibility\n   */\n  fixInvert (image) {\n    const invert = this.currentTheme().quality === 'dark' ? 1 : 0\n    if (image) {\n      image.style.filter = `invert(${invert})`\n    }\n  }\n}\n","import { Plugin } from '@remixproject/engine'\nimport * as packageJson from '../../../../../package.json'\n\nexport const profile = {\n  name: 'web3Provider',\n  displayName: 'Global Web3 Provider',\n  description: 'Represent the current web3 provider used by the app at global scope',\n  methods: ['sendAsync'],\n  version: packageJson.version,\n  kind: 'provider'\n}\n\nexport class Web3ProviderModule extends Plugin {\n  constructor (blockchain) {\n    super(profile)\n    this.blockchain = blockchain\n  }\n\n  /*\n    that is used by plugins to call the current ethereum provider.\n    Should be taken carefully and probably not be release as it is now.\n  */\n  sendAsync (payload) {\n    return new Promise((resolve, reject) => {\n      const provider = this.blockchain.web3().currentProvider\n      // see https://github.com/ethereum/web3.js/pull/1018/files#diff-d25786686c1053b786cc2626dc6e048675050593c0ebaafbf0814e1996f22022R129\n      provider[provider.sendAsync ? 'sendAsync' : 'send'](payload, (error, message) => {\n        if (error) return reject(error)\n        resolve(message)\n      })\n    })\n  }\n}\n","export * from './run-tab'\nexport * from './make-udapp'\n","var registry = require('../../global/registry')\nvar remixLib = require('@remix-project/remix-lib')\nvar yo = require('yo-yo')\nvar EventsDecoder = remixLib.execution.EventsDecoder\n\nconst transactionDetailsLinks = {\n  Main: 'https://www.etherscan.io/tx/',\n  Rinkeby: 'https://rinkeby.etherscan.io/tx/',\n  Ropsten: 'https://ropsten.etherscan.io/tx/',\n  Kovan: 'https://kovan.etherscan.io/tx/',\n  Goerli: 'https://goerli.etherscan.io/tx/'\n}\n\nfunction txDetailsLink (network, hash) {\n  if (transactionDetailsLinks[network]) {\n    return transactionDetailsLinks[network] + hash\n  }\n}\n\nexport function makeUdapp (blockchain, compilersArtefacts, logHtmlCallback) {\n  // ----------------- UniversalDApp -----------------\n  // TODO: to remove when possible\n  blockchain.event.register('transactionBroadcasted', (txhash, networkName) => {\n    var txLink = txDetailsLink(networkName, txhash)\n    if (txLink && logHtmlCallback) logHtmlCallback(yo`<a href=\"${txLink}\" target=\"_blank\">${txLink}</a>`)\n  })\n\n  // ----------------- Tx listener -----------------\n  const _transactionReceipts = {}\n  const transactionReceiptResolver = (tx, cb) => {\n    if (_transactionReceipts[tx.hash]) {\n      return cb(null, _transactionReceipts[tx.hash])\n    }\n    blockchain.web3().eth.getTransactionReceipt(tx.hash, (error, receipt) => {\n      if (error) {\n        return cb(error)\n      }\n      _transactionReceipts[tx.hash] = receipt\n      cb(null, receipt)\n    })\n  }\n\n  const txlistener = blockchain.getTxListener({\n    api: {\n      contracts: function () {\n        if (compilersArtefacts.__last) return compilersArtefacts.getAllContractDatas()\n        return null\n      },\n      resolveReceipt: transactionReceiptResolver\n    }\n  })\n\n  registry.put({ api: txlistener, name: 'txlistener' })\n  blockchain.startListening(txlistener)\n\n  const eventsDecoder = new EventsDecoder({\n    resolveReceipt: transactionReceiptResolver\n  })\n  txlistener.startListening()\n  registry.put({ api: eventsDecoder, name: 'eventsDecoder' })\n}\n","import { ViewPlugin } from '@remixproject/engine-web'\nimport * as packageJson from '../../../../../package.json'\n\nconst $ = require('jquery')\nconst yo = require('yo-yo')\nconst ethJSUtil = require('ethereumjs-util')\nconst Web3 = require('web3')\nconst EventManager = require('../../lib/events')\nconst Card = require('../ui/card')\n\nconst css = require('../tabs/styles/run-tab-styles')\nconst SettingsUI = require('../tabs/runTab/settings.js')\nconst Recorder = require('../tabs/runTab/model/recorder.js')\nconst RecorderUI = require('../tabs/runTab/recorder.js')\nconst DropdownLogic = require('../tabs/runTab/model/dropdownlogic.js')\nconst ContractDropdownUI = require('../tabs/runTab/contractDropdown.js')\nconst toaster = require('../ui/tooltip')\nconst _paq = window._paq = window._paq || []\n\nconst UniversalDAppUI = require('../ui/universal-dapp-ui')\n\nconst profile = {\n  name: 'udapp',\n  displayName: 'Deploy & run transactions',\n  icon: 'assets/img/deployAndRun.webp',\n  description: 'execute and save transactions',\n  kind: 'udapp',\n  location: 'sidePanel',\n  documentation: 'https://remix-ide.readthedocs.io/en/latest/run.html',\n  version: packageJson.version,\n  permission: true,\n  events: ['newTransaction'],\n  methods: ['createVMAccount', 'sendTransaction', 'getAccounts', 'pendingTransactionsCount', 'getSettings', 'setEnvironmentMode']\n}\n\nexport class RunTab extends ViewPlugin {\n  constructor (blockchain, config, fileManager, editor, filePanel, compilersArtefacts, networkModule, mainView, fileProvider) {\n    super(profile)\n    this.event = new EventManager()\n    this.config = config\n    this.blockchain = blockchain\n    this.fileManager = fileManager\n    this.editor = editor\n    this.logCallback = (msg) => { mainView.getTerminal().logHtml(yo`<pre>${msg}</pre>`) }\n    this.filePanel = filePanel\n    this.compilersArtefacts = compilersArtefacts\n    this.networkModule = networkModule\n    this.fileProvider = fileProvider\n    this.setupEvents()\n  }\n\n  setupEvents () {\n    this.blockchain.events.on('newTransaction', (tx, receipt) => {\n      this.emit('newTransaction', tx, receipt)\n    })\n  }\n\n  getSettings () {\n    return new Promise((resolve, reject) => {\n      if (!this.container) reject(new Error('UI not ready'))\n      else {\n        resolve({\n          selectedAccount: this.settingsUI.getSelectedAccount(),\n          selectedEnvMode: this.blockchain.getProvider(),\n          networkEnvironment: this.container.querySelector('*[data-id=\"settingsNetworkEnv\"]').textContent\n        }\n        )\n      }\n    })\n  }\n\n  async setEnvironmentMode (env) {\n    const canCall = await this.askUserPermission('setEnvironmentMode', 'change the environment used')\n    if (canCall) {\n      toaster(yo`\n        <div>\n          <i class=\"fas fa-exclamation-triangle text-danger mr-1\"></i>\n          <span>\n            ${this.currentRequest.from}\n            <span class=\"font-weight-bold text-warning\">\n              is changing your environment to\n            </span> ${env}\n          </span>\n        </div>\n      `, '', { time: 3000 })\n      this.settingsUI.setExecutionContext(env)\n    }\n  }\n\n  createVMAccount (newAccount) {\n    return this.blockchain.createVMAccount(newAccount)\n  }\n\n  sendTransaction (tx) {\n    _paq.push(['trackEvent', 'udapp', 'sendTx'])\n    return this.blockchain.sendTransaction(tx)\n  }\n\n  getAccounts (cb) {\n    return this.blockchain.getAccounts(cb)\n  }\n\n  pendingTransactionsCount () {\n    return this.blockchain.pendingTransactionsCount()\n  }\n\n  renderContainer () {\n    this.container = yo`<div class=\"${css.runTabView} run-tab\" id=\"runTabView\" data-id=\"runTabView\"></div>`\n\n    var el = yo`\n    <div class=\"list-group list-group-flush\">\n      ${this.settingsUI.render()}\n      ${this.contractDropdownUI.render()}\n      ${this.recorderCard.render()}\n      ${this.instanceContainer}\n    </div>\n    `\n    this.container.appendChild(el)\n    return this.container\n  }\n\n  renderInstanceContainer () {\n    this.instanceContainer = yo`<div class=\"${css.instanceContainer} border-0 list-group-item\"></div>`\n\n    const instanceContainerTitle = yo`\n      <div class=\"d-flex justify-content-between align-items-center pl-2 ml-1 mb-2\"\n        title=\"Autogenerated generic user interfaces for interaction with deployed contracts\">\n        Deployed Contracts\n        <i class=\"mr-2 ${css.icon} far fa-trash-alt\" data-id=\"deployAndRunClearInstances\" onclick=${() => this.event.trigger('clearInstance', [])}\n          title=\"Clear instances list and reset recorder\" aria-hidden=\"true\">\n        </i>\n      </div>`\n\n    this.noInstancesText = yo`\n      <span class=\"mx-2 mt-3 alert alert-warning\" data-id=\"deployAndRunNoInstanceText\" role=\"alert\">\n        Currently you have no contract instances to interact with.\n      </span>`\n\n    this.event.register('clearInstance', () => {\n      this.instanceContainer.innerHTML = '' // clear the instances list\n      this.instanceContainer.appendChild(instanceContainerTitle)\n      this.instanceContainer.appendChild(this.noInstancesText)\n    })\n\n    this.instanceContainer.appendChild(instanceContainerTitle)\n    this.instanceContainer.appendChild(this.noInstancesText)\n  }\n\n  renderSettings () {\n    this.settingsUI = new SettingsUI(this.blockchain, this.networkModule)\n\n    this.settingsUI.event.register('clearInstance', () => {\n      this.event.trigger('clearInstance', [])\n    })\n  }\n\n  renderDropdown (udappUI, fileManager, compilersArtefacts, config, editor, logCallback) {\n    const dropdownLogic = new DropdownLogic(compilersArtefacts, config, editor, this)\n    this.contractDropdownUI = new ContractDropdownUI(this.blockchain, dropdownLogic, logCallback, this)\n\n    fileManager.events.on('currentFileChanged', this.contractDropdownUI.changeCurrentFile.bind(this.contractDropdownUI))\n\n    this.contractDropdownUI.event.register('clearInstance', () => {\n      const noInstancesText = this.noInstancesText\n      if (noInstancesText.parentNode) { noInstancesText.parentNode.removeChild(noInstancesText) }\n    })\n    this.contractDropdownUI.event.register('newContractABIAdded', (abi, address) => {\n      this.instanceContainer.appendChild(udappUI.renderInstanceFromABI(abi, address, '<at address>'))\n    })\n    this.contractDropdownUI.event.register('newContractInstanceAdded', (contractObject, address, value) => {\n      this.instanceContainer.appendChild(udappUI.renderInstance(contractObject, address, value))\n    })\n  }\n\n  renderRecorder (udappUI, fileManager, config, logCallback) {\n    this.recorderCount = yo`<span>0</span>`\n\n    const recorder = new Recorder(this.blockchain)\n    recorder.event.register('recorderCountChange', (count) => {\n      this.recorderCount.innerText = count\n    })\n    this.event.register('clearInstance', recorder.clearAll.bind(recorder))\n\n    this.recorderInterface = new RecorderUI(this.blockchain, fileManager, recorder, logCallback, config)\n\n    this.recorderInterface.event.register('newScenario', (abi, address, contractName) => {\n      var noInstancesText = this.noInstancesText\n      if (noInstancesText.parentNode) { noInstancesText.parentNode.removeChild(noInstancesText) }\n      this.instanceContainer.appendChild(udappUI.renderInstanceFromABI(abi, address, contractName))\n    })\n\n    this.recorderInterface.render()\n  }\n\n  renderRecorderCard () {\n    const collapsedView = yo`\n      <div class=\"d-flex flex-column\">\n        <div class=\"ml-2 badge badge-pill badge-primary\" title=\"The number of recorded transactions\">${this.recorderCount}</div>\n      </div>`\n\n    const expandedView = yo`\n      <div class=\"d-flex flex-column\">\n        <div class=\"${css.recorderDescription} mt-2\">\n          All transactions (deployed contracts and function executions) in this environment can be saved and replayed in\n          another environment. e.g Transactions created in Javascript VM can be replayed in the Injected Web3.\n        </div>\n        <div class=\"${css.transactionActions}\">\n          ${this.recorderInterface.recordButton}\n          ${this.recorderInterface.runButton}\n          </div>\n        </div>\n      </div>`\n\n    this.recorderCard = new Card({}, {}, { title: 'Transactions recorded', collapsedView: collapsedView })\n    this.recorderCard.event.register('expandCollapseCard', (arrow, body, status) => {\n      body.innerHTML = ''\n      status.innerHTML = ''\n      if (arrow === 'down') {\n        status.appendChild(collapsedView)\n        body.appendChild(expandedView)\n      } else if (arrow === 'up') {\n        status.appendChild(collapsedView)\n      }\n    })\n  }\n\n  render () {\n    this.udappUI = new UniversalDAppUI(this.blockchain, this.logCallback)\n    this.blockchain.resetAndInit(this.config, {\n      getAddress: (cb) => {\n        cb(null, $('#txorigin').val())\n      },\n      getValue: (cb) => {\n        try {\n          const number = document.querySelector('#value').value\n          const select = document.getElementById('unit')\n          const index = select.selectedIndex\n          const selectedUnit = select.querySelectorAll('option')[index].dataset.unit\n          let unit = 'ether' // default\n          if (['ether', 'finney', 'gwei', 'wei'].indexOf(selectedUnit) >= 0) {\n            unit = selectedUnit\n          }\n          cb(null, Web3.utils.toWei(number, unit))\n        } catch (e) {\n          cb(e)\n        }\n      },\n      getGasLimit: (cb) => {\n        try {\n          cb(null, '0x' + new ethJSUtil.BN($('#gasLimit').val(), 10).toString(16))\n        } catch (e) {\n          cb(e.message)\n        }\n      }\n    })\n    this.renderInstanceContainer()\n    this.renderSettings()\n    this.renderDropdown(this.udappUI, this.fileManager, this.compilersArtefacts, this.config, this.editor, this.logCallback)\n    this.renderRecorder(this.udappUI, this.fileManager, this.config, this.logCallback)\n    this.renderRecorderCard()\n\n    const addPluginProvider = (profile) => {\n      if (profile.kind === 'provider') {\n        ((profile, app) => {\n          const web3Provider = {\n            async sendAsync (payload, callback) {\n              try {\n                const result = await app.call(profile.name, 'sendAsync', payload)\n                callback(null, result)\n              } catch (e) {\n                callback(e)\n              }\n            }\n          }\n          app.blockchain.addProvider({ name: profile.displayName, provider: web3Provider })\n        })(profile, this)\n      }\n    }\n    const removePluginProvider = (profile) => {\n      if (profile.kind === 'provider') this.blockchain.removeProvider(profile.displayName)\n    }\n    this.on('manager', 'pluginActivated', addPluginProvider.bind(this))\n    this.on('manager', 'pluginDeactivated', removePluginProvider.bind(this))\n    return this.renderContainer()\n  }\n}\n","'use strict'\nvar yo = require('yo-yo')\nvar csjs = require('csjs-inject')\nvar css = csjs`\n  .li_tv {\n    list-style-type: none;\n    -webkit-margin-before: 0px;\n    -webkit-margin-after: 0px;\n    -webkit-margin-start: 0px;\n    -webkit-margin-end: 0px;\n    -webkit-padding-start: 0px;\n  }\n  .ul_tv {\n    list-style-type: none;\n    -webkit-margin-before: 0px;\n    -webkit-margin-after: 0px;\n    -webkit-margin-start: 0px;\n    -webkit-margin-end: 0px;\n    -webkit-padding-start: 0px;\n  }\n  .caret_tv {\n    width: 10px;\n    flex-shrink: 0;\n    padding-right: 5px;\n  }\n  .label_item {\n    word-break: break-all;\n  }\n  .label_key {\n    min-width: max-content;\n    max-width: 80%;\n    word-break: break-word;\n  }\n  .label_value {\n    min-width: 10%;\n  }\n  .cursor_pointer {\n    cursor: pointer;\n  }\n`\n\nvar EventManager = require('../../lib/events')\n\n/**\n * TreeView\n *  - extendable by specifying custom `extractData` and `formatSelf` function\n *  - trigger `nodeClick` and `leafClick`\n */\nclass TreeView {\n  constructor (opts) {\n    this.event = new EventManager()\n    this.extractData = opts.extractData || this.extractDataDefault\n    this.formatSelf = opts.formatSelf || this.formatSelfDefault\n    this.loadMore = opts.loadMore\n    this.view = null\n    this.expandPath = []\n  }\n\n  render (json, expand) {\n    var view = this.renderProperties(json, expand)\n    if (!this.view) {\n      this.view = view\n    }\n    return view\n  }\n\n  update (json) {\n    if (this.view) {\n      yo.update(this.view, this.render(json))\n    }\n  }\n\n  renderObject (item, parent, key, expand, keyPath) {\n    var data = this.extractData(item, parent, key)\n    var children = (data.children || []).map((child, index) => {\n      return this.renderObject(child.value, data, child.key, expand, keyPath + '/' + child.key)\n    })\n    return this.formatData(key, data, children, expand, keyPath)\n  }\n\n  renderProperties (json, expand, key) {\n    key = key || ''\n    var children = Object.keys(json).map((innerkey) => {\n      return this.renderObject(json[innerkey], json, innerkey, expand, innerkey)\n    })\n    return yo`<ul key=${key} data-id=\"treeViewUl${key}\" class=\"${css.ul_tv} ml-0 px-2\">${children}</ul>`\n  }\n\n  formatData (key, data, children, expand, keyPath) {\n    var self = this\n    var li = yo`<li key=${keyPath} data-id=\"treeViewLi${keyPath}\" class=${css.li_tv}></li>`\n    var caret = yo`<div class=\"px-1 fas fa-caret-right caret ${css.caret_tv}\"></div>`\n    var label = yo`\n      <div key=${keyPath} data-id=\"treeViewDiv${keyPath}\" class=\"d-flex flex-row align-items-center\">\n        ${caret}\n        <span class=\"w-100\">${self.formatSelf(key, data, li)}</span>\n      </div>`\n    const expanded = self.expandPath.includes(keyPath)\n    li.appendChild(label)\n    if (data.children) {\n      var list = yo`<ul key=${keyPath} data-id=\"treeViewUlList${keyPath}\" class=\"pl-2 ${css.ul_tv}\">${children}</ul>`\n      list.style.display = expanded ? 'block' : 'none'\n      caret.className = list.style.display === 'none' ? `fas fa-caret-right caret ${css.caret_tv}` : `fas fa-caret-down caret ${css.caret_tv}`\n      caret.setAttribute('data-id', `treeViewToggle${keyPath}`)\n      label.onclick = function () {\n        self.expand(keyPath)\n        if (self.isExpanded(keyPath)) {\n          if (!self.expandPath.includes(keyPath)) self.expandPath.push(keyPath)\n        } else {\n          self.expandPath = self.expandPath.filter(path => !path.startsWith(keyPath))\n        }\n      }\n      label.oncontextmenu = function (event) {\n        self.event.trigger('nodeRightClick', [keyPath, data, label, event])\n      }\n      li.appendChild(list)\n      if (data.hasNext) {\n        list.appendChild(yo`<li><span class=\"w-100 text-primary ${css.cursor_pointer}\" data-id=\"treeViewLoadMore\" onclick=\"${() => self.loadMore(data.cursor)}\">Load more</span></li>`)\n      }\n    } else {\n      caret.style.visibility = 'hidden'\n      label.oncontextmenu = function (event) {\n        self.event.trigger('leafRightClick', [keyPath, data, label, event])\n      }\n      label.onclick = function (event) {\n        self.event.trigger('leafClick', [keyPath, data, label, event])\n      }\n    }\n    return li\n  }\n\n  isExpanded (path) {\n    var current = this.nodeAt(path)\n    if (current) {\n      return current.style.display !== 'none'\n    }\n    return false\n  }\n\n  expand (path) {\n    var caret = this.caretAt(path)\n    var node = this.nodeAt(path)\n    if (node) {\n      node.style.display = node.style.display === 'none' ? 'block' : 'none'\n      caret.className = node.style.display === 'none' ? `fas fa-caret-right caret ${css.caret_tv}` : `fas fa-caret-down caret ${css.caret_tv}`\n      this.event.trigger('nodeClick', [path, node])\n    }\n  }\n\n  caretAt (path) {\n    var label = this.labelAt(path)\n    if (label) {\n      return label.querySelector('.caret')\n    }\n  }\n\n  itemAt (path) {\n    return this.view.querySelector(`li[key=\"${path}\"]`)\n  }\n\n  labelAt (path) {\n    return this.view.querySelector(`div[key=\"${path}\"]`)\n  }\n\n  nodeAt (path) {\n    return this.view.querySelector(`ul[key=\"${path}\"]`)\n  }\n\n  updateNodeFromJSON (path, jsonTree, expand) {\n    var newTree = this.renderProperties(jsonTree, expand, path)\n    var current = this.nodeAt(path)\n    if (current && current.parentElement) {\n      current.parentElement.replaceChild(newTree, current)\n    }\n  }\n\n  formatSelfDefault (key, data) {\n    return yo`\n      <div class=\"d-flex mt-2 flex-row ${css.label_item}\">\n        <label class=\"small font-weight-bold pr-1 ${css.label_key}\">${key}:</label> \n        <label class=\"m-0 ${css.label_value}\">${data.self}</label>\n      </div>\n    `\n  }\n\n  extractDataDefault (item, parent, key) {\n    var ret = {}\n    if (item instanceof Array) {\n      ret.children = item.map((item, index) => {\n        return { key: index, value: item }\n      })\n      ret.self = 'Array'\n      ret.isNode = true\n      ret.isLeaf = false\n    } else if (item instanceof Object) {\n      ret.children = Object.keys(item).map((key) => {\n        return { key: key, value: item[key] }\n      })\n      ret.self = 'Object'\n      ret.isNode = true\n      ret.isLeaf = false\n    } else {\n      ret.self = item\n      ret.children = null\n      ret.isNode = false\n      ret.isLeaf = true\n    }\n    return ret\n  }\n}\n\nmodule.exports = TreeView\n","var yo = require('yo-yo')\nvar remixLib = require('@remix-project/remix-lib')\nvar EventManager = remixLib.EventManager\nvar Commands = require('../../lib/commands')\n\n// -------------- styling ----------------------\nvar css = require('./styles/auto-complete-popup-styles')\n\n/* USAGE:\n\n  var autoCompletePopup = new AutoCompletePopup({\n    options: []\n  })\n  autoCompletePopup.event.register('handleSelect', function (input) { })\n  autoCompletePopup.event.register('updateList', function () { })\n\n*/\n\nclass AutoCompletePopup {\n  constructor (opts = {}) {\n    var self = this\n    self.event = new EventManager()\n    self.isOpen = false\n    self.opts = opts\n    self.data = {\n      _options: []\n    }\n    self._components = {}\n    self._view = null\n    self._startingElement = 0\n    self._elementsToShow = 4\n    self._selectedElement = 0\n    this.extraCommands = []\n  }\n\n  render () {\n    var self = this\n    const autoComplete = yo`\n      <div class=\"${css.popup} alert alert-secondary\">\n        <div>\n          ${self.data._options.map((item, index) => {\n            return yo`\n              <div data-id=\"autoCompletePopUpAutoCompleteItem\" class=\"${css.autoCompleteItem} ${css.listHandlerHide} item ${self._selectedElement === index ? 'border border-primary' : ''}\">\n                  <div value=${index} onclick=${(event) => { self.handleSelect(event.srcElement.innerText) }}>\n                    ${getKeyOf(item)} \n                  </div>\n                  <div>\n                    ${getValueOf(item)}\n                  </div>\n              </div>\n            `\n          })}\n        </div>\n        <div class=\"${css.listHandlerHide}\">\n          <div class=\"${css.pageNumberAlignment}\">Page ${(self._startingElement / self._elementsToShow) + 1} of ${Math.ceil(self.data._options.length / self._elementsToShow)}</div>\n        </div>\n      </div>\n    `\n    function setUpPopUp (autoComplete) {\n      handleOpenPopup(autoComplete)\n      handleListSize(autoComplete)\n    }\n\n    function handleOpenPopup (autoComplete) {\n      autoComplete.style.display = self.data._options.length > 0 ? 'block' : 'none'\n    }\n\n    function handleListSize (autoComplete) {\n      if (self.data._options.length >= self._startingElement) {\n        for (let i = self._startingElement; i < (self._elementsToShow + self._startingElement); i++) {\n          const el = autoComplete.querySelectorAll('.item')[i]\n          if (el) {\n            el.classList.remove(css.listHandlerHide)\n            el.classList.add(css.listHandlerShow)\n          }\n        }\n      }\n    }\n    setUpPopUp(autoComplete)\n    if (!this._view) this._view = autoComplete\n    return autoComplete\n  }\n\n  handleSelect (text) {\n    this.removeAutoComplete()\n    this.event.trigger('handleSelect', [text])\n  }\n\n  moveUp () {\n    if (this._selectedElement === 0) return\n    this._selectedElement--\n    this._startingElement = this._selectedElement > 0 ? this._selectedElement - 1 : 0\n    this.event.trigger('updateList')\n    yo.update(this._view, this.render())\n  }\n\n  moveDown () {\n    if (this.data._options.length <= this._selectedElement + 1) return\n    this._selectedElement++\n    this._startingElement = this._selectedElement - 1\n    this.event.trigger('updateList')\n    yo.update(this._view, this.render())\n  }\n\n  handleAutoComplete (event, inputString) {\n    if (this.isOpen && (event.which === 27 || event.which === 8 || event.which === 46)) {\n      // backspace or any key that should remove the autocompletion\n      this.removeAutoComplete()\n      return true\n    }\n    if (this.isOpen && (event.which === 13 || event.which === 9)) {\n      // enter and tab (validate completion)\n      event.preventDefault()\n      if (this.data._options[this._selectedElement]) {\n        this.handleSelect(getKeyOf(this.data._options[this._selectedElement]))\n      }\n      this.removeAutoComplete()\n      return true\n    }\n    if (this.isOpen && event.which === 38) {\n      // move up\n      event.preventDefault()\n      this.isOpen = true\n      this.moveUp()\n      return true\n    }\n    if (this.isOpen && event.which === 40) {\n      // move down\n      event.preventDefault()\n      this.isOpen = true\n      this.moveDown()\n      return true\n    }\n    if (event.which === 13 || event.which === 9) {\n      // enter || tab and autocompletion is off, just returning false\n      return false\n    }\n    const textList = inputString.split(' ')\n    const autoCompleteInput = textList.length > 1 ? textList[textList.length - 1] : textList[0]\n    if (inputString.length >= 2) {\n      // more than 2 letters, start completion\n      this.data._options = []\n      Commands.allPrograms.forEach(item => {\n        const program = getKeyOf(item)\n        if (program.substring(0, program.length - 1).includes(autoCompleteInput.trim())) {\n          this.data._options.push(item)\n        } else if (autoCompleteInput.trim().includes(program) || (program === autoCompleteInput.trim())) {\n          Commands.allCommands.forEach(item => {\n            const command = getKeyOf(item)\n            if (command.includes(autoCompleteInput.trim())) {\n              this.data._options.push(item)\n            }\n          })\n        }\n      })\n      this.extraCommands.forEach(item => {\n        const command = getKeyOf(item)\n        if (command.includes(autoCompleteInput.trim())) {\n          this.data._options.push(item)\n        }\n      })\n\n      if (this.data._options.length === 1 && event.which === 9) {\n        // if only one option and tab is pressed, we resolve it\n        event.preventDefault()\n        textList.pop()\n        textList.push(getKeyOf(this.data._options[0]))\n        this.handleSelect(`${textList}`.replace(/,/g, ' '))\n        this.removeAutoComplete()\n        return\n      }\n      if (this.data._options.length) this.isOpen = true\n      yo.update(this._view, this.render())\n      return true\n    }\n    return false\n  }\n\n  removeAutoComplete () {\n    if (!this.isOpen) return\n    this._view.style.display = 'none'\n    this.isOpen = false\n    this.data._options = []\n    this._startingElement = 0\n    this._selectedElement = 0\n    yo.update(this._view, this.render())\n  }\n\n  extendAutocompletion () {\n    // TODO: this is not using the appManager interface. Terminal should be put as module\n    this.opts.appManager.event.on('activate', async (profile) => {\n      if (!profile.methods) return\n      profile.methods.forEach((method) => {\n        const key = `remix.call('${profile.name}', '${method}')`\n        const keyValue = {}\n        keyValue[key] = `call ${profile.name} - ${method}`\n        if (this.extraCommands.includes(keyValue)) return\n        this.extraCommands.push(keyValue)\n      })\n    })\n  }\n}\n\nfunction getKeyOf (item) {\n  return Object.keys(item)[0]\n}\n\nfunction getValueOf (item) {\n  return Object.values(item)[0]\n}\n\nmodule.exports = AutoCompletePopup\n","var yo = require('yo-yo')\nvar csjs = require('csjs-inject')\nvar EventManager = require('../../lib/events')\n\nmodule.exports = class Card {\n  constructor (api, events, opts) {\n    const self = this\n    self._api = api\n    self._events = events\n    self._opts = opts\n    self._view = {}\n    self.event = new EventManager()\n  }\n\n  render () {\n    const self = this\n    if (self._view.el) return self._view.el\n\n    self._view.cardBody = yo`<div></div>`\n    self._view.arrow = yo`<i class=\"${css.arrow} fas fa-angle-down\" onclick=\"${() => trigger(this)}\"></i>`\n\n    self._view.expandCollapseButton = yo`\n    <div>${self._view.arrow}</div>`\n\n    self._view.statusBar = yo`<div>${self._opts.collapsedView}</div>`\n    self._view.cardHeader = yo`\n    <div class=\"d-flex justify-content-between align-items-center\" onclick=${() => trigger(self._view.arrow)}>\n      <div class=\"pr-1 d-flex flex-row\">\n        <div>${self._opts.title}</div>\n        ${self._view.statusBar}\n      </div>\n      <div>${self._view.expandCollapseButton}</div>\n    </div>`\n\n    function trigger (el) {\n      var body = self._view.cardBody\n      var status = self._view.statusBar\n      if (el.classList) {\n        el.classList.toggle('fa-angle-up')\n        var arrow = el.classList.toggle('fa-angle-down') ? 'up' : 'down'\n        self.event.trigger('expandCollapseCard', [arrow, body, status])\n      }\n    }\n\n    // HTML\n    self._view.el = yo`\n      <div class=\"${css.cardContainer} list-group-item border-0\">\n        ${self._view.cardHeader}\n        ${self._view.cardBody}\n      </div>`\n\n    return self._view.el\n  }\n}\n\nconst css = csjs`\n  .cardContainer {\n    padding             : 0 24px 16px;\n    margin              : 0;\n    background          : none;\n  }\n  .arrow {\n    font-weight         : bold;\n    cursor              : pointer;\n    font-size           : 14px;\n  }\n  .arrow:hover {\n  }\n\n`\n","var yo = require('yo-yo')\nvar csjs = require('csjs-inject')\nconst copyToClipboard = require('./copy-to-clipboard')\nconst Web3 = require('web3')\n\nvar css = csjs`\n  #confirmsetting {\n    z-index: 1;\n  }\n  .txInfoBox {\n  }\n  .wrapword {\n    white-space: pre-wrap;       /* Since CSS 2.1 */\n    white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\n    white-space: -pre-wrap;      /* Opera 4-6 */\n    white-space: -o-pre-wrap;    /* Opera 7 */\n    word-wrap: break-word;       /* Internet Explorer 5.5+ */\n  }\n`\n\nfunction confirmDialog (tx, network, amount, gasEstimation, newGasPriceCb, initialParamsCb) {\n  const onGasPriceChange = function () {\n    var gasPrice = el.querySelector('#gasprice').value\n    newGasPriceCb(gasPrice, (txFeeText, priceStatus) => {\n      el.querySelector('#txfee').innerHTML = txFeeText\n      el.gasPriceStatus = priceStatus\n      el.txFee = { gasPrice }\n    })\n  }\n\n  const onMaxFeeChange = function () {\n    var maxFee = el.querySelector('#maxfee').value\n    var confirmBtn = document.querySelector('#modal-footer-ok')\n    var maxPriorityFee = el.querySelector('#maxpriorityfee').value\n    if (parseInt(network.lastBlock.baseFeePerGas, 16) > Web3.utils.toWei(maxFee, 'Gwei')) {\n      el.querySelector('#txfee').innerHTML = 'Transaction is invalid. Max fee should not be less than Base fee'\n      el.gasPriceStatus = false\n      confirmBtn.hidden = true\n      return\n    } else {\n      el.gasPriceStatus = true\n      confirmBtn.hidden = false\n    }\n\n    newGasPriceCb(maxFee, (txFeeText, priceStatus) => {\n      el.querySelector('#txfee').innerHTML = txFeeText\n      if (priceStatus) {\n        confirmBtn.hidden = false\n      } else {\n        confirmBtn.hidden = true\n      }\n      el.gasPriceStatus = priceStatus\n      el.txFee = { maxFee, maxPriorityFee, baseFeePerGas: network.lastBlock.baseFeePerGas }\n    })\n  }\n\n  const el = yo`\n    <div>\n      <div class=\"text-dark\">You are about to create a transaction on ${network.name} Network. Confirm the details to send the info to your provider.\n        <br>The provider for many users is MetaMask. The provider will ask you to sign the transaction before it is sent to ${network.name} Network.\n      </div>\n      <div class=\"mt-3 ${css.txInfoBox}\">\n        <div>\n          <span class=\"text-dark mr-2\">From:</span>\n          <span>${tx.from}</span>\n        </div>\n        <div>\n          <span class=\"text-dark mr-2\">To:</span>\n          <span>${tx.to ? tx.to : '(Contract Creation)'}</span>\n        </div>\n        <div class=\"d-flex align-items-center\">\n          <span class=\"text-dark mr-2\">Data:</span>\n          <pre class=\"${css.wrapword} mb-0\">${tx.data && tx.data.length > 50 ? tx.data.substring(0, 49) + '...' : tx.data} ${copyToClipboard(() => { return tx.data })}</pre>\n        </div>\n        <div class=\"mb-3\">\n          <span class=\"text-dark mr-2\">Amount:</span>\n          <span>${amount} Ether</span>\n        </div>\n        <div>\n          <span class=\"text-dark mr-2\">Gas estimation:</span>\n          <span>${gasEstimation}</span>\n        </div>\n        <div>\n          <span class=\"text-dark mr-2\">Gas limit:</span>\n          <span>${tx.gas}</span>\n        </div>\n        ${\n          network.lastBlock.baseFeePerGas ? yo`\n          <div class=\"align-items-center my-1\" title=\"Represents the part of the tx fee that goes to the miner.\">\n            <div class='d-flex'>\n              <span class=\"text-dark mr-2 text-nowrap\">Max Priority fee:</span>\n              <input class=\"form-control mr-1 text-right\" style='height: 1.2rem; width: 6rem;' value=\"1\" id='maxpriorityfee' />\n              <span title=\"visit https://ethgasstation.info for current gas price info.\">Gwei</span>\n            </div>            \n          </div>\n          <div class=\"align-items-center my-1\" title=\"Represents the maximum amount of fee that you will pay for this transaction. The minimun needs to be set to base fee.\">\n            <div class='d-flex'>\n              <span class=\"text-dark mr-2 text-nowrap\">Max fee (Not less than base fee ${Web3.utils.fromWei(Web3.utils.toBN(parseInt(network.lastBlock.baseFeePerGas, 16)), 'Gwei')} Gwei):</span>\n              <input class=\"form-control mr-1 text-right\" style='height: 1.2rem; width: 6rem;' id='maxfee' oninput=${onMaxFeeChange} />\n              <span>Gwei</span>\n              <span class=\"text-dark ml-2\"></span>\n            </div>\n          </div>`\n            : yo`<div class=\"d-flex align-items-center my-1\">\n            <span class=\"text-dark mr-2 text-nowrap\">Gas price:</span>\n            <input class=\"form-control mr-1 text-right\" style='width: 40px; height: 28px;' id='gasprice' oninput=${onGasPriceChange} />\n            <span>Gwei (visit <a target='_blank' href='https://ethgasstation.info'>ethgasstation.info</a> for current gas price info.)</span>\n          </div>`\n        }\n        <div class=\"mb-3\">\n          <span class=\"text-dark mr-2\">Max transaction fee:</span>\n          <span class=\"text-warning\" id='txfee'></span>\n        </div>\n      </div>\n      <div class=\"d-flex py-1 align-items-center custom-control custom-checkbox ${css.checkbox}\">\n        <input class=\"form-check-input custom-control-input\" id=\"confirmsetting\" type=\"checkbox\">\n        <label class=\"m-0 form-check-label custom-control-label\" for=\"confirmsetting\">Do not show this warning again.</label>\n      </div>\n    </div>\n  `\n\n  initialParamsCb((txFeeText, gasPriceValue, gasPriceStatus) => {\n    if (txFeeText) {\n      el.querySelector('#txfee').innerHTML = txFeeText\n    }\n    if (el.querySelector('#gasprice') && gasPriceValue) {\n      el.querySelector('#gasprice').value = gasPriceValue\n      onGasPriceChange()\n    }\n    if (el.querySelector('#maxfee') && network && network.lastBlock && network.lastBlock.baseFeePerGas) {\n      el.querySelector('#maxfee').value = Web3.utils.fromWei(Web3.utils.toBN(parseInt(network.lastBlock.baseFeePerGas, 16)), 'Gwei')\n      onMaxFeeChange()\n    }\n    if (gasPriceStatus !== undefined) {\n      el.gasPriceStatus = gasPriceStatus\n    }\n  })\n\n  return el\n}\n\nmodule.exports = confirmDialog\n","var yo = require('yo-yo')\n// -------------- copyToClipboard ----------------------\nvar csjs = require('csjs-inject')\n\nvar css = csjs`\n    .container\n    {\n      display: none;\n      position: fixed;\n      border-radius: 2px;\n      z-index: 1000;\n      box-shadow: 0 0 4px var(--dark);\n    }\n    .liitem\n    {\n      padding: 2px;\n      padding-left: 6px;\n      cursor: pointer;\n      color: var(--text-dark);\n      background-color: var(--light);\n    }\n    .liitem:hover\n    {\n      background-color:  var(--secondary);\n    }\n    #menuitems\n    {\n      list-style: none;\n      margin: 0px;\n    }\n`\n\nmodule.exports = (event, items, linkItems) => {\n  event.preventDefault()\n\n  function hide (event, force) {\n    if (container && container.parentElement && (force || (event.target !== container))) {\n      container.parentElement.removeChild(container)\n    }\n    window.removeEventListener('click', hide)\n  }\n\n  const menu = Object.keys(items).map((item, index) => {\n    const current = yo`<li id=\"menuitem${item.toLowerCase()}\" class=${css.liitem}>${item}</li>`\n    current.onclick = () => { hide(null, true); items[item]() }\n    return current\n  })\n\n  let menuForLinks = yo``\n  if (linkItems) {\n    menuForLinks = Object.keys(linkItems).map((item, index) => {\n      const current = yo`<li id=\"menuitem${item.toLowerCase()}\" class=${css.liitem}><a href=${linkItems[item]} target=\"_blank\">${item}</a></li>`\n      current.onclick = () => { hide(null, true) }\n      return current\n    })\n  }\n\n  const container = yo`\n    <div id=\"menuItemsContainer\" class=\"p-1 ${css.container} bg-light shadow border\">\n     <ul id='menuitems'>${menu} ${menuForLinks}</ul>\n    </div>\n  `\n\n  container.style.left = event.pageX + 'px'\n  container.style.top = event.pageY + 'px'\n  container.style.display = 'block'\n  document.querySelector('body').appendChild(container)\n\n  const menuItemsContainer = document.getElementById('menuItemsContainer')\n  const boundary = menuItemsContainer.getBoundingClientRect()\n\n  if (boundary.bottom > (window.innerHeight || document.documentElement.clientHeight)) {\n    menuItemsContainer.style.position = 'absolute'\n    menuItemsContainer.style.bottom = '10px'\n    menuItemsContainer.style.top = null\n  }\n\n  setTimeout(() => {\n    window.addEventListener('click', hide)\n  }, 500)\n\n  return { hide }\n}\n","var yo = require('yo-yo')\n// -------------- copyToClipboard ----------------------\nconst copy = require('copy-to-clipboard')\nvar addTooltip = require('./tooltip')\n// -------------- styling ----------------------\nvar csjs = require('csjs-inject')\n\nvar css = csjs`\n  .copyIcon {\n    margin-left: 5px;\n    cursor: pointer;\n  }\n`\n\nmodule.exports = function copyToClipboard (getContent, tip = 'Copy value to clipboard', icon = 'fa-copy') {\n  var copyIcon = yo`<i title=\"${tip}\" class=\"${css.copyIcon} far ${icon} p-2\" data-id=\"copyToClipboardCopyIcon\" aria-hidden=\"true\"></i>`\n  copyIcon.onclick = (event) => {\n    event.stopPropagation()\n    var copiableContent\n    try {\n      copiableContent = getContent()\n    } catch (e) {\n      addTooltip(e.message)\n      return\n    }\n    if (copiableContent) { // module `copy` keeps last copied thing in the memory, so don't show tooltip if nothing is copied, because nothing was added to memory\n      try {\n        if (typeof copiableContent !== 'string') {\n          copiableContent = JSON.stringify(copiableContent, null, '\\t')\n        }\n      } catch (e) {}\n      copy(copiableContent)\n      addTooltip('Copied value to clipboard.')\n    } else {\n      addTooltip('Cannot copy empty content!')\n    }\n  }\n  return copyIcon\n}\n","import * as packageJson from '../../../../../../package.json'\nimport { ViewPlugin } from '@remixproject/engine-web'\nimport { migrateToWorkspace } from '../../../migrateFileSystem'\nimport JSZip from 'jszip'\n\nconst yo = require('yo-yo')\nconst csjs = require('csjs-inject')\nconst globalRegistry = require('../../../global/registry')\nconst modalDialogCustom = require('../modal-dialog-custom')\nconst modalDialog = require('../modaldialog')\nconst tooltip = require('../tooltip')\nconst GistHandler = require('../../../lib/gist-handler')\nconst QueryParams = require('../../../lib/query-params.js')\nconst _paq = window._paq = window._paq || []\n\nconst css = csjs`\n  .text {\n    cursor: pointer;\n    font-weight: normal;\n    max-width: 300px;\n    user-select: none;\n  }\n  .text:hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n  .homeContainer {\n    user-select: none;\n    overflow-y: hidden;\n  }\n  .mainContent {\n    overflow-y: auto;\n    flex-grow: 3;\n  }\n  .hpLogoContainer {\n    margin: 30px;\n    padding-right: 90px;\n  }\n  .mediaBadge {\n   font-size: 2em;\n   height: 2em;\n   width: 2em;\n  }\n  .mediaBadge:focus {\n    outline: none;\n  }\n  .image {\n    height: 1em;\n    width: 1em;\n    text-align: center;\n  }\n  .logoImg {\n    height: 10em;\n  }\n  .hpSections {\n  }\n  .rightPanel {\n    right: 0;\n    position: absolute;\n    z-index: 3;\n  }\n  .remixHomeMedia {\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 720px;\n  }\n  .panels {\n    box-shadow: 0px 0px 13px -7px;\n  }\n  .labelIt {\n    margin-bottom: 0;\n  }\n  .bigLabelSize {\n    font-size: 13px;\n  }\n  .seeAll {\n    margin-top: 7px;\n    white-space: nowrap;\n  }\n  .importFrom p {\n    margin-right: 10px;\n  }\n  .logoContainer img{\n    height: 150px;\n    opacity: 0.7;\n  }\n  .envLogo {\n    height: 16px;\n  }\n  .cursorStyle {\n    cursor: pointer;\n  }\n  .envButton {\n    width: 120px;\n    height: 70px;\n  }\n  .media {\n    overflow: hidden;\n    width: 400px;\n    transition: .5s ease-out;\n    z-index: 1000;\n  }\n  .migrationBtn {\n    width: 100px;\n  }\n}\n`\n\nconst profile = {\n  name: 'home',\n  displayName: 'Home',\n  methods: [],\n  events: [],\n  description: ' - ',\n  icon: 'assets/img/remixLogo.webp',\n  location: 'mainPanel',\n  version: packageJson.version\n}\n\nexport class LandingPage extends ViewPlugin {\n  constructor (appManager, verticalIcons, fileManager, filePanel, contentImport) {\n    super(profile)\n    this.profile = profile\n    this.fileManager = fileManager\n    this.filePanel = filePanel\n    this.contentImport = contentImport\n    this.appManager = appManager\n    this.verticalIcons = verticalIcons\n    this.gistHandler = new GistHandler()\n    const themeQuality = globalRegistry.get('themeModule').api.currentTheme().quality\n    window.addEventListener('resize', () => this.adjustMediaPanel())\n    window.addEventListener('click', (e) => this.hideMediaPanel(e))\n    this.twitterFrame = yo`\n      <div class=\"px-2 ${css.media}\">\n        <a class=\"twitter-timeline\"\n          data-width=\"350\"\n          data-theme=\"${themeQuality}\"\n          data-chrome=\"nofooter noheader transparent\"\n          data-tweet-limit=\"8\"\n          href=\"https://twitter.com/EthereumRemix\"\n        >\n        </a>\n        <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n      </div>\n    `\n    this.badgeTwitter = yo`<button\n      class=\"btn-info p-2 m-1 border rounded-circle ${css.mediaBadge} fab fa-twitter\"\n      id=\"remixIDEHomeTwitterbtn\"\n      onclick=${(e) => this.showMediaPanel(e)}\n    ></button>`\n    this.badgeMedium = yo`<button\n      class=\"btn-danger p-2 m-1 border rounded-circle ${css.mediaBadge} fab fa-medium\"\n      id=\"remixIDEHomeMediumbtn\"\n      onclick=${(e) => this.showMediaPanel(e)}\n    ></button>`\n    this.twitterPanel = yo`\n      <div id=\"remixIDE_TwitterBlock\" class=\"p-2 mx-0 mb-0 d-none ${css.remixHomeMedia}\">\n        ${this.twitterFrame}\n      </div>\n    `\n    this.mediumPanel = yo`\n      <div id=\"remixIDE_MediumBlock\" class=\"p-2 mx-0 mb-0 d-none ${css.remixHomeMedia}\">\n        <div id=\"medium-widget\" class=\"p-3 ${css.media}\">\n          <div\n            id=\"retainable-rss-embed\"\n            data-rss=\"https://medium.com/feed/remix-ide\"\n            data-maxcols=\"1\"\n            data-layout=\"grid\"\n            data-poststyle=\"external\"\n            data-readmore=\"More...\"\n            data-buttonclass=\"btn mb-3\"\n            data-offset=\"-100\"\n          >\n-        </div>\n        </div>\n      </div>\n    `\n    this.adjustMediaPanel()\n    globalRegistry.get('themeModule').api.events.on('themeChanged', (theme) => {\n      this.onThemeChanged(theme.quality)\n    })\n  }\n\n  adjustMediaPanel () {\n    this.twitterPanel.style.maxHeight = Math.max(window.innerHeight - 150, 200) + 'px'\n    this.mediumPanel.style.maxHeight = Math.max(window.innerHeight - 150, 200) + 'px'\n  }\n\n  hideMediaPanel (e) {\n    const mediaPanelsTitle = document.getElementById('remixIDEMediaPanelsTitle')\n    const mediaPanels = document.getElementById('remixIDEMediaPanels')\n    if (!mediaPanelsTitle || !mediaPanels) return\n    if (!mediaPanelsTitle.contains(e.target) && !mediaPanels.contains(e.target)) {\n      this.mediumPanel.classList.remove('d-block')\n      this.mediumPanel.classList.add('d-none')\n      this.twitterPanel.classList.remove('d-block')\n      this.twitterPanel.classList.add('d-none')\n    }\n  }\n\n  onThemeChanged (themeQuality) {\n    const twitterFrame = yo`\n      <div class=\"px-2 ${css.media}\">\n        <a class=\"twitter-timeline\"\n          data-width=\"350\"\n          data-theme=\"${themeQuality}\"\n          data-chrome=\"nofooter noheader transparent\"\n          data-tweet-limit=\"8\"\n          href=\"https://twitter.com/EthereumRemix\"\n        >\n        </a>\n        <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n      </div>\n    `\n    yo.update(this.twitterFrame, twitterFrame)\n\n    const invertNum = (themeQuality === 'dark') ? 1 : 0\n    if (this.solEnv.getElementsByTagName('img')[0]) this.solEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    if (this.optimismEnv.getElementsByTagName('img')[0]) this.optimismEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    if (this.solhintEnv.getElementsByTagName('img')[0]) this.solhintEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    if (this.learnEthEnv.getElementsByTagName('img')[0]) this.learnEthEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    if (this.sourcifyEnv.getElementsByTagName('img')[0]) this.sourcifyEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    if (this.moreEnv.getElementsByTagName('img')[0]) this.moreEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    if (this.websiteIcon) this.websiteIcon.style.filter = `invert(${invertNum})`\n  }\n\n  showMediaPanel (e) {\n    if (e.target.id === 'remixIDEHomeTwitterbtn') {\n      this.mediumPanel.classList.remove('d-block')\n      this.mediumPanel.classList.add('d-none')\n      this.twitterPanel.classList.toggle('d-block')\n      _paq.push(['trackEvent', 'pluginManager', 'media', 'twitter'])\n    } else {\n      this.twitterPanel.classList.remove('d-block')\n      this.twitterPanel.classList.add('d-none')\n      this.mediumPanel.classList.toggle('d-block')\n      _paq.push(['trackEvent', 'pluginManager', 'media', 'medium'])\n    }\n  }\n\n  render () {\n    const load = (service, item, examples, info) => {\n      const contentImport = this.contentImport\n      const fileProviders = globalRegistry.get('fileproviders').api\n      const msg = yo`\n        <div class=\"p-2\">\n          <span>Enter the ${item} you would like to load.</span>\n          <div>${info}</div>\n          <div>e.g ${examples.map((url) => { return yo`<div class=\"p-1\"><a>${url}</a></div>` })}</div>\n        </div>`\n\n      const title = `Import from ${service}`\n      modalDialogCustom.prompt(title, msg, null, (target) => {\n        if (target !== '') {\n          contentImport.import(\n            target,\n            (loadingMsg) => { tooltip(loadingMsg) },\n            (error, content, cleanUrl, type, url) => {\n              if (error) {\n                modalDialogCustom.alert(title, error.message || error)\n              } else {\n                try {\n                  fileProviders.workspace.addExternal(type + '/' + cleanUrl, content, url)\n                  this.verticalIcons.select('filePanel')\n                } catch (e) {\n                  modalDialogCustom.alert(title, e.message)\n                }\n              }\n            }\n          )\n        }\n      })\n    }\n\n    const startSolidity = async () => {\n      await this.appManager.activatePlugin(['solidity', 'udapp', 'solidityStaticAnalysis', 'solidityUnitTesting'])\n      this.verticalIcons.select('solidity')\n      _paq.push(['trackEvent', 'pluginManager', 'userActivate', 'solidity'])\n    }\n    const startOptimism = async () => {\n      await this.appManager.activatePlugin('optimism-compiler')\n      this.verticalIcons.select('optimism-compiler')\n      _paq.push(['trackEvent', 'pluginManager', 'userActivate', 'optimism-compiler'])\n    }\n    const startSolhint = async () => {\n      await this.appManager.activatePlugin(['solidity', 'solhint'])\n      this.verticalIcons.select('solhint')\n      _paq.push(['trackEvent', 'pluginManager', 'userActivate', 'solhint'])\n    }\n    const startLearnEth = async () => {\n      await this.appManager.activatePlugin(['solidity', 'LearnEth', 'solidityUnitTesting'])\n      this.verticalIcons.select('LearnEth')\n      _paq.push(['trackEvent', 'pluginManager', 'userActivate', 'learnEth'])\n    }\n    const startSourceVerify = async () => {\n      await this.appManager.activatePlugin(['solidity', 'source-verification'])\n      this.verticalIcons.select('source-verification')\n      _paq.push(['trackEvent', 'pluginManager', 'userActivate', 'source-verification'])\n    }\n    const startPluginManager = async () => {\n      await this.appManager.activatePlugin('pluginManager')\n      this.verticalIcons.select('pluginManager')\n    }\n    const startRestoreBackupZip = async () => {\n      await this.appManager.activatePlugin(['restorebackupzip'])\n      this.verticalIcons.select('restorebackupzip')\n      _paq.push(['trackEvent', 'pluginManager', 'userActivate', 'restorebackupzip'])\n    }\n\n    const createNewFile = () => {\n      this.call('filePanel', 'createNewFile')\n    }\n\n    const saveAs = (blob, name) => {\n      const node = document.createElement('a')\n      node.download = name\n      node.rel = 'noopener'\n      node.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(node.href) }, 4E4) // 40s\n      setTimeout(function () {\n        try {\n          node.dispatchEvent(new MouseEvent('click'))\n        } catch (e) {\n          var evt = document.createEvent('MouseEvents')\n          evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n            20, false, false, false, false, 0, null)\n          node.dispatchEvent(evt)\n        }\n      }, 0) // 40s\n    }\n\n    const downloadFiles = async () => {\n      try {\n        tooltip('preparing files for download, please wait..')\n        const fileProviders = globalRegistry.get('fileproviders').api\n        const zip = new JSZip()\n        await fileProviders.browser.copyFolderToJson('/', ({ path, content }) => {\n          zip.file(`remixbackup${path}`, content)\n        })\n        zip.generateAsync({ type: 'blob' }).then(function (blob) {\n          saveAs(blob, 'remixbackup.zip')\n        }).catch((e) => {\n          tooltip(e.message)\n        })\n      } catch (e) {\n        tooltip(e.message)\n      }\n    }\n\n    const uploadFile = (target) => {\n      this.call('filePanel', 'uploadFile', target)\n    }\n\n    const connectToLocalhost = () => {\n      this.appManager.activatePlugin('remixd')\n    }\n    const importFromGist = () => {\n      this.gistHandler.loadFromGist({ gist: '' }, globalRegistry.get('filemanager').api)\n      this.verticalIcons.select('filePanel')\n    }\n\n    globalRegistry.get('themeModule').api.events.on('themeChanged', (theme) => {\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('remixLogo'))\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('solidityLogo'))\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('debuggerLogo'))\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('learnEthLogo'))\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('workshopLogo'))\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('moreLogo'))\n      globalRegistry.get('themeModule').api.fixInvert(document.getElementById('solhintLogo'))\n    })\n\n    const createLargeButton = (imgPath, envID, envText, callback) => {\n      return yo`\n        <button\n          class=\"btn border-secondary d-flex mr-3 text-nowrap justify-content-center flex-column align-items-center ${css.envButton}\"\n          data-id=\"landingPageStartSolidity\"\n          onclick=${() => callback()}\n        >\n          <img class=\"m-2 align-self-center ${css.envLogo}\" id=${envID} src=\"${imgPath}\">\n          <label class=\"text-uppercase text-dark ${css.cursorStyle}\">${envText}</label>\n        </button>\n      `\n    }\n\n    // main\n    this.solEnv = createLargeButton('assets/img/solidityLogo.webp', 'solidityLogo', 'Solidity', startSolidity)\n    // Featured\n    this.optimismEnv = createLargeButton('assets/img/optimismLogo.webp', 'optimismLogo', 'Optimism', startOptimism)\n    this.solhintEnv = createLargeButton('assets/img/solhintLogo.png', 'solhintLogo', 'Solhint linter', startSolhint)\n    this.learnEthEnv = createLargeButton('assets/img/learnEthLogo.webp', 'learnEthLogo', 'LearnEth', startLearnEth)\n    this.sourcifyEnv = createLargeButton('assets/img/sourcifyLogo.webp', 'sourcifyLogo', 'Sourcify', startSourceVerify)\n    this.moreEnv = createLargeButton('assets/img/moreLogo.webp', 'moreLogo', 'More', startPluginManager)\n    this.websiteIcon = yo`<img id='remixHhomeWebsite' class=\"mr-1 ${css.image}\" src=\"${profile.icon}\"></img>`\n\n    const themeQuality = globalRegistry.get('themeModule').api.currentTheme().quality\n    const invertNum = (themeQuality === 'dark') ? 1 : 0\n    this.solEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    this.optimismEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    this.solhintEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    this.learnEthEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    this.sourcifyEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    this.moreEnv.getElementsByTagName('img')[0].style.filter = `invert(${invertNum})`\n    this.websiteIcon.style.filter = `invert(${invertNum})`\n\n    const switchToPreviousVersion = () => {\n      const query = new QueryParams()\n      query.update({ appVersion: '0.7.7' })\n      _paq.push(['trackEvent', 'LoadingType', 'oldExperience_0.7.7'])\n      document.location.reload()\n    }\n\n    const migrate = async () => {\n      try {\n        setTimeout(() => {\n          tooltip('migrating workspace...')\n        }, 500)\n        const workspaceName = await migrateToWorkspace(this.fileManager, this.filePanel)\n        tooltip('done. ' + workspaceName + ' created.')\n      } catch (e) {\n        setTimeout(() => {\n          tooltip(e.message)\n        }, 1000)\n      }\n    }\n    const onAcceptDownloadn = async () => {\n      await downloadFiles()\n      const el = document.getElementById('modal-dialog')\n      el.parentElement.removeChild(el)\n      migrate()\n    }\n\n    const onDownload = () => {\n      const el = document.getElementById('modal-dialog')\n      el.parentElement.removeChild(el)\n      migrate()\n    }\n\n    const onCancel = () => {\n      const el = document.getElementById('modal-dialog')\n      el.parentElement.removeChild(el)\n    }\n\n    const migrateWorkspace = async () => {\n      modalDialog(\n        'File system Migration',\n        yo`\n          <span>Do you want to download your files to local device first?</span>\n          <div class=\"d-flex justify-content-around pt-3 mt-3 border-top\">\n            <button class=\"btn btn-sm btn-primary\" onclick=${async () => onAcceptDownloadn()}>Download and Migrate</button>\n            <button class=\"btn btn-sm btn-secondary ${css.migrationBtn}\" onclick=${() => onDownload()}>Migrate</button>\n            <button class=\"btn btn-sm btn-secondary ${css.migrationBtn}\" onclick=${() => onCancel()}>Cancel</button>\n          </div>\n        `,\n        {\n          label: '',\n          fn: null\n        },\n        {\n          label: '',\n          fn: null\n        }\n      )\n    }\n\n    const img = yo`<img class=\"m-4 ${css.logoImg}\" src=\"assets/img/guitarRemiCroped.webp\" onclick=\"${() => playRemi()}\"></img>`\n    const playRemi = async () => { await document.getElementById('remiAudio').play() }\n    // to retrieve medium posts\n    document.body.appendChild(yo`<script src=\"https://www.twilik.com/assets/retainable/rss-embed/retainable-rss-embed.js\"></script>`)\n    const container = yo`\n      <div class=\"${css.homeContainer} d-flex\" data-id=\"landingPageHomeContainer\">\n        <div class=\"${css.mainContent} bg-light\">\n          <div class=\"d-flex justify-content-between\">\n            <div class=\"d-flex flex-column\">\n              <div class=\"border-bottom d-flex justify-content-between clearfix py-3 mb-4\">\n                <div class=\"mx-4 w-100 d-flex\">\n                  ${img}\n                  <audio id=\"remiAudio\" muted=false src=\"assets/audio/remiGuitar-single-power-chord-A-minor.wav\"></audio>\n                  <div class=\"w-80 pl-5 ml-5\">\n                    <h5 class=\"mb-1\">Quicklinks</h5>\n                    <a class=\"${css.text} mr-1\" target=\"__blank\" href=\"https://medium.com/remix-ide/migrating-files-to-workspaces-8e34737c751c?source=friends_link&sk=b75cfd9093aa23c78be13cce49e4a5e8\">Guide </a>for migrating the old File System\n                    <p class=\"font-weight-bold mb-0 py-1\">Migration tools:</p>\n                    <li class=\"pl-1\">\n                      <spam class=\"pl-0\">\n                        <u class=\"${css.text} pr-1\" onclick=${() => migrateWorkspace()}>Basic migration</u>\n                      </spam>\n                    </li>\n                    <li class=\"pl-1\">\n                      <u class=\"${css.text} pr-1\" onclick=${() => downloadFiles()}>Download all Files</u>\n                      as a backup zip\n                    </li>\n                    <li class=\"pl-1\">\n                      <u class=\"${css.text} pr-1\" onclick=${() => startRestoreBackupZip()}>Restore files</u>from backup zip\n                     </li>\n                    <p class=\"font-weight-bold mb-0 mt-2\">Help:</p>\n                    <dir class=\"d-flex flex-column mt-1 pl-0\">\n                      <a class=\"${css.text} mx-1\" target=\"__blank\" href=\"https://gitter.im/ethereum/remix\">Gitter channel</a>\n                      <a class=\"${css.text} mx-1\" target=\"__blank\" href=\"https://github.com/ethereum/remix-project/issues\">Report on Github</a>\n                    </dir>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row ${css.hpSections} mx-4\" data-id=\"landingPageHpSections\">\n                <div class=\"ml-3\">\n                  <div class=\"plugins mb-5\">\n                    <h4>Featured Plugins</h4>\n                    <div class=\"d-flex flex-row pt-2\">\n                      ${this.solEnv}\n                      ${this.optimismEnv}\n                      ${this.learnEthEnv}\n                      ${this.solhintEnv}\n                      ${this.sourcifyEnv}                      \n                      ${this.moreEnv}\n                    </div>\n                  </div>\n                  <div class=\"d-flex\">\n                    <div class=\"file\">\n                      <h4>File</h4>\n                      <p class=\"mb-1\">\n                        <i class=\"mr-1 far fa-file\"></i>\n                        <span class=\"ml-1 mb-1 ${css.text}\" onclick=${() => createNewFile()}>New File</span>\n                      </p>\n                      <p class=\"mb-1\">\n                        <i class=\"mr-1 far fa-file-alt\"></i>\n                        <label class=\"ml-1 ${css.labelIt} ${css.bigLabelSize} ${css.text}\">\n                          Open Files\n                          <input title=\"open file\" type=\"file\" onchange=\"${(event) => {\n                            event.stopPropagation()\n                            uploadFile(event.target)\n                          }\n                        }\" multiple />\n                        </label>\n                      </p>\n                      <p class=\"mb-1\">\n                        <i class=\"far fa-hdd\"></i>\n                        <span class=\"ml-1 ${css.text}\" onclick=${() => connectToLocalhost()}>Connect to Localhost</span>\n                      </p>\n                      <p class=\"mt-3 mb-0\"><label>LOAD FROM:</label></p>\n                      <div class=\"btn-group\">\n                        <button class=\"btn mr-1 btn-secondary\" data-id=\"landingPageImportFromGistButton\" onclick=\"${() => importFromGist()}\">Gist</button>\n                        <button class=\"btn mx-1 btn-secondary\" onclick=\"${() => load('Github', 'github URL', ['https://github.com/0xcert/ethereum-erc721/src/contracts/tokens/nf-token-metadata.sol', 'https://github.com/OpenZeppelin/openzeppelin-solidity/blob/67bca857eedf99bf44a4b6a0fc5b5ed553135316/contracts/access/Roles.sol'])}\">GitHub</button>\n                        <button class=\"btn mx-1 btn-secondary\" onclick=\"${() => load('Ipfs', 'ipfs URL', ['ipfs://<ipfs-hash>'])}\">Ipfs</button>\n                        <button class=\"btn mx-1 btn-secondary\" onclick=\"${() => load('Https', 'http/https raw content', ['https://raw.githubusercontent.com/OpenZeppelin/openzeppelin-contracts/master/contracts/token/ERC20/ERC20.sol'])}\">https</button>\n                      </div><!-- end of btn-group -->\n                    </div><!-- end of div.file -->\n                    <div class=\"ml-4 pl-4\">\n                      <h4>Resources</h4>\n                      <p class=\"mb-1\">\n                        <i class=\"mr-1 fas fa-book\"></i>\n                        <a class=\"${css.text}\" target=\"__blank\" href=\"https://remix-ide.readthedocs.io/en/latest/#\">Documentation</a>\n                      </p>\n                      <p class=\"mb-1\">\n                        <i class=\"mr-1 fab fa-gitter\"></i>\n                        <a class=\"${css.text}\" target=\"__blank\" href=\"https://gitter.im/ethereum/remix\">Gitter channel</a>\n                      </p>\n                      <p class=\"mb-1\">\n                        ${this.websiteIcon}\n                        <a class=\"${css.text}\" target=\"__blank\" href=\"https://remix-project.org\">Featuring website</a>\n                      </p>\n                      <p class=\"mb-1\">\n                        <i class=\"fab fa-ethereum ${css.image}\"></i>\n                        <span class=\"${css.text}\" onclick=${() => switchToPreviousVersion()}>Old experience</span>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div><!-- end of hpSections -->\n            </div>\n            <div class=\"d-flex flex-column ${css.rightPanel}\">\n              <div class=\"d-flex pr-3 py-2 align-self-end\"  id=\"remixIDEMediaPanelsTitle\">\n                ${this.badgeTwitter}\n                ${this.badgeMedium}\n              </div>\n              <div class=\"mr-3 d-flex bg-light ${css.panels}\" id=\"remixIDEMediaPanels\">\n                ${this.mediumPanel}\n                ${this.twitterPanel}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `\n\n    return container\n  }\n}\n","var modal = require('./modaldialog.js')\nvar yo = require('yo-yo')\nvar css = require('./styles/modal-dialog-custom-styles')\n\nmodule.exports = {\n  alert: function (title, text) {\n    if (text) return modal(title, yo`<div>${text}</div>`, null, { label: null })\n    return modal('Alert', yo`<div>${title}</div>`, null, { label: null })\n  },\n  prompt: function (title, text, inputValue, ok, cancel, focus) {\n    return prompt(title, text, false, inputValue, ok, cancel, focus)\n  },\n  promptPassphrase: function (title, text, inputValue, ok, cancel) {\n    return prompt(title, text, true, inputValue, ok, cancel)\n  },\n  promptPassphraseCreation: function (ok, cancel) {\n    var text = 'Please provide a Passphrase for the account creation'\n    var input = yo`\n      <div>\n        <input id=\"prompt1\" type=\"password\" name='prompt_text' class=\"${css.prompt_text}\" oninput=\"${(e) => validateInput(e)}\">\n        <br>\n        <br>\n        <input id=\"prompt2\" type=\"password\" name='prompt_text' class=\"${css.prompt_text}\" oninput=\"${(e) => validateInput(e)}\">\n      </div>\n    `\n    return modal(null, yo`<div>${text}<div>${input}</div></div>`,\n      {\n        fn: () => {\n          if (typeof ok === 'function') {\n            if (input.querySelector('#prompt1').value === input.querySelector('#prompt2').value) {\n              ok(null, input.querySelector('#prompt1').value)\n            } else {\n              ok('Passphase does not match')\n            }\n          }\n        }\n      },\n      {\n        fn: () => {\n          if (typeof cancel === 'function') cancel()\n        }\n      }\n    )\n  },\n  promptMulti: function ({ title, text, inputValue }, ok, cancel) {\n    if (!inputValue) inputValue = ''\n    const input = yo`\n      <textarea\n        id=\"prompt_text\"\n        data-id=\"modalDialogCustomPromptText\"\n        class=${css.prompt_text}\n        rows=\"4\"\n        cols=\"50\"\n        oninput=\"${(e) => validateInput(e)}\"\n      ></textarea>\n    `\n    return modal(title, yo`<div>${text}<div>${input}</div></div>`,\n      {\n        fn: () => { if (typeof ok === 'function') ok(document.getElementById('prompt_text').value) }\n      },\n      {\n        fn: () => { if (typeof cancel === 'function') cancel() }\n      }\n    )\n  },\n  confirm: function (title, text, ok, cancel) {\n    return modal(title, yo`<div>${text}</div>`,\n      {\n        fn: () => { if (typeof ok === 'function') ok() }\n      },\n      {\n        fn: () => { if (typeof cancel === 'function') cancel() }\n      }\n    )\n  }\n}\n\nconst validateInput = (e) => {\n  if (!document.getElementById('modal-footer-ok')) return\n\n  if (e.target.value === '') {\n    document.getElementById('modal-footer-ok').classList.add('disabled')\n    document.getElementById('modal-footer-ok').style.pointerEvents = 'none'\n  } else {\n    document.getElementById('modal-footer-ok').classList.remove('disabled')\n    document.getElementById('modal-footer-ok').style.pointerEvents = 'auto'\n  }\n}\n\nfunction prompt (title, text, hidden, inputValue, ok, cancel, focus) {\n  if (!inputValue) inputValue = ''\n  var type = hidden ? 'password' : 'text'\n  var input = yo`\n    <input\n      type=${type}\n      name='prompt_text'\n      id='prompt_text'\n      class=\"${css.prompt_text} form-control\"\n      value='${inputValue}'\n      data-id=\"modalDialogCustomPromptText\"\n      oninput=\"${(e) => validateInput(e)}\"\n    >\n  `\n\n  modal(title, yo`<div>${text}<div>${input}</div></div>`,\n    {\n      fn: () => { if (typeof ok === 'function') ok(document.getElementById('prompt_text').value) }\n    },\n    {\n      fn: () => { if (typeof cancel === 'function') cancel() }\n    },\n    focus ? '#prompt_text' : undefined\n  )\n}\n","var yo = require('yo-yo')\nvar css = require('./styles/modaldialog-styles')\n\nlet incomingModal = false // in case modals are queued, ensure we are not hiding the last one.\nmodule.exports = (title, content, ok, cancel, focusSelector, opts) => {\n  let agreed = true\n  let footerIsActive = false\n  opts = opts || {}\n  var container = document.getElementById('modal-dialog')\n  if (!container) {\n    document.querySelector('body').appendChild(html(opts))\n    container = document.getElementById('modal-dialog')\n    incomingModal = false\n  } else incomingModal = true\n\n  var closeDiv = document.getElementById('modal-close')\n  if (opts.hideClose) closeDiv.style.display = 'none'\n\n  var okDiv = document.getElementById('modal-footer-ok')\n  okDiv.innerHTML = (ok && ok.label !== undefined) ? ok.label : 'OK'\n  okDiv.style.display = okDiv.innerHTML === '' ? 'none' : 'inline-block'\n\n  var cancelDiv = document.getElementById('modal-footer-cancel')\n  cancelDiv.innerHTML = (cancel && cancel.label !== undefined) ? cancel.label : 'Cancel'\n  cancelDiv.style.display = cancelDiv.innerHTML === '' ? 'none' : 'inline-block'\n\n  var modal = document.getElementById('modal-body-id')\n  var modalTitle = document.getElementById('modal-title-h6')\n\n  modalTitle.innerHTML = ''\n  if (title) modalTitle.innerText = title\n\n  modal.innerHTML = ''\n  if (content) modal.appendChild(content)\n\n  setFocusOn('ok')\n\n  show()\n\n  function setFocusOn (btn) {\n    var okDiv = document.getElementById('modal-footer-ok')\n    var cancelDiv = document.getElementById('modal-footer-cancel')\n    if (btn === 'ok') {\n      okDiv.className = okDiv.className.replace(/\\bbtn-light\\b/g, 'btn-dark')\n      cancelDiv.className = cancelDiv.className.replace(/\\bbtn-dark\\b/g, 'btn-light')\n    } else {\n      cancelDiv.className = cancelDiv.className.replace(/\\bbtn-light\\b/g, 'btn-dark')\n      okDiv.className = okDiv.className.replace(/\\bbtn-dark\\b/g, 'btn-light')\n    }\n  }\n\n  function okListener () {\n    removeEventListener()\n    if (ok && ok.fn && agreed) ok.fn()\n    if (!incomingModal) hide()\n    incomingModal = false\n  }\n\n  function cancelListener () {\n    removeEventListener()\n    if (cancel && cancel.fn) cancel.fn()\n    if (!incomingModal) hide()\n    incomingModal = false\n  }\n\n  function modalKeyEvent (e) {\n    if (e.keyCode === 27) { // Esc\n      cancelListener()\n    } else if (e.keyCode === 13) { // Enter\n      e.preventDefault()\n      okListener()\n    } else if (e.keyCode === 37 && footerIsActive) { // Arrow Left\n      e.preventDefault()\n      agreed = true\n      setFocusOn('ok')\n    } else if (e.keyCode === 39 && footerIsActive) { // Arrow Right\n      e.preventDefault()\n      agreed = false\n      setFocusOn('cancel')\n    }\n  }\n\n  function hide () {\n    if (!container) return\n    container.style.display = 'none'\n    if (container.parentElement) container.parentElement.removeChild(container)\n    container = null\n    incomingModal = false\n  }\n\n  function show () {\n    if (!container) return\n    container.style.display = 'block'\n    if (focusSelector) {\n      const focusTarget = document.querySelector(`.modal ${focusSelector}`)\n      if (focusTarget) {\n        focusTarget.focus()\n        if (typeof focusTarget.setSelectionRange === 'function') {\n          focusTarget.setSelectionRange(0, focusTarget.value.length)\n        }\n      }\n    }\n  }\n\n  function removeEventListener () {\n    okDiv.removeEventListener('click', okListener)\n    cancelDiv.removeEventListener('click', cancelListener)\n    closeDiv.removeEventListener('click', cancelListener)\n    document.removeEventListener('keydown', modalKeyEvent)\n    if (document.getElementById('modal-background')) {\n      document.getElementById('modal-background').removeEventListener('click', cancelListener)\n    }\n  }\n  okDiv.addEventListener('click', okListener)\n  cancelDiv.addEventListener('click', cancelListener)\n  closeDiv.addEventListener('click', cancelListener)\n  document.addEventListener('keydown', modalKeyEvent)\n\n  const modalDialog = document.getElementById('modal-dialog')\n  if (modalDialog) {\n    modalDialog.addEventListener('click', (e) => {\n      footerIsActive = document.activeElement === modalDialog\n      if (e.toElement === modalDialog) {\n        cancelListener() // click is outside of modal-content\n      }\n    })\n  }\n  return { container, okListener, cancelListener, hide }\n}\n\nfunction html (opts) {\n  return yo`\n  <div id=\"modal-dialog\" data-id=\"modalDialogContainer\" data-backdrop=\"static\" data-keyboard=\"false\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\n    <div id=\"modal-background\" class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content ${css.modalContent} ${opts.class}\">\n        <div class=\"modal-header\">\n          <h6 id=\"modal-title-h6\" class=\"modal-title\" data-id=\"modalDialogModalTitle\"></h6>\n          <span class=\"modal-close\">\n            <i id=\"modal-close\" title=\"Close\" class=\"fas fa-times\" aria-hidden=\"true\"></i>\n          </span>\n        </div>\n        <div id=\"modal-body-id\" class=\"modal-body ${css.modalBody}\" data-id=\"modalDialogModalBody\"> - </div>\n        <div class=\"modal-footer\" data-id=\"modalDialogModalFooter\" autofocus>\n          <span id=\"modal-footer-ok\" class=\"${css.modalFooterOk} modal-ok btn btn-sm btn-light\" tabindex='5'>OK</span>\n          <span id=\"modal-footer-cancel\" class=\"${css.modalFooterCancel} modal-cancel btn btn-sm btn-light\" tabindex='10' data-dismiss=\"modal\">Cancel</span>\n        </div>\n      </div>\n    </div>\n  </div>`\n}\n","'use strict'\n\nvar yo = require('yo-yo')\nvar css = require('../../universal-dapp-styles')\nvar copyToClipboard = require('./copy-to-clipboard')\nvar remixLib = require('@remix-project/remix-lib')\nvar txFormat = remixLib.execution.txFormat\n\nclass MultiParamManager {\n  /**\n    *\n    * @param {bool} lookupOnly\n    * @param {Object} funABI\n    * @param {Function} clickMultiCallBack\n    * @param {string} inputs\n    * @param {string} title\n    * @param {string} evmBC\n    *\n    */\n  constructor (lookupOnly, funABI, clickCallBack, inputs, title, evmBC, isDeploy) {\n    this.lookupOnly = lookupOnly\n    this.funABI = funABI\n    this.clickCallBack = clickCallBack\n    this.inputs = inputs\n    this.title = title\n    this.evmBC = evmBC\n    this.basicInputField = null\n    this.multiFields = null\n    this.isDeploy = isDeploy\n  }\n\n  switchMethodViewOn () {\n    this.contractActionsContainerSingle.style.display = 'none'\n    this.contractActionsContainerMulti.style.display = 'flex'\n    this.makeMultiVal()\n  }\n\n  switchMethodViewOff () {\n    this.contractActionsContainerSingle.style.display = 'flex'\n    this.contractActionsContainerMulti.style.display = 'none'\n    var multiValString = this.getMultiValsString()\n    if (multiValString) this.basicInputField.value = multiValString\n  }\n\n  getValue (item, index) {\n    var valStr = item.value.join('')\n    return valStr\n  }\n\n  getMultiValsString () {\n    var valArray = this.multiFields.querySelectorAll('input')\n    var ret = ''\n    var valArrayTest = []\n\n    for (var j = 0; j < valArray.length; j++) {\n      if (ret !== '') ret += ','\n      var elVal = valArray[j].value\n      valArrayTest.push(elVal)\n      elVal = elVal.replace(/(^|,\\s+|,)(\\d+)(\\s+,|,|$)/g, '$1\"$2\"$3') // replace non quoted number by quoted number\n      elVal = elVal.replace(/(^|,\\s+|,)(0[xX][0-9a-fA-F]+)(\\s+,|,|$)/g, '$1\"$2\"$3') // replace non quoted hex string by quoted hex string\n      try {\n        JSON.parse(elVal)\n      } catch (e) {\n        elVal = '\"' + elVal + '\"'\n      }\n      ret += elVal\n    }\n    var valStringTest = valArrayTest.join('')\n    if (valStringTest) {\n      return ret\n    } else {\n      return ''\n    }\n  }\n\n  emptyInputs () {\n    var valArray = this.multiFields.querySelectorAll('input')\n    for (var k = 0; k < valArray.length; k++) {\n      valArray[k].value = ''\n    }\n    this.basicInputField.value = ''\n  }\n\n  makeMultiVal () {\n    var inputString = this.basicInputField.value\n    if (inputString) {\n      inputString = inputString.replace(/(^|,\\s+|,)(\\d+)(\\s+,|,|$)/g, '$1\"$2\"$3') // replace non quoted number by quoted number\n      inputString = inputString.replace(/(^|,\\s+|,)(0[xX][0-9a-fA-F]+)(\\s+,|,|$)/g, '$1\"$2\"$3') // replace non quoted hex string by quoted hex string\n      var inputJSON = JSON.parse('[' + inputString + ']')\n      var multiInputs = this.multiFields.querySelectorAll('input')\n      for (var k = 0; k < multiInputs.length; k++) {\n        if (inputJSON[k]) {\n          multiInputs[k].value = JSON.stringify(inputJSON[k])\n        }\n      }\n    }\n  }\n\n  createMultiFields () {\n    if (this.funABI.inputs) {\n      return yo`<div>\n        ${this.funABI.inputs.map(function (inp) {\n          return yo`<div class=\"${css.multiArg}\"><label for=\"${inp.name}\"> ${inp.name}: </label><input class=\"form-control\" placeholder=\"${inp.type}\" title=\"${inp.name}\" data-id=\"multiParamManagerInput${inp.name}\"></div>`\n        })}\n      </div>`\n    }\n  }\n\n  render () {\n    var title\n    if (this.title) {\n      title = this.title\n    } else if (this.funABI.name) {\n      title = this.funABI.name\n    } else {\n      title = this.funABI.type === 'receive' ? '(receive)' : '(fallback)'\n    }\n\n    this.basicInputField = yo`<input class=\"form-control\" data-id=\"multiParamManagerBasicInputField\"></input>`\n    this.basicInputField.setAttribute('placeholder', this.inputs)\n    this.basicInputField.setAttribute('title', this.inputs)\n    this.basicInputField.setAttribute('data-id', this.inputs)\n\n    var onClick = () => {\n      this.clickCallBack(this.funABI.inputs, this.basicInputField.value)\n    }\n    const width = this.isDeploy ? '' : 'w-50'\n    const funcButton = yo`<button onclick=${() => onClick()} class=\"${css.instanceButton} ${width} btn btn-sm\" data-id=\"multiParamManagerFuncButton\">${title}</button>`\n    this.contractActionsContainerSingle = yo`\n    <div class=\"${css.contractActionsContainerSingle} pt-2\">\n      ${funcButton}\n      ${this.basicInputField}\n      <i class=\"fas fa-angle-down ${css.methCaret}\" onclick=${() => this.switchMethodViewOn()} title=${title} ></i>\n    </div>`\n\n    this.multiFields = this.createMultiFields()\n\n    var multiOnClick = () => {\n      var valsString = this.getMultiValsString()\n      if (valsString) {\n        this.clickCallBack(this.funABI.inputs, valsString)\n      } else {\n        this.clickCallBack(this.funABI.inputs, '')\n      }\n    }\n\n    var expandedButton = yo`<button onclick=${() => { multiOnClick() }} class=\"${css.instanceButton}\" data-id=\"multiParamManagerExpandedButton\"></button>`\n\n    this.contractActionsContainerMulti = yo`<div class=\"${css.contractActionsContainerMulti}\" >\n      <div class=\"${css.contractActionsContainerMultiInner} text-dark\" >\n        <div onclick=${() => { this.switchMethodViewOff() }} class=\"${css.multiHeader}\">\n          <div class=\"${css.multiTitle} run-instance-multi-title\">${title}</div>\n          <i class='fas fa-angle-up ${css.methCaret}'></i>\n        </div>\n        ${this.multiFields}\n        <div class=\"${css.group} ${css.multiArg}\" >\n          ${copyToClipboard(\n            () => {\n              var multiString = this.getMultiValsString()\n              var multiJSON = JSON.parse('[' + multiString + ']')\n              var encodeObj\n              if (this.evmBC) {\n                encodeObj = txFormat.encodeData(this.funABI, multiJSON, this.evmBC)\n              } else {\n                encodeObj = txFormat.encodeData(this.funABI, multiJSON)\n              }\n              if (encodeObj.error) {\n                throw new Error(encodeObj.error)\n              } else {\n                return encodeObj.data\n              }\n            }, 'Encode values of input fields & copy to clipboard', 'fa-clipboard')}\n            ${expandedButton}\n        </div>\n      </div>\n    </div>`\n\n    var contractProperty = yo`\n      <div class=\"${css.contractProperty}\">\n        ${this.contractActionsContainerSingle} ${this.contractActionsContainerMulti}\n      </div>\n    `\n    if (this.lookupOnly) {\n      // call. stateMutability is either pure or view\n      expandedButton.setAttribute('title', (title + ' - call'))\n      expandedButton.innerHTML = 'call'\n      expandedButton.classList.add('btn-info')\n      expandedButton.setAttribute('data-id', (title + ' - call'))\n      funcButton.setAttribute('title', (title + ' - call'))\n      funcButton.classList.add('btn-info')\n      funcButton.setAttribute('data-id', (title + ' - call'))\n    } else if (this.funABI.stateMutability === 'payable' || this.funABI.payable) {\n      // transact. stateMutability = payable\n      expandedButton.setAttribute('title', (title + ' - transact (payable)'))\n      expandedButton.innerHTML = 'transact'\n      expandedButton.classList.add('btn-danger')\n      expandedButton.setAttribute('data-id', (title + ' - transact (payable)'))\n      funcButton.setAttribute('title', (title + ' - transact (payable)'))\n      funcButton.classList.add('btn-danger')\n      funcButton.setAttribute('data-id', (title + ' - transact (payable)'))\n    } else {\n      // transact. stateMutability = nonpayable\n      expandedButton.setAttribute('title', (title + ' - transact (not payable)'))\n      expandedButton.innerHTML = 'transact'\n      expandedButton.classList.add('btn-warning')\n      expandedButton.setAttribute('data-id', (title + ' - transact (not payable)'))\n      funcButton.classList.add('btn-warning')\n      funcButton.setAttribute('title', (title + ' - transact (not payable)'))\n      funcButton.setAttribute('data-id', (title + ' - transact (not payable)'))\n    }\n\n    if (this.funABI.inputs && this.funABI.inputs.length > 0) {\n      contractProperty.classList.add(css.hasArgs)\n    } else if (this.funABI.type === 'fallback' || this.funABI.type === 'receive') {\n      contractProperty.classList.add(css.hasArgs)\n      this.basicInputField.setAttribute('title', `'(${this.funABI.type}')`) // probably should pass name instead\n      this.contractActionsContainerSingle.querySelector('i').style.visibility = 'hidden'\n      this.basicInputField.setAttribute('data-id', `'(${this.funABI.type}')`)\n    } else {\n      this.contractActionsContainerSingle.querySelector('i').style.visibility = 'hidden'\n      this.basicInputField.style.visibility = 'hidden'\n    }\n\n    return contractProperty\n  }\n}\n\nmodule.exports = MultiParamManager\n","/* global localStorage */\nconst yo = require('yo-yo')\nconst csjs = require('csjs-inject')\nconst addTooltip = require('./tooltip')\nconst modalDialog = require('./modaldialog')\nconst globalRegistry = require('../../global/registry')\n\nconst css = csjs`\n.permission h4 {\n  text-transform: uppercase;\n  text-align: center;\n}\n.permission h6 {\n  text-transform: uppercase;\n}\n.remember {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.images {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n}\n.images img {\n  width: 40px;\n  height: 40px;\n}\n.images i {\n  margin: 0 20px;\n}\n`\n\nfunction notAllowWarning (from, to, method) {\n  return `${from.displayName || from.name} is not allowed to call ${method} method of ${to.displayName || to.name}.`\n}\n\nexport class PermissionHandler {\n  constructor () {\n    this.permissions = this._getFromLocal()\n    this.currentVersion = 1\n    // here we remove the old permissions saved before adding 'permissionVersion'\n    // since with v1 the structure has been changed because of new engine ^0.2.0-alpha.6 changes\n    if (!localStorage.getItem('permissionVersion')) {\n      localStorage.setItem('plugins/permissions', '')\n      localStorage.setItem('permissionVersion', this.currentVersion)\n    }\n  }\n\n  _getFromLocal () {\n    const permission = localStorage.getItem('plugins/permissions')\n    return permission ? JSON.parse(permission) : {}\n  }\n\n  persistPermissions () {\n    const permissions = JSON.stringify(this.permissions)\n    localStorage.setItem('plugins/permissions', permissions)\n  }\n\n  clear () {\n    localStorage.removeItem('plugins/permissions')\n    addTooltip('All Permissions have been reset')\n  }\n\n  /**\n   * Show a message to ask the user for a permission\n   * @param {PluginProfile} from The name and hash of the plugin that make the call\n   * @param {ModuleProfile} to The name of the plugin that receive the call\n   * @param {string} method The name of the function to be called\n   * @param {string} message from the caller plugin to add more details if needed\n   * @returns {Promise<{ allow: boolean; remember: boolean }} Answer from the user to the permission\n   */\n  async openPermission (from, to, method, message) {\n    return new Promise((resolve, reject) => {\n      modalDialog(\n        `Permission needed for ${to.displayName || to.name}`,\n        this.form(from, to, method, message),\n        {\n          label: 'Accept',\n          fn: () => {\n            if (this.permissions[to.name][method][from.name]) {\n              this.permissions[to.name][method][from.name] = {\n                allow: true,\n                hash: from.hash\n              }\n              this.persistPermissions()\n            }\n            resolve(true)\n          }\n        },\n        {\n          label: 'Decline',\n          fn: () => {\n            if (this.permissions[to.name][method][from.name]) {\n              this.permissions[to.name][method][from.name] = {\n                allow: false,\n                hash: from.hash\n              }\n              this.persistPermissions()\n            }\n            reject(notAllowWarning(from, to, method))\n          }\n        }\n      )\n    })\n  }\n\n  /**\n   * Check if a plugin has the permission to call another plugin and askPermission if needed\n   * @param {PluginProfile} from the profile of the plugin that make the call\n   * @param {ModuleProfile} to The profile of the module that receive the call\n   * @param {string} method The name of the function to be called\n   * @param {string} message from the caller plugin to add more details if needed\n   * @returns {Promise<boolean>}\n   */\n  async askPermission (from, to, method, message) {\n    try {\n      this.permissions = this._getFromLocal()\n      if (!this.permissions[to.name]) this.permissions[to.name] = {}\n      if (!this.permissions[to.name][method]) this.permissions[to.name][method] = {}\n      if (!this.permissions[to.name][method][from.name]) return this.openPermission(from, to, method, message)\n\n      const { allow, hash } = this.permissions[to.name][method][from.name]\n      if (!allow) {\n        const warning = notAllowWarning(from, to, method)\n        addTooltip(warning)\n        return false\n      }\n      return hash === from.hash\n        ? true // Allow\n        : this.openPermission(from, to, method, message) // New version of a plugin\n    } catch (err) {\n      throw new Error(err)\n    }\n  }\n\n  /**\n   * The permission form\n   * @param {PluginProfile} from The name and hash of the plugin that make the call\n   * @param {ModuleProfile} to The name of the plugin that receive the call\n   * @param {string} method The name of te methode to be called\n   * @param {string} message from the caller plugin to add more details if needed\n   */\n  form (from, to, method, message) {\n    const fromName = from.displayName || from.name\n    const toName = to.displayName || to.name\n    const remember = this.permissions[to.name][method][from.name]\n\n    const switchMode = (e) => {\n      e.target.checked\n        ? this.permissions[to.name][method][from.name] = {}\n        : delete this.permissions[to.name][method][from.name]\n    }\n    const rememberSwitch = remember\n      ? yo`<input type=\"checkbox\" onchange=\"${switchMode}\" checkbox class=\"form-check-input\" id=\"remember\" data-id=\"permissionHandlerRememberChecked\">`\n      : yo`<input type=\"checkbox\" onchange=\"${switchMode}\" class=\"form-check-input\" id=\"remember\" data-id=\"permissionHandlerRememberUnchecked\">`\n    const text = `\"${fromName}\" ${(remember ? 'has changed and' : '')} would like to access to \"${method}\" of \"${toName}\"`\n    const imgFrom = yo`<img id=\"permissionModalImagesFrom\" src=\"${from.icon}\" />`\n    const imgTo = yo`<img id=\"permissionModalImagesTo\" src=\"${to.icon}\" />`\n    const pluginsImages = yo`\n      <article class=\"${css.images}\">\n        ${imgFrom}\n        <i class=\"fas fa-arrow-right\"></i>\n        ${imgTo}\n      </article>\n    `\n\n    globalRegistry.get('themeModule').api.fixInvert(imgFrom)\n    globalRegistry.get('themeModule').api.fixInvert(imgTo)\n\n    const pluginMessage = message ? yo`\n      <div>\n        <h6>Description</h6>\n        <p>${message}</p>\n      </div>\n    ` : ''\n    return yo`\n      <section class=\"${css.permission}\">\n        ${pluginsImages}\n        <article>\n          <h4 data-id=\"permissionHandlerMessage\">${text} :</h4>\n          <h6>${fromName}</h6>\n          <p>${from.description || yo`<i>No description Provided</i>`}</p>\n          <h6>${toName} :</p>\n          <p>${to.description || yo`<i>No description Provided</i>`}</p>\n          ${pluginMessage}\n        </article>\n\n        <article class=\"${css.remember}\">\n          <div class=\"form-check\">\n            ${rememberSwitch}\n            <label class=\"form-check-label\" for=\"remember\" data-id=\"permissionHandlerRememberChoice\">Remember this choice</label>\n          </div>\n          <button class=\"btn btn-sm\" onclick=\"${_ => this.clear()}\">Reset all Permissions</button>\n        </article>\n      </section>\n    `\n  }\n}\n","'use strict'\n\nvar $ = require('jquery')\nvar yo = require('yo-yo')\nvar css = require('./styles/renderer-styles')\nvar globlalRegistry = require('../../global/registry')\n\n/**\n * After refactor, the renderer is only used to render error/warning\n * TODO: This don't need to be an object anymore. Simplify and just export the renderError function.\n *\n */\nfunction Renderer (service) {\n  const self = this\n  self.service = service\n  self._components = {}\n  self._components.registry = globlalRegistry\n  // dependencies\n  self._deps = {\n    fileManager: self._components.registry.get('filemanager').api,\n    config: self._components.registry.get('config').api\n  }\n  if (document && document.head) {\n    document.head.appendChild(css)\n  }\n}\n\nRenderer.prototype._error = function (file, error) {\n  const self = this\n  if (file === self._deps.config.get('currentFile')) {\n    self.service.call('editor', 'addAnnotation', error, file)\n  }\n}\n\nRenderer.prototype._errorClick = function (errFile, errLine, errCol) {\n  const self = this\n  const editor = self._components.registry.get('editor').api\n  if (errFile !== self._deps.config.get('currentFile')) {\n    // TODO: refactor with this._components.contextView.jumpTo\n    var provider = self._deps.fileManager.fileProviderOf(errFile)\n    if (provider) {\n      provider.exists(errFile).then(exist => {\n        self._deps.fileManager.open(errFile)\n        editor.gotoLine(errLine, errCol)\n      }).catch(error => {\n        if (error) return console.log(error)\n      })\n    }\n  } else {\n    editor.gotoLine(errLine, errCol)\n  }\n}\n\nfunction getPositionDetails (msg) {\n  const result = {}\n\n  // To handle some compiler warning without location like SPDX license warning etc\n  if (!msg.includes(':')) return { errLine: -1, errCol: -1, errFile: msg }\n\n  // extract line / column\n  let position = msg.match(/^(.*?):([0-9]*?):([0-9]*?)?/)\n  result.errLine = position ? parseInt(position[2]) - 1 : -1\n  result.errCol = position ? parseInt(position[3]) : -1\n\n  // extract file\n  position = msg.match(/^(https:.*?|http:.*?|.*?):/)\n  result.errFile = position ? position[1] : ''\n  return result\n}\n\n/**\n * format msg like error or warning,\n *\n * @param {String or DOMElement} message\n * @param {DOMElement} container\n * @param {Object} options {\n *  useSpan,\n *  noAnnotations,\n *  click:(Function),\n *  type:(\n *    warning,\n *    error\n *  ),\n *  errFile,\n *  errLine,\n *  errCol\n * }\n */\n\nRenderer.prototype.error = function (message, container, opt) {\n  if (!message) return\n  if (container === undefined) return\n  opt = opt || {}\n\n  var text\n  if (typeof message === 'string') {\n    text = message\n    message = yo`<span>${message}</span>`\n  } else if (message.innerText) {\n    text = message.innerText\n  }\n\n  // ^ e.g:\n  // browser/gm.sol: Warning: Source file does not specify required compiler version! Consider adding \"pragma solidity ^0.6.12\n  // https://github.com/OpenZeppelin/openzeppelin-contracts/blob/release-v3.2.0/contracts/introspection/IERC1820Registry.sol:3:1: ParserError: Source file requires different compiler version (current compiler is 0.7.4+commit.3f05b770.Emscripten.clang) - note that nightly builds are considered to be strictly less than the released version\n\n  let position = getPositionDetails(text)\n\n  // For compiler version 0.8.0 and upcoming versions, errors and warning will be reported in a different way\n  // Above method regex will return type of error as 'errFile'\n  // Comparison of 'errFile' with passed error type will ensure the reporter type\n  if (!position.errFile || (opt.errorType && opt.errorType === position.errFile)) {\n    // Updated error reported includes '-->' before file details\n    const errorDetails = text.split('-->')\n    // errorDetails[1] will have file details\n    if (errorDetails.length > 1) position = getPositionDetails(errorDetails[1])\n  }\n\n  opt.errLine = position.errLine\n  opt.errCol = position.errCol\n  opt.errFile = position.errFile.trim()\n\n  if (!opt.noAnnotations && opt.errFile) {\n    this._error(opt.errFile, {\n      row: opt.errLine,\n      column: opt.errCol,\n      text: text,\n      type: opt.type\n    })\n  }\n\n  var $pre = $(opt.useSpan ? yo`<span></span>` : yo`<pre></pre>`).html(message)\n\n  const classList = opt.type === 'error' ? 'alert alert-danger' : 'alert alert-warning'\n  var $error = $(yo`<div class=\"sol ${opt.type} ${classList}\" data-id=\"${opt.errFile}\"><div class=\"close\" data-id=\"renderer\"><i class=\"fas fa-times\"></i></div></div>`).prepend($pre)\n  $(container).append($error)\n\n  $error.click((ev) => {\n    if (opt.click) {\n      opt.click(message)\n    } else if (opt.errFile !== undefined && opt.errLine !== undefined && opt.errCol !== undefined) {\n      this._errorClick(opt.errFile, opt.errLine, opt.errCol)\n    }\n  })\n\n  $error.find('.close').click(function (ev) {\n    ev.preventDefault()\n    $error.remove()\n    return false\n  })\n}\n\nmodule.exports = Renderer\n","const yo = require('yo-yo')\nconst remixLib = require('@remix-project/remix-lib')\nconst confirmDialog = require('./confirmDialog')\nconst modalCustom = require('./modal-dialog-custom')\nconst modalDialog = require('./modaldialog')\nconst typeConversion = remixLib.execution.typeConversion\nconst Web3 = require('web3')\n\nmodule.exports = {\n  getCallBacksWithContext: (udappUI, blockchain) => {\n    const callbacks = {}\n    callbacks.confirmationCb = confirmationCb\n    callbacks.continueCb = continueCb\n    callbacks.promptCb = promptCb\n    callbacks.udappUI = udappUI\n    callbacks.blockchain = blockchain\n    return callbacks\n  }\n}\n\nconst continueCb = function (error, continueTxExecution, cancelCb) {\n  if (error) {\n    const msg = typeof error !== 'string' ? error.message : error\n    modalDialog(\n      'Gas estimation failed',\n      yo`\n        <div>Gas estimation errored with the following message (see below).\n        The transaction execution will likely fail. Do you want to force sending? <br>${msg}</div>\n      `,\n      {\n        label: 'Send Transaction',\n        fn: () => continueTxExecution()\n      },\n      {\n        label: 'Cancel Transaction',\n        fn: () => cancelCb()\n      }\n    )\n  } else {\n    continueTxExecution()\n  }\n}\n\nconst promptCb = function (okCb, cancelCb) {\n  modalCustom.promptPassphrase('Passphrase requested', 'Personal mode is enabled. Please provide passphrase of account', '', okCb, cancelCb)\n}\n\nconst confirmationCb = function (network, tx, gasEstimation, continueTxExecution, cancelCb) {\n  const self = this\n  if (network.name !== 'Main') {\n    return continueTxExecution(null)\n  }\n  var amount = Web3.utils.fromWei(typeConversion.toInt(tx.value), 'ether')\n  var content = confirmDialog(tx, network, amount, gasEstimation,\n    (gasPrice, cb) => {\n      let txFeeText, priceStatus\n      // TODO: this try catch feels like an anti pattern, can/should be\n      // removed, but for now keeping the original logic\n      try {\n        var fee = Web3.utils.toBN(tx.gas).mul(Web3.utils.toBN(Web3.utils.toWei(gasPrice.toString(10), 'gwei')))\n        txFeeText = ' ' + Web3.utils.fromWei(fee.toString(10), 'ether') + ' Ether'\n        priceStatus = true\n      } catch (e) {\n        txFeeText = ' Please fix this issue before sending any transaction. ' + e.message\n        priceStatus = false\n      }\n      cb(txFeeText, priceStatus)\n    },\n    (cb) => {\n      self.blockchain.web3().eth.getGasPrice((error, gasPrice) => {\n        const warnMessage = ' Please fix this issue before sending any transaction. '\n        if (error) {\n          return cb('Unable to retrieve the current network gas price.' + warnMessage + error)\n        }\n        try {\n          var gasPriceValue = Web3.utils.fromWei(gasPrice.toString(10), 'gwei')\n          cb(null, gasPriceValue)\n        } catch (e) {\n          cb(warnMessage + e.message, null, false)\n        }\n      })\n    }\n  )\n  modalDialog(\n    'Confirm transaction',\n    content,\n    {\n      label: 'Confirm',\n      fn: () => {\n        self.blockchain.config.setUnpersistedProperty(\n          'doNotShowTransactionConfirmationAgain',\n          content.querySelector('input#confirmsetting').checked\n        )\n        // TODO: check if this is check is still valid given the refactor\n        if (!content.gasPriceStatus) {\n          cancelCb('Given transaction fee is not correct')\n        } else {\n          continueTxExecution(content.txFee)\n        }\n      }\n    },\n    {\n      label: 'Cancel',\n      fn: () => {\n        return cancelCb('Transaction canceled by user.')\n      }\n    }\n  )\n}\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n  .popup             {\n    position         : absolute;\n    text-align       : left;\n    display          : none;\n    width            : 95%;\n    font-family      : monospace;\n    background-color : var(--secondary);\n    overflow         : auto;\n    padding-bottom   : 13px;\n    z-index          : 80;\n    bottom           : 1em;\n    border-width     : 4px;\n    left             : 2em;\n  }\n\n  .autoCompleteItem {\n    padding          : 4px;\n    border-radius    : 2px;\n  }\n\n  .popup a {\n    cursor           : pointer;\n  }\n\n  .listHandlerShow   {\n    display          : block;\n  }\n\n  .listHandlerHide   {\n    display          : none;\n  }\n\n  .listHandlerButtonShow {\n    position         : fixed;\n    width            : 46%;\n  }\n\n  .pageNumberAlignment {\n    font-size        : 10px;\n    float            : right;\n  }\n\n  .modalContent {\n    position         : absolute;\n    margin-left      : 20%;\n    margin-bottom    : 32px;\n    bottom           : 0px;\n    padding          : 0;\n    line-height      : 18px;\n    font-size        : 12px;\n    width            : 40%;\n    box-shadow       : 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\n    -webkit-animation-name: animatebottom;\n    -webkit-animation-duration: 0.4s;\n    animation-name   : animatetop;\n    animation-duration: 0.4s\n  }\n\n  @-webkit-keyframes animatetop {\n    from {bottom: -300px; opacity: 0}\n    to {bottom: 0; opacity: 1}\n  }\n\n  @keyframes animatetop {\n    from {bottom: -300px; opacity: 0}\n    to {bottom: 0; opacity: 1}\n  }\n`\n\nmodule.exports = css\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n  .prompt_text {\n    width: 100%;\n  }\n`\n\nmodule.exports = css\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n\n  .modalFooter {\n  }\n  .modalContent {\n    box-shadow: 0 0 8px 10000px rgba(0,0,0,0.6),0 6px 20px 0 rgba(0,0,0,0.19);\n    -webkit-animation-name: animatetop;\n    -webkit-animation-duration: 0.4s;\n    animation-name: animatetop;\n    animation-duration: 0.4s\n  }\n  .modalBody {\n    word-break: break-word;\n    overflow-y: auto;\n    max-height: 600px;\n  }\n  .modalFooterOk {\n  }\n  .modalFooterCancel {\n  }\n  @-webkit-keyframes animatetop {\n    from {top: -300px; opacity: 0}\n    to {top: 0; opacity: 1}\n  }\n  @keyframes animatetop {\n    from {top: -300px; opacity: 0}\n    to {top: 0; opacity: 1}\n  }\n`\n\nmodule.exports = css\n","var yo = require('yo-yo')\n\nvar css = yo`<style>\n.sol.success,\n.sol.error,\n.sol.warning {\n    white-space: pre-line;\n    word-wrap: break-word;\n    cursor: pointer;\n    position: relative;\n    margin: 0.5em 0 1em 0;\n    border-radius: 5px;\n    line-height: 20px;\n    padding: 8px 15px;\n}\n\n.sol.success pre,\n.sol.error pre,\n.sol.warning pre {\n    white-space: pre-line;\n    overflow-y: hidden;\n    background-color: transparent;\n    margin: 0;\n    font-size: 12px;\n    border: 0 none;\n    padding: 0;\n    border-radius: 0;\n}\n\n.sol.success .close,\n.sol.error .close,\n.sol.warning .close {\n    white-space: pre-line;\n    font-weight: bold;\n    position: absolute;\n    color: hsl(0, 0%, 0%); /* black in style-guide.js */\n    top: 0;\n    right: 0;\n    padding: 0.5em;\n}\n\n.sol.error {\n}\n\n.sol.warning {\n}\n\n.sol.success {\n  /* background-color:  // styles.rightPanel.message_Success_BackgroundColor; */\n}</style>`\n\nmodule.exports = css\n","var csjs = require('csjs-inject')\n\nvar css = csjs`\n  .tooltip {\n    z-index: 1001;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: fixed;\n    min-height: 50px;\n    padding: 16px 24px 12px;\n    border-radius: 3px;\n    bottom: -300;\n    left: 40%;\n    font-size: 14px;\n    text-align: center;\n    bottom: 0;\n    flex-direction: row;\n  }\n  @-webkit-keyframes animatebottom  {\n    0% {bottom: -300px}\n    100% {bottom: 0}\n  }\n  @keyframes animatebottom  {\n    0% {bottom: -300px}\n    100% {bottom: 0}\n  }\n  @-webkit-keyframes animatetop  {\n    0% {bottom: 0}\n    100% {bottom: -300px}\n  }\n  @keyframes animatetop  {\n    0% {bottom: 0}\n    100% {bottom: -300px}\n  }\n  .animateTop {\n    -webkit-animation-name: animatetop;\n    -webkit-animation-duration: 2s;\n    animation-name: animatetop;\n    animation-duration: 2s;\n  }\n  .animateBottom {\n    -webkit-animation-name: animatebottom;\n    -webkit-animation-duration: 2s;\n    animation-name: animatebottom;\n    animation-duration: 2s;    \n  }\n`\n\nmodule.exports = css\n","import yo from 'yo-yo'\nexport function basicLogo () {\n  return yo`<svg id=\"Ebene_2\" data-name=\"Ebene 2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 105 100\"> \n<path d=\"M91.84,35a.09.09,0,0,1-.1-.07,41,41,0,0,0-79.48,0,.09.09,0,0,1-.1.07C9.45,35,1,35.35,1,42.53c0,8.56,1,16,6,20.32,2.16,1.85,5.81,2.3,9.27,2.22a44.4,44.4,0,0,0,6.45-.68.09.09,0,0,0,.06-.15A34.81,34.81,0,0,1,17,45c0-.1,0-.21,0-.31a35,35,0,0,1,70,0c0,.1,0,.21,0,.31a34.81,34.81,0,0,1-5.78,19.24.09.09,0,0,0,.06.15,44.4,44.4,0,0,0,6.45.68c3.46.08,7.11-.37,9.27-2.22,5-4.27,6-11.76,6-20.32C103,35.35,94.55,35,91.84,35Z\"/>\n<path d=\"M52,74,25.4,65.13a.1.1,0,0,0-.1.17L51.93,91.93a.1.1,0,0,0,.14,0L78.7,65.3a.1.1,0,0,0-.1-.17L52,74A.06.06,0,0,1,52,74Z\"/>\n<path d=\"M75.68,46.9,82,45a.09.09,0,0,0,.08-.09,29.91,29.91,0,0,0-.87-6.94.11.11,0,0,0-.09-.08l-6.43-.58a.1.1,0,0,1-.06-.18l4.78-4.18a.13.13,0,0,0,0-.12,30.19,30.19,0,0,0-3.65-6.07.09.09,0,0,0-.11,0l-5.91,2a.1.1,0,0,1-.12-.14L72.19,23a.11.11,0,0,0,0-.12,29.86,29.86,0,0,0-5.84-4.13.09.09,0,0,0-.11,0l-4.47,4.13a.1.1,0,0,1-.17-.07l.09-6a.1.1,0,0,0-.07-.1,30.54,30.54,0,0,0-7-1.47.1.1,0,0,0-.1.07l-2.38,5.54a.1.1,0,0,1-.18,0l-2.37-5.54a.11.11,0,0,0-.11-.06,30,30,0,0,0-7,1.48.12.12,0,0,0-.07.1l.08,6.05a.09.09,0,0,1-.16.07L37.8,18.76a.11.11,0,0,0-.12,0,29.75,29.75,0,0,0-5.83,4.13.11.11,0,0,0,0,.12l2.59,5.6a.11.11,0,0,1-.13.14l-5.9-2a.11.11,0,0,0-.12,0,30.23,30.23,0,0,0-3.62,6.08.11.11,0,0,0,0,.12l4.79,4.19a.1.1,0,0,1-.06.17L23,37.91a.1.1,0,0,0-.09.07A29.9,29.9,0,0,0,22,44.92a.1.1,0,0,0,.07.1L28.4,47a.1.1,0,0,1,0,.18l-5.84,3.26a.16.16,0,0,0,0,.11,30.17,30.17,0,0,0,2.1,6.76c.32.71.67,1.4,1,2.08a.1.1,0,0,0,.06,0L52,68.16H52l26.34-8.78a.1.1,0,0,0,.06-.05,30.48,30.48,0,0,0,3.11-8.88.1.1,0,0,0-.05-.11l-5.83-3.26A.1.1,0,0,1,75.68,46.9Z\"/>\n</svg>`\n}\n","/* global Element */\nvar yo = require('yo-yo')\nvar css = require('./styles/tooltip-styles')\nvar modal = require('./modal-dialog-custom')\n\n/**\n * Open a tooltip\n * @param {string} tooltipText The text shown by the tooltip\n * @param {function} [action] Returns An HTMLElement to display for action\n */\nmodule.exports = function addTooltip (tooltipText, action, opts) {\n  action = action || function () { return yo`<div></div>` }\n  const t = new Toaster()\n  return t.render(tooltipText, action(t), opts)\n}\n\nclass Toaster {\n  hide () {\n    if (this.id) clearTimeout(this.id)\n    setTimeout(() => {\n      // remove from body after the animation is finished\n      if (this.tooltip.parentElement) this.tooltip.parentElement.removeChild(this.tooltip)\n    }, 2000)\n    animation(this.tooltip, css.animateTop.className)\n  }\n\n  render (tooltipText, actionElement, opts) {\n    opts = defaultOptions(opts)\n    let canShorten = true\n    if (tooltipText instanceof Element) {\n      canShorten = false\n    } else {\n      if (typeof tooltipText === 'object') {\n        if (tooltipText.message) {\n          tooltipText = tooltipText.message\n        } else {\n          try {\n            tooltipText = JSON.stringify(tooltipText)\n          } catch (e) {\n          }\n        }\n      }\n    }\n\n    return new Promise((resolve, reject) => {\n      const shortTooltipText = (canShorten && tooltipText.length > 201) ? tooltipText.substring(0, 200) + '...' : tooltipText\n      this.resolveFn = resolve\n\n      function showFullMessage () {\n        modal.alert(tooltipText)\n      }\n\n      function closeTheToaster (self) {\n        self.hide()\n        over()\n        resolve()\n      }\n      const button = tooltipText.length > 201 ? yo`\n      <button class=\"btn btn-secondary btn-sm mx-3\" style=\"white-space: nowrap;\" onclick=${() => showFullMessage()}>Show full message</button>\n      ` : ''\n\n      this.tooltip = yo`\n        <div data-shared=\"tooltipPopup\" class=\"${css.tooltip} alert alert-info p-2\"  onmouseenter=${() => { over() }} onmouseleave=${() => { out() }}>\n          <span class=\"px-2\">\n            ${shortTooltipText}\n            ${button}\n            ${actionElement}\n          </span>\n          <span style=\"align-self: baseline;\">\n            <button data-id=\"tooltipCloseButton\" class=\"fas fa-times btn-info mx-1 p-0\" onclick=${() => closeTheToaster(this)}></button>\n          </span>\n        </div>`\n      const timeOut = () => {\n        return setTimeout(() => {\n          if (this.id) {\n            this.hide()\n            resolve()\n          }\n        }, opts.time)\n      }\n      const over = () => {\n        if (this.id) {\n          clearTimeout(this.id)\n          this.id = null\n        }\n      }\n      const out = () => {\n        if (!this.id) this.id = timeOut()\n      }\n      this.id = timeOut()\n      document.body.appendChild(this.tooltip)\n      animation(this.tooltip, css.animateBottom.className)\n    })\n  }\n}\n\nconst defaultOptions = (opts) => {\n  opts = opts || {}\n  return {\n    time: opts.time || 7000\n  }\n}\n\nconst animation = (tooltip, anim) => {\n  tooltip.classList.remove(css.animateTop.className)\n  tooltip.classList.remove(css.animateBottom.className)\n  // eslint-disable-next-line\n  void tooltip.offsetWidth // trick for restarting the animation\n  tooltip.classList.add(anim)\n}\n","/* global */\n'use strict'\n\nvar $ = require('jquery')\nvar yo = require('yo-yo')\nvar ethJSUtil = require('ethereumjs-util')\nvar BN = ethJSUtil.BN\nvar helper = require('../../lib/helper')\nvar copyToClipboard = require('./copy-to-clipboard')\nvar css = require('../../universal-dapp-styles')\nvar MultiParamManager = require('./multiParamManager')\nvar remixLib = require('@remix-project/remix-lib')\nvar txFormat = remixLib.execution.txFormat\nconst txHelper = remixLib.execution.txHelper\nvar TreeView = require('./TreeView')\nvar txCallBacks = require('./sendTxCallbacks')\nconst _paq = window._paq = window._paq || []\n\nfunction UniversalDAppUI (blockchain, logCallback) {\n  this.blockchain = blockchain\n  this.logCallback = logCallback\n  this.compilerData = { contractsDetails: {} }\n}\n\nfunction decodeResponseToTreeView (response, fnabi) {\n  var treeView = new TreeView({\n    extractData: (item, parent, key) => {\n      var ret = {}\n      if (BN.isBN(item)) {\n        ret.self = item.toString(10)\n        ret.children = []\n      } else {\n        ret = treeView.extractDataDefault(item, parent, key)\n      }\n      return ret\n    }\n  })\n  return treeView.render(txFormat.decodeResponse(response, fnabi))\n}\n\nUniversalDAppUI.prototype.renderInstance = function (contract, address, contractName) {\n  var noInstances = document.querySelector('[data-id=\"deployAndRunNoInstanceText\"]')\n  if (noInstances) {\n    noInstances.parentNode.removeChild(noInstances)\n  }\n  const abi = txHelper.sortAbiFunction(contract.abi)\n  return this.renderInstanceFromABI(abi, address, contractName, contract)\n}\n\n// TODO this function was named before \"appendChild\".\n// this will render an instance: contract name, contract address, and all the public functions\n// basically this has to be called for the \"atAddress\" (line 393) and when a contract creation succeed\n// this returns a DOM element\nUniversalDAppUI.prototype.renderInstanceFromABI = function (contractABI, address, contractName, contract) {\n  const self = this\n  address = (address.slice(0, 2) === '0x' ? '' : '0x') + address.toString('hex')\n  address = ethJSUtil.toChecksumAddress(address)\n  var instance = yo`<div class=\"instance run-instance border-dark ${css.instance} ${css.hidesub}\" id=\"instance${address}\" data-shared=\"universalDappUiInstance\"></div>`\n  const context = this.blockchain.context()\n\n  var shortAddress = helper.shortenAddress(address)\n  var title = yo`\n    <div class=\"${css.title} alert alert-secondary\">\n      <button data-id=\"universalDappUiTitleExpander\" class=\"btn ${css.titleExpander}\" onclick=\"${(e) => { toggleClass(e) }}\">\n        <i class=\"fas fa-angle-right\" aria-hidden=\"true\"></i>\n      </button>\n      <div class=\"input-group ${css.nameNbuts}\">\n        <div class=\"${css.titleText} input-group-prepend\">\n          <span class=\"input-group-text ${css.spanTitleText}\">\n            ${contractName} at ${shortAddress} (${context})\n          </span>\n        </div>\n        <div class=\"btn-group\">\n          <button class=\"btn p-1 btn-secondary\">${copyToClipboard(() => address)}</button>\n        </div>\n      </div>\n    </div>\n  `\n\n  var close = yo`\n    <button\n      class=\"${css.udappClose} mr-1 p-1 btn btn-secondary align-items-center\"\n      data-id=\"universalDappUiUdappClose\"\n      onclick=${remove}\n      title=\"Remove from the list\"\n    >\n      <i class=\"${css.closeIcon} fas fa-times\" aria-hidden=\"true\"></i>\n    </button>`\n  title.querySelector('.btn-group').appendChild(close)\n\n  var contractActionsWrapper = yo`\n    <div class=\"${css.cActionsWrapper}\" data-id=\"universalDappUiContractActionWrapper\">\n    </div>\n  `\n\n  function remove () {\n    instance.remove()\n    // @TODO perhaps add a callack here to warn the caller that the instance has been removed\n  }\n\n  function toggleClass (e) {\n    $(instance).toggleClass(`${css.hidesub} bg-light`)\n    // e.currentTarget.querySelector('i')\n    e.currentTarget.querySelector('i').classList.toggle('fa-angle-right')\n    e.currentTarget.querySelector('i').classList.toggle('fa-angle-down')\n  }\n\n  instance.appendChild(title)\n  instance.appendChild(contractActionsWrapper)\n\n  $.each(contractABI, (i, funABI) => {\n    if (funABI.type !== 'function') {\n      return\n    }\n    // @todo getData cannot be used with overloaded functions\n    contractActionsWrapper.appendChild(this.getCallButton({\n      funABI: funABI,\n      address: address,\n      contractABI: contractABI,\n      contractName: contractName,\n      contract\n    }))\n  })\n\n  const calldataInput = yo`\n    <input id=\"deployAndRunLLTxCalldata\" class=\"${css.calldataInput} form-control\" title=\"The Calldata to send to fallback function of the contract.\">\n  `\n  const llIError = yo`\n    <label id=\"deployAndRunLLTxError\" class=\"text-danger my-2\"></label>\n  `\n  // constract LLInteractions elements\n  const lowLevelInteracions = yo`\n    <div class=\"d-flex flex-column\">\n      <div class=\"d-flex flex-row justify-content-between mt-2\">\n        <div class=\"py-2 border-top d-flex justify-content-start flex-grow-1\">\n          Low level interactions\n        </div>\n        <a\n          href=\"https://solidity.readthedocs.io/en/v0.6.2/contracts.html#receive-ether-function\"\n          title=\"check out docs for using 'receive'/'fallback'\"\n          target=\"_blank\"\n        >\n          <i aria-hidden=\"true\" class=\"fas fa-info my-2 mr-1\"></i>\n        </a>\n      </div>\n      <div class=\"d-flex flex-column align-items-start\">\n        <label class=\"\">CALLDATA</label>\n        <div class=\"d-flex justify-content-end w-100 align-items-center\">\n          ${calldataInput}\n          <button id=\"deployAndRunLLTxSendTransaction\" data-id=\"pluginManagerSettingsDeployAndRunLLTxSendTransaction\" class=\"${css.instanceButton} p-0 w-50 btn border-warning text-warning\" title=\"Send data to contract.\" onclick=${() => sendData()}>Transact</button>\n        </div>\n      </div>\n      <div>\n        ${llIError}\n      </div>\n    </div>\n  `\n\n  function sendData () {\n    function setLLIError (text) {\n      llIError.innerText = text\n    }\n\n    setLLIError('')\n    const fallback = txHelper.getFallbackInterface(contractABI)\n    const receive = txHelper.getReceiveInterface(contractABI)\n    const args = {\n      funABI: fallback || receive,\n      address: address,\n      contractName: contractName,\n      contractABI: contractABI\n    }\n    const amount = document.querySelector('#value').value\n    if (amount !== '0') {\n      // check for numeric and receive/fallback\n      if (!helper.isNumeric(amount)) {\n        return setLLIError('Value to send should be a number')\n      } else if (!receive && !(fallback && fallback.stateMutability === 'payable')) {\n        return setLLIError(\"In order to receive Ether transfer the contract should have either 'receive' or payable 'fallback' function\")\n      }\n    }\n    let calldata = calldataInput.value\n    if (calldata) {\n      if (calldata.length < 4 && helper.is0XPrefixed(calldata)) {\n        return setLLIError('The calldata should be a valid hexadecimal value with size of at least one byte.')\n      } else {\n        if (helper.is0XPrefixed(calldata)) {\n          calldata = calldata.substr(2, calldata.length)\n        }\n        if (!helper.isHexadecimal(calldata)) {\n          return setLLIError('The calldata should be a valid hexadecimal value.')\n        }\n      }\n      if (!fallback) {\n        return setLLIError(\"'Fallback' function is not defined\")\n      }\n    }\n\n    if (!receive && !fallback) return setLLIError('Both \\'receive\\' and \\'fallback\\' functions are not defined')\n\n    // we have to put the right function ABI:\n    // if receive is defined and that there is no calldata => receive function is called\n    // if fallback is defined => fallback function is called\n    if (receive && !calldata) args.funABI = receive\n    else if (fallback) args.funABI = fallback\n\n    if (!args.funABI) return setLLIError('Please define a \\'Fallback\\' function to send calldata and a either \\'Receive\\' or payable \\'Fallback\\' to send ethers')\n    self.runTransaction(false, args, null, calldataInput.value, null)\n  }\n\n  contractActionsWrapper.appendChild(lowLevelInteracions)\n  return instance\n}\n\n// TODO this is used by renderInstance when a new instance is displayed.\n// this returns a DOM element.\nUniversalDAppUI.prototype.getCallButton = function (args) {\n  const self = this\n  var outputOverride = yo`<div class=${css.value}></div>` // show return value\n  const isConstant = args.funABI.constant !== undefined ? args.funABI.constant : false\n  const lookupOnly = args.funABI.stateMutability === 'view' || args.funABI.stateMutability === 'pure' || isConstant\n  const multiParamManager = new MultiParamManager(\n    lookupOnly,\n    args.funABI,\n    (valArray, inputsValues) => self.runTransaction(lookupOnly, args, valArray, inputsValues, outputOverride),\n    self.blockchain.getInputs(args.funABI)\n  )\n\n  const contractActionsContainer = yo`<div class=\"${css.contractActionsContainer}\" >${multiParamManager.render()}</div>`\n  contractActionsContainer.appendChild(outputOverride)\n\n  return contractActionsContainer\n}\n\nUniversalDAppUI.prototype.runTransaction = function (lookupOnly, args, valArr, inputsValues, outputOverride) {\n  const functionName = args.funABI.type === 'function' ? args.funABI.name : `(${args.funABI.type})`\n  const logMsg = `${lookupOnly ? 'call' : 'transact'} to ${args.contractName}.${functionName}`\n\n  const callbacksInContext = txCallBacks.getCallBacksWithContext(this, this.blockchain)\n\n  const outputCb = (returnValue) => {\n    if (outputOverride) {\n      const decoded = decodeResponseToTreeView(returnValue, args.funABI)\n      outputOverride.innerHTML = ''\n      outputOverride.appendChild(decoded)\n    }\n  }\n  let callinfo = ''\n  if (lookupOnly) callinfo = 'call'\n  else if (args.funABI.type === 'fallback' || args.funABI.type === 'receive') callinfo = 'lowLevelInteracions'\n  else callinfo = 'transact'\n\n  _paq.push(['trackEvent', 'udapp', callinfo, this.blockchain.getCurrentNetworkStatus().network.name])\n  const params = args.funABI.type !== 'fallback' ? inputsValues : ''\n  this.blockchain.runOrCallContractMethod(\n    args.contractName,\n    args.contractABI,\n    args.funABI,\n    args.contract,\n    inputsValues,\n    args.address,\n    params,\n    lookupOnly,\n    logMsg,\n    this.logCallback,\n    outputCb,\n    callbacksInContext.confirmationCb.bind(callbacksInContext),\n    callbacksInContext.continueCb.bind(callbacksInContext),\n    callbacksInContext.promptCb.bind(callbacksInContext))\n}\n\nmodule.exports = UniversalDAppUI\n","import Web3 from 'web3'\nimport { Plugin } from '@remixproject/engine'\nimport { toBuffer, addHexPrefix } from 'ethereumjs-util'\nimport { waterfall } from 'async'\nimport { EventEmitter } from 'events'\nimport { format } from 'util'\nimport { ExecutionContext } from './execution-context'\nimport VMProvider from './providers/vm.js'\nimport InjectedProvider from './providers/injected.js'\nimport NodeProvider from './providers/node.js'\nimport { execution, EventManager, helpers } from '@remix-project/remix-lib'\nconst { txFormat, txExecution, typeConversion, txListener: Txlistener, TxRunner, TxRunnerWeb3, txHelper } = execution\nconst { txResultHelper: resultToRemixTx } = helpers\nconst packageJson = require('../../../../package.json')\n\nconst _paq = window._paq = window._paq || []  //eslint-disable-line\n\nconst profile = {\n  name: 'blockchain',\n  displayName: 'Blockchain',\n  description: 'Blockchain - Logic',\n  methods: [],\n  version: packageJson.version\n}\n\nclass Blockchain extends Plugin {\n  // NOTE: the config object will need to be refactored out in remix-lib\n  constructor (config) {\n    super(profile)\n    this.event = new EventManager()\n    this.executionContext = new ExecutionContext()\n\n    this.events = new EventEmitter()\n    this.config = config\n    const web3Runner = new TxRunnerWeb3({\n      config: this.config,\n      detectNetwork: (cb) => {\n        this.executionContext.detectNetwork(cb)\n      },\n      isVM: () => { return this.executionContext.isVM() },\n      personalMode: () => {\n        return this.getProvider() === 'web3' ? this.config.get('settings/personal-mode') : false\n      }\n    }, _ => this.executionContext.web3(), _ => this.executionContext.currentblockGasLimit())\n    this.txRunner = new TxRunner(web3Runner, { runAsync: true })\n\n    this.executionContext.event.register('contextChanged', this.resetEnvironment.bind(this))\n\n    this.networkcallid = 0\n    this.networkStatus = { name: ' - ', id: ' - ' }\n    this.setupEvents()\n    this.setupProviders()\n  }\n\n  setupEvents () {\n    this.executionContext.event.register('contextChanged', (context, silent) => {\n      this.event.trigger('contextChanged', [context, silent])\n    })\n\n    this.executionContext.event.register('addProvider', (network) => {\n      this.event.trigger('addProvider', [network])\n    })\n\n    this.executionContext.event.register('removeProvider', (name) => {\n      this.event.trigger('removeProvider', [name])\n    })\n\n    setInterval(() => {\n      this.detectNetwork((error, network) => {\n        this.networkStatus = { network, error }\n        this.event.trigger('networkStatus', [this.networkStatus])\n      })\n    }, 1000)\n  }\n\n  getCurrentNetworkStatus () {\n    return this.networkStatus\n  }\n\n  setupProviders () {\n    this.providers = {}\n    this.providers.vm = new VMProvider(this.executionContext)\n    this.providers.injected = new InjectedProvider(this.executionContext)\n    this.providers.web3 = new NodeProvider(this.executionContext, this.config)\n  }\n\n  getCurrentProvider () {\n    const provider = this.getProvider()\n    if (this.providers[provider]) return this.providers[provider]\n    return this.providers.web3 // default to the common type of provider\n  }\n\n  /** Return the list of accounts */\n  // note: the dual promise/callback is kept for now as it was before\n  getAccounts (cb) {\n    return new Promise((resolve, reject) => {\n      this.getCurrentProvider().getAccounts((error, accounts) => {\n        if (cb) {\n          return cb(error, accounts)\n        }\n        if (error) {\n          reject(error)\n        }\n        resolve(accounts)\n      })\n    })\n  }\n\n  deployContractAndLibraries (selectedContract, args, contractMetadata, compilerContracts, callbacks, confirmationCb) {\n    const { continueCb, promptCb, statusCb, finalCb } = callbacks\n    const constructor = selectedContract.getConstructorInterface()\n    txFormat.buildData(selectedContract.name, selectedContract.object, compilerContracts, true, constructor, args, (error, data) => {\n      if (error) return statusCb(`creation of ${selectedContract.name} errored: ${error.message ? error.message : error}`)\n\n      statusCb(`creation of ${selectedContract.name} pending...`)\n      this.createContract(selectedContract, data, continueCb, promptCb, confirmationCb, finalCb)\n    }, statusCb, (data, runTxCallback) => {\n      // called for libraries deployment\n      this.runTx(data, confirmationCb, continueCb, promptCb, runTxCallback)\n    })\n  }\n\n  deployContractWithLibrary (selectedContract, args, contractMetadata, compilerContracts, callbacks, confirmationCb) {\n    const { continueCb, promptCb, statusCb, finalCb } = callbacks\n    const constructor = selectedContract.getConstructorInterface()\n    txFormat.encodeConstructorCallAndLinkLibraries(selectedContract.object, args, constructor, contractMetadata.linkReferences, selectedContract.bytecodeLinkReferences, (error, data) => {\n      if (error) return statusCb(`creation of ${selectedContract.name} errored: ${error.message ? error.message : error}`)\n\n      statusCb(`creation of ${selectedContract.name} pending...`)\n      this.createContract(selectedContract, data, continueCb, promptCb, confirmationCb, finalCb)\n    })\n  }\n\n  createContract (selectedContract, data, continueCb, promptCb, confirmationCb, finalCb) {\n    if (data) {\n      data.contractName = selectedContract.name\n      data.linkReferences = selectedContract.bytecodeLinkReferences\n      data.contractABI = selectedContract.abi\n    }\n\n    this.runTx({ data: data, useCall: false }, confirmationCb, continueCb, promptCb,\n      (error, txResult, address) => {\n        if (error) {\n          return finalCb(`creation of ${selectedContract.name} errored: ${error.message ? error.message : error}`)\n        }\n        if (txResult.receipt.status === false || txResult.receipt.status === '0x0') {\n          return finalCb(`creation of ${selectedContract.name} errored: transaction execution failed`)\n        }\n        finalCb(null, selectedContract, address)\n      }\n    )\n  }\n\n  determineGasPrice (cb) {\n    this.getCurrentProvider().getGasPrice((error, gasPrice) => {\n      const warnMessage = ' Please fix this issue before sending any transaction. '\n      if (error) {\n        return cb('Unable to retrieve the current network gas price.' + warnMessage + error)\n      }\n      try {\n        const gasPriceValue = this.fromWei(gasPrice, false, 'gwei')\n        cb(null, gasPriceValue)\n      } catch (e) {\n        cb(warnMessage + e.message, null, false)\n      }\n    })\n  }\n\n  getInputs (funABI) {\n    if (!funABI.inputs) {\n      return ''\n    }\n    return txHelper.inputParametersDeclarationToString(funABI.inputs)\n  }\n\n  fromWei (value, doTypeConversion, unit) {\n    if (doTypeConversion) {\n      return Web3.utils.fromWei(typeConversion.toInt(value), unit || 'ether')\n    }\n    return Web3.utils.fromWei(value.toString(10), unit || 'ether')\n  }\n\n  toWei (value, unit) {\n    return Web3.utils.toWei(value, unit || 'gwei')\n  }\n\n  calculateFee (gas, gasPrice, unit) {\n    return Web3.utils.toBN(gas).mul(Web3.utils.toBN(Web3.utils.toWei(gasPrice.toString(10), unit || 'gwei')))\n  }\n\n  determineGasFees (tx) {\n    const determineGasFeesCb = (gasPrice, cb) => {\n      let txFeeText, priceStatus\n      // TODO: this try catch feels like an anti pattern, can/should be\n      // removed, but for now keeping the original logic\n      try {\n        const fee = this.calculateFee(tx.gas, gasPrice)\n        txFeeText = ' ' + this.fromWei(fee, false, 'ether') + ' Ether'\n        priceStatus = true\n      } catch (e) {\n        txFeeText = ' Please fix this issue before sending any transaction. ' + e.message\n        priceStatus = false\n      }\n      cb(txFeeText, priceStatus)\n    }\n\n    return determineGasFeesCb\n  }\n\n  changeExecutionContext (context, confirmCb, infoCb, cb) {\n    return this.executionContext.executionContextChange(context, null, confirmCb, infoCb, cb)\n  }\n\n  setProviderFromEndpoint (target, context, cb) {\n    return this.executionContext.setProviderFromEndpoint(target, context, cb)\n  }\n\n  detectNetwork (cb) {\n    return this.executionContext.detectNetwork(cb)\n  }\n\n  getProvider () {\n    return this.executionContext.getProvider()\n  }\n\n  /**\n   * return the fork name applied to the current envionment\n   * @return {String} - fork name\n   */\n  getCurrentFork () {\n    return this.executionContext.getCurrentFork()\n  }\n\n  isWeb3Provider () {\n    const isVM = this.getProvider() === 'vm'\n    const isInjected = this.getProvider() === 'injected'\n    return (!isVM && !isInjected)\n  }\n\n  isInjectedWeb3 () {\n    return this.getProvider() === 'injected'\n  }\n\n  signMessage (message, account, passphrase, cb) {\n    this.getCurrentProvider().signMessage(message, account, passphrase, cb)\n  }\n\n  web3 () {\n    // @todo(https://github.com/ethereum/remix-project/issues/431)\n    const isVM = this.getProvider() === 'vm'\n    if (isVM) {\n      return this.providers.vm.web3\n    }\n    return this.executionContext.web3()\n  }\n\n  getTxListener (opts) {\n    opts.event = {\n      // udapp: this.udapp.event\n      udapp: this.event\n    }\n    const txlistener = new Txlistener(opts, this.executionContext)\n    return txlistener\n  }\n\n  runOrCallContractMethod (contractName, contractAbi, funABI, contract, value, address, callType, lookupOnly, logMsg, logCallback, outputCb, confirmationCb, continueCb, promptCb) {\n    // contractsDetails is used to resolve libraries\n    txFormat.buildData(contractName, contractAbi, {}, false, funABI, callType, (error, data) => {\n      if (error) {\n        return logCallback(`${logMsg} errored: ${error.message ? error.message : error}`)\n      }\n      if (!lookupOnly) {\n        logCallback(`${logMsg} pending ... `)\n      } else {\n        logCallback(`${logMsg}`)\n      }\n      if (funABI.type === 'fallback') data.dataHex = value\n\n      if (data) {\n        data.contractName = contractName\n        data.contractABI = contractAbi\n        data.contract = contract\n      }\n      const useCall = funABI.stateMutability === 'view' || funABI.stateMutability === 'pure'\n      this.runTx({ to: address, data, useCall }, confirmationCb, continueCb, promptCb, (error, txResult, _address, returnValue) => {\n        if (error) {\n          return logCallback(`${logMsg} errored: ${error.message ? error.message : error}`)\n        }\n        if (lookupOnly) {\n          outputCb(returnValue)\n        }\n      })\n    },\n    (msg) => {\n      logCallback(msg)\n    },\n    (data, runTxCallback) => {\n      // called for libraries deployment\n      this.runTx(data, confirmationCb, runTxCallback, promptCb, () => {})\n    })\n  }\n\n  context () {\n    return (this.executionContext.isVM() ? 'memory' : 'blockchain')\n  }\n\n  // NOTE: the config is only needed because exectuionContext.init does\n  // if config.get('settings/always-use-vm'), we can simplify this later\n  resetAndInit (config, transactionContextAPI) {\n    this.transactionContextAPI = transactionContextAPI\n    this.executionContext.init(config)\n    this.executionContext.stopListenOnLastBlock()\n    this.executionContext.listenOnLastBlock()\n    this.resetEnvironment()\n  }\n\n  addProvider (provider) {\n    this.executionContext.addProvider(provider)\n  }\n\n  removeProvider (name) {\n    this.executionContext.removeProvider(name)\n  }\n\n  // TODO : event should be triggered by Udapp instead of TxListener\n  /** Listen on New Transaction. (Cannot be done inside constructor because txlistener doesn't exist yet) */\n  startListening (txlistener) {\n    txlistener.event.register('newTransaction', (tx, receipt) => {\n      this.events.emit('newTransaction', tx, receipt)\n    })\n  }\n\n  resetEnvironment () {\n    this.getCurrentProvider().resetEnvironment()\n    // TODO: most params here can be refactored away in txRunner\n    const web3Runner = new TxRunnerWeb3({\n      config: this.config,\n      detectNetwork: (cb) => {\n        this.executionContext.detectNetwork(cb)\n      },\n      isVM: () => { return this.executionContext.isVM() },\n      personalMode: () => {\n        return this.getProvider() === 'web3' ? this.config.get('settings/personal-mode') : false\n      }\n    }, _ => this.executionContext.web3(), _ => this.executionContext.currentblockGasLimit())\n\n    this.txRunner = new TxRunner(web3Runner, { runAsync: true })\n    this.txRunner.event.register('transactionBroadcasted', (txhash) => {\n      this.executionContext.detectNetwork((error, network) => {\n        if (error || !network) return\n        this.event.trigger('transactionBroadcasted', [txhash, network.name])\n      })\n    })\n  }\n\n  /**\n   * Create a VM Account\n   * @param {{privateKey: string, balance: string}} newAccount The new account to create\n   */\n  createVMAccount (newAccount) {\n    if (this.getProvider() !== 'vm') {\n      throw new Error('plugin API does not allow creating a new account through web3 connection. Only vm mode is allowed')\n    }\n    return this.providers.vm.createVMAccount(newAccount)\n  }\n\n  newAccount (_password, passwordPromptCb, cb) {\n    return this.getCurrentProvider().newAccount(passwordPromptCb, cb)\n  }\n\n  /** Get the balance of an address, and convert wei to ether */\n  getBalanceInEther (address, cb) {\n    this.getCurrentProvider().getBalanceInEther(address, cb)\n  }\n\n  pendingTransactionsCount () {\n    return Object.keys(this.txRunner.pendingTxs).length\n  }\n\n  /**\n   * This function send a tx only to javascript VM or testnet, will return an error for the mainnet\n   * SHOULD BE TAKEN CAREFULLY!\n   *\n   * @param {Object} tx    - transaction.\n   */\n  sendTransaction (tx) {\n    return new Promise((resolve, reject) => {\n      this.executionContext.detectNetwork((error, network) => {\n        if (error) return reject(error)\n        if (network.name === 'Main' && network.id === '1') {\n          return reject(new Error('It is not allowed to make this action against mainnet'))\n        }\n\n        this.txRunner.rawRun(\n          tx,\n          (network, tx, gasEstimation, continueTxExecution, cancelCb) => { continueTxExecution() },\n          (error, continueTxExecution, cancelCb) => { if (error) { reject(error) } else { continueTxExecution() } },\n          (okCb, cancelCb) => { okCb() },\n          async (error, result) => {\n            if (error) return reject(error)\n            try {\n              const execResult = await this.web3().eth.getExecutionResultFromSimulator(result.transactionHash)\n              resolve(resultToRemixTx(result, execResult))\n            } catch (e) {\n              reject(e)\n            }\n          }\n        )\n      })\n    })\n  }\n\n  runTx (args, confirmationCb, continueCb, promptCb, cb) {\n    const self = this\n    waterfall([\n      function getGasLimit (next) {\n        if (self.transactionContextAPI.getGasLimit) {\n          return self.transactionContextAPI.getGasLimit(next)\n        }\n        next(null, 3000000)\n      },\n      function queryValue (gasLimit, next) {\n        if (args.value) {\n          return next(null, args.value, gasLimit)\n        }\n        if (args.useCall || !self.transactionContextAPI.getValue) {\n          return next(null, 0, gasLimit)\n        }\n        self.transactionContextAPI.getValue(function (err, value) {\n          next(err, value, gasLimit)\n        })\n      },\n      function getAccount (value, gasLimit, next) {\n        if (args.from) {\n          return next(null, args.from, value, gasLimit)\n        }\n        if (self.transactionContextAPI.getAddress) {\n          return self.transactionContextAPI.getAddress(function (err, address) {\n            next(err, address, value, gasLimit)\n          })\n        }\n        self.getAccounts(function (err, accounts) {\n          const address = accounts[0]\n\n          if (err) return next(err)\n          if (!address) return next('No accounts available')\n          // if (self.executionContext.isVM() && !self.providers.vm.accounts[address]) {\n          if (self.executionContext.isVM() && !self.providers.vm.RemixSimulatorProvider.Accounts.accounts[address]) {\n            return next('Invalid account selected')\n          }\n          next(null, address, value, gasLimit)\n        })\n      },\n      function runTransaction (fromAddress, value, gasLimit, next) {\n        const tx = { to: args.to, data: args.data.dataHex, useCall: args.useCall, from: fromAddress, value: value, gasLimit: gasLimit, timestamp: args.data.timestamp }\n        const payLoad = { funAbi: args.data.funAbi, funArgs: args.data.funArgs, contractBytecode: args.data.contractBytecode, contractName: args.data.contractName, contractABI: args.data.contractABI, linkReferences: args.data.linkReferences }\n        if (!tx.timestamp) tx.timestamp = Date.now()\n\n        const timestamp = tx.timestamp\n        self.event.trigger('initiatingTransaction', [timestamp, tx, payLoad])\n        self.txRunner.rawRun(tx, confirmationCb, continueCb, promptCb,\n          async (error, result) => {\n            if (error) return next(error)\n\n            const isVM = self.executionContext.isVM()\n            if (isVM && tx.useCall) {\n              try {\n                result.transactionHash = await self.web3().eth.getHashFromTagBySimulator(timestamp)\n              } catch (e) {\n                console.log('unable to retrieve back the \"call\" hash', e)\n              }\n            }\n            const eventName = (tx.useCall ? 'callExecuted' : 'transactionExecuted')\n            self.event.trigger(eventName, [error, tx.from, tx.to, tx.data, tx.useCall, result, timestamp, payLoad])\n\n            if (error && (typeof (error) !== 'string')) {\n              if (error.message) error = error.message\n              else {\n                try { error = 'error: ' + JSON.stringify(error) } catch (e) {}\n              }\n            }\n            next(error, result, tx)\n          }\n        )\n      }\n    ],\n    async (error, txResult, tx) => {\n      if (error) {\n        return cb(error)\n      }\n\n      /*\n      value of txResult is inconsistent:\n          - transact to contract:\n            {\"receipt\": { ... }, \"tx\":{ ... }, \"transactionHash\":\"0x7ba4c05075210fdbcf4e6660258379db5cc559e15703f9ac6f970a320c2dee09\"}\n          - call to contract:\n            {\"result\":\"0x0000000000000000000000000000000000000000000000000000000000000000\",\"transactionHash\":\"0x5236a76152054a8aad0c7135bcc151f03bccb773be88fbf4823184e47fc76247\"}\n      */\n\n      const isVM = this.executionContext.isVM()\n      let execResult\n      let returnValue = null\n      if (isVM) {\n        const hhlogs = await this.web3().eth.getHHLogsForTx(txResult.transactionHash)\n        if (hhlogs && hhlogs.length) {\n          let finalLogs = '<b>console.log:</b>\\n'\n          for (const log of hhlogs) {\n            let formattedLog\n            // Hardhat implements the same formatting options that can be found in Node.js' console.log,\n            // which in turn uses util.format: https://nodejs.org/dist/latest-v12.x/docs/api/util.html#util_util_format_format_args\n            // For example: console.log(\"Name: %s, Age: %d\", remix, 6) will log 'Name: remix, Age: 6'\n            // We check first arg to determine if 'util.format' is needed\n            if (typeof log[0] === 'string' && (log[0].includes('%s') || log[0].includes('%d'))) {\n              formattedLog = format(log[0], ...log.slice(1))\n            } else {\n              formattedLog = log.join(' ')\n            }\n            finalLogs = finalLogs + '&emsp;' + formattedLog + '\\n'\n          }\n          _paq.push(['trackEvent', 'udapp', 'hardhat', 'console.log'])\n          this.call('terminal', 'log', { type: 'info', value: finalLogs })\n        }\n        execResult = await this.web3().eth.getExecutionResultFromSimulator(txResult.transactionHash)\n        if (execResult) {\n          // if it's not the VM, we don't have return value. We only have the transaction, and it does not contain the return value.\n          returnValue = execResult ? execResult.returnValue : toBuffer(addHexPrefix(txResult.result) || '0x0000000000000000000000000000000000000000000000000000000000000000')\n          const compiledContracts = await this.call('compilerArtefacts', 'getAllContractDatas')\n          const vmError = txExecution.checkVMError(execResult, compiledContracts)\n          if (vmError.error) {\n            return cb(vmError.message)\n          }\n        }\n      }\n\n      if (!isVM && tx && tx.useCall) {\n        returnValue = toBuffer(addHexPrefix(txResult.result))\n      }\n\n      let address = null\n      if (txResult && txResult.receipt) {\n        address = txResult.receipt.contractAddress\n      }\n\n      cb(error, txResult, address, returnValue)\n    })\n  }\n}\n\nmodule.exports = Blockchain\n","/* global ethereum */\n'use strict'\nimport Web3 from 'web3'\nimport { execution } from '@remix-project/remix-lib'\nimport EventManager from '../lib/events'\n\nlet web3\n\nif (typeof window !== 'undefined' && typeof window.ethereum !== 'undefined') {\n  var injectedProvider = window.ethereum\n  web3 = new Web3(injectedProvider)\n} else {\n  web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'))\n}\n\n/*\n  trigger contextChanged, web3EndpointChanged\n*/\nexport class ExecutionContext {\n  constructor () {\n    this.event = new EventManager()\n    this.executionContext = null\n    this.lastBlock = null\n    this.blockGasLimitDefault = 4300000\n    this.blockGasLimit = this.blockGasLimitDefault\n    this.currentFork = 'london'\n    this.mainNetGenesisHash = '0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3'\n    this.customNetWorks = {}\n    this.blocks = {}\n    this.latestBlockNumber = 0\n    this.txs = {}\n    this.customWeb3 = {} // mapping between a context name and a web3.js instance\n  }\n\n  init (config) {\n    if (config.get('settings/always-use-vm')) {\n      this.executionContext = 'vm'\n    } else {\n      this.executionContext = injectedProvider ? 'injected' : 'vm'\n      if (this.executionContext === 'injected') this.askPermission()\n    }\n  }\n\n  askPermission () {\n    // metamask\n    if (ethereum && typeof ethereum.enable === 'function') ethereum.enable()\n  }\n\n  getProvider () {\n    return this.executionContext\n  }\n\n  getCurrentFork () {\n    return this.currentFork\n  }\n\n  isVM () {\n    return this.executionContext === 'vm'\n  }\n\n  setWeb3 (context, web3) {\n    this.customWeb3[context] = web3\n  }\n\n  web3 () {\n    if (this.customWeb3[this.executionContext]) return this.customWeb3[this.executionContext]\n    return web3\n  }\n\n  detectNetwork (callback) {\n    if (this.isVM()) {\n      callback(null, { id: '-', name: 'VM' })\n    } else {\n      web3.eth.net.getId((err, id) => {\n        let name = null\n        if (err) name = 'Unknown'\n        // https://github.com/ethereum/EIPs/blob/master/EIPS/eip-155.md\n        else if (id === 1) name = 'Main'\n        else if (id === 3) name = 'Ropsten'\n        else if (id === 4) name = 'Rinkeby'\n        else if (id === 5) name = 'Goerli'\n        else if (id === 42) name = 'Kovan'\n        else name = 'Custom'\n\n        if (id === '1') {\n          web3.eth.getBlock(0, (error, block) => {\n            if (error) console.log('cant query first block')\n            if (block && block.hash !== this.mainNetGenesisHash) name = 'Custom'\n            callback(err, { id, name, lastBlock: this.lastBlock, currentFork: this.currentFork })\n          })\n        } else {\n          callback(err, { id, name, lastBlock: this.lastBlock, currentFork: this.currentFork })\n        }\n      })\n    }\n  }\n\n  removeProvider (name) {\n    if (name && this.customNetWorks[name]) {\n      if (this.executionContext === name) this.setContext('vm', null, null, null)\n      delete this.customNetWorks[name]\n      this.event.trigger('removeProvider', [name])\n    }\n  }\n\n  addProvider (network) {\n    if (network && network.name && !this.customNetWorks[network.name]) {\n      this.customNetWorks[network.name] = network\n      this.event.trigger('addProvider', [network])\n    }\n  }\n\n  internalWeb3 () {\n    return web3\n  }\n\n  blankWeb3 () {\n    return new Web3()\n  }\n\n  setContext (context, endPointUrl, confirmCb, infoCb) {\n    this.executionContext = context\n    this.executionContextChange(context, endPointUrl, confirmCb, infoCb, null)\n  }\n\n  async executionContextChange (value, endPointUrl, confirmCb, infoCb, cb) {\n    const context = value.context\n    if (!cb) cb = () => {}\n    if (!confirmCb) confirmCb = () => {}\n    if (!infoCb) infoCb = () => {}\n    if (context === 'vm') {\n      this.executionContext = context\n      this.currentFork = value.fork\n      this.event.trigger('contextChanged', ['vm'])\n      return cb()\n    }\n\n    if (context === 'injected') {\n      if (injectedProvider === undefined) {\n        infoCb('No injected Web3 provider found. Make sure your provider (e.g. MetaMask) is active and running (when recently activated you may have to reload the page).')\n        return cb()\n      } else {\n        this.askPermission()\n        this.executionContext = context\n        web3.setProvider(injectedProvider)\n        await this._updateChainContext()\n        this.event.trigger('contextChanged', ['injected'])\n        return cb()\n      }\n    }\n\n    if (context === 'web3') {\n      confirmCb(cb)\n    }\n    if (this.customNetWorks[context]) {\n      var network = this.customNetWorks[context]\n      this.setProviderFromEndpoint(network.provider, { context: network.name }, (error) => {\n        if (error) infoCb(error)\n        cb()\n      })\n    }\n  }\n\n  currentblockGasLimit () {\n    return this.blockGasLimit\n  }\n\n  stopListenOnLastBlock () {\n    if (this.listenOnLastBlockId) clearInterval(this.listenOnLastBlockId)\n    this.listenOnLastBlockId = null\n  }\n\n  async _updateChainContext () {\n    if (this.getProvider() !== 'vm') {\n      try {\n        const block = await web3.eth.getBlock('latest')\n        // we can't use the blockGasLimit cause the next blocks could have a lower limit : https://github.com/ethereum/remix/issues/506\n        this.blockGasLimit = (block && block.gasLimit) ? Math.floor(block.gasLimit - (5 * block.gasLimit) / 1024) : this.blockGasLimitDefault\n        this.lastBlock = block\n        try {\n          this.currentFork = execution.forkAt(await web3.eth.net.getId(), block.number)\n        } catch (e) {\n          this.currentFork = 'london'\n          console.log(`unable to detect fork, defaulting to ${this.currentFork}..`)\n          console.error(e)\n        }\n      } catch (e) {\n        console.error(e)\n        this.blockGasLimit = this.blockGasLimitDefault\n      }\n    }\n  }\n\n  listenOnLastBlock () {\n    this.listenOnLastBlockId = setInterval(() => {\n      this._updateChainContext()\n    }, 15000)\n  }\n\n  // TODO: remove this when this function is moved\n\n  setProviderFromEndpoint (endpoint, value, cb) {\n    const oldProvider = web3.currentProvider\n    const context = value.context\n\n    web3.setProvider(endpoint)\n    web3.eth.net.isListening((err, isConnected) => {\n      if (!err && isConnected === true) {\n        this.executionContext = context\n        this._updateChainContext()\n        this.event.trigger('contextChanged', [context])\n        this.event.trigger('web3EndpointChanged')\n        cb()\n      } else if (isConnected === 'canceled') {\n        web3.setProvider(oldProvider)\n        cb()\n      } else {\n        web3.setProvider(oldProvider)\n        cb('Not possible to connect to the Web3 provider. Make sure the provider is running, a connection is open (via IPC or RPC) or that the provider plugin is properly configured.')\n      }\n    })\n  }\n\n  txDetailsLink (network, hash) {\n    const transactionDetailsLinks = {\n      Main: 'https://www.etherscan.io/tx/',\n      Rinkeby: 'https://rinkeby.etherscan.io/tx/',\n      Ropsten: 'https://ropsten.etherscan.io/tx/',\n      Kovan: 'https://kovan.etherscan.io/tx/',\n      Goerli: 'https://goerli.etherscan.io/tx/'\n    }\n\n    if (transactionDetailsLinks[network]) {\n      return transactionDetailsLinks[network] + hash\n    }\n  }\n}\n","const Web3 = require('web3')\nconst { hashPersonalMessage } = require('ethereumjs-util')\n\nclass InjectedProvider {\n  constructor (executionContext) {\n    this.executionContext = executionContext\n  }\n\n  getAccounts (cb) {\n    return this.executionContext.web3().eth.getAccounts(cb)\n  }\n\n  newAccount (passwordPromptCb, cb) {\n    passwordPromptCb((passphrase) => {\n      this.executionContext.web3().eth.personal.newAccount(passphrase, cb)\n    })\n  }\n\n  resetEnvironment () {\n  }\n\n  getBalanceInEther (address, cb) {\n    this.executionContext.web3().eth.getBalance(address, (err, res) => {\n      if (err) {\n        return cb(err)\n      }\n      cb(null, Web3.utils.fromWei(res.toString(10), 'ether'))\n    })\n  }\n\n  getGasPrice (cb) {\n    this.executionContext.web3().eth.getGasPrice(cb)\n  }\n\n  signMessage (message, account, _passphrase, cb) {\n    const messageHash = hashPersonalMessage(Buffer.from(message))\n    try {\n      this.executionContext.web3().eth.personal.sign(message, account, (error, signedData) => {\n        cb(error, '0x' + messageHash.toString('hex'), signedData)\n      })\n    } catch (e) {\n      cb(e.message)\n    }\n  }\n\n  getProvider () {\n    return 'injected'\n  }\n}\n\nmodule.exports = InjectedProvider\n","const Web3 = require('web3')\nconst { hashPersonalMessage } = require('ethereumjs-util')\nconst Personal = require('web3-eth-personal')\n\nclass NodeProvider {\n  constructor (executionContext, config) {\n    this.executionContext = executionContext\n    this.config = config\n  }\n\n  getAccounts (cb) {\n    if (this.config.get('settings/personal-mode')) {\n      return this.executionContext.web3().eth.personal.getAccounts(cb)\n    }\n    return this.executionContext.web3().eth.getAccounts(cb)\n  }\n\n  newAccount (passwordPromptCb, cb) {\n    if (!this.config.get('settings/personal-mode')) {\n      return cb('Not running in personal mode')\n    }\n    passwordPromptCb((passphrase) => {\n      this.executionContext.web3().eth.personal.newAccount(passphrase, cb)\n    })\n  }\n\n  resetEnvironment () {\n  }\n\n  getBalanceInEther (address, cb) {\n    this.executionContext.web3().eth.getBalance(address, (err, res) => {\n      if (err) {\n        return cb(err)\n      }\n      cb(null, Web3.utils.fromWei(res.toString(10), 'ether'))\n    })\n  }\n\n  getGasPrice (cb) {\n    this.executionContext.web3().eth.getGasPrice(cb)\n  }\n\n  signMessage (message, account, passphrase, cb) {\n    const messageHash = hashPersonalMessage(Buffer.from(message))\n    try {\n      const personal = new Personal(this.executionContext.web3().currentProvider)\n      personal.sign(message, account, passphrase, (error, signedData) => {\n        cb(error, '0x' + messageHash.toString('hex'), signedData)\n      })\n    } catch (e) {\n      cb(e.message)\n    }\n  }\n\n  getProvider () {\n    return this.executionContext.getProvider()\n  }\n}\n\nmodule.exports = NodeProvider\n","const Web3 = require('web3')\nconst { BN, privateToAddress, hashPersonalMessage } = require('ethereumjs-util')\nconst { Provider, extend } = require('@remix-project/remix-simulator')\n\nclass VMProvider {\n  constructor (executionContext) {\n    this.executionContext = executionContext\n  }\n\n  getAccounts (cb) {\n    this.web3.eth.getAccounts((err, accounts) => {\n      if (err) {\n        return cb('No accounts?')\n      }\n      return cb(null, accounts)\n    })\n  }\n\n  resetEnvironment () {\n    this.accounts = {}\n    this.RemixSimulatorProvider = new Provider({ fork: this.executionContext.getCurrentFork() })\n    this.RemixSimulatorProvider.init()\n    this.web3 = new Web3(this.RemixSimulatorProvider)\n    extend(this.web3)\n    this.accounts = {}\n    this.executionContext.setWeb3('vm', this.web3)\n  }\n\n  // TODO: is still here because of the plugin API\n  // can be removed later when we update the API\n  createVMAccount (newAccount) {\n    const { privateKey, balance } = newAccount\n    this.RemixSimulatorProvider.Accounts._addAccount(privateKey, balance)\n    const privKey = Buffer.from(privateKey, 'hex')\n    return '0x' + privateToAddress(privKey).toString('hex')\n  }\n\n  newAccount (_passwordPromptCb, cb) {\n    this.RemixSimulatorProvider.Accounts.newAccount(cb)\n  }\n\n  getBalanceInEther (address, cb) {\n    this.web3.eth.getBalance(address, (err, res) => {\n      if (err) {\n        return cb(err)\n      }\n      cb(null, Web3.utils.fromWei(new BN(res).toString(10), 'ether'))\n    })\n  }\n\n  getGasPrice (cb) {\n    this.web3.eth.getGasPrice(cb)\n  }\n\n  signMessage (message, account, _passphrase, cb) {\n    const messageHash = hashPersonalMessage(Buffer.from(message))\n    this.web3.eth.sign(message, account, (error, signedData) => {\n      if (error) {\n        return cb(error)\n      }\n      cb(null, '0x' + messageHash.toString('hex'), signedData)\n    })\n  }\n\n  getProvider () {\n    return 'vm'\n  }\n}\n\nmodule.exports = VMProvider\n","'use strict'\n\nvar CONFIG_FILE = '.remix.config'\nconst EventEmitter = require('events')\n\nfunction Config (storage) {\n  this.items = {}\n  this.unpersistedItems = {}\n  this.events = new EventEmitter()\n\n  // load on instantiation\n  try {\n    var config = storage.get(CONFIG_FILE)\n    if (config) {\n      this.items = JSON.parse(config)\n    }\n  } catch (exception) {\n  }\n\n  this.exists = function (key) {\n    return this.items[key] !== undefined\n  }\n\n  this.get = function (key) {\n    return this.items[key]\n  }\n\n  this.set = function (key, content) {\n    this.items[key] = content\n    try {\n      storage.set(CONFIG_FILE, JSON.stringify(this.items))\n      this.events.emit(key + '_changed', content)\n    } catch (exception) {\n    }\n  }\n\n  this.getUnpersistedProperty = function (key) {\n    return this.unpersistedItems[key]\n  }\n\n  // TODO: this only used for *one* property \"doNotShowTransactionConfirmationAgain\"\n  // and can be removed once it's refactored away in txRunner\n  this.setUnpersistedProperty = function (key, value) {\n    this.unpersistedItems[key] = value\n  }\n}\n\nmodule.exports = Config\n","export class FramingService {\n  constructor (sidePanel, verticalIcons, mainView, resizeFeature) {\n    this.sidePanel = sidePanel\n    this.verticalIcons = verticalIcons\n    this.mainPanel = mainView.getAppPanel()\n    this.mainView = mainView\n    this.resizeFeature = resizeFeature\n  }\n\n  start (params) {\n    this.sidePanel.events.on('toggle', () => {\n      this.resizeFeature.panel.clientWidth !== 0 ? this.resizeFeature.hidePanel() : this.resizeFeature.showPanel()\n    })\n    this.sidePanel.events.on('showing', () => {\n      if (this.resizeFeature.panel.clientWidth === 0) this.resizeFeature.showPanel()\n    })\n    this.mainPanel.events.on('toggle', () => {\n      this.resizeFeature.showPanel()\n    })\n\n    this.verticalIcons.select('filePanel')\n\n    document.addEventListener('keypress', (e) => {\n      if (e.shiftKey && e.ctrlKey) {\n        if (e.code === 'KeyF') { // Ctrl+Shift+F\n          this.verticalIcons.select('filePanel')\n        } else if (e.code === 'KeyA') { // Ctrl+Shift+A\n          this.verticalIcons.select('pluginManager')\n        } else if (e.code === 'KeyS') { //  Ctrl+Shift+S\n          this.verticalIcons.select('settings')\n        }\n        e.preventDefault()\n      }\n    })\n\n    if (params.minimizeterminal) this.mainView.minimizeTerminal()\n    if (params.minimizesidepanel) this.resizeFeature.hidePanel()\n  }\n\n  embed () {\n    this.mainView.minimizeTerminal()\n    this.resizeFeature.hidePanel()\n  }\n}\n","module.exports = new (require('../registry.js'))()\n","'use strict'\n\n// require('@babel/polyfill')\nvar App = require('./app.js')\n\nvar app = new App({})\n\ndocument.body.appendChild(app.render())\n\napp.init() // @TODO: refactor to remove\n","'use strict'\nimport { CompilerImports } from '@remix-project/core-plugin'\nvar yo = require('yo-yo')\nvar async = require('async')\nvar EventManager = require('../lib/events')\n\nvar toolTip = require('../app/ui/tooltip')\nvar globalRegistry = require('../global/registry')\nvar GistHandler = require('./gist-handler')\n\nclass CmdInterpreterAPI {\n  constructor (terminal, localRegistry, blockchain) {\n    const self = this\n    self.event = new EventManager()\n    self.blockchain = blockchain\n    self._components = {}\n    self._components.registry = localRegistry || globalRegistry\n    self._components.terminal = terminal\n    self._components.fileImport = new CompilerImports()\n    self._components.gistHandler = new GistHandler()\n    self._deps = {\n      fileManager: self._components.registry.get('filemanager').api,\n      editor: self._components.registry.get('editor').api,\n      compilersArtefacts: self._components.registry.get('compilersartefacts').api,\n      offsetToLineColumnConverter: self._components.registry.get('offsettolinecolumnconverter').api\n    }\n    self.commandHelp = {\n      'remix.loadgist(id)': 'Load a gist in the file explorer.',\n      'remix.loadurl(url)': 'Load the given url in the file explorer. The url can be of type github, swarm, ipfs or raw http',\n      'remix.execute(filepath)': 'Run the script specified by file path. If filepath is empty, script currently displayed in the editor is executed.',\n      'remix.exeCurrent()': 'Run the script currently displayed in the editor',\n      'remix.help()': 'Display this help message'\n    }\n  }\n\n  log () { arguments[0] != null ? this._components.terminal.commands.html(arguments[0]) : this._components.terminal.commands.html(arguments[1]) }\n  loadgist (id, cb) {\n    const self = this\n    self._components.gistHandler.loadFromGist({ gist: id }, this._deps.fileManager)\n    if (cb) cb()\n  }\n\n  loadurl (url, cb) {\n    const self = this\n    self._components.fileImport.import(url,\n      (loadingMsg) => { toolTip(loadingMsg) },\n      (err, content, cleanUrl, type, url) => {\n        if (err) {\n          toolTip(`Unable to load ${url}: ${err}`)\n          if (cb) cb(err)\n        } else {\n          self._deps.fileManager.writeFile(type + '/' + cleanUrl, content)\n          try {\n            content = JSON.parse(content)\n            async.eachOfSeries(content.sources, (value, file, callbackSource) => {\n              var url = value.urls[0] // @TODO retrieve all other contents ?\n              self._components.fileImport.import(url,\n                (loadingMsg) => { toolTip(loadingMsg) },\n                async (error, content, cleanUrl, type, url) => {\n                  if (error) {\n                    toolTip(`Cannot retrieve the content of ${url}: ${error}`)\n                    return callbackSource(`Cannot retrieve the content of ${url}: ${error}`)\n                  } else {\n                    try {\n                      await self._deps.fileManager.writeFile(type + '/' + cleanUrl, content)\n                      callbackSource()\n                    } catch (e) {\n                      callbackSource(e.message)\n                    }\n                  }\n                })\n            }, (error) => {\n              if (cb) cb(error)\n            })\n          } catch (e) {}\n          if (cb) cb()\n        }\n      })\n  }\n\n  exeCurrent (cb) {\n    return this.execute(undefined, cb)\n  }\n\n  execute (file, cb) {\n    const self = this\n\n    function _execute (content, cb) {\n      if (!content) {\n        toolTip('no content to execute')\n        if (cb) cb()\n        return\n      }\n      self._components.terminal.commands.script(content)\n    }\n\n    if (typeof file === 'undefined') {\n      var content = self._deps.editor.currentContent()\n      _execute(content, cb)\n      return\n    }\n\n    var provider = self._deps.fileManager.fileProviderOf(file)\n\n    if (!provider) {\n      toolTip(`provider for path ${file} not found`)\n      if (cb) cb()\n      return\n    }\n\n    provider.get(file, (error, content) => {\n      if (error) {\n        toolTip(error)\n        if (cb) cb()\n        return\n      }\n\n      _execute(content, cb)\n    })\n  }\n\n  help (cb) {\n    const self = this\n    var help = yo`<div></div>`\n    for (var k in self.commandHelp) {\n      help.appendChild(yo`<div>${k}: ${self.commandHelp[k]}</div>`)\n      help.appendChild(yo`<br>`)\n    }\n    self._components.terminal.commands.html(help)\n    if (cb) cb()\n    return ''\n  }\n}\n\nmodule.exports = CmdInterpreterAPI\n","const allPrograms = [\n  { ethers: 'The ethers.js library is a compact and complete JavaScript library for Ethereum.' },\n  { remix: 'Ethereum IDE and tools for the web.' },\n  { web3: 'The web3.js library is a collection of modules which contain specific functionality for the ethereum ecosystem.' },\n  { swarmgw: 'This library can be used to upload/download files to Swarm via https://swarm-gateways.net/.' }\n]\n\nconst allCommands = [\n  { 'remix.execute(filepath)': 'Run the script specified by file path. If filepath is empty, script currently displayed in the editor is executed.' },\n  { 'remix.exeCurrent()': 'Run the script currently displayed in the editor.' },\n  { 'remix.help()': 'Display this help message.' },\n  { 'remix.loadgist(id)': 'Load a gist in the file explorer.' },\n  { 'remix.loadurl(url)': 'Load the given url in the file explorer. The url can be of type github, swarm or ipfs.' },\n\n  { 'swarmgw.get(url, cb)': 'Download files from Swarm via https://swarm-gateways.net/' },\n  { 'swarmgw.put(content, cb)': 'Upload files to Swarm via https://swarm-gateways.net/' },\n\n  { 'ethers.Contract': 'This API provides a graceful connection to a contract deployed on the blockchain, simplifying calling and querying its functions and handling all the binary protocol and conversion as necessarily.' },\n  { 'ethers.HDNode': 'A Hierarchical Deterministic Wallet represents a large tree of private keys which can reliably be reproduced from an initial seed.' },\n  { 'ethers.Interface': 'The Interface Object is a meta-class that accepts a Solidity (or compatible) Application Binary Interface (ABI) and populates functions to deal with encoding and decoding the parameters to pass in and results returned.' },\n  { 'ethers.providers': 'A Provider abstracts a connection to the Ethereum blockchain, for issuing queries and sending state changing transactions.' },\n  { 'ethers.SigningKey': 'The SigningKey interface provides an abstraction around the secp256k1 elliptic curve cryptography library.' },\n  { 'ethers.utils': 'The utility functions exposed in both the ethers umbrella package and the ethers-utils.' },\n  { 'ethers.utils.AbiCoder': 'Create a new ABI Coder object' },\n  { 'ethers.utils.RLP': 'This encoding method is used internally for several aspects of Ethereum, such as encoding transactions and determining contract addresses.' },\n  { 'ethers.Wallet': 'A wallet manages a private/public key pair which is used to cryptographically sign transactions and prove ownership on the Ethereum network.' },\n  { 'ethers.version': 'Contains the version of the ethers container object.' },\n\n  { 'web3.eth': 'Eth module for interacting with the Ethereum network.' },\n  { 'web3.eth.accounts': 'The web3.eth.accounts contains functions to generate Ethereum accounts and sign transactions and data.' },\n  { 'web3.eth.abi': 'The web3.eth.abi functions let you de- and encode parameters to ABI (Application Binary Interface) for function calls to the EVM (Ethereum Virtual Machine).' },\n  { 'web3.eth.ens': 'The web3.eth.ens functions let you interacting with ENS.' },\n  { 'web3.eth.Iban': 'The web3.eth.Iban function lets convert Ethereum addresses from and to IBAN and BBAN.' },\n  { 'web3.eth.net': 'Net module for interacting with network properties.' },\n  { 'web3.eth.personal': 'Personal module for interacting with the Ethereum accounts.' },\n  { 'web3.eth.subscribe': 'The web3.eth.subscribe function lets you subscribe to specific events in the blockchain.' },\n  { 'web3.givenProvider': 'When using web3.js in an Ethereum compatible browser, it will set with the current native provider by that browser. Will return the given provider by the (browser) environment, otherwise null.' },\n  { 'web3.modules': 'Contains the version of the web3 container object.' },\n  { 'web3.providers': 'Contains the current available providers.' },\n  { 'web3.shh': 'Shh module for interacting with the whisper protocol' },\n  { 'web3.utils': 'This package provides utility functions for Ethereum dapps and other web3.js packages.' },\n  { 'web3.version': 'Contains the version of the web3 container object.' },\n\n  { 'web3.eth.clearSubscriptions();': 'Resets subscriptions.' },\n  { 'web3.eth.Contract(jsonInterface[, address][, options])': 'The web3.eth.Contract object makes it easy to interact with smart contracts on the ethereum blockchain.' },\n  { 'web3.eth.accounts.create([entropy]);': 'The web3.eth.accounts contains functions to generate Ethereum accounts and sign transactions and data.' },\n  { 'web3.eth.getAccounts();': 'Retrieve the list of accounts' },\n  { 'web3.eth.accounts.privateKeyToAccount(privateKey [, ignoreLength ]);': 'Get the account from the private key' },\n  { 'web3.eth.accounts.signTransaction(tx, privateKey [, callback]);': 'Sign Transaction' },\n  { 'web3.eth.accounts.recoverTransaction(rawTransaction);': 'Sign Transaction' },\n  { 'web3.eth.accounts.hashMessage(message);': 'Hash message' }\n]\n\nmodule.exports = {\n  allPrograms,\n  allCommands\n}\n","var remixLib = require('@remix-project/remix-lib')\nvar EventManager = remixLib.EventManager\n\nmodule.exports = EventManager\n","'use strict'\nvar modalDialogCustom = require('../app/ui/modal-dialog-custom')\nvar request = require('request')\n\n// Allowing window to be overriden for testing\nfunction GistHandler (_window) {\n  if (_window !== undefined) {\n    modalDialogCustom = _window\n  }\n\n  this.handleLoad = function (params, cb) {\n    if (!cb) cb = () => {}\n    var loadingFromGist = false\n    var gistId\n    if (params.gist === '') {\n      loadingFromGist = true\n      modalDialogCustom.prompt('Load a Gist', 'Enter the ID of the Gist or URL you would like to load.', null, (target) => {\n        if (target !== '') {\n          gistId = getGistId(target)\n          if (gistId) {\n            cb(gistId)\n          } else {\n            modalDialogCustom.alert('Gist load error', 'Error while loading gist. Please provide a valid Gist ID or URL.')\n          }\n        }\n      })\n      return loadingFromGist\n    } else {\n      gistId = params.gist\n      loadingFromGist = !!gistId\n    }\n    if (loadingFromGist) {\n      cb(gistId)\n    }\n    return loadingFromGist\n  }\n\n  function getGistId (str) {\n    var idr = /[0-9A-Fa-f]{8,}/\n    var match = idr.exec(str)\n    return match ? match[0] : null\n  }\n\n  this.loadFromGist = (params, fileManager) => {\n    const self = this\n    return self.handleLoad(params, function (gistId) {\n      request.get({\n        url: `https://api.github.com/gists/${gistId}`,\n        json: true\n      }, async (error, response, data = {}) => {\n        if (error || !data.files) {\n          modalDialogCustom.alert('Gist load error', error || data.message)\n          return\n        }\n        const obj = {}\n        Object.keys(data.files).forEach((element) => {\n          const path = element.replace(/\\.\\.\\./g, '/')\n\n          obj['/' + 'gist-' + gistId + '/' + path] = data.files[element]\n        })\n        fileManager.setBatchFiles(obj, 'workspace', true, (errorLoadingFile) => {\n          if (!errorLoadingFile) {\n            const provider = fileManager.getProvider('workspace')\n            provider.lastLoadedGistId = gistId\n          } else {\n            modalDialogCustom.alert('Gist load error', errorLoadingFile.message || errorLoadingFile)\n          }\n        })\n      })\n    })\n  }\n}\n\nmodule.exports = GistHandler\n","var async = require('async')\nconst ethJSUtil = require('ethereumjs-util')\n\nmodule.exports = {\n  shortenAddress: function (address, etherBalance) {\n    var len = address.length\n    return address.slice(0, 5) + '...' + address.slice(len - 5, len) + (etherBalance ? ' (' + etherBalance.toString() + ' ether)' : '')\n  },\n  addressToString: function (address) {\n    if (!address) return null\n    if (typeof address !== 'string') {\n      address = address.toString('hex')\n    }\n    if (address.indexOf('0x') === -1) {\n      address = '0x' + address\n    }\n    return ethJSUtil.toChecksumAddress(address)\n  },\n  shortenHexData: function (data) {\n    if (!data) return ''\n    if (data.length < 5) return data\n    var len = data.length\n    return data.slice(0, 5) + '...' + data.slice(len - 5, len)\n  },\n  createNonClashingNameWithPrefix (name, fileProvider, prefix, cb) {\n    if (!name) name = 'Undefined'\n    var counter = ''\n    var ext = 'sol'\n    var reg = /(.*)\\.([^.]+)/g\n    var split = reg.exec(name)\n    if (split) {\n      name = split[1]\n      ext = split[2]\n    }\n    var exist = true\n    async.whilst(\n      () => { return exist },\n      (callback) => {\n        fileProvider.exists(name + counter + prefix + '.' + ext).then(currentExist => {\n          exist = currentExist\n          if (exist) counter = (counter | 0) + 1\n          callback()\n        }).catch(error => {\n          if (error) console.log(error)\n        })\n      },\n      (error) => { cb(error, name + counter + prefix + '.' + ext) }\n    )\n  },\n  createNonClashingName (name, fileProvider, cb) {\n    this.createNonClashingNameWithPrefix(name, fileProvider, '', cb)\n  },\n  async createNonClashingNameAsync (name, fileManager, prefix = '') {\n    if (!name) name = 'Undefined'\n    let counter = ''\n    let ext = 'sol'\n    const reg = /(.*)\\.([^.]+)/g\n    const split = reg.exec(name)\n    if (split) {\n      name = split[1]\n      ext = split[2]\n    }\n    let exist = true\n\n    do {\n      const isDuplicate = await fileManager.exists(name + counter + prefix + '.' + ext)\n\n      if (isDuplicate) counter = (counter | 0) + 1\n      else exist = false\n    } while (exist)\n\n    return name + counter + prefix + '.' + ext\n  },\n  async createNonClashingDirNameAsync (name, fileManager) {\n    if (!name) name = 'Undefined'\n    let counter = ''\n    let exist = true\n\n    do {\n      const isDuplicate = await fileManager.exists(name + counter)\n\n      if (isDuplicate) counter = (counter | 0) + 1\n      else exist = false\n    } while (exist)\n\n    return name + counter\n  },\n  checkSpecialChars (name) {\n    return name.match(/[:*?\"<>\\\\'|]/) != null\n  },\n  checkSlash (name) {\n    return name.match(/\\//) != null\n  },\n  isHexadecimal (value) {\n    return /^[0-9a-fA-F]+$/.test(value) && (value.length % 2 === 0)\n  },\n  is0XPrefixed (value) {\n    return value.substr(0, 2) === '0x'\n  },\n  isNumeric (value) {\n    return /^\\+?(0|[1-9]\\d*)$/.test(value)\n  },\n  isValidHash (hash) { // 0x prefixed, hexadecimal, 64digit\n    const hexValue = hash.slice(2, hash.length)\n    return this.is0XPrefixed(hash) && /^[0-9a-fA-F]{64}$/.test(hexValue)\n  },\n  removeTrailingSlashes (text) {\n    // Remove single or consecutive trailing slashes\n    return text.replace(/\\/+$/g, '')\n  },\n  removeMultipleSlashes (text) {\n    // Replace consecutive slashes with '/'\n    return text.replace(/\\/+/g, '/')\n  },\n  find: find,\n  getPathIcon (path) {\n    return path.endsWith('.txt')\n      ? 'far fa-file-alt' : path.endsWith('.md')\n        ? 'far fa-file-alt' : path.endsWith('.sol')\n          ? 'fak fa-solidity-mono' : path.endsWith('.js')\n            ? 'fab fa-js' : path.endsWith('.json')\n              ? 'fas fa-brackets-curly' : path.endsWith('.vy')\n                ? 'fak fa-vyper-mono' : path.endsWith('.lex')\n                  ? 'fak fa-lexon' : path.endsWith('.contract')\n                    ? 'fab fa-ethereum' : 'far fa-file'\n  },\n  joinPath (...paths) {\n    paths = paths.filter((value) => value !== '').map((path) => path.replace(/^\\/|\\/$/g, '')) // remove first and last slash)\n    if (paths.length === 1) return paths[0]\n    return paths.join('/')\n  },\n  extractNameFromKey (key) {\n    const keyPath = key.split('/')\n\n    return keyPath[keyPath.length - 1]\n  }\n}\n\nfunction findDeep (object, fn, found = { break: false, value: undefined }) {\n  if (typeof object !== 'object' || object === null) return\n  for (var i in object) {\n    if (found.break) break\n    var el = object[i]\n    if (el && el.innerText !== undefined && el.innerText !== null) el = el.innerText\n    if (fn(el, i, object)) {\n      found.value = el\n      found.break = true\n      break\n    } else {\n      findDeep(el, fn, found)\n    }\n  }\n  return found.value\n}\n\nfunction find (args, query) {\n  query = query.trim()\n  var isMatch = !!findDeep(args, function check (value, key) {\n    if (value === undefined || value === null) return false\n    if (typeof value === 'function') return false\n    if (typeof value === 'object') return false\n    var contains = String(value).indexOf(query.trim()) !== -1\n    return contains\n  })\n  return isMatch\n}\n","const yo = require('yo-yo')\nconst csjs = require('csjs-inject')\n\nconst css = csjs`\n  .dragbar            {\n    width             : 2px;\n    height            : 100%;\n    cursor            : col-resize;\n    z-index           : 999;\n  }\n  .ghostbar           {\n    width             : 3px;\n    background-color  : var(--primary);\n    opacity           : 0.5;\n    position          : absolute;\n    cursor            : col-resize;\n    z-index           : 9999;\n    top               : 0;\n    bottom            : 0;\n  }\n`\n\nexport default class PanelsResize {\n  constructor (panel) {\n    this.panel = panel\n    const string = panel.style.minWidth\n    this.minWidth = string.length > 2 ? parseInt(string.substring(0, string.length - 2)) : 0\n  }\n\n  render () {\n    this.ghostbar = yo`<div class=${css.ghostbar}></div>`\n\n    const mousedown = (event) => {\n      event.preventDefault()\n      if (event.which === 1) {\n        moveGhostbar(event)\n        document.body.appendChild(this.ghostbar)\n        document.addEventListener('mousemove', moveGhostbar)\n        document.addEventListener('mouseup', removeGhostbar)\n        document.addEventListener('keydown', cancelGhostbar)\n      }\n    }\n\n    const cancelGhostbar = (event) => {\n      if (event.keyCode === 27) {\n        document.body.removeChild(this.ghostbar)\n        document.removeEventListener('mousemove', moveGhostbar)\n        document.removeEventListener('mouseup', removeGhostbar)\n        document.removeEventListener('keydown', cancelGhostbar)\n      }\n    }\n\n    const moveGhostbar = (event) => {\n      this.ghostbar.style.left = event.x + 'px'\n    }\n\n    const removeGhostbar = (event) => {\n      document.body.removeChild(this.ghostbar)\n      document.removeEventListener('mousemove', moveGhostbar)\n      document.removeEventListener('mouseup', removeGhostbar)\n      document.removeEventListener('keydown', cancelGhostbar)\n      this.setPosition(event)\n    }\n\n    return yo`<div onmousedown=${mousedown} class=${css.dragbar}></div>`\n  }\n\n  calculatePanelWidth (event) {\n    return event.x - this.panel.offsetLeft\n  }\n\n  setPosition (event) {\n    const panelWidth = this.calculatePanelWidth(event)\n    // close the panel if the width is less than a minWidth\n    if (panelWidth > this.minWidth - 10 || this.panel.style.display === 'none') {\n      this.panel.style.width = panelWidth + 'px'\n      this.showPanel()\n    } else this.hidePanel()\n  }\n\n  hidePanel () {\n    this.panel.style.display = 'none'\n  }\n\n  showPanel () {\n    this.panel.style.display = 'flex'\n  }\n}\n","'use strict'\n\nconst async = require('async')\nconst IpfsClient = require('ipfs-mini')\n\nconst ipfsNodes = [\n  new IpfsClient({ host: 'ipfs.remixproject.org', port: 443, protocol: 'https' }),\n  new IpfsClient({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' }),\n  new IpfsClient({ host: '127.0.0.1', port: 5001, protocol: 'http' })\n]\n\nmodule.exports = (contract, fileManager, cb, ipfsVerifiedPublishCallBack) => {\n  // gather list of files to publish\n  var sources = []\n\n  var metadata\n\n  try {\n    metadata = JSON.parse(contract.metadata)\n  } catch (e) {\n    return cb(e)\n  }\n\n  if (metadata === undefined) {\n    return cb('No metadata')\n  }\n\n  async.eachSeries(Object.keys(metadata.sources), function (fileName, cb) {\n    // find hash\n    let hash = null\n    try {\n      // we try extract the hash defined in the metadata.json\n      // in order to check if the hash that we get after publishing is the same as the one located in metadata.json\n      // if it's not the same, we throw \"hash mismatch between solidity bytecode and uploaded content\"\n      // if we don't find the hash in the metadata.json, the check is not done.\n      //\n      // TODO: refactor this with publishOnSwarm\n      if (metadata.sources[fileName].urls) {\n        metadata.sources[fileName].urls.forEach(url => {\n          if (url.includes('ipfs')) hash = url.match('dweb:/ipfs/(.+)')[1]\n        })\n      }\n    } catch (e) {\n      return cb('Error while extracting the hash from metadata.json')\n    }\n\n    fileManager.fileProviderOf(fileName).get(fileName, (error, content) => {\n      if (error) {\n        console.log(error)\n      } else {\n        sources.push({\n          content: content,\n          hash: hash,\n          filename: fileName\n        })\n      }\n      cb()\n    })\n  }, function (error) {\n    if (error) {\n      cb(error)\n    } else {\n      // publish the list of sources in order, fail if any failed\n      var uploaded = []\n      async.eachSeries(sources, function (item, cb) {\n        ipfsVerifiedPublish(item.content, item.hash, (error, result) => {\n          try {\n            item.hash = result.url.match('dweb:/ipfs/(.+)')[1]\n          } catch (e) {\n            item.hash = '<Metadata inconsistency> - ' + item.fileName\n          }\n          if (!error && ipfsVerifiedPublishCallBack) ipfsVerifiedPublishCallBack(item)\n          item.output = result\n          uploaded.push(item)\n          cb(error)\n        })\n      }, () => {\n        const metadataContent = JSON.stringify(metadata)\n        ipfsVerifiedPublish(metadataContent, '', (error, result) => {\n          try {\n            contract.metadataHash = result.url.match('dweb:/ipfs/(.+)')[1]\n          } catch (e) {\n            contract.metadataHash = '<Metadata inconsistency> - metadata.json'\n          }\n          if (!error && ipfsVerifiedPublishCallBack) {\n            ipfsVerifiedPublishCallBack({\n              content: metadataContent,\n              hash: contract.metadataHash\n            })\n          }\n          uploaded.push({\n            content: contract.metadata,\n            hash: contract.metadataHash,\n            filename: 'metadata.json',\n            output: result\n          })\n          cb(error, uploaded)\n        })\n      })\n    }\n  })\n}\n\nasync function ipfsVerifiedPublish (content, expectedHash, cb) {\n  try {\n    const results = await severalGatewaysPush(content)\n    if (expectedHash && results !== expectedHash) {\n      cb(null, { message: 'hash mismatch between solidity bytecode and uploaded content.', url: 'dweb:/ipfs/' + results, hash: results })\n    } else {\n      cb(null, { message: 'ok', url: 'dweb:/ipfs/' + results, hash: results })\n    }\n  } catch (error) {\n    cb(error)\n  }\n}\n\nfunction severalGatewaysPush (content) {\n  const invert = p => new Promise((resolve, reject) => p.then(reject).catch(resolve)) // Invert res and rej\n  const promises = ipfsNodes.map((node) => invert(node.add(content)))\n  return invert(Promise.all(promises))\n}\n","'use strict'\n\nvar async = require('async')\nvar swarmgw = require('swarmgw')()\n\nmodule.exports = (contract, fileManager, cb, swarmVerifiedPublishCallBack) => {\n  // gather list of files to publish\n  var sources = []\n\n  var metadata\n  try {\n    metadata = JSON.parse(contract.metadata)\n  } catch (e) {\n    return cb(e)\n  }\n\n  if (metadata === undefined) {\n    return cb('No metadata')\n  }\n\n  async.eachSeries(Object.keys(metadata.sources), function (fileName, cb) {\n    // find hash\n    let hash = null\n    try {\n      // we try extract the hash defined in the metadata.json\n      // in order to check if the hash that we get after publishing is the same as the one located in metadata.json\n      // if it's not the same, we throw \"hash mismatch between solidity bytecode and uploaded content\"\n      // if we don't find the hash in the metadata.json, the check is not done.\n      //\n      // TODO: refactor this with publishOnIpfs\n      if (metadata.sources[fileName].urls) {\n        metadata.sources[fileName].urls.forEach(url => {\n          if (url.includes('bzz')) hash = url.match('(bzzr|bzz-raw)://(.+)')[1]\n        })\n      }\n    } catch (e) {\n      return cb('Error while extracting the hash from metadata.json')\n    }\n\n    fileManager.fileProviderOf(fileName).get(fileName, (error, content) => {\n      if (error) {\n        console.log(error)\n      } else {\n        sources.push({\n          content: content,\n          hash: hash,\n          filename: fileName\n        })\n      }\n      cb()\n    })\n  }, function (error) {\n    if (error) {\n      cb(error)\n    } else {\n      // publish the list of sources in order, fail if any failed\n      var uploaded = []\n      async.eachSeries(sources, function (item, cb) {\n        swarmVerifiedPublish(item.content, item.hash, (error, result) => {\n          try {\n            item.hash = result.url.match('bzz-raw://(.+)')[1]\n          } catch (e) {\n            item.hash = '<Metadata inconsistency> - ' + item.fileName\n          }\n          if (!error && swarmVerifiedPublishCallBack) swarmVerifiedPublishCallBack(item)\n          item.output = result\n          uploaded.push(item)\n          // TODO this is a fix cause Solidity metadata does not contain the right swarm hash (poc 0.3)\n          metadata.sources[item.filename].urls[0] = result.url\n          cb(error)\n        })\n      }, () => {\n        const metadataContent = JSON.stringify(metadata)\n        swarmVerifiedPublish(metadataContent, '', (error, result) => {\n          try {\n            contract.metadataHash = result.url.match('bzz-raw://(.+)')[1]\n          } catch (e) {\n            contract.metadataHash = '<Metadata inconsistency> - metadata.json'\n          }\n          if (!error && swarmVerifiedPublishCallBack) {\n            swarmVerifiedPublishCallBack({\n              content: metadataContent,\n              hash: contract.metadataHash\n            })\n          }\n          uploaded.push({\n            content: contract.metadata,\n            hash: contract.metadataHash,\n            filename: 'metadata.json',\n            output: result\n          })\n          cb(error, uploaded)\n        })\n      })\n    }\n  })\n}\n\nfunction swarmVerifiedPublish (content, expectedHash, cb) {\n  swarmgw.put(content, function (err, ret) {\n    if (err) {\n      cb(err)\n    } else if (expectedHash && ret !== expectedHash) {\n      cb(null, { message: 'hash mismatch between solidity bytecode and uploaded content.', url: 'bzz-raw://' + ret, hash: ret })\n    } else {\n      cb(null, { message: 'ok', url: 'bzz-raw://' + ret, hash: ret })\n    }\n  })\n}\n","'use strict'\n\n// Allowing window to be overriden for testing\nfunction QueryParams (_window) {\n  if (_window === undefined) _window = window\n\n  this.get = function () {\n    var qs = _window.location.hash.substr(1)\n\n    if (_window.location.search.length > 0) {\n      // use legacy query params instead of hash\n      _window.location.hash = _window.location.search.substr(1)\n      _window.location.search = ''\n    }\n\n    var params = {}\n    var parts = qs.split('&')\n    for (var x in parts) {\n      var keyValue = parts[x].split('=')\n      if (keyValue[0] !== '') {\n        params[keyValue[0]] = keyValue[1]\n      }\n    }\n    return params\n  }\n\n  this.update = function (params) {\n    var currentParams = this.get()\n    var keys = Object.keys(params)\n    for (var x in keys) {\n      currentParams[keys[x]] = params[keys[x]]\n    }\n    var queryString = '#'\n    var updatedKeys = Object.keys(currentParams)\n    for (var y in updatedKeys) {\n      queryString += updatedKeys[y] + '=' + currentParams[updatedKeys[y]] + '&'\n    }\n    _window.location.hash = queryString.slice(0, -1)\n  }\n}\n\nmodule.exports = QueryParams\n","/*\n * remixBleach\n * a minimal html sanitizer\n * credits to cam@onswipe.com\n */\nimport * as he from 'he'\n\nconst remixBleach = {\n\n  matcher: /<\\/?([a-zA-Z0-9]+)*(.*?)\\/?>/igm,\n\n  whitelist: [\n    'a',\n    'b',\n    'p',\n    'em',\n    'strong'\n  ],\n\n  analyze: function (html) {\n    html = String(html) || ''\n\n    const matches = []\n    let match\n\n    // extract all tags\n    while ((match = remixBleach.matcher.exec(html)) != null) {\n      const attrr = match[2].split(' ')\n      const attrs = []\n\n      // extract attributes from the tag\n      attrr.shift()\n      attrr.forEach((attr) => {\n        attr = attr.split('=')\n        const attrName = attr[0]\n        let attrValue = attr.length > 1 ? attr.slice(1).join('=') : null\n        // remove quotes from attributes\n        if (attrValue && attrValue.charAt(0).match(/'|\"/)) attrValue = attrValue.slice(1)\n        if (attrValue && attrValue.charAt(attrValue.length - 1).match(/'|\"/)) attrValue = attrValue.slice(0, -1)\n        attr = {\n          name: attrName,\n          value: attrValue\n        }\n        if (!attr.value) delete attr.value\n        if (attr.name) attrs.push(attr)\n      })\n\n      var tag = {\n        full: match[0],\n        name: match[1],\n        attr: attrs\n      }\n\n      matches.push(tag)\n    }\n\n    return matches\n  },\n\n  sanitize: function (html, options) {\n    html = String(html) || ''\n    options = options || {}\n\n    const mode = options.mode || 'white'\n    const list = options.list || remixBleach.whitelist\n\n    var matches = remixBleach.analyze(html)\n\n    if ((mode === 'white' && list.indexOf('script') === -1) ||\n       (mode === 'black' && list.indexOf('script') !== -1)) {\n      html = html.replace(/<script(.*?)>(.*?[\\r\\n])*?(.*?)(.*?[\\r\\n])*?<\\/script>/gim, '')\n    }\n\n    if ((mode === 'white' && list.indexOf('style') === -1) ||\n       (mode === 'black' && list.indexOf('style') !== -1)) {\n      html = html.replace(/<style(.*?)>(.*?[\\r\\n])*?(.*?)(.*?[\\r\\n])*?<\\/style>/gim, '')\n    }\n\n    matches.forEach(function (tag) {\n      if (mode === 'white') {\n        if (list.indexOf(tag.name) === -1) {\n          html = html.replace(tag.full, '')\n        }\n      } else if (mode === 'black') {\n        if (list.indexOf(tag.name) !== -1) {\n          html = html.replace(tag.full, '')\n        }\n      } else {\n        throw new Error('Unknown sanitization mode \"' + mode + '\"')\n      }\n    })\n\n    if (options.encode_entities) html = he.encode(html)\n\n    return html\n  }\n}\n\nmodule.exports = remixBleach\n","import './index'\n","import { Storage } from '@remix-project/remix-lib'\nimport { joinPath } from './lib/helper'\nimport yo from 'yo-yo'\nconst modalDialogCustom = require('./app/ui/modal-dialog-custom')\n/*\n  Migrating the files to the BrowserFS storage instead or raw localstorage\n*/\nexport default (fileProvider) => {\n  const fileStorage = new Storage('sol:')\n  const flag = 'status'\n  const fileStorageBrowserFS = new Storage('remix_browserFS_migration:')\n  if (fileStorageBrowserFS.get(flag) === 'done') return\n  fileStorage.keys().forEach((path) => {\n    if (path !== '.remix.config') {\n      const content = fileStorage.get(path)\n      fileProvider.set(path, content)\n      // TODO https://github.com/ethereum/remix-ide/issues/2377\n      // fileStorage.remove(path) we don't want to remove it as we are still supporting the old version\n    }\n  })\n  fileStorageBrowserFS.set(flag, 'done')\n}\n\nexport async function migrateToWorkspace (fileManager, filePanel) {\n  const browserProvider = fileManager.getProvider('browser')\n  const workspaceProvider = fileManager.getProvider('workspace')\n  const files = await browserProvider.copyFolderToJson('/')\n\n  if (Object.keys(files).length === 0) {\n    // we don't have any root file, only .workspaces\n    // don't need to create a workspace\n    throw new Error('No file to migrate')\n  }\n\n  if (Object.keys(files).length === 1 && files['/.workspaces']) {\n    // we don't have any root file, only .workspaces\n    // don't need to create a workspace\n    throw new Error('No file to migrate')\n  }\n\n  const workspaceName = 'workspace_migrated_' + Date.now()\n  await filePanel.processCreateWorkspace(workspaceName)\n  filePanel.getWorkspaces() // refresh list\n  const workspacePath = joinPath('browser', workspaceProvider.workspacesPath, workspaceName)\n  await populateWorkspace(workspacePath, files, browserProvider)\n  return workspaceName\n}\n\nconst populateWorkspace = async (workspace, json, browserProvider) => {\n  for (const item in json) {\n    const isFolder = json[item].content === undefined\n    if (isFolder && item === '/.workspaces') continue // we don't want to replicate this one.\n    if (isFolder) {\n      browserProvider.createDir(joinPath(workspace, item))\n      await populateWorkspace(workspace, json[item].children, browserProvider)\n    } else {\n      await browserProvider.set(joinPath(workspace, item), json[item].content, (err) => {\n        if (err && err.message) {\n          modalDialogCustom.alert(yo`<div>There was an error migrating your files:${err.message} <div>Please use the Download all Files' action, clear the local storage and re-import your files manually or use the 'Restore files' action.</div></div>`)\n        }\n      })\n    }\n  }\n}\n","const yo = require('yo-yo')\nconst publishOnSwarm = require('./lib/publishOnSwarm')\nconst publishOnIpfs = require('./lib/publishOnIpfs')\nconst modalDialogCustom = require('./app/ui/modal-dialog-custom')\n\nexport default function publish (storage, fileProvider, fileManager, contract) {\n  if (contract) {\n    if (contract.metadata === undefined || contract.metadata.length === 0) {\n      modalDialogCustom.alert('This contract may be abstract, may not implement an abstract parent\\'s methods completely or not invoke an inherited contract\\'s constructor correctly.')\n    } else {\n      if (storage === 'swarm') {\n        publishOnSwarm(contract, fileManager, function (err, uploaded) {\n          if (err) {\n            try {\n              err = JSON.stringify(err)\n            } catch (e) {}\n            console.log(`Failed to publish metadata file to swarm, please check the Swarm gateways is available ( swarm-gateways.net ) ${err}`)\n          } else {\n            var result = yo`<div>${uploaded.map((value) => {\n              return yo`<div><b>${value.filename}</b> : <pre>${value.output.url}</pre></div>`\n            })}</div>`\n            modalDialogCustom.alert(`Published ${contract.name}'s Metadata`, yo`<span>Metadata of \"${contract.name.toLowerCase()}\" was published successfully.<br> <pre>${result}</pre> </span>`)\n          }\n        }, (item) => { // triggered each time there's a new verified publish (means hash correspond)\n          fileProvider.addExternal('swarm/' + item.hash, item.content)\n        })\n      } else {\n        publishOnIpfs(contract, fileManager, function (err, uploaded) {\n          if (err) {\n            try {\n              err = JSON.stringify(err)\n            } catch (e) {}\n            modalDialogCustom.alert(yo`<span>Failed to publish metadata file to ${storage}, please check the ${storage} gateways is available.<br />\n            ${err}</span>`)\n          } else {\n            var result = yo`<div>${uploaded.map((value) => {\n              return yo`<div><b>${value.filename}</b> : <pre>${value.output.url.replace('dweb:/ipfs/', 'ipfs://')}</pre></div>`\n            })}</div>`\n            modalDialogCustom.alert(`Published ${contract.name}'s Metadata`, yo`<span>Metadata of \"${contract.name.toLowerCase()}\" was published successfully.<br> <pre>${result}</pre> </span>`)\n          }\n        }, (item) => { // triggered each time there's a new verified publish (means hash correspond)\n          fileProvider.addExternal('ipfs/' + item.hash, item.content)\n        })\n      }\n    }\n  }\n}\n","// const moduleID = require('./module-id.js')\n\nmodule.exports = class registry {\n  constructor () {\n    this.state = {}\n  }\n\n  put ({ api, name }) {\n    // const serveruid = moduleID() + '.' + (name || '')\n    if (this.state[name]) return this.state[name]\n    const server = {\n      // uid: serveruid,\n      api\n    }\n    this.state[name] = { server }\n    return server\n  }\n\n  get (name) {\n    // const clientuid = moduleID()\n    const state = this.state[name]\n    if (!state) return\n    const server = state.server\n    return server\n  }\n}\n","/* global localStorage, fetch */\nimport { PluginManager } from '@remixproject/engine'\nimport { IframePlugin } from '@remixproject/engine-web'\nimport { EventEmitter } from 'events'\nimport QueryParams from './lib/query-params'\nimport { PermissionHandler } from './app/ui/persmission-handler'\nconst _paq = window._paq = window._paq || []\n\nconst requiredModules = [ // services + layout views + system views\n  'manager', 'compilerArtefacts', 'compilerMetadata', 'contextualListener', 'editor', 'offsetToLineColumnConverter', 'network', 'theme',\n  'fileManager', 'contentImport', 'blockchain', 'web3Provider', 'scriptRunner', 'fetchAndCompile', 'mainPanel', 'hiddenPanel', 'sidePanel', 'menuicons',\n  'filePanel', 'terminal', 'settings', 'pluginManager', 'tabs', 'udapp', 'dGitProvider', 'solidity-logic']\n\nconst dependentModules = ['git', 'hardhat', 'slither'] // module which shouldn't be manually activated (e.g git is activated by remixd)\n\nexport function isNative (name) {\n  const nativePlugins = ['vyper', 'workshops', 'debugger', 'remixd', 'menuicons', 'solidity', 'hardhat-provider', 'solidityStaticAnalysis', 'solidityUnitTesting']\n  return nativePlugins.includes(name) || requiredModules.includes(name)\n}\n\n/**\n * Checks if plugin caller 'from' is allowed to activate plugin 'to'\n * The caller can have 'canActivate' as a optional property in the plugin profile.\n * This is an array containing the 'name' property of the plugin it wants to call.\n * canActivate = ['plugin1-to-call','plugin2-to-call',....]\n * or the plugin is allowed by default because it is native\n *\n * @param {any, any}\n * @returns {boolean}\n */\nexport function canActivate (from, to) {\n  return ['ethdoc'].includes(from.name) ||\n  isNative(from.name) ||\n  (to && from && from.canActivate && from.canActivate.includes(to.name))\n}\n\nexport class RemixAppManager extends PluginManager {\n  constructor () {\n    super()\n    this.event = new EventEmitter()\n    this.pluginsDirectory = 'https://raw.githubusercontent.com/ethereum/remix-plugins-directory/master/build/metadata.json'\n    this.pluginLoader = new PluginLoader()\n    this.permissionHandler = new PermissionHandler()\n  }\n\n  async canActivatePlugin (from, to) {\n    return canActivate(from, to)\n  }\n\n  async canDeactivatePlugin (from, to) {\n    if (requiredModules.includes(to.name)) return false\n    return isNative(from.name)\n  }\n\n  async deactivatePlugin (name) {\n    const [to, from] = [\n      await this.getProfile(name),\n      await this.getProfile(this.requestFrom)\n    ]\n    if (this.canDeactivatePlugin(from, to)) {\n      await this.toggleActive(name)\n    }\n  }\n\n  async canCall (from, to, method, message) {\n    // Make sure the caller of this methods is the target plugin\n    if (to !== this.currentRequest.from) {\n      return false\n    }\n    // skipping native plugins' requests\n    if (isNative(from)) {\n      return true\n    }\n    // ask the user for permission\n    return await this.permissionHandler.askPermission(this.profiles[from], this.profiles[to], method, message)\n  }\n\n  onPluginActivated (plugin) {\n    this.pluginLoader.set(plugin, this.actives)\n    this.event.emit('activate', plugin)\n    if (!requiredModules.includes(plugin.name)) _paq.push(['trackEvent', 'pluginManager', 'activate', plugin.name])\n  }\n\n  getAll () {\n    return Object.keys(this.profiles).map((p) => {\n      return this.profiles[p]\n    })\n  }\n\n  getIds () {\n    return Object.keys(this.profiles)\n  }\n\n  onPluginDeactivated (plugin) {\n    this.pluginLoader.set(plugin, this.actives)\n    this.event.emit('deactivate', plugin)\n    _paq.push(['trackEvent', 'pluginManager', 'deactivate', plugin.name])\n  }\n\n  isDependent (name) {\n    return dependentModules.includes(name)\n  }\n\n  isRequired (name) {\n    // excluding internal use plugins\n    return requiredModules.includes(name)\n  }\n\n  async registeredPlugins () {\n    let plugins\n    try {\n      const res = await fetch(this.pluginsDirectory)\n      plugins = await res.json()\n      plugins = plugins.filter((plugin) => {\n        if (plugin.targets && Array.isArray(plugin.targets) && plugin.targets.length > 0) {\n          return (plugin.targets.includes('remix'))\n        }\n        return true\n      })\n      localStorage.setItem('plugins-directory', JSON.stringify(plugins))\n    } catch (e) {\n      console.log('getting plugins list from localstorage...')\n      const savedPlugins = localStorage.getItem('plugins-directory')\n      if (savedPlugins) {\n        try {\n          plugins = JSON.parse(savedPlugins)\n        } catch (e) {\n          console.error(e)\n        }\n      }\n    }\n    return plugins.map(plugin => {\n      return new IframePlugin(plugin)\n    })\n  }\n\n  async registerContextMenuItems () {\n    await this.call('filePanel', 'registerContextMenuItem', {\n      id: 'flattener',\n      name: 'flattenFileCustomAction',\n      label: 'Flatten',\n      type: [],\n      extension: ['.sol'],\n      path: [],\n      pattern: [],\n      sticky: true\n    })\n    await this.call('filePanel', 'registerContextMenuItem', {\n      id: 'optimism-compiler',\n      name: 'compileCustomAction',\n      label: 'Compile with Optimism',\n      type: [],\n      extension: ['.sol'],\n      path: [],\n      pattern: [],\n      sticky: true\n    })\n  }\n}\n\n/** @class Reference loaders.\n *  A loader is a get,set based object which load a workspace from a defined sources.\n *  (localStorage, queryParams)\n **/\nclass PluginLoader {\n  get currentLoader () {\n    return this.loaders[this.current]\n  }\n\n  constructor () {\n    const queryParams = new QueryParams()\n    this.donotAutoReload = ['remixd', 'git'] // that would be a bad practice to force loading some plugins at page load.\n    this.loaders = {}\n    this.loaders.localStorage = {\n      set: (plugin, actives) => {\n        const saved = actives.filter((name) => !this.donotAutoReload.includes(name))\n        localStorage.setItem('workspace', JSON.stringify(saved))\n      },\n      get: () => { return JSON.parse(localStorage.getItem('workspace')) }\n    }\n\n    this.loaders.queryParams = {\n      set: () => {},\n      get: () => {\n        const { activate } = queryParams.get()\n        if (!activate) return []\n        return activate.split(',')\n      }\n    }\n\n    this.current = queryParams.get().activate ? 'queryParams' : 'localStorage'\n  }\n\n  set (plugin, actives) {\n    this.currentLoader.set(plugin, actives)\n  }\n\n  get () {\n    return this.currentLoader.get()\n  }\n}\n","import { Engine } from '@remixproject/engine'\nimport { EventEmitter } from 'events'\n\nexport class RemixEngine extends Engine {\n  constructor () {\n    super()\n    this.event = new EventEmitter()\n  }\n\n  setPluginOption ({ name, kind }) {\n    if (kind === 'provider') return { queueTimeout: 60000 * 2 }\n    if (name === 'LearnEth') return { queueTimeout: 60000 }\n    if (name === 'dGitProvider') return { queueTimeout: 60000 * 4 }\n    if (name === 'slither') return { queueTimeout: 60000 * 4 } // Requires when a solc version is installed\n    if (name === 'hardhat') return { queueTimeout: 60000 * 4 }\n    if (name === 'localPlugin') return { queueTimeout: 60000 * 4 }\n    return { queueTimeout: 10000 }\n  }\n\n  onRegistration (plugin) {\n    this.event.emit('onRegistration', plugin)\n  }\n}\n","const csjs = require('csjs-inject')\n\nvar css = csjs`\n  .instanceTitleContainer {\n    display: flex;\n    align-items: center;\n  }\n  .calldataInput{\n    height: 32px;\n  }\n  .title {\n    display: flex;\n    justify-content: space-between;\n    font-size: 11px;\n    width: 100%;\n    overflow: hidden;\n    word-break: break-word;\n    line-height: initial;\n    overflow: visible;\n    padding: 0 0 8px;\n    margin: 0;\n    background: none;\n    border: none;\n  }\n  .title button {\n    background: none;\n    border: none;\n  }\n  .titleLine {\n    display: flex;\n    align-items: baseline;\n  }\n  .titleText {\n    word-break: break-word;\n    width: 100%;\n    border: none;\n    overflow: hidden;\n  }\n  .spanTitleText {\n    line-height: 12px;\n    padding: 0;\n    font-size: 11px;\n    width:100%;\n    border: none;\n    background: none;\n    text-transform: uppercase;\n    overflow: hidden;\n  }\n  .inputGroupText {\n    width: 100%;\n  }\n  .title .copy {\n    color: var(--primary);\n  }\n  .titleExpander {\n    padding: 5px 7px;\n  }\n  .nameNbuts {\n    display: contents;\n    flex-wrap: nowrap;\n    width: 100%;\n  }\n  .instance {\n    display: block;\n    flex-direction: column;\n    margin-bottom: 12px;\n    background: none;\n    border-radius: 2px;\n  }\n  .instance.hidesub {\n    border-bottom: 1px solid;\n  }\n  .instance.hidesub .title {\n      display: flex;\n  }\n  .instance.hidesub .udappClose {\n      display: flex;\n  }\n  .instance.hidesub > * {\n    display: none;\n  }\n  .methCaret {\n    min-width: 12px;\n    width: 12px;\n    margin-left: 4px;\n    cursor: pointer;\n    font-size: 16px;\n    line-height: 0.6;\n    vertical-align: middle;\n    padding: 0;\n  }\n  .cActionsWrapper {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0.25rem;\n    border-top-rightt-radius: 0;\n    border-bottom-right-radius: 0.25rem;\n    padding: 8px 10px 7px;\n  }\n  .group:after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n  .buttonsContainer {\n    margin-top: 2%;\n    display: flex;\n    overflow: hidden;\n  }\n  .instanceButton {\n    height: 32px;\n    border-radius: 3px;\n    white-space: nowrap;\n    font-size: 11px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .closeIcon {\n    font-size: 12px;\n    cursor: pointer;\n    margin-left: 5px;\n  }\n  .udappClose {\n    display: flex;\n    justify-content: flex-end;\n  }\n  .contractProperty {\n    width:100%;\n  }\n  .contractProperty.hasArgs input {\n    padding: .36em;\n    border-radius: 5px;\n  }\n  .contractProperty .contractActionsContainerSingle input{\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n  .contractProperty button {\n    min-width: 100px;\n    width: 100px;\n    margin:0;\n    word-break: inherit;\n  }\n  .contractProperty button:disabled {\n    cursor: not-allowed;\n    background-color: white;\n    border-color: lightgray;\n  }\n  .contractProperty.constant button {\n    min-width: 100px;\n    width: 100px;\n    margin:0;\n    word-break: inherit;\n    outline: none;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .contractProperty > .value {\n    box-sizing: border-box;\n    float: left;\n    align-self: center;\n    margin-left: 4px;\n  }\n  .contractActionsContainer {\n    width: 100%;\n    margin-bottom: 8px;\n  }\n  .contractActionsContainerSingle {\n    display: flex;\n    width: 100%;\n  }\n  .contractActionsContainerSingle i {\n    line-height: 2;\n  }\n  .contractActionsContainerMulti {\n    display:none;\n    width: 100%;\n  }\n  .contractActionsContainerMultiInner {\n    width: 100%;\n    padding: 16px 8px 16px 14px;\n    border-radius: 3px;\n    margin-bottom: 8px;\n  }\n  .multiHeader {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n    text-align: left;\n    font-size: 10px;\n    font-weight: bold;\n  }\n  .contractActionsContainerMultiInner .multiTitle {\n    padding-left: 10px;\n  }\n  .contractProperty .multiTitle {\n    padding: 0;\n    line-height: 16px;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: bold;\n    cursor: default;\n  }\n  .contractProperty .contractActionsContainerMultiInner .multiArg label{\n    text-align: right;\n  }\n  .multiHeader .methCaret {\n    float: right;\n    margin-right: 0;\n  }\n  .contractProperty.constant .multiTitle {\n    display: inline-block;\n    width: 90%;\n    /* font-size: 10px; */\n    height: 25px;\n    padding-left: 20px;\n    font-weight: bold;\n    line-height: 25px;\n    cursor: default;\n  }\n  .multiArg {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-top: 4px;\n  }\n  .multiArg input{\n    padding: 5px;\n  }\n  .multiArg label {\n    width: auto;\n    padding: 0;\n    margin: 0 4px 0 0;\n    font-size: 10px;\n    line-height: 12px;\n    text-align: right;\n    word-break: initial;\n  }\n  .multiArg button {\n    max-width: 100px;\n    border-radius: 3px;\n    border-width: 1px;\n    width: inherit;\n  }\n  .multiHeader button {\n    display: inline-block;\n    width: 94%;\n  }\n  .hasArgs .multiArg input {\n    border-left: 1px solid #dddddd;\n    width: 67%;\n  }\n  .hasArgs input {\n    display: block;\n    height: 32px;\n    border: 1px solid #dddddd;\n    padding: .36em;\n    border-left: none;\n    padding: 8px 8px 8px 10px;\n    font-size: 10px !important;\n  }\n  .hasArgs button {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    border-right: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: 11px;\n  }\n  .hasArgs .contractActionsContainerMulti button {\n    border-radius: 3px;\n  }\n  .contractActionsContainerMultiInner .multiArg i {\n    padding-right: 10px;\n  }\n  .hideWarningsContainer {\n    display: flex;\n    align-items: center;\n    margin-left: 2%\n  }\n`\n\nmodule.exports = css\n","const introJs = require('intro.js')\n\nexport class WalkthroughService {\n  constructor (params) {\n    this.params = params\n  }\n\n  start (params) {\n    if (!localStorage.getItem('hadTour_initial')) {\n      introJs().setOptions({\n        steps: [{\n          title: 'Welcome to Remix IDE',\n          intro: 'Click to launch the Home tab that contains links, tips, and shortcuts..',\n          element: document.querySelector('#verticalIconsHomeIcon'),\n          tooltipClass: 'bg-light text-dark',\n          position: 'right'\n        },\n        {\n          element: document.querySelector('#compileIcons'),\n          title: 'Solidity Compiler',\n          intro: 'Having selected a .sol file in the File Explorers (the icon above), compile it with the Solidity Compiler.',\n          tooltipClass: 'bg-light text-dark',\n          position: 'right'\n        },\n        {\n          title: 'Deploy your contract',\n          element: document.querySelector('#runIcons'),\n          intro: 'Choose a chain, deploy a contract and play with your functions.',\n          tooltipClass: 'bg-light text-dark',\n          position: 'right'\n        }\n        ]\n      }).onafterchange((targetElement) => {\n        const header = document.getElementsByClassName('introjs-tooltip-header')[0]\n        if (header) {\n          header.classList.add('d-flex')\n          header.classList.add('justify-content-between')\n          header.classList.add('text-nowrap')\n          header.classList.add('pr-0')\n        }\n        const skipbutton = document.getElementsByClassName('introjs-skipbutton')[0]\n        if (skipbutton) {\n          skipbutton.classList.add('ml-3')\n          skipbutton.classList.add('text-decoration-none')\n          skipbutton.id = 'remixTourSkipbtn'\n        }\n      }).start()\n      localStorage.setItem('hadTour_initial', true)\n    }\n  }\n\n  startFeatureTour () {\n  }\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":"webpack:///"}